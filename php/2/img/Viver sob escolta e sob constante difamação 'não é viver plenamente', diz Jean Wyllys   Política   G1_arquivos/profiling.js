!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(window.cdaaas&&window.cdaaas.SETTINGS)return window.cdaaas.SETTINGS[e]},r=function(e){if(window.utag_data)return window.utag_data[e]};t.getTenant=function(){return n("SITE_ID")||r("ut.profile")||"globocom"},t.getDeviceGroup=function(){return n("MOBILE_GROUP")||r("platform")||"desktop"}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={}}return r(e,[{key:"getParams",value:function(e){var t={skipImpressions:this.isSkippedImpression()};return Object.assign({},t,e)}},{key:"getLocationParams",value:function(){return{drawed:!0,countImpressions:!this.isSkippedImpression()}}},{key:"getHeaders",value:function(){return this.options.extraHeaders||[]}},{key:"getDict",value:function(){return this.options}},{key:"getTimeout",value:function(){var e=this.options.timeout;return void 0===e&&(e=1e3),e}},{key:"skipImpression",value:function(){return this.options.skipImpressions=!0,this}},{key:"timeout",value:function(e){return this.options.timeout=e,this}},{key:"isFieldSetted",value:function(e){return void 0!==e&&!1!==e}},{key:"isSkippedImpression",value:function(){return this.isFieldSetted(this.options.skipImpressions)}},{key:"addHeader",value:function(e){var t=[];return this.options.hasOwnProperty("extraHeaders")&&(t=this.options.extraHeaders),t.push(e),this.options.extraHeaders=t,this}},{key:"enableGADebugger",value:function(){return this.options.enableGADebugger=!0,this}},{key:"isEnabledGADebugger",value:function(){return this.isFieldSetted(this.options.enableGADebugger)}}],[{key:"validated",value:function(t){if(t instanceof e)return t;if(void 0===t)return new e;throw new TypeError("GloboABOptions não válido")}}]),e}();e.exports=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={EVENT_GETSEGMENTS:"SEGMENTS_CALLED",EVENT_GETSEGMENTS_MISSES:"SEGMENTS_MISS",EVENT_USED_FALLBACK:"FALLBACK_USED",GLOBOAB_CDN:"//s3.glbimg.com/v1/AUTH_da787d4f4e8d46e3ad76d5fa568fe786/globo-ab/globo-ab-v2.min.js",GLOBOAB_SERVER:"https://globo-ab.globo.com/",PLANETEERS_SEGMENTS_KEY:"planeteers_segments",PLANETEERS_KRUX_SEGMENTS_KEY:"planeteers_krux_segments",PLANETEERS_EXECUTION:"planeteers_execution",PLANETEERS_EXECUTION_STATUS:"planeteers_execution_status",ANALYSIS_INDEX:"12",PLANETEERS_EXECUTION_SEGMENT:"plntalfa"}},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}var i={EVENTS_BUFFER_SIZE:100,EVENTS_SENDER_INTERVAL:1e4,EVENTS_DISCARD_AFTER_MSECS:36e5,EVENTS_BULK_SIZE:10,HORIZON_TRACK_HOST:"https://horizon-track.globo.com",HORIZON_SCHEMAS_HOST:"https://horizon-schemas.globo.com",HORIZON_CALLBACK_STACK_LIMIT:1e3,HORIZON_REQUEST_ENCODING:"base64",HORIZON_CLIENT_UUID:o(n(2)).default.getResource("clientInstanceUUID",(0,r.default)()),SCHEMA_VALIDATOR_SCRIPT_URL:"https://s3.glbimg.com/cdn/libs/tv4/1.3.0/tv4.min.js",SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES:2,SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS:1e4,PACKAGE_VERSION:"1.0.2"},a={useQAConfiguration:function(){i.HORIZON_TRACK_HOST="https://horizon-track.qa.globoi.com",i.HORIZON_SCHEMAS_HOST="https://horizon-schemas.qa.globoi.com",i.HORIZON_REQUEST_ENCODING="json"}};t.default=Object.assign(i,a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={DUPLICATED_SCHEMA:"[Horizon] Duplicated schema.",INVALID_DATA:"[Horizon] Invalid data.",INVALID_DATE:"[Horizon] Invalid date-time RFC 3339 format.",INVALID_FORMAT:"[Horizon] Invalid event format.",INVALID_REQUEST:"[Horizon] Invalid request.",INVALID_TIMESTAMP:"[Horizon] Invalid timestamp.",INVALID_VERSION_FORMAT:"[Horizon] Invalid version format.",UNSUPPORTED_TYPE:"[Horizon] Unsupported type.",UNSUPPORTED_TENANT:"[Horizon] Unsupported tenant.",UNSUPPORTED_ENCODER:"[Horizon] Unsupported encoder.",MUST_BE_DEFINED:"[Horizon] Parameter or argument must be defined",ERROR_LOADING_RESOURCE:"[Horizon] Failed to load resouce.",COMPONENT_NOT_READY:"[Horizon] Component is not ready.",COMPONENT_UNAVAILABLE:"[Horizon] Class or function is required.",SCHEMA_VALIDATOR_ERROR_LOADING:"[Horizon] Could not load SchemaValidator.",LIMIT_EXCEEDED:"[Horizon] Resource limit exceeded."},o={mustBeDefined:function(e){throw new Error(r.MUST_BE_DEFINED+": "+e+".")}};t.default=Object.assign(r,o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return window.horizonResources=window.horizonResources||{},window.horizonResources};t.default={getContext:r,getResource:function(e,t){var n=r();return n[e]=n[e]||t,n[e]}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.HorizonClient=void 0,n(5);var r=i(n(7)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}t.HorizonClient=r.default,t.Settings=o.default},function(e,t,n){"use strict";n(6).polyfill()},function(e,t,n){"use strict";function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,u=i.length;a<u;a++){var s=i[a],c=Object.getOwnPropertyDescriptor(o,s);void 0!==c&&c.enumerable&&(n[s]=o[s])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(11)),a=c(n(1)),u=c(n(13)),s=c(n(21));function c(e){return e&&e.__esModule?e:{default:e}}var l={READY:"stateReady",UNLOADED:"stateNotReady",LOADING:"stateLoading"},f=function(){function e(t,n){var r=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tenant=t||a.default.mustBeDefined("tenant"),this.deviceGroup=n||a.default.mustBeDefined("deviceGroup"),this.defaultContentType=c,this.validator=i.default,this.clientVersion=o.default.PACKAGE_VERSION,this.state=l.UNLOADED,this.referer=document.referrer;var f=null,d=null;this.setSchemasProvider=function(e){return f=e},this.getSchemasProvider=function(){if(!f){var e=s.default.getInstance();r.setSchemasProvider(e)}return f},this.setEventBus=function(e){return d=e},this.getEventBus=function(){if(!d){var e=u.default.getInstance(r.tenant,r.deviceGroup);r.setEventBus(e)}return d},this.isReady=function(){return!!f&&r.validator.isReady()&&f.isReady()}}return r(e,[{key:"useDefaultContentType",value:function(e){this.defaultContentType=e}},{key:"setValidator",value:function(e){this.validator=e}},{key:"setReferer",value:function(e){this.referer=e||document.referrer}},{key:"unload",value:function(){this.flush()}},{key:"getScopeInfo",value:function(){return{url:document.location.href,actionTs:+Date.now(),horizonClientVersion:this.clientVersion,horizonClientReferer:this.referer}}},{key:"validateBeforeEnqueue",value:function(e){var t=this.getSchemasProvider().get(e.id,e.version);this.validator.validateFor(e,t)}},{key:"onReady",value:function(e){this.validator.isReady()?this.getSchemasProvider().isReady()?(this.state=l.READY,e()):(this.state=l.LOADING,this.getSchemasProvider().onReady(e),this.getSchemasProvider().load()):(this.state=l.LOADING,this.validator.onReady(e),this.validator.load())}},{key:"flush",value:function(){var e=this;this.isReady()?this.getEventBus().flush():this.onReady(function(){return e.flush()})}},{key:"send",value:function(e){var t=this;if(this.validator.validateArgs(e),!this.isReady())return this.state===l.UNLOADED&&this.flush(),void this.onReady(function(){return t.send(e)});this.validateBeforeEnqueue(e);var n=this.getScopeInfo(),r=Object.assign({},e,n);r.contentType||(this.defaultContentType||a.default.mustBeDefined("contentType"),r.contentType=this.defaultContentType),this.getEventBus().enqueue(r)}}]),e}();t.default=f},function(e,t,n){var r=n(9),o=n(10);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,n(3))},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=u(n(12)),i=u(n(1)),a=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var s={ready:[]},c=function(){return!!window.tv4},l=function(e){return null===e?null:isNaN(e)&&!isNaN(Date.parse(e))?null:i.default.INVALID_DATE};t.default={validateFor:function(e,t){if(!c())throw new Error(i.default.ERROR_LOADING_RESOURCE+" Validator is not ready.");if(!t)throw new Error(i.default.INVALID_DATA+" Argument: schema.");if(!/\d+\.\d+/.test(e.version))throw new Error(i.default.INVALID_VERSION_FORMAT);if(!tv4.validate(e.properties,t))throw new Error(i.default.INVALID_DATA+" "+e.id+" "+e.version+". "+tv4.error)},validateArgs:function(e){var t=Object.prototype.hasOwnProperty;if(!(e&&t.call(e,"id")&&t.call(e,"version")&&t.call(e,"properties")))throw new Error(i.default.INVALID_FORMAT+" Missing properties: "+JSON.stringify(e));if("string"!=typeof e.id||"string"!=typeof e.version||"object"!==r(e.properties))throw new Error(i.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(e));if(e.id.length<2||e.version.length<3)throw new Error(i.default.INVALID_FORMAT+" Invalid property size: "+JSON.stringify(e));var n=Object.assign({},e);if(delete n.id,delete n.version,delete n.properties,delete n.contentType,Object.keys(n).length>0)throw new Error(i.default.INVALID_FORMAT+" Extra keys aren't allowed: "+JSON.stringify(n))},tv4IsValidData:l,isReady:c,onReady:function(e){if(c())return e();if(s.ready.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(i.default.LIMIT_EXCEEDED+" Validator callback stack.");return s.ready.unshift(e)},load:function(){o.default.isDefined("tv4")||(0,o.default)([a.default.SCHEMA_VALIDATOR_SCRIPT_URL],"tv4",{async:!0,numRetries:a.default.SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES,success:function(){tv4.addFormat("date-time",l),s.ready.forEach(function(e){return e()})},error:function(e){throw new Error(i.default.SCHEMA_VALIDATOR_ERROR_LOADING+" "+e)}})}}},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){var e=function(){},t={},n={},r={};function o(e,t){if(e){var o=r[e];if(n[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function i(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function a(t,n,r,o){var i,u,s=document,c=r.async,l=(r.numRetries||0)+1,f=r.before||e,d=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(t)?(i=!0,(u=s.createElement("link")).rel="stylesheet",u.href=d):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(u=s.createElement("img")).src=d:((u=s.createElement("script")).src=t,u.async=void 0===c||c),u.onload=u.onerror=u.onbeforeload=function(e){var s=e.type[0];if(i&&"hideFocus"in u)try{u.sheet.cssText.length||(s="e")}catch(e){s="e"}if("e"==s&&(o+=1)<l)return a(t,n,r,o);n(t,s,e.defaultPrevented)},!1!==f(t,u)&&s.head.appendChild(u)}function u(e,n,r){var u,s;if(n&&n.trim&&(u=n),s=(u?r:n)||{},u){if(u in t)throw"LoadJS";t[u]=!0}!function(e,t,n){var r,o,i=(e=e.push?e:[e]).length,u=i,s=[];for(r=function(e,n,r){if("e"==n&&s.push(e),"b"==n){if(!r)return;s.push(e)}--i||t(s)},o=0;o<u;o++)a(e[o],r,n)}(e,function(e){i(s,e),o(u,e)},s)}return u.ready=function(e,t){return function(e,t){var o,i,a,u=[],s=(e=e.push?e:[e]).length,c=s;for(o=function(e,n){n.length&&u.push(e),--c||t(u)};s--;)i=e[s],(a=n[i])?o(i,a):(r[i]=r[i]||[]).push(o)}(e,function(e){i(t,e)}),u},u.done=function(e){o(e,[])},u.reset=function(){t={},n={},r={}},u.isDefined=function(e){return e in t},u})?r.apply(t,[]):r)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(14)),i=d(n(15)),a=d(n(2)),u=d(n(16)),s=d(n(0)),c=d(n(1)),l=d(n(19)),f=d(n(20));function d(e){return e&&e.__esModule?e:{default:e}}var v=function(){return a.default.getResource("bus",{})},p=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentTenant=t||c.default.mustBeDefined("tenant"),this.instanceID=n||c.default.mustBeDefined("instanceID"),this.deviceGroup=r||c.default.mustBeDefined("deviceGroup"),this.queue=new l.default(s.default.EVENTS_BUFFER_SIZE),(new f.default).every(s.default.EVENTS_SENDER_INTERVAL).call(function(){o.queue=o.filterQueue();var e=o.prepareRequest();o.dispatch(e,s.default.HORIZON_REQUEST_ENCODING)||e.actions.forEach(function(e){return o.enqueue(e)})}).call(function(e){var t=s.default.EVENTS_SENDER_INTERVAL,n=2*s.default.EVENTS_SENDER_INTERVAL,r=Number(i.default.get("_hzt.interval"))||s.default.EVENTS_SENDER_INTERVAL;r<=n&&r>=t&&e.interval!==r&&e.reschedule(r),i.default.remove("_hzt.interval",{path:"/"})}).start()}return r(e,[{key:"setMaxQueueSize",value:function(e){this.queue=l.default.fromArray(this.queue.items,e)}},{key:"filterQueue",value:function(){var e=+Date.now()-s.default.EVENTS_DISCARD_AFTER_MSECS;return this.queue.filter(function(t){return t.actionTs>e})}},{key:"prepareRequest",value:function(){return{horizonClientUUID:this.instanceID,horizonClientTenant:this.currentTenant,horizonClientTs:Date.now(),horizonClientType:"js",horizonClientDeviceGroup:this.deviceGroup,actions:this.queue.splice(0,s.default.EVENTS_BULK_SIZE)}}},{key:"isValidRequest",value:function(e){if(!e||e&&!e.actions)throw new Error(c.default.INVALID_REQUEST);return e.actions.length>0}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=s.default.HORIZON_TRACK_HOST+"/event/"+this.currentTenant,r=u.default.get(t);if(!this.isValidRequest(e))return!1;var i=r(e);return(0,o.default)(n,i)}},{key:"enqueue",value:function(e){if(!e.actionTs)throw new Error(c.default.INVALID_TIMESTAMP);this.queue.push(e)}},{key:"flush",value:function(){for(;this.queue.length>0;){this.queue=this.filterQueue();var e=this.prepareRequest();this.dispatch(e,s.default.HORIZON_REQUEST_ENCODING)}}},{key:"length",get:function(){return this.queue.length}}]),e}();t.default={getInstance:function(e,t){var n=v(),r=e+"-"+t;return n[r]||(n[r]=new p(e,s.default.HORIZON_CLIENT_UUID,t)),n[r]},reset:function(e,t){e&&0!==e.length||c.default.mustBeDefined("tenant"),t&&0!==t.length||c.default.mustBeDefined("deviceGroup");var n=e+"-"+t;delete v()[n]},getContextBus:v}},function(e,t,n){!function(n){"use strict";var r="navigator"in n&&"sendBeacon"in n.navigator,o=function(e,t){var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",e,!1),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),"string"==typeof t?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text/plain"):"[object Blob]"==={}.toString.call(t)&&t.type&&n.setRequestHeader("Content-Type",t.type);try{n.send(t)}catch(e){}return!0};r&&(o=navigator.sendBeacon.bind(navigator)),void 0!==e&&e.exports&&(t=e.exports=o),t.sendBeacon=o}("object"==typeof window?window:this)},function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c]));return document.cookie=t+"="+o+s}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var v=l[d].split("="),p=v.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var h=v[0].replace(f,decodeURIComponent);if(p=n.read?n.read(p,h):n(p,h)||p.replace(f,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===h){a=p;break}t||(a[h]=p)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(17)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a={base64:function(e){var t=new FormData;return t.append("data",r.default.encode(JSON.stringify(e))),t.append("encoding","base64"),t},json:function(e){return JSON.stringify(e)}};t.default={get:function(e){if(!(e in a))throw new Error(o.default.UNSUPPORTED_ENCODER+" Invalid "+e+" encoder.");return a[e]}}},function(e,t,n){(function(e,r){var o;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(i){var a=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);a.global!==a&&a.window;var u=function(e){this.message=e};(u.prototype=new Error).name="InvalidCharacterError";var s=function(e){throw new u(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,f={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,o,i=e.length%3,a="",u=-1,l=e.length-i;++u<l;)t=e.charCodeAt(u)<<16,n=e.charCodeAt(++u)<<8,r=e.charCodeAt(++u),a+=c.charAt((o=t+n+r)>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==i?(t=e.charCodeAt(u)<<8,n=e.charCodeAt(++u),a+=c.charAt((o=t+n)>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==i&&(o=e.charCodeAt(u),a+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,o=0,i="",a=-1;++a<t;)r=c.indexOf(e.charAt(a)),n=o%4?64*n+r:r,o++%4&&(i+=String.fromCharCode(255&n>>(-2*o&6)));return i},version:"0.1.0"};void 0===(o=function(){return f}.call(t,n,t,e))||(e.exports=o)}()}).call(t,n(18)(e),n(3))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queue=[],this.maxSize=t}return r(e,[{key:"push",value:function(e){this._queue=[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.slice(0,this.maxSize-1)))}},{key:"forEach",value:function(e){return this._queue.forEach(e)}},{key:"slice",value:function(e,t){return this._queue.slice(e,t)}},{key:"splice",value:function(e,t){return this._queue.splice(e,t)}},{key:"clear",value:function(){this._queue=[]}},{key:"filter",value:function(t){return e.fromArray(this._queue.filter(t),this.maxSize)}},{key:"length",get:function(){return this._queue.length}},{key:"items",get:function(){return JSON.parse(JSON.stringify(this._queue))}}],[{key:"fromArray",value:function(t,n){var r=new e(n);return t.forEach(function(e){return r.push(e)}),r}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interval=0,this.tickIntervalId=0,this.callbacks=[]}return r(e,[{key:"tick",value:function(){var e=this;this.callbacks.forEach(function(t){return t(e)})}},{key:"start",value:function(){return this.tickIntervalId=setInterval(this.tick.bind(this),this.interval),this}},{key:"stop",value:function(){return clearInterval(this.tickIntervalId),this.tickIntervalId=0,this}},{key:"reschedule",value:function(e){return this.stop().every(e).start()}},{key:"every",value:function(e){return this.interval=e,this}},{key:"call",value:function(e){return this.callbacks.push(e),this}},{key:"isRunning",get:function(){return!!this.tickIntervalId}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(2)),i=s(n(1)),a=s(n(0)),u=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}var c={READY:"statusReady",STATE_NOT_READY:"statusNotReady",STATE_LOADING:"statusLoading",STATE_SCHEDULED:"statusScheduled",STATE_ERROR:"statusError"},l=function(){return o.default.getResource("schemas",{data:{}})},f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.state=c.STATE_NOT_READY,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}return r(e,[{key:"get",value:function(e,t){var n=e+"-"+t;if(!this.isReady())throw new Error(""+i.default.COMPONENT_NOT_READY);var r=l().data[n];if(!r)throw new Error(i.default.UNSUPPORTED_TYPE+": "+n);return r}},{key:"isReady",value:function(){return this.state===c.STATE_READY}},{key:"retry",value:function(){var e=this;this.state=c.STATE_SCHEDULED,this.callbacks.onRetry.forEach(function(e){return e()}),setTimeout(function(){e.state=c.STATE_NOT_READY,e.load()},a.default.SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS)}},{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===c.STATE_READY)return e(l().data);if(this.callbacks.onReady.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(i.default.LIMIT_EXCEEDED+" Schemas callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===c.STATE_ERROR?e():this.callbacks.onError.push(e)}},{key:"execAsync",value:function(e,t){setTimeout(function(){return e(t)},1)}},{key:"load",value:function(){var e=this,t=l();this.state===c.STATE_NOT_READY&&(this.state=c.STATE_LOADING,this.callbacks.onLoad.forEach(function(e){return e()}),u.default.request("GET",this.url,function(n){t.data=Object.assign(t.data||{},n),e.state=c.STATE_READY,e.callbacks.onReady.forEach(function(n){return e.execAsync(n,t.data)})},function(t){e.state=c.STATE_ERROR,e.callbacks.onError.forEach(function(n){return e.execAsync(n,t)}),e.retry()}))}}]),e}();t.default={getInstance:function(e){var t=l();return t.provider||(t.provider=new f(e||a.default.HORIZON_SCHEMAS_HOST+"/schemas")),t.provider},getContextSchemas:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={request:function(e,t,n,r){var o=new XMLHttpRequest;o.open(e,t,!0),o.onload=function(){return o.status<400?n(JSON.parse(o.response)):r(o.response)},o.onerror=r,o.send()}}}])},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(27),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.abHost=t}return r(e,[{key:"oneWaySend",value:function(e,t,n,r){this.do("PUT",e,null,t,null,null,n,r)}},{key:"do",value:function(e,t,n,r,i,a){var u=this,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1e3,l="",f=o.interceptParams(t,n);for(var d in f)f.hasOwnProperty(d)&&(l+="&"+d+"="+f[d]);l&&(l="?"+l.substring(1));var v=this.abHost+t+l,p=this.createXHR();p.open(e,v,!0),p.timeout=c,p.onload=function(){p.status>=200&&p.status<400?u.callIfDefined(i,p):u.callIfDefined(a,u.handleError(p,v))},p.onerror=function(e){u.callIfDefined(a,u.handleError(e,v))},p.ontimeout=function(e){u.callIfDefined(a,u.handleError(e,v))},r&&(p.setRequestHeader("Content-Type","application/json;charset=utf-8"),r=JSON.stringify(r)),Object.keys(s).forEach(function(e){p.setRequestHeader(e,s[e])}),p.send(r)}},{key:"handleError",value:function(e,t){var n={};return n.type=e.type?e.type:"undefined",e.target instanceof XMLHttpRequest&&(e=e.target),e instanceof XMLHttpRequest?(n.status=e.status,n.url=t,n.timeout=e.timeout,n.msg=e.responseText):n.msg=e.toString(),n}},{key:"createXHR",value:function(){var e=new XMLHttpRequest;return e.withCredentials=!0,e}},{key:"callIfDefined",value:function(e,t){e&&e(t)}}]),e}();e.exports=i},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(38),o=n(39);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(26),a=n(30),u=n(33),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.env=this._getEnv(t),this.server=this._getServer(this.env),this.horizonClient=n,this.abMain=new i(this.server,this.horizonClient)}return r(e,[{key:"createOptions",value:function(){return new o}},{key:"mab",value:function(){return new a(this.server,this.horizonClient)}},{key:"location",value:function(){return new u(this.server,this.horizonClient)}},{key:"impression",value:function(e,t){var n=e.experiment,r=e.alternative,o=e.testId;this.abMain.impression({experiment:n,alternative:r,testId:o},t)}},{key:"conversion",value:function(e,t){var n=e.experiment,r=e.alternative,o=e.testId;this.abMain.conversion({experiment:n,alternative:r,testId:o},t)}},{key:"choose",value:function(e,t){return this.abMain.choose(e,t)}},{key:"_getEnv",value:function(e){return"prod"===e?e:"qa"}},{key:"_getServer",value:function(e){return"prod"===this.env?"https://globo-ab.globo.com":"https://globo-ab.qa.globoi.com"}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(4),i=n(9),a=n(28),u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.abHost=t,this.request=new o(this.abHost),this.requestWrapper=new a(this.abHost),n&&(this.horizonWrapper=new i(n))}return r(e,[{key:"selectedAlternatives",value:function(e,t,n,r){this.request.do("GET","/v2/selected-alternatives",t.getParams({experiments:e}),null,n,r,t.getHeaders(),t.getTimeout())}},{key:"recordMetric",value:function(e,t,n){var r="/v2/tests/"+t.testId+"/"+e,o={experiment:t.experiment,alternative:t.alternative};this.requestWrapper.oneWay(r,o,n.getHeaders(),n.getTimeout()),this.recordHorizon(e,t)}},{key:"recordHorizonMulti",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&this.recordHorizon(e,t[n])}},{key:"recordHorizon",value:function(e,t){this.horizonWrapper&&this.horizonWrapper.send("ab",{metricId:e,experiment:t.experiment,alternative:t.alternative,trackId:t.testId})}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.horizonClient=t}return r(e,[{key:"send",value:function(e,t){var n=null;"ab"===e?(n=this.getABSignal(t),this.horizonClient.send(n)):"mab"===e&&(n=this.getMABSignal(t),this.horizonClient.send(n))}},{key:"getABSignal",value:function(e){return{id:"ab-"+e.metricId,contentType:"ab",version:"1.0",properties:{experiment:e.experiment,alternative:e.alternative,trackId:e.trackId}}}},{key:"getMABSignal",value:function(e){return{id:"mab-"+e.metricId,contentType:"mab",version:"1.0",properties:{algorithm:e.algorithm,experiment:e.experiment,arm:e.arm,trackId:e.testId}}}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=function(){function e(t,n){var r=t.experiment,o=t.alternative,i=t.testId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.experiment=r,this.alternative=o,this.testId=i,this.context=n}return r(e,[{key:"impression",value:function(e){e=o.validated(e),this.context.googleAnalytics.impression(e,this.experiment),this._sendMetric("impression",e)}},{key:"conversion",value:function(e){e=o.validated(e),this.context.googleAnalytics.conversion(e,this.experiment),this._sendMetric("conversion",e)}},{key:"_sendMetric",value:function(e,t){var n={experiment:this.experiment,alternative:this.alternative,testId:this.testId};this.context.abEndpoint.recordMetric(e,n,t)}}],[{key:"parseRequest",value:function(t,n){var r=JSON.parse(t),o={};for(var i in r.experiments)if(r.experiments.hasOwnProperty(i)){var a=new e(r.experiments[i],n);o[i]=a}return o}}]),e}();e.exports=i},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.created=!1}return o(e,[{key:"googleAnalytics",value:function(e,t,n,r){"function"==typeof ga?(this.created||(ga("create","UA-6912161-21","auto","globoab"),this.created=!0),ga("globoab.send","event","debug-ab",e,this.toMessage(t,n,r))):console.error("Globo-ab - It was not possible to identify the ga function...")}},{key:"choose",value:function(e,t,n,r){this._send(e,t,"choose",n,r)}},{key:"impression",value:function(e,t){this._send(e,t,"impression","call")}},{key:"conversion",value:function(e,t){this._send(e,t,"conversion","call")}},{key:"_send",value:function(e,t,n,r,o){void 0!==e&&e.isEnabledGADebugger()&&this.googleAnalytics(t,n,r,o)}},{key:"toMessage",value:function(e,t,n){"object"===(void 0===n?"undefined":r(n))&&(n=JSON.stringify(n).substring(0,1e3));var o=e+"."+t;return void 0!==n&&(o=o+"."+n),o}}]),e}();e.exports=i},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){n(14),n(18),n(20),n(22),n(42),n(43),n(47)},function(e,t,n){var r=n(15),o=n(16),i=n(17);window.dmp=window.dmp||{},window.dmp.Toolbox=r.Toolbox,window.dmp.listeners=new o.Listeners,window.dmp.api=i.api},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;t.Toolbox=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"getScript",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.createElement("script"),o=document.getElementsByTagName("script")[0];r.async=!0,r.onload=r.onreadystatechange=function(e,o){(o||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r=void 0,o||t&&t(n))},r.src=e,o.parentNode.insertBefore(r,o)}},{key:"encodeUrl",value:function(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")}},{key:"sendPixel",value:function(e){new Image(1,1).src=e}},{key:"getAge",value:function(e){if(void 0===e)return"";var t=e.split(" ").join("");if(""===t)return t;var n=new Date(e);return(new Date).getFullYear()-n.getFullYear()}},{key:"getGloboId",value:function(){if(window.Cadun&&window.Cadun.user&&window.Cadun.user.me&&window.Cadun.user.me.globoId)return window.Cadun.user.me.globoId;var e=window.localStorage.getItem("glbdt_globoid");if(e&&e.match(r))return e;var t=JSON.parse(window.localStorage.getItem("cdUserCodeGlb"));return t&&"cadun"===t.provider&&t.suser_code?t.suser_code:null}},{key:"runIfCadun",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e&&("cadun"===window.Cadun.user.me.provider&&e())}}]),e}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Listeners=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initNavegg(),this._initKrux(),this._initGloboId()}return n(e,[{key:"_initNavegg",value:function(){window.naveggReady=window.naveggReady||[]}},{key:"_initKrux",value:function(){this._kruxQueue=[],this._kruxLoaded=!1}},{key:"_initGloboId",value:function(){window.cq=window.cq||[]}}]),n(e,[{key:"kruxLoaded",value:function(){this._kruxQueue.forEach(function(e){e()}),this._kruxLoaded=!0}},{key:"addNavegg",value:function(e){this._initNavegg(),window.naveggReady.push(e)}},{key:"addKrux",value:function(e){this._kruxLoaded?e():this._kruxQueue.push(e)}},{key:"addGloboId",value:function(e){this._initGloboId(),window.cq.push({ready:function(t){t.Event.subscribe("userInfoAvailable",e)}})}}]),e}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));var o=/(qou66o7zu|qou60g64u)/,i=/(qou70fnkq|qou88ccx0|qou9o7c84|qou93ocxx|qovamsdij)/,a=/(qova7gr2x|qovbar2im|qovbtu8y4)/,u=t.api={KRUX_SEGMENTS_KEY:"kxglobo_allsegs",KRUX_SEGMENTS_COOKIE:"kxglobo_segs",KRUX_ID_KEY:"kxglobo_user",PLANETEERS_SEGMENTS_KEY:"planeteers_segments",SEGMENT_RULES:{qou66o7zu:o,qou60g64u:o,qou70fnkq:i,qou88ccx0:i,qou9o7c84:i,qou93ocxx:i,qovamsdij:i,qova7gr2x:a,qovbar2im:a,qovbtu8y4:a},NAVEGG_SEGMENTS:{gender:{1:"qou66o7zu",2:"qou60g64u"},age:{1:"qou70fnkq",2:"qou88ccx0",3:"qou9o7c84",4:"qou93ocxx",5:"qovamsdij"},income:{1:"qova7gr2x",2:"qovbar2im",3:"qovbtu8y4"}},_getFromCookies:function(e){if(window.navigator.cookieEnabled){var t=document.cookie.match(e+"=([^;]*)");if(t)if(t[1].length>1)return unescape(t[1])}return""},_fallback:function(){if(window.nvg13574){var e=Object.keys(u.NAVEGG_SEGMENTS),t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,c=u.NAVEGG_SEGMENTS[s][window.nvg13574.getSegment(s)];c&&c.length>=1&&t.push(c)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}return[]},_processSegments:function(e,t){var n=e,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,l=u.SEGMENT_RULES[c];(l?!n.match(l):-1===n.indexOf(c))&&(n+=n.length>1?","+c:""+c)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n},_hasOnlyInvalidSegments:function(e){if("string"==typeof e)return""===e||e===r.default.PLANETEERS_EXECUTION_SEGMENT;var t=null===e,n=e&&(0===e.length||1===e.length&&e[0]===r.default.PLANETEERS_EXECUTION_SEGMENT);return t||n},_getKruxSegments:function(){var e=window.localStorage.getItem(u.KRUX_SEGMENTS_KEY);return e||""},_getPlaneteersSegments:function(){var e=window.localStorage.getItem(u.PLANETEERS_SEGMENTS_KEY),t=e?e.split(","):[];return u._hasOnlyInvalidSegments(t)?(window.dispatchEvent(new Event(r.default.EVENT_USED_FALLBACK)),u._fallback().concat(t)):t},getSegments:function(){if(!window.localStorage)return u._getFromCookies(u.KRUX_SEGMENTS_COOKIE);var e=u._processSegments(u._getKruxSegments(),u._getPlaneteersSegments());return u._hasOnlyInvalidSegments(e)&&window.dispatchEvent(new Event(r.default.EVENT_GETSEGMENTS_MISSES)),window.dispatchEvent(new Event(r.default.EVENT_GETSEGMENTS)),e},getDmpId:function(){if(window.Krux&&window.Krux.user&&window.Krux.user.length>0)return window.Krux.user;if(!window.localStorage)return u._getFromCookies(u.KRUX_ID_KEY);var e=window.localStorage.getItem(u.KRUX_ID_KEY);if(e&&e.length>0)return e;var t=u._getFromCookies(u.KRUX_ID_KEY,!0);return t&&t.length>0?t:""}}},function(e,t,n){n(19).downloader.run()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.downloader={NOT_ALLOWED_HOSTS:["quicksilver","zapimoveis","globoplay","www.globo.com","gcomevahml-grupoglobo.cs21.force.com","localhost","/politica/eleicoes/2018/"],toolbox:new window.dmp.Toolbox,getSrcUrl:function(e){return-1!==e.indexOf(".globoi")?"//s.glbimg.qa.globoi.com/pc/ca/cadun.js":"//s.glbimg.com/pc/ca/cadun.js"},getLocationHref:function(){return window.location.href},shouldGetCadunJs:function(){var e=!0,t=!1,r=void 0;try{for(var o,i=n.NOT_ALLOWED_HOSTS[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;if(-1!==n.getLocationHref().indexOf(a))return!1}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}return!0},run:function(){if(n.shouldGetCadunJs()){var e=n.getSrcUrl(n.getLocationHref());n.toolbox.getScript(e,function(){window.dispatchEvent(new Event("CADUN_LOADED"))})}}}},function(e,t,n){var r=n(21);window.dmp.listeners.addGloboId(function(){r.globoIdIntegration.storeCadunInfo()})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=t.globoIdIntegration={LOCALSTORAGE_NOT_SUPPORTED_MESSAGE:"Cadun|Krux Integration: localStorage not supported.",GENDER_DICT:{M:"Male",F:"Female"},LOGGED_IN_PROVIDER:"cadun",toolbox:function(){return new window.dmp.Toolbox},_getGender:function(e){return e?r.GENDER_DICT[e.toUpperCase()]:""},_exportData:function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;window.localStorage.setItem(u,e[u])}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}r._setKruxData()},_setKruxData:function(){var e=n({},JSON.parse(localStorage.getItem("krux_utag")||"{}"),window.utag_data);localStorage.setItem("krux_utag",JSON.stringify(e))},_setGdmpData:function(){var e=void 0!==window.Cadun.user.me.address,t={glbdt_globoid:window.Cadun.user.me.provider!==r.LOGGED_IN_PROVIDER?window.Cadun.user.me.id:window.Cadun.user.me.globoId,gdmp_utype:window.Cadun.user.me.provider,gdmp_gender:r._getGender(window.Cadun.user.me.gender),gdmp_age:r.toolbox().getAge(window.Cadun.user.me.dateOfBirth),gdmp_id_legacy:window.Cadun.user.me.id,gdmp_city:e?window.Cadun.user.me.address.city:"",gdmp_state:e?window.Cadun.user.me.address.state:""};return"cadun"!=t.gdmp_utype&&(t.cadun_id=t.gdmp_id_legacy),t},storeCadunInfo:function(){var e={};try{e=r._setGdmpData()}catch(e){console.log(e)}finally{window.utag_data=n({},window.utag_data,e),"undefined"!=typeof Storage?r._exportData(e):console.log(r.LOCALSTORAGE_NOT_SUPPORTED_MESSAGE)}}}},function(e,t,n){n(23).segmentize.run()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.segmentize=void 0;var r=n(24),o=n(25),i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n(36));var u=t.segmentize={PLANETEERS_KRUX_API_ENDPOINT:"https://cdn.krxd.net/userdata/v2/segments/5007d44e-09d1-49b7-8c99-6b1cc38c3cbc",PLANETEERS_KRUX_SEGS_KEY:"planeteers_krux_segments",PLANETEERS_API_ENDPOINT:-1!==window.location.hostname.indexOf(".globoi")?"//planeteers.qa.globoi.com":"//planeteers.globo.com",PLANETEERS_SEGS_KEY:"planeteers_segments",PLANETEERS_EXECUTION_KEY:"planeteers_execution",PLANETEERS_EXECUTION_STATUS_KEY:"planeteers_execution_status",PLANETEERS_CACHE_KEY:"planeteers_cache",PLANETEERS_CACHE_TTL:6e5,req:r.req,ROLLOUT_CONFIGS:{name:"profiling-planeteers-rollout-"+(0,i.getTenant)()+"-0",skipped:"control"},toolbox:new window.dmp.Toolbox,getSegments:function(e){var t=u.PLANETEERS_API_ENDPOINT+"/segments",n=function(e){var t="Request failure - "+JSON.stringify(e);window.localStorage.setItem(u.PLANETEERS_EXECUTION_STATUS_KEY,t)};return u.req.get(t,{},{200:function(t){e(JSON.parse(t.text).segments),window.localStorage.setItem(u.PLANETEERS_EXECUTION_STATUS_KEY,"success"),u.setCache()},500:n,404:n,400:n},n)},getKruxSegments:function(e){var t=u.PLANETEERS_KRUX_API_ENDPOINT;return u.req.jsonp(t,"krux_",function(t){e(t.body.segments)},function(e){console.error("Request failure for KRUX - "+JSON.stringify(e))})},save:function(e,t){t&&t.length>0&&window.localStorage.setItem(e,t)},setCache:function(){var e=(new Date).getTime();window.localStorage.setItem(u.PLANETEERS_CACHE_KEY,e+u.PLANETEERS_CACHE_TTL)},cacheExpired:function(){var e=window.localStorage.getItem(u.PLANETEERS_CACHE_KEY);return!e||!(parseInt(e)>=(new Date).getTime())},mark:function(){window.localStorage.setItem(u.PLANETEERS_EXECUTION_KEY,(new Date).toISOString())},execute:function(){u.mark(),u.cacheExpired()&&u.getSegments(function(e){u.save(u.PLANETEERS_SEGS_KEY,e)}),u.getKruxSegments(function(e){u.save(u.PLANETEERS_KRUX_SEGS_KEY,e)}),a.default.runAnalysis()},run:function(){o.rollout.shouldRun()&&o.rollout.execute(u.ROLLOUT_CONFIGS,u.execute)}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t.req={STATUS_CODE:{success:200,notFound:404,internalServerError:500},MESSAGE:{noCallbackError:"Request callback not set.",noPostDataError:"POST Request data not set."},jsonp:function(e,t,n,r){var o=t+"jsonp_callback_"+Math.round(1e5*Math.random());window[o]=function(e){delete window[o],document.body.removeChild(i),n(e)},r||(r=function(t){throw new Error(t+" - url: "+e)});var i=document.createElement("script");i.onerror=function(e){i.onerror=null,r(e)},i.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+o,document.body.appendChild(i)},get:function(e,t,r,o){r?n._request(e,"GET",t,r,o):console.error(n.MESSAGE.noCallbackError)},post:function(e,t,r,o,i){o?r?n._request(e,"POST",t,o,i,r):console.error(n.MESSAGE.noPostDataError):console.error(n.MESSAGE.noCallbackError)},_request:function(e,t,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=new XMLHttpRequest;u.open(t,e),u.timeout=1e3,u.withCredentials=!0;var s=!0,c=!1,l=void 0;try{for(var f,d=Object.keys(r)[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var v=f.value;u.setRequestHeader(v,r[v])}}catch(e){c=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw l}}u.onreadystatechange=function(){if(u&&u.readyState===u.DONE){var e=!0,t=!1,r=void 0;try{for(var i,a=Object.keys(n.STATUS_CODE)[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value,c=n.STATUS_CODE[s];o[c]&&u.status==c&&o[c]({text:u.responseText,statusCode:u.status,responseHeaders:u.responseHeaders})}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}u=null}},i||(i=function(t){throw new Error(t+" - url: "+e)});var p=function(e){return function(){i(e),u=null}};u.onabort=p("Request aborted."),u.ontimeout=p("Request timed out after "+u.timeout+"ms."),u.onerror=p("Network error."),u.send(a)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rollout=t.DEFAULT_ERROR_CALLBACK=void 0;var r=n(0),o=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(n(7));var a=t.DEFAULT_ERROR_CALLBACK=function(e){console.error(e)},u=t.rollout={createABClient:function(){var e=new o.HorizonClient((0,r.getTenant)(),(0,r.getDeviceGroup)()),t=-1!==window.location.href.indexOf(".globoi")?"qa":"prod";return new i.default(t,e)},URL_WHITELIST:{"globoplay.globo.com":{ab:!1},"gshow.globo.com":{ab:!0}},skip:function(e,t,n){e!==t&&n()},shouldRun:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(u.URL_WHITELIST)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;if(-1!==window.location.href.indexOf(i))return!0}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}return!1},_executeAB:function(e,t,n){var r=u.createABClient(),o=r.createOptions().skipImpression(),i=r.choose(e.name,o);return i.then(function(n){u.skip(n.alternative,e.skipped,t)}),i.catch(function(t){return n(t),e.skipped}),i},execute:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=window.location.host;if(u.URL_WHITELIST[r].ab)return u._executeAB(e,t,n);t()}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(8),a=n(10),u=n(11),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.server=t,this.horizonClient=n,this.abEndpoint=new i(this.server,this.horizonClient),this.googleAnalytics=new u}return r(e,[{key:"impression",value:function(e,t){var n=e.experiment,r=e.alternative,o=e.testId;new a({experiment:n,alternative:r,testId:o},this).impression(t)}},{key:"conversion",value:function(e,t){var n=e.experiment,r=e.alternative,o=e.testId;new a({experiment:n,alternative:r,testId:o},this).conversion(t)}},{key:"choose",value:function(e,t){var n=o.validated(t);if(this.googleAnalytics.choose(n,e,"call"),"string"==typeof e)return this._chooseOne(e,n);if(Array.isArray(e))return this._chooseMulti(e,n);throw new TypeError("Para sorteio o experimento precisa ser uma string ou uma lista")}},{key:"_chooseOne",value:function(e,t){var n=this;return new Promise(function(r,o){n.abEndpoint.selectedAlternatives(e,t,function(o){var i=a.parseRequest(o.responseText,n)[e];t.isSkippedImpression()||n.abEndpoint.recordHorizon("impression",i),n.googleAnalytics.choose(t,e,"success"),r(i)},function(r){n.googleAnalytics.choose(t,e,"fail",r),o(r)})})}},{key:"_chooseMulti",value:function(e,t){var n=this,r=e.join(",");return new Promise(function(e,o){n.abEndpoint.selectedAlternatives(r,t,function(o){var i=a.parseRequest(o.responseText,n);t.isSkippedImpression()||n.abEndpoint.recordHorizonMulti("impression",i),n.googleAnalytics.choose(t,r,"success"),e(i)},function(e){n.googleAnalytics.choose(t,r,"fail",e),o(e)})})}}]),e}();e.exports=s},function(e,t,n){"use strict";(function(t){var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getPluginParams",value:function(){var t={},n=["ab-client-context","ab-client-experiment","ab-client-alternative"],r=e.getDocumentLocationSearch().substr(1).split("&");for(var o in r)if(r.hasOwnProperty(o)){var i=r[o].split("=");n.indexOf(i[0])>-1&&(t[i[0]]=i[1])}return t}},{key:"getDocumentLocationSearch",value:function(){return document.location.search}},{key:"isCompatibleWithPlugin",value:function(){return void 0!==t.window&&(!!t.window.chrome&&!!t.window.chrome.webstore)}},{key:"interceptParams",value:function(t,n){try{if(e.isCompatibleWithPlugin()&&t){var r=void 0,o=void 0;if(t.indexOf("/location/")>-1){var i=t.split("/");r=i[i.length-1]}else t.indexOf("selected-alternatives")>-1&&(o=n.experiments||n.experiment);if(o||r)return Object.assign({},n,this.getExperimentSettings(r,o))}}catch(e){console.error(e)}return n}},{key:"getExperimentSettings",value:function(e,t){var n=this.getPluginParams();if(e&&n["ab-client-context"]===e&&n["ab-client-experiment"]){var r={experiment:n["ab-client-experiment"],alternative:n["ab-client-alternative"]};return r.alternative||delete r.alternative,r}return t&&n["ab-client-experiment"]===t&&n["ab-client-alternative"]?{alternative:n["ab-client-alternative"]}:{}}}]),e}();e.exports=r}).call(this,n(5))},function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(29),i=n(4),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.host=t,this.sendBeaconOneWay=new o(this.host),this.xmlHttp=new i(this.host)}return r(e,[{key:"oneWay",value:function(e,t,n,r){this.isBrowserSupportSendBeacon()&&!this.hasHeaders(n)?this.sendBeaconOneWay.send(e,t):this.xmlHttp.oneWaySend(e,t,n,r)}},{key:"isBrowserSupportSendBeacon",value:function(){return!(void 0===t.navigator||!t.navigator.sendBeacon)}},{key:"hasHeaders",value:function(e){return void 0!==e&&e.length>0}}]),e}();e.exports=a}).call(this,n(5))},function(e,t,n){"use strict";(function(t){var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.abHost=t}return n(e,[{key:"send",value:function(e,n){t.navigator.sendBeacon(this.abHost+e,JSON.stringify(n))}}]),e}();e.exports=r}).call(this,n(5))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(31),a=n(32),u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.server=t,this.horizonClient=n,this.mabEndpoint=new i(this.server,this.horizonClient)}return r(e,[{key:"increment",value:function(e){var t=e.experiment,n=e.arm,r=e.testId,o=e.abAlternative;new a({experiment:t,arm:n,testId:r,abAlternative:o},this).increment()}},{key:"reward",value:function(e){var t=e.experiment,n=e.arm,r=e.testId,o=e.abAlternative;new a({experiment:t,arm:n,testId:r,abAlternative:o},this).reward()}},{key:"choose",value:function(e,t){var n=this,r=o.validated(t);return new Promise(function(t,o){n.mabEndpoint.getSelectedArm(e,r,function(o){var i=a.parseRequest(o.responseText,e,n);r.isSkippedImpression()||n.mabEndpoint.recordHorizon("increment",i),t(i)},function(e){o(e)})})}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(4),i=n(9),a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.abHost=t,this.horizonClient=n,this.request=new o(this.abHost),n&&(this.horizonWrapper=new i(this.horizonClient))}return r(e,[{key:"getSelectedArm",value:function(e,t,n,r){var o="",i="GET";t.isSkippedImpression()?o="/mab/"+e+"/choose":(o="/mab/"+e+"/chooseAndIncrement",i="POST"),this.request.do(i,o,null,null,n,r)}},{key:"recordMABMetric",value:function(e,t){var n="/mab/"+t.experiment+"/"+e,r={arm:t.arm,testId:t.testId,abAlternative:t.abAlternative};this.request.do("POST",n,{},r),this.recordHorizon(e,t)}},{key:"recordHorizon",value:function(e,t){this.horizonWrapper&&this.horizonWrapper.send("mab",{metricId:e,algorithm:"ucb1",experiment:t.experiment,arm:t.arm,testId:t.testId})}}]),e}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t,n){var r=t.experiment,o=t.arm,i=t.testId,a=t.abAlternative;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.experiment=r,this.arm=o,this.testId=i,this.abAlternative=a,this.context=n}return r(e,[{key:"increment",value:function(){this._sendMetric("increment")}},{key:"reward",value:function(){this._sendMetric("reward")}},{key:"_sendMetric",value:function(e){var t={experiment:this.experiment,arm:this.arm,testId:this.testId,abAlternative:this.abAlternative};this.context.mabEndpoint.recordMABMetric(e,t)}}],[{key:"parseRequest",value:function(t,n,r){var o=JSON.parse(t);return o.experiment=n,new e(o,r)}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(34),i=n(35),a=n(1),u=n(11),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.server=t,this.horizonClient=n,this.abEndpoint=new i(this.server,this.horizonClient),this.googleAnalytics=new u}return r(e,[{key:"choose",value:function(e,t){var n=this,r=a.validated(t);return new Promise(function(t,i){n.abEndpoint.selectedDrawedExperiment(e,r,function(e){var r=o.parseRequest(e.responseText,n);t(r)},function(e){i(e)})})}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(10),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"parseRequest",value:function(e,t){var n=JSON.parse(e),r=Object.keys(n)[0],i=n[r],a=i.alternative,u=i.testId;return new o({experiment:r,alternative:a,testId:u},t)}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(4),i=n(8),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.abHost=e,n.request=new o(n.abHost),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"selectedDrawedExperiment",value:function(e,t,n,r){this.request.do("GET","/ab/location/"+e,t.getLocationParams(),null,n,r)}}]),t}();e.exports=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),o=n(40),i=s(n(41)),a=s(n(2)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}t.default={runAnalysis:function(){var e=i.default.newAnalysis({name:"profiling-planeteers-misses-getsegments-"+(0,u.getTenant)()+"-"+a.default.ANALYSIS_INDEX,control:"control",alternative:"missed"},{impression:a.default.EVENT_GETSEGMENTS,conversion:a.default.EVENT_GETSEGMENTS_MISSES}),t=i.default.newAnalysis({name:"profiling-planeteers-fallback-times-used-"+(0,u.getTenant)()+"-"+a.default.ANALYSIS_INDEX,control:"control",alternative:"used"},{impression:a.default.EVENT_GETSEGMENTS,conversion:a.default.EVENT_USED_FALLBACK}),n=i.default.newAnalysis(r.coverage.EXPERIMENT,{},r.coverage.listeners),s=i.default.newAnalysis(o.execution.EXPERIMENT,{},o.execution.listeners);e.run(),t.run(),n.run(),s.run()}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.coverage=void 0;var r=a(n(2)),o=n(0),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var u=t.coverage={EXPERIMENT:{name:"profiling-planeteers-coverage-"+(0,o.getTenant)()+"-"+r.default.ANALYSIS_INDEX,control:"control",alternative:"planeteers-coverage",planeteers:"planeteers-coverage",krux:"planeteers-krux-coverage"},hasSegments:function(e){var t=window.localStorage.getItem(e);if(t&&t.length>2&&t.split(",").length>1)return!0;return!1},listeners:function(e){window.addEventListener(r.default.EVENT_GETSEGMENTS,function t(){var n=(0,i.default)();e.impression({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.planeteers,testId:n}),u.hasSegments(r.default.PLANETEERS_SEGMENTS_KEY)&&e.conversion({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.planeteers,testId:n});var o=(0,i.default)();e.impression({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.krux,testId:o}),u.hasSegments(r.default.PLANETEERS_KRUX_SEGMENTS_KEY)&&e.conversion({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.krux,testId:o}),window.removeEventListener(r.default.EVENT_GETSEGMENTS,t)})}}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.execution=void 0;var r=a(n(2)),o=n(0),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var u=t.execution={EXPERIMENT:{name:"profiling-planeteers-execution-"+(0,o.getTenant)()+"-"+r.default.ANALYSIS_INDEX,control:"control",alternative:"executed"},haveExecuted:function(){var e=window.localStorage.getItem(r.default.PLANETEERS_EXECUTION_STATUS);if(e&&"success"===e){var t=window.localStorage.getItem(r.default.PLANETEERS_EXECUTION);if(t&&t.length>2){var n=new Date,o=new Date(t);if(o.getDate()===n.getDate()&&o.getMonth()===n.getMonth()&&o.getYear()===n.getYear())return!0}}return!1},listeners:function(e){window.addEventListener(r.default.EVENT_GETSEGMENTS,function t(){var n=(0,i.default)();e.impression({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.alternative,testId:n}),u.haveExecuted()&&e.conversion({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.alternative,testId:n}),window.removeEventListener(r.default.EVENT_GETSEGMENTS,t)})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=n(3),a=s(n(7)),u=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.experiment=t,this.events=n,this.toolbox=new window.dmp.Toolbox,this.customListener=r||null}return r(e,[{key:"setupListeners",value:function(e){var t=this,n=(0,u.default)();window.addEventListener(this.events.impression,function(){e.impression({experiment:t.experiment.name,alternative:t.experiment.alternative,testId:n})}),window.addEventListener(this.events.conversion,function(){e.conversion({experiment:t.experiment.name,alternative:t.experiment.alternative,testId:n})})}},{key:"createABClient",value:function(){var e=new i.HorizonClient((0,o.getTenant)(),(0,o.getDeviceGroup)()),t=-1!==window.location.href.indexOf(".globoi")?"qa":"prod";return new a.default(t,e)}},{key:"run",value:function(){var e=this,t=this.createABClient(),n=t.createOptions().skipImpression(),r=t.choose(this.experiment.name,n);return r.then(function(n){n.alternative===e.experiment.alternative&&(e.customListener?e.customListener(t):e.setupListeners(t))}),r.catch(function(t){return console.error(t),e.experiment.control}),r}}]),e}();t.default={Analysis:c,newAnalysis:function(e,t,n){return new c(e,t,n)}}},function(e,t){function n(e){var t,n="kxglobo_"+e;return window.localStorage?window.localStorage[n]||"":navigator.cookieEnabled&&(t=document.cookie.match(n+"=([^;]*)"))&&unescape(t[1])||""}window.Krux||((window.Krux=function(){Krux.q.push(arguments)}).q=[]),window.Krux.user=n("user"),window.Krux.segments=n("segs")&&n("segs").split(",")||[],window.dmp.listeners.kruxLoaded()},function(e,t,n){var r=function(e){return e&&e.__esModule?e:{default:e}}(n(44));window.dmp.listeners.addGloboId(function(){(0,r.default)()})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(45));var i=function(e){var t=new window.dmp.Toolbox,n=r({},{prtid:13574},e),o="//cd.navdmp.com/cd?"+t.encodeUrl(n);t.sendPixel(o)};t.default=function(){var e=1===parseInt(window.localStorage.getItem("naveggOnboarded")),t=1===parseInt(window.localStorage.getItem("naveggAnonOnboarded")),n="cadun"!==Cadun.user.me.provider;n&&!t?(i({prtusridr:(0,o.default)(Cadun.user.me.id)}),window.localStorage.setItem("naveggAnonOnboarded",1)):n||e||(i({prtusridf:(0,o.default)(Cadun.user.me.globoId)}),window.localStorage.setItem("naveggOnboarded",1))}},function(e,t,n){!function(){var t=n(46),r=n(12).utf8,o=n(12).bin,i=function(e,n){var i=t.wordsToBytes(function(e){e.constructor==String?e=r.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var n=t.bytesToWords(e),o=8*e.length,i=[],a=1732584193,u=-271733879,s=-1732584194,c=271733878,l=-1009589776;n[o>>5]|=128<<24-o%32,n[15+(o+64>>>9<<4)]=o;for(var f=0;f<n.length;f+=16){for(var d=a,v=u,p=s,h=c,E=l,g=0;g<80;g++){if(g<16)i[g]=n[f+g];else{var y=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=y<<1|y>>>31}var m=(a<<5|a>>>27)+l+(i[g]>>>0)+(g<20?1518500249+(u&s|~u&c):g<40?1859775393+(u^s^c):g<60?(u&s|u&c|s&c)-1894007588:(u^s^c)-899497514);l=c,c=s,s=u<<30|u>>>2,u=a,a=m}a+=d,u+=v,s+=p,c+=h,l+=E}return[a,u,s,c,l]}(e));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):t.bytesToHex(i)};i._blocksize=16,i._digestsize=20,e.exports=i}()},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}};e.exports=n}()},function(e,t,n){var r=n(0),o=u(n(48)),i=u(n(49)),a=n(3);function u(e){return e&&e.__esModule?e:{default:e}}if(!(-1!==window.location.hostname.indexOf("localhost"))){var s=new a.HorizonClient((0,r.getTenant)(),(0,r.getDeviceGroup)());(0,o.default)(function(){return(0,i.default)(s)}),window.addEventListener("beforeunload",function(){s.unload()})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){window.dmp.listeners.addGloboId(function(){window.dmp.listeners.addKrux(function(){window.dmp.listeners.addNavegg(function(){e()})})})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(50)),o=u(n(51)),i=u(n(52)),a=n(3);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){(0,i.default)()&&(-1!==window.location.hostname.indexOf(".globoi")&&a.Settings.useQAConfiguration(),e.send({id:"pes-sync-id",contentType:"pes",version:"1.0",properties:(0,r.default)()}),(0,o.default)())}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e={};return e.naveggId=window.nvg13574&&window.nvg13574.userId?window.nvg13574.userId:"",e.kruxId=window.Krux&&window.Krux.user?window.Krux.user:"",e}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){window.localStorage.setItem("sync_ids_persistence",JSON.stringify({sent:"ok",expireIn:(new Date).getTime()+864e5}))}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(new Date).getTime(),t=window.localStorage.getItem("sync_ids_persistence");if(null!==t){var n=JSON.parse(t);return console.log(n,e),n.expireIn<e}return!0}}]);