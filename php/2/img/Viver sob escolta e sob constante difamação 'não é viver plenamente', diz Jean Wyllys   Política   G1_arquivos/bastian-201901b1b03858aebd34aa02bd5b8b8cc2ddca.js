var Bastian=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),s=(n(5),n(6),n(39),n(42),n(65)),o=n(26),a=n(66);const c={"authoring-toolkit/misc":()=>n(67),"authoring-toolkit/ui":()=>n(166),feed:()=>n(160),"feed/authoring/card":()=>n(164).exposable,"feed/items/register":()=>n(161).registerExternalItemFactory,renderer:()=>n(167),version:()=>n(158),lazy:()=>n(159)},l=o.Globals.document;function u(t,e){try{n(163).launch(t,e)}catch(r){Object(a.triggerDomEvent)(s.LAUNCH_FAILED,l),n(32).error("Impossible to launch Bastian",r,r.stack)}}u.require=function(t){return i()(t)&&t in c?c[t]():n(t)},Object.defineProperty&&(Object.defineProperty(u,"version",{get:c.version}),Object.defineProperty(u,"lazy",{get:c.lazy})),Object(a.triggerDomEvent)(s.APP_LOADED,l),e.default=u},function(t,e,n){var r=n(2),i=n(3),s=n(4),o="[object String]";t.exports=function(t){return"string"==typeof t||!i(t)&&s(t)&&r(t)==o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){},function(t,e,n){"use strict";n.r(e),n.d(e,"$OnDemandSource",function(){return h});var r=n(7),i=n.n(r),s=n(8),o=n.n(s),a=n(10),c=n(33),l=n(34),u=n.n(l);class h{constructor(t){this.buffer=[],this.loadLocked=!1,this.nextFetch=null,this.nextPage=null,this.isFetchNeeded=(()=>this.whenToFetch()),this.unlock=(t=>(this.loadLocked=!1,t)),this.isEnded=(()=>this.whenToComplete());const e=this;this.stream=u.a.create({start(t){e.listener=t},stop(){e.listener=null}}),t&&this.store(t)}store(t){const e=Object(c.castArray)(t).map(a.PostIndex.filter).filter(t=>t);return this.buffer.push(...e),e.length}isEmpty(){return 0===this.buffer.length}setNextFetch(t){this.nextFetch=i()(t)?t:null}setNextPage(t){this.nextPage=i()(t)?t:null}request(t){if(this.listener){const e=this.listener,n=this.isEmpty();n&&this.isEnded()?e.complete():(t&&!0===t.preventFetch&&!n||!this.isFetchNeeded()||this.fetch(t),n||e.next(this.buffer.shift()))}}whenToFetch(){throw new Error("Not implemented")}fetch(t){if(!1===this.loadLocked)return this.loadLocked=!0,this.howToFetch(t)}howToFetch(t){throw new Error("Not implemented")}whenToComplete(){throw new Error("Not implemented")}saveAndResumeStream(t,e){const n=this.isEmpty();this.store(t),o()(e)&&e(t),n&&setTimeout(()=>{this.request()},100)}}},function(t,e,n){var r=n(2),i=n(4),s="[object Number]";t.exports=function(t){return"number"==typeof t||i(t)&&r(t)==s}},function(t,e,n){var r=n(2),i=n(9),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==o||e==a||e==s||e==c}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"PostIndex",function(){return b});var r=n(11),i=n.n(r),s=n(1),o=n.n(s),a=n(14),c=n.n(a),l=n(15);n(32);const u=[],h=/^[a-z0-9]+:\/\//,p=t=>t.replace(h,""),d=i()(()=>{const t=l.Settings.get("DEDUPE_URLS",[]);c()(t).filter(o.a).forEach(f)}),f=t=>{u.push(p(t))};function m(t){if(!o()(t.key))throw new Error(`Can't register post without a key (post: ${JSON.stringify(t)})`);f(t.key)}function g(t){if(o()(t.key))return u.indexOf(p(t.key))>=0;throw new Error(`Can't look for a post without a key (post: ${JSON.stringify(t)})`)}const b={loadInitialURLs:d,register:m,has:g,filter:function(t){if(!g(t))return m(t),t},destroy:function(){u.splice(0,u.length)}}},function(t,e,n){var r=n(12);t.exports=function(t){return r(2,t)}},function(t,e,n){var r=n(13),i="Expected a function";t.exports=function(t,e){var n;if("function"!=typeof e)throw new TypeError(i);return t=r(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}},function(t,e,n){"use strict";n.r(e),n.d(e,"Settings",function(){return d});var r=n(16),i=n.n(r),s=n(25),o=n.n(s),a=n(26),c=n(27),l=n(30);let u,h;const p=t=>`SETTINGS.BASTIAN.${t}`,d={has:h=i()(t=>Object(l.has)(a.Globals,p(t))),get:u=i()((t,e)=>{let n=Object(c.get)(a.Globals,p(t));return o()(n)&&!o()(e)&&(n=e),n},(...t)=>t.map(String).join("|"))}},function(t,e,n){var r=n(17),i="Expected a function";function s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(s.Cache||r),n}s.Cache=r,t.exports=s},function(t,e,n){var r=n(18),i=n(19),s=n(22),o=n(23),a=n(24);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(20),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(21);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(20);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(20);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(20);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){"use strict";n.r(e),n.d(e,"Globals",function(){return r});const r=function(){return this||(0,eval)("this")}()},function(t,e,n){"use strict";n.r(e);var r=n(28),i=n.n(r);n.d(e,"get",function(){return i.a})},function(t,e,n){n(29);t.exports=function(t,e){for(var n=e.split("."),r=n.pop();e=n.shift();)if(null==(t=t[e]))return;return t[r]}},function(t,e){t.exports=function(t){switch(typeof t){case"string":case"number":case"boolean":return!0}return null==t}},function(t,e,n){"use strict";n.r(e);var r=n(31),i=n.n(r);n.d(e,"has",function(){return i.a})},function(t,e,n){var r,i=n(28);t.exports=function(t,e){return i(t,e)!==r}},function(t,e,n){"use strict";n.r(e),n.d(e,"error",function(){return a}),n.d(e,"warn",function(){return c}),n.d(e,"info",function(){return l}),n.d(e,"log",function(){return u});var r=n(1),i=n.n(r);const s="[bastian]";function o(t){return i()(t[0])?[`${s} ${t[0]}`,...t.slice(1)]:[s,...t]}const a=(...t)=>console.error(...o(t)),c=(...t)=>{console.warn(...o(t))},l=(...t)=>{},u=(...t)=>{}},function(t,e,n){"use strict";function r(t){return Array.isArray(t)?t:[t]}n.r(e),n.d(e,"castArray",function(){return r})},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(35),o={};function a(){}function c(t){for(var e=t.length,n=Array(e),r=0;r<e;++r)n[r]=t[r];return n}function l(t,e,n){try{return t.f(e)}catch(r){return n._e(r),o}}e.NO=o;var u={_n:a,_e:a,_c:a};function h(t){t._start=function(t){t.next=t._n,t.error=t._e,t.complete=t._c,this.start(t)},t._stop=t.stop}e.NO_IL=u;var p=function(){function t(t,e){this._stream=t,this._listener=e}return t.prototype.unsubscribe=function(){this._stream._remove(this._listener)},t}(),d=function(){function t(t){this._listener=t}return t.prototype.next=function(t){this._listener._n(t)},t.prototype.error=function(t){this._listener._e(t)},t.prototype.complete=function(){this._listener._c()},t}(),f=function(){function t(t){this.type="fromObservable",this.ins=t,this.active=!1}return t.prototype._start=function(t){this.out=t,this.active=!0,this._sub=this.ins.subscribe(new d(t)),this.active||this._sub.unsubscribe()},t.prototype._stop=function(){this._sub&&this._sub.unsubscribe(),this.active=!1},t}(),m=function(){function t(t){this.type="merge",this.insArr=t,this.out=o,this.ac=0}return t.prototype._start=function(t){this.out=t;var e=this.insArr,n=e.length;this.ac=n;for(var r=0;r<n;r++)e[r]._add(this)},t.prototype._stop=function(){for(var t=this.insArr,e=t.length,n=0;n<e;n++)t[n]._remove(this);this.out=o},t.prototype._n=function(t){var e=this.out;e!==o&&e._n(t)},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){if(--this.ac<=0){var t=this.out;if(t===o)return;t._c()}},t}(),g=function(){function t(t,e,n){this.i=t,this.out=e,this.p=n,n.ils.push(this)}return t.prototype._n=function(t){var e=this.p,n=this.out;if(n!==o&&e.up(t,this.i)){for(var r=e.vals,i=r.length,s=Array(i),a=0;a<i;++a)s[a]=r[a];n._n(s)}},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){var t=this.p;t.out!==o&&0==--t.Nc&&t.out._c()},t}(),b=function(){function t(t){this.type="combine",this.insArr=t,this.out=o,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return t.prototype.up=function(t,e){var n=this.vals[e],r=this.Nn?n===o?--this.Nn:this.Nn:0;return this.vals[e]=t,0===r},t.prototype._start=function(t){this.out=t;var e=this.insArr,n=this.Nc=this.Nn=e.length,r=this.vals=new Array(n);if(0===n)t._n([]),t._c();else for(var i=0;i<n;i++)r[i]=o,e[i]._add(new g(i,t,this))},t.prototype._stop=function(){for(var t=this.insArr,e=t.length,n=this.ils,r=0;r<e;r++)t[r]._remove(n[r]);this.out=o,this.ils=[],this.vals=[]},t}(),v=function(){function t(t){this.type="fromArray",this.a=t}return t.prototype._start=function(t){for(var e=this.a,n=0,r=e.length;n<r;n++)t._n(e[n]);t._c()},t.prototype._stop=function(){},t}(),E=function(){function t(t){this.type="fromPromise",this.on=!1,this.p=t}return t.prototype._start=function(t){var e=this;this.on=!0,this.p.then(function(n){e.on&&(t._n(n),t._c())},function(e){t._e(e)}).then(a,function(t){setTimeout(function(){throw t})})},t.prototype._stop=function(){this.on=!1},t}(),y=function(){function t(t){this.type="periodic",this.period=t,this.intervalID=-1,this.i=0}return t.prototype._start=function(t){var e=this;this.intervalID=setInterval(function(){t._n(e.i++)},this.period)},t.prototype._stop=function(){-1!==this.intervalID&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},t}(),_=function(){function t(t,e){this.type="debug",this.ins=t,this.out=o,this.s=a,this.l="","string"==typeof e?this.l=e:"function"==typeof e&&(this.s=e)}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=o},t.prototype._n=function(t){var e=this.out;if(e!==o){var n=this.s,r=this.l;if(n!==a)try{n(t)}catch(i){e._e(i)}else r?console.log(r+":",t):console.log(t);e._n(t)}},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==o&&t._c()},t}(),O=function(){function t(t,e){this.type="drop",this.ins=e,this.out=o,this.max=t,this.dropped=0}return t.prototype._start=function(t){this.out=t,this.dropped=0,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=o},t.prototype._n=function(t){var e=this.out;e!==o&&this.dropped++>=this.max&&e._n(t)},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==o&&t._c()},t}(),w=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(){this.op.end()},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.end()},t}(),x=function(){function t(t,e){this.type="endWhen",this.ins=e,this.out=o,this.o=t,this.oil=u}return t.prototype._start=function(t){this.out=t,this.o._add(this.oil=new w(t,this)),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=o,this.oil=u},t.prototype.end=function(){var t=this.out;t!==o&&t._c()},t.prototype._n=function(t){var e=this.out;e!==o&&e._n(t)},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){this.end()},t}(),j=function(){function t(t,e){this.type="filter",this.ins=e,this.out=o,this.f=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=o},t.prototype._n=function(t){var e=this.out;if(e!==o){var n=l(this,t,e);n!==o&&n&&e._n(t)}},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==o&&t._c()},t}(),S=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.inner=o,this.op.less()},t}(),I=function(){function t(t){this.type="flatten",this.ins=t,this.out=o,this.open=!0,this.inner=o,this.il=u}return t.prototype._start=function(t){this.out=t,this.open=!0,this.inner=o,this.il=u,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.inner!==o&&this.inner._remove(this.il),this.out=o,this.open=!0,this.inner=o,this.il=u},t.prototype.less=function(){var t=this.out;t!==o&&(this.open||this.inner!==o||t._c())},t.prototype._n=function(t){var e=this.out;if(e!==o){var n=this.inner,r=this.il;n!==o&&r!==u&&n._remove(r),(this.inner=t)._add(this.il=new S(e,this))}},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){this.open=!1,this.less()},t}(),C=function(){function t(t,e,n){var r=this;this.type="fold",this.ins=n,this.out=o,this.f=function(e){return t(r.acc,e)},this.acc=this.seed=e}return t.prototype._start=function(t){this.out=t,this.acc=this.seed,t._n(this.acc),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=o,this.acc=this.seed},t.prototype._n=function(t){var e=this.out;if(e!==o){var n=l(this,t,e);n!==o&&e._n(this.acc=n)}},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==o&&t._c()},t}(),T=function(){function t(t){this.type="last",this.ins=t,this.out=o,this.has=!1,this.val=o}return t.prototype._start=function(t){this.out=t,this.has=!1,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=o,this.val=o},t.prototype._n=function(t){this.has=!0,this.val=t},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==o&&(this.has?(t._n(this.val),t._c()):t._e(new Error("last() failed because input stream completed")))},t}(),N=function(){function t(t,e){this.type="map",this.ins=e,this.out=o,this.f=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=o},t.prototype._n=function(t){var e=this.out;if(e!==o){var n=l(this,t,e);n!==o&&e._n(n)}},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==o&&t._c()},t}(),P=function(){function t(t){this.type="remember",this.ins=t,this.out=o}return t.prototype._start=function(t){this.out=t,this.ins._add(t)},t.prototype._stop=function(){this.ins._remove(this.out),this.out=o},t}(),A=function(){function t(t,e){this.type="replaceError",this.ins=e,this.out=o,this.f=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=o},t.prototype._n=function(t){var e=this.out;e!==o&&e._n(t)},t.prototype._e=function(t){var e=this.out;if(e!==o)try{this.ins._remove(this),(this.ins=this.f(t))._add(this)}catch(n){e._e(n)}},t.prototype._c=function(){var t=this.out;t!==o&&t._c()},t}(),L=function(){function t(t,e){this.type="startWith",this.ins=t,this.out=o,this.val=e}return t.prototype._start=function(t){this.out=t,this.out._n(this.val),this.ins._add(t)},t.prototype._stop=function(){this.ins._remove(this.out),this.out=o},t}(),k=function(){function t(t,e){this.type="take",this.ins=e,this.out=o,this.max=t,this.taken=0}return t.prototype._start=function(t){this.out=t,this.taken=0,this.max<=0?t._c():this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=o},t.prototype._n=function(t){var e=this.out;if(e!==o){var n=++this.taken;n<this.max?e._n(t):n===this.max&&(e._n(t),e._c())}},t.prototype._e=function(t){var e=this.out;e!==o&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==o&&t._c()},t}(),M=function(){function t(t){this._prod=t||o,this._ils=[],this._stopID=o,this._dl=o,this._d=!1,this._target=o,this._err=o}return t.prototype._n=function(t){var e=this._ils,n=e.length;if(this._d&&this._dl._n(t),1==n)e[0]._n(t);else{if(0==n)return;for(var r=c(e),i=0;i<n;i++)r[i]._n(t)}},t.prototype._e=function(t){if(this._err===o){this._err=t;var e=this._ils,n=e.length;if(this._x(),this._d&&this._dl._e(t),1==n)e[0]._e(t);else{if(0==n)return;for(var r=c(e),i=0;i<n;i++)r[i]._e(t)}if(!this._d&&0==n)throw this._err}},t.prototype._c=function(){var t=this._ils,e=t.length;if(this._x(),this._d&&this._dl._c(),1==e)t[0]._c();else{if(0==e)return;for(var n=c(t),r=0;r<e;r++)n[r]._c()}},t.prototype._x=function(){0!==this._ils.length&&(this._prod!==o&&this._prod._stop(),this._err=o,this._ils=[])},t.prototype._stopNow=function(){this._prod._stop(),this._err=o,this._stopID=o},t.prototype._add=function(t){var e=this._target;if(e!==o)return e._add(t);var n=this._ils;if(n.push(t),!(n.length>1))if(this._stopID!==o)clearTimeout(this._stopID),this._stopID=o;else{var r=this._prod;r!==o&&r._start(this)}},t.prototype._remove=function(t){var e=this,n=this._target;if(n!==o)return n._remove(t);var r=this._ils,i=r.indexOf(t);i>-1&&(r.splice(i,1),this._prod!==o&&r.length<=0?(this._err=o,this._stopID=setTimeout(function(){return e._stopNow()})):1===r.length&&this._pruneCycles())},t.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},t.prototype._hasNoSinks=function(t,e){if(-1!==e.indexOf(t))return!0;if(t.out===this)return!0;if(t.out&&t.out!==o)return this._hasNoSinks(t.out,e.concat(t));if(t._ils){for(var n=0,r=t._ils.length;n<r;n++)if(!this._hasNoSinks(t._ils[n],e.concat(t)))return!1;return!0}return!1},t.prototype.ctor=function(){return this instanceof R?R:t},t.prototype.addListener=function(t){t._n=t.next||a,t._e=t.error||a,t._c=t.complete||a,this._add(t)},t.prototype.removeListener=function(t){this._remove(t)},t.prototype.subscribe=function(t){return this.addListener(t),new p(this,t)},t.prototype[s.default]=function(){return this},t.create=function(e){if(e){if("function"!=typeof e.start||"function"!=typeof e.stop)throw new Error("producer requires both start and stop functions");h(e)}return new t(e)},t.createWithMemory=function(t){return t&&h(t),new R(t)},t.never=function(){return new t({_start:a,_stop:a})},t.empty=function(){return new t({_start:function(t){t._c()},_stop:a})},t.throw=function(e){return new t({_start:function(t){t._e(e)},_stop:a})},t.from=function(e){if("function"==typeof e[s.default])return t.fromObservable(e);if("function"==typeof e.then)return t.fromPromise(e);if(Array.isArray(e))return t.fromArray(e);throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.fromArray(e)},t.fromArray=function(e){return new t(new v(e))},t.fromPromise=function(e){return new t(new E(e))},t.fromObservable=function(e){if(e.endWhen)return e;var n="function"==typeof e[s.default]?e[s.default]():e;return new t(new f(n))},t.periodic=function(e){return new t(new y(e))},t.prototype._map=function(t){return new(this.ctor())(new N(t,this))},t.prototype.map=function(t){return this._map(t)},t.prototype.mapTo=function(t){var e=this.map(function(){return t});return e._prod.type="mapTo",e},t.prototype.filter=function(e){var n,r,i=this._prod;return new t(i instanceof j?new j((n=i.f,r=e,function(t){return n(t)&&r(t)}),i.ins):new j(e,this))},t.prototype.take=function(t){return new(this.ctor())(new k(t,this))},t.prototype.drop=function(e){return new t(new O(e,this))},t.prototype.last=function(){return new t(new T(this))},t.prototype.startWith=function(t){return new R(new L(this,t))},t.prototype.endWhen=function(t){return new(this.ctor())(new x(t,this))},t.prototype.fold=function(t,e){return new R(new C(t,e,this))},t.prototype.replaceError=function(t){return new(this.ctor())(new A(t,this))},t.prototype.flatten=function(){this._prod;return new t(new I(this))},t.prototype.compose=function(t){return t(this)},t.prototype.remember=function(){return new R(new P(this))},t.prototype.debug=function(t){return new(this.ctor())(new _(this,t))},t.prototype.imitate=function(t){if(t instanceof R)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=t;for(var e=this._ils,n=e.length,r=0;r<n;r++)t._add(e[r]);this._ils=[]},t.prototype.shamefullySendNext=function(t){this._n(t)},t.prototype.shamefullySendError=function(t){this._e(t)},t.prototype.shamefullySendComplete=function(){this._c()},t.prototype.setDebugListener=function(t){t?(this._d=!0,t._n=t.next||a,t._e=t.error||a,t._c=t.complete||a,this._dl=t):(this._d=!1,this._dl=o)},t.merge=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(new m(e))},t.combine=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(new b(e))},t}();e.Stream=M;var R=function(t){function e(e){var n=t.call(this,e)||this;return n._has=!1,n}return i(e,t),e.prototype._n=function(e){this._v=e,this._has=!0,t.prototype._n.call(this,e)},e.prototype._add=function(t){var e=this._target;if(e!==o)return e._add(t);var n=this._ils;if(n.push(t),n.length>1)this._has&&t._n(this._v);else if(this._stopID!==o)this._has&&t._n(this._v),clearTimeout(this._stopID),this._stopID=o;else if(this._has)t._n(this._v);else{var r=this._prod;r!==o&&r._start(this)}},e.prototype._stopNow=function(){this._has=!1,t.prototype._stopNow.call(this)},e.prototype._x=function(){this._has=!1,t.prototype._x.call(this)},e.prototype.map=function(t){return this._map(t)},e.prototype.mapTo=function(e){return t.prototype.mapTo.call(this,e)},e.prototype.take=function(e){return t.prototype.take.call(this,e)},e.prototype.endWhen=function(e){return t.prototype.endWhen.call(this,e)},e.prototype.replaceError=function(e){return t.prototype.replaceError.call(this,e)},e.prototype.remember=function(){return this},e.prototype.debug=function(e){return t.prototype.debug.call(this,e)},e}(M);e.MemoryStream=R;var D=M;e.default=D},function(t,e,n){"use strict";n.r(e),function(t,r){var i,s=n(38);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var o=Object(s.default)(i);e.default=o}.call(this,n(36),n(37)(t))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.r(e),n.d(e,"default",function(){return r})},function(t,e,n){"use strict";n.r(e),n.d(e,"setKey",function(){return f}),n.d(e,"$Falkor",function(){return m});var r=n(1),i=n.n(r),s=n(7),o=n.n(s),a=n(6),c=n(40),l=n(15),u=n(27),h=n(32);let p;const d={};function f(t){let e=t.key;i()(e)||o()(e)||(Object(u.get)(t,"content.url")?e=t.content.url:Object(u.get)(t,"content.video.id")?e=t.content.video.id:t.id&&(e=t.id)),e&&(t.key=String(e).trim())}class m extends a.$OnDemandSource{static getInstance(t){if(t&&!p&&(p=new m(t,d)),p)return p;throw new Error("Couldn't return an $Falkor instance")}constructor(t,e){e!==d&&Object(h.warn)("Class $Falkor is a singleton and shouldn't be called directly."),super(t.items),this.minimun=20,this.feedId=c.Configs.get("feedId"),this.setNextFetch(t.nextFetch||t.nextPage),this.setNextPage(t.nextPage)}whenToFetch(){let t=!1;return t=this.buffer.length<=this.minimun&&!this.isEnded()}static buildRequestUrl(t,e,n){return`${t}/page/${e}${n?`/query_parameter/${encodeURI(n)}`:""}`}store(t){return Array.isArray(t)?t.forEach(f):f(t),super.store(t)}howToFetch(){const t=this.nextFetch;if(o()(t))return fetch(m.buildRequestUrl(l.Settings.get("RESOURCE_URI"),t,l.Settings.get("QUERY_PARAMETER"))).then(t=>t.json()).then(this.unlock).then(t=>{this.setNextPage(t.nextPage),this.setNextFetch(t.nextFetch||t.nextPage),this.saveAndResumeStream(t.items)}).catch(t=>{this.listener&&this.listener.error(t)})}whenToComplete(){let t;return t=null===this.nextPage}}},function(t,e,n){"use strict";n.r(e),n.d(e,"set",function(){return p}),n.d(e,"get",function(){return d}),n.d(e,"decr",function(){return f}),n.d(e,"incr",function(){return m}),n.d(e,"absorbConfigs",function(){return b}),n.d(e,"Configs",function(){return y});var r=n(25),i=n.n(r),s=n(7),o=n.n(s),a=n(41),c=n(26),l=n(15),u=n(27);const h=new Map([["referer",""]]);function p(t,e){return h.set(t,e),e}const d=(t,e)=>{const n=h.get(t);return i()(n)?e:n},f=(t,e=1)=>{const n=parseInt(d(t,null),10);if(o()(n)&&e>0)return p(t,n-e)},m=(t,e=1)=>{const n=parseInt(d(t,null),10);if(o()(n)&&e>0)return p(t,n+e)},g=[["forePosts","config.forePosts",0],["headlineVariation","config.headlineVariation"],["componentPosition","config.componentPosition",7],["feedType","config.feedType",l.Settings.get("FEED_TYPE")||"unknown-type"],["photoOverVideo","config.photoOverVideo",l.Settings.get("IS_PHOTO_PRIORIZED")||!1],["recommendationContentId","config.recommendation.contentId",l.Settings.get("RECOMMENDATION.CONTENT_ID")||"feed"]],b=t=>{for(const e of g){const n=e[0],r=e[1],i=e[2];p(n,Object(u.get)(t,r)||i)}p("feedId",t.id||Object(u.get)(t,"items.0.feedId")||"unknown-feedId"),p("referer",t.referer),p("recommendationCounter",0),p("thirdPartyingModel",o()(Object(u.get)(t,"config.componentPosition"))?"distributed-components":"cards"),v(t),E(t)},v=t=>{const e=Object(u.get)(t,"config.recommendation.start")||Object(u.get)(t,"config.cutRange")+1,n=d("forePosts");p("recommendationStart",(!a.At.smallScreen||"uber"===d("headlineVariation"))&&e<=n?n+1:e)},E=t=>p("isRecommended",c.Globals.BASTIAN_FORCE_RECOMMENDED||Object(u.get)(t,"config.recommendation.active")||l.Settings.get("IS_RECOMMENDED")||!1),y={set:p,has:t=>h.has(t),get:d,unset:t=>h.delete(t),clear:()=>h.clear(),decr:f,incr:m,absorbConfigs:b};e.default=y},function(t,e,n){"use strict";n.r(e),n.d(e,"SMALL_SCREEN",function(){return i}),n.d(e,"MEDIUM_SCREEN",function(){return s}),n.d(e,"LARGE_SCREEN",function(){return o}),n.d(e,"SCREEN_BREAKPOINT",function(){return d}),n.d(e,"At",function(){return g});var r=n(26);const i=1,s=2,o=4;let a,c,l,u,h,p;const d={SMALL:0,MEDIUM:540,LARGE:1e3};a=!0;const f=t=>Number(r.Globals.matchMedia(`(min-width: ${t}px)`).matches),m=Number(!0)<<f(d.MEDIUM)<<f(d.LARGE);h=(t=>m>t),p=(u=(t=>m===t))(i),l=u(s);const g={server:!1,client:!0,largeScreen:c=u(o),mediumScreen:l,smallScreen:p,screen:u,screenGreatThan:h}},function(t,e,n){"use strict";n.r(e),n.d(e,"reportToRealtime",function(){return g});var r=n(8),i=n.n(r),s=n(43),o=n(41),a=n(26),c=n(55),l=n(27);let u;const h=[];let p=!1;const d=()=>i()(Object(l.get)(a.Globals,"$.glbrealtime.gerar_clique")),f=()=>{for(const t of h)a.Globals.$.glbrealtime.gerar_clique(...t)};(async()=>{await Object(c.availabilityOf)(s.horizonClientPath,s.hasHorizonClient,"30s"),await Object(c.availabilityOf)("$.glbrealtime.gerar_clique",d,"30s"),Object(s.hasHorizonClient)()&&d()&&(p=!0,f())})();const m=o.At.smallScreen?"mobile":"desktop",g=u=function(t,e){h.push([t,m,e]),p&&f()}},function(t,e,n){"use strict";n.r(e),n.d(e,"horizonClientPath",function(){return b}),n.d(e,"hasHorizonClient",function(){return v}),n.d(e,"Horizon",function(){return _});var r=n(44),i=n.n(r),s=n(8),o=n.n(s),a=n(32),c=n(40),l=n(54),u=n(26),h=n(15),p=n(55),d=n(27);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}let m;const g={"post-click":"sendPostClick","post-view":"sendPostView"},b="Horizon.Client",v=()=>o()(Object(d.get)(u.Globals,b)),E=(t,e,n)=>{t.subscribe(e,`bastian.horizon.${e}`,n)},y=(t,e)=>{t.unsubscribe(e,`bastian.horizon.${e}`)};const _=m=new class extends l.EventEmitter{constructor(){super(),this.payloadBase={product:h.Settings.get("PORTAL","").toLowerCase(),object:u.Globals.location.href},this.report=((t,e)=>{if(t in g){const n=f({device_group:h.Settings.get("DEVICE_GROUP"),"feed-view-ms":c.Configs.get("feed_getSeenTime")(),"feed-type":c.Configs.get("feedType","").toLowerCase()},e),r=f({attributes:i()(n,String)},this.payloadBase);this.horizonClient?this.horizonClient[g[t]](r):Object(a.warn)("Can't report an event yet cause horizon isn't loaded")}else Object(a.warn)("Can't report to horizon without a valid operation")}),this.init()}async init(){if(await Object(p.availabilityOf)(b,v,"30s"),v()){this.horizonClient=new u.Globals.Horizon.Client;const t=this.horizonClient;E(t,"focus",()=>{E(t,"collect",()=>this.trigger("collect-metrics"))}),E(t,"blur",()=>{y(t,"collect")})}}}},function(t,e,n){var r=n(45),i=n(48),s=n(53);t.exports=function(t,e){var n={};return e=s(e,3),i(t,function(t,i,s){r(n,i,e(t,i,s))}),n}},function(t,e,n){var r=n(46);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(47),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(49),i=n(51);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(50)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var c=o[t?a:++i];if(!1===n(s[c],c,s))break}return e}}},function(t,e,n){var r=n(52)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",function(){return i});var r=n(32);class i{constructor(){this.subscribers=[]}on(t,e){this.subscribers.push({eventName:t,callback:e})}off(t,e){for(let n=0;n<this.subscribers.length;n++){const r=this.subscribers[n],i=r.eventName,s=r.callback;i===t&&s===e&&(this.subscribers.splice(n,1),n--)}}trigger(t,e){this.subscribers.filter(({eventName:e})=>e===t).forEach(t=>{try{t.callback(e)}catch(n){Object(r.error)(n)}})}}},function(t,e,n){"use strict";n.r(e),n.d(e,"check",function(){return v}),n.d(e,"availabilityOf",function(){return E}),n.d(e,"MISSING_WARN",function(){return y}),n.d(e,"missingWarn",function(){return _});var r=n(1),i=n.n(r),s=n(56),o=n.n(s),a=n(40),c=n(63),l=n(64),u=n(32);let h,p;let d=!1;const f={};let m=0;const g=new Promise(()=>{}),b=()=>{d=!0;for(const t in f){const e=f[t];!e.done&&Object(c.safeCall)(e.assertion,null)&&(m-=1,e.done=!0,o()(e.resolve))}m>0?setTimeout(b,500):d=!1};p=(async(t,e,n)=>{try{await v(e,{timeout:n})}catch(r){"esppub"!==a.Configs.get("feedType")&&_(t)}});const v=h=((t,e={})=>{const n=e.id,r=void 0===n?"":n,s=e.timeout,a=void 0===s?1e4:s,c=t.toString()+r;if(c in f)return f[c].promise;const u={assertion:t,done:!1,promise:g},h=new Promise((t,e)=>{u.resolve=t,setTimeout(()=>{u.done=!0,e(new Error(`detector test timeout of ${c}`))},i()(a)?Object(l.timeToInt)(a):a)});return u.promise=h,f[c]=u,m+=1,d||o()(b),h}),E=p,y="seems to be missing on the page",_=t=>Object(u.warn)(t,y)},function(t,e,n){var r=n(57),i=n(58)(function(t,e){return r(t,1,e)});t.exports=i},function(t,e){var n="Expected a function";t.exports=function(t,e,r){if("function"!=typeof t)throw new TypeError(n);return setTimeout(function(){t.apply(void 0,r)},e)}},function(t,e,n){var r=n(59),i=n(60),s=n(62);t.exports=function(t,e){return s(i(t,e,r),t+"")}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(61),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var s=arguments,o=-1,a=i(s.length-e,0),c=Array(a);++o<a;)c[o]=s[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=s[o];return l[e]=n(c),r(t,this,l)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"safeCall",function(){return o});var r=n(8),i=n.n(r),s=n(32);const o=(t,e,...n)=>{try{if(i()(t))return t.apply(e,n);throw new TypeError("Given value is not a function")}catch(r){Object(s.error)(r)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"timeToInt",function(){return a});var r=n(16),i=n.n(r);const s={ms:{value:1,extractor:/^(\d+)ms$/},seg:{value:1e3,extractor:/^(\d+|\d+\.\d+)s$/},min:{value:6e4,extractor:/^(\d+|\d+\.\d+)min$/},hr:{value:36e5,extractor:/^(\d+|\d+\.\d+)hr$/},d:{value:864e5,extractor:/^(\d+|\d+\.\d+)d$/}},o=i()(t=>{for(const e in s){const n=t.match(s[e].extractor);if(n)return s[e].value*parseInt(n[1],10)}throw new Error(`Could not find a resolver for translate ${t}`)}),a=i()(t=>t.split(" ").reduce((t,e)=>t+o(e),0))},function(t,e,n){"use strict";n.r(e),n.d(e,"CARD_RENDERED",function(){return r}),n.d(e,"PAGE_RENDERED",function(){return i}),n.d(e,"APP_LOADED",function(){return s}),n.d(e,"PAGE_HIDDEN",function(){return o}),n.d(e,"PAGE_VISIBLE",function(){return a}),n.d(e,"ELEMENT_VIEWED",function(){return c}),n.d(e,"LAUNCH_FAILED",function(){return l}),n.d(e,"ITEM_CLICK",function(){return u});const r="bastian-feed-card_rendered",i="bastian-feed-page_rendered",s="bstn-app-loaded",o="pageHidden",a="pageVisible",c="element-view",l="bstn-launch-failed",u="bstn-item-click"},function(t,e,n){"use strict";n.r(e),n.d(e,"triggerDomEvent",function(){return l});var r=n(8),i=n.n(r),s=n(56),o=n.n(s),a=n(63);let c;const l=c=function(t,e,n){const r=new CustomEvent(t,{bubbles:!0,cancelable:!0});i()(n)&&Object(a.safeCall)(n,null,r),o()(()=>e.dispatchEvent(r))}},function(t,e,n){"use strict";n.r(e),n.d(e,"patch",function(){return c});var r=n(168),i=n(41),s=n(10);function o(t){return()=>t.source===r.$PushStream?0:t.itemIndex.getPosition(t.item)}function a(t){return()=>t.areaId}function c(t,e){Object.isFrozen(t)||(t.PostIndex={register:s.PostIndex.register,has:s.PostIndex.has,filter:s.PostIndex.filter},t.getItemPosition=o(e),t.getAreaId=a(e),t.implode=e.implode,t.isLargeScreen=i.At.largeScreen,delete t.patch),Object.freeze(t)}},function(t,e,n){var r=n(57),i=n(58),s=n(69),o=i(function(t,e,n){return r(t,s(e)||0,n)});t.exports=o},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"DEVICES",function(){return r});const r={feature:1,smart:2,tablet:3,desktop:4}},function(t,e,n){"use strict";n.r(e),n.d(e,"now",function(){return l});var r=n(8),i=n.n(r),s=n(26),o=n(27);const a=["now","webkitNow","msNow","mozNow"].map(t=>Object(o.get)(s.Globals,`performance.${t}`)).find(i.a);let c;const l=c=i()(a)?()=>parseInt(a.call(performance),10):()=>(new Date).getTime()},function(t,e,n){var r=n(4),i=n(73);t.exports=function(t){return r(t)&&1===t.nodeType&&!i(t)}},function(t,e,n){var r=n(2),i=n(74),s=n(4),o="[object Object]",a=Function.prototype,c=Object.prototype,l=a.toString,u=c.hasOwnProperty,h=l.call(Object);t.exports=function(t){if(!s(t)||r(t)!=o)return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}},function(t,e,n){var r=n(52)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){"use strict";n.r(e),n.d(e,"Cover",function(){return m});var r=n(8),i=n.n(r),s=n(76),o=n.n(s),a=n(167),c=n(79),l=n(89),u=n(94),h=n(27),p=n(63);function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const f={S:1,M:1.5,L:2};class m extends a.Engine.Component{constructor(t){super(t),this.immediateReveal=!1,this.setCoverUrl=(()=>{const t=Object(u.choosePicture)(this.props.images);t&&this.setState({cover:t})}),this.reveal=(t=>{this.immediateReveal||null!==this.state.cover?(t.className.indexOf("_preempt-visibility")>=0&&t.firstElementChild&&(t=t.firstElementChild),i()(this.props.onReveal)&&Object(p.safeCall)(this.props.onReveal,null,t)):this.setCoverUrl()}),this.state={cover:null}}render(){if(!this.props.images)return null;const t=this.getImageProps(),e=a.Engine.createElement("div",d({ref:Object(l.as)(this)},this.getCoverProps()),a.Engine.createElement("picture",{className:"bstn-fd-cover-picture"},a.Engine.createElement("img",d({className:"bstn-fd-picture-image"},t))),this.props.children);return t.srcSet?(this.immediateReveal=!0,e):a.Engine.createElement(c.PreemptVisibility,{onNearToBeVisible:this.reveal},e)}componentDidMount(){this.props.isEsppub&&this.setCoverUrl(),this.immediateReveal&&this.reveal(this._refs.node)}componentDidUpdate(){this.state.cover&&this.reveal(this._refs.node)}getCoverProps(){const t={className:`bstn-fd-item-cover ${this.props.extraClasses||""}`};for(const e in this.props)e.startsWith("data-")&&(t[e]=this.props[e]);return t}getImageProps(){let t={alt:this.props.alt,title:this.props.alt};const e=this.props.images;if(e.sizes&&this.atFirstPage()){const n=[];for(const t in f)t in e.sizes&&n.push(`${Object(h.get)(e,`sizes.${t}.url`)} ${f[t]}x`);t=d({},t,{srcSet:n.join(","),src:e.sizes.S.url})}return this.state.cover&&(t=d({},t,{src:this.state.cover})),t}atFirstPage(){let t;const e=this.context.item;return t=!e||e&&o()(this.context.itemIndex.getPosition(e),1,11)}}},function(t,e,n){var r=n(77),i=n(78),s=n(69);t.exports=function(t,e,n){return e=i(e),void 0===n?(n=e,e=0):n=i(n),t=s(t),r(t,e,n)}},function(t,e){var n=Math.max,r=Math.min;t.exports=function(t,e,i){return t>=r(e,i)&&t<n(e,i)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"DEFAULT_THRESHOLD",function(){return d}),n.d(e,"PreemptVisibility",function(){return E});var r=n(80),i=n.n(r),s=n(56),o=n.n(s),a=n(167),c=n(26),l=n(85),u=n(89);let h,p;const d="200%";h=class extends a.Engine.Component{constructor(t){super(t),this.render=(()=>a.Engine.createElement("div",{className:"_preempt-visibility",ref:Object(u.as)(this)},this.props.children)),this.checkProximity=i()(()=>{const t=this._refs.node,e=t.getBoundingClientRect(),n=this.getThreshold(),r=e.top-p<n,i=e.top!==e.bottom,s=-e.bottom<n;if(!i&&r||r&&s){if(this.state.isNear&&!this.state.wasTriggered)return o()(()=>this.props.onNearToBeVisible(t)),this.tearDown(),void this.setState({wasTriggered:!0});this.setState({isNear:!0}),this.reCheckProximity()}else this.setState({isNear:!1})},100,{leading:!0,trailing:!0}),this.reCheckProximity=(()=>this.checkProximity()),this.state={isNear:!1,wasTriggered:!1}}async componentDidMount(){const t=await this.props.threshold||d;this.getThreshold=f(t),o()(this.checkProximity),l.PassiveScrollListener.on(this.checkProximity)}componentWillUnmount(){this.tearDown()}tearDown(){l.PassiveScrollListener.off(this.checkProximity),this.checkProximity.cancel()}};const f=t=>{const e=g(t).slice(1,3),n=e[0],r=e[1],s=b[r];return i()(s(Number(n)),1e3,{leading:!0,trailing:!1})},m=/(-?\d+)(%|px)/,g=t=>t.match(m)||["","px",t||"0"],b={"%":t=>()=>p*(t/100),px:t=>()=>t},v=()=>{p=c.Globals.innerHeight};v(),c.Globals.addEventListener("resize",v,!1);const E=h},function(t,e,n){var r=n(81),i=n(9),s="Expected a function";t.exports=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError(s);return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:o,maxWait:e,trailing:a})}},function(t,e,n){var r=n(9),i=n(82),s=n(69),o="Expected a function",a=Math.max,c=Math.min;t.exports=function(t,e,n){var l,u,h,p,d,f,m=0,g=!1,b=!1,v=!0;if("function"!=typeof t)throw new TypeError(o);function E(e){var n=l,r=u;return l=u=void 0,m=e,p=t.apply(r,n)}function y(t){return m=t,d=setTimeout(w,e),g?E(t):p}function _(t){var n=e-(t-f);return b?c(n,h-(t-m)):n}function O(t){var n=t-f;return void 0===f||n>=e||n<0||b&&t-m>=h}function w(){var t=i();if(O(t))return x(t);d=setTimeout(w,_(t))}function x(t){return d=void 0,v&&l?E(t):(l=u=void 0,p)}function j(){var t=i(),n=O(t);if(l=arguments,u=this,f=t,n){if(void 0===d)return y(f);if(b)return d=setTimeout(w,e),E(f)}return void 0===d&&(d=setTimeout(w,e)),p}return e=s(e)||0,r(n)&&(g=!!n.leading,h=(b="maxWait"in n)?a(s(n.maxWait)||0,e):h,v="trailing"in n?!!n.trailing:v),j.cancel=function(){void 0!==d&&clearTimeout(d),m=0,l=f=u=d=void 0},j.flush=function(){return void 0===d?p:x(i())},j}},function(t,e,n){var r=n(83);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(84),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();t.exports=s},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(36))},function(t,e,n){"use strict";n.r(e),n.d(e,"PassiveScrollListener",function(){return b});var r=n(80),i=n.n(r),s=n(8),o=n.n(s),a=n(86),c=n.n(a),l=n(26),u=n(32),h=n(71),p=n(87),d=n(88);let f,m;f={subscribers:[],queue:[],paused:!1,flush:function(){if(!this.paused){const e=Object(h.now)();let n,r=0;for(this.queue=this.subscribers.slice(0);(n=this.queue.shift())&&r<8;){try{n()}catch(t){Object(u.error)(t)}r=Object(h.now)()-e}}},on:function(t){this.subscribers.push(t)},off:function(t){Object(p.pull)(this.subscribers,t)},pause:function(){this.paused=!0},resume:function(){this.paused=!1,this.flush()}},m=(t=>(m=d.rAF?t=>Object(d.rAF)(()=>Object(d.rAF)(t)):t=>setTimeout(t,1))(t));const g=i()(()=>m(f.flush.bind(f)),100,{leading:!0,trailing:!1});l.Globals.addEventListener("scroll",g,!!function(){let t=!1;const e=l.Globals.Modernizr;if(e&&c()(e.passiveeventlisteners))return e.passiveeventlisteners;try{if(o()(Object.defineProperty)){const e=Object.defineProperty({},"passive",{get(){t=!0}});l.Globals.addEventListener("test",null,e)}}catch(n){}return t}()&&{passive:!0});const b=f},function(t,e,n){var r=n(2),i=n(4),s="[object Boolean]";t.exports=function(t){return!0===t||!1===t||i(t)&&r(t)==s}},function(t,e,n){"use strict";function r(t,e){let n;for(n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e,n)}n.r(e),n.d(e,"pull",function(){return r})},function(t,e,n){"use strict";let r;n.r(e),n.d(e,"rAF",function(){return i});const i=r=n(26).Globals.requestAnimationFrame},function(t,e,n){"use strict";n.r(e),n.d(e,"as",function(){return s});var r=n(90);let i;const s=i=function(t,e){return function(n){Object(r.set)(t,`_refs.${e||"node"}`,n)}}},function(t,e,n){"use strict";n.r(e);var r=n(91),i=n.n(r);n.d(e,"set",function(){return i.a})},function(t,e,n){var r=n(92);t.exports=function(t,e,n){var i=/^(.+)\.(.+)$/.exec(e);i?r(t,i[1])[i[2]]=n:t[e]=n}},function(t,e,n){var r=n(93);t.exports=function(t,e){return e?(r(e.split("."),function(e){t[e]||(t[e]={}),t=t[e]}),t):t}},function(t,e){t.exports=function(t,e,n){if(null!=t)for(var r=-1,i=t.length;++r<i&&!1!==e.call(n,t[r],r,t););}},function(t,e,n){"use strict";n.r(e),n.d(e,"choosePicture",function(){return w});var r=n(95),i=n.n(r),s=n(98),o=n.n(s),a=n(16),c=n.n(a),l=n(102),u=n.n(l),h=n(1),p=n.n(h),d=n(104),f=n.n(d),m=n(26),g=n(27);const b={1:"S",1.5:"M",2:"L",3:"XL",4:"XXL"},v=Object.keys(b).map(Number),E=u()(v),y=o()(v),_=c()(t=>{const e=f()(t||m.Globals.devicePixelRatio,y,E);let n=Math.floor(e);for(;!v.includes(n)&&n<E;)n=Math.floor(n+.1);return b[n]||b[y]});function O(t=1,e){let n="S";return e&&e.height>=e.width?n="V":t&&(n=_(t)),n}function w(t,e,n){if(t.sizes){const r=t.sizes,s=O(e,n);return Object(g.get)(r,`${s}.url`)||i()(r)[0].url}if(p()(t.url))return t.url}},function(t,e,n){var r=n(96),i=n(51);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(97);t.exports=function(t,e){return r(e,function(e){return t[e]})}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(99),i=n(101),s=n(59);t.exports=function(t){return t&&t.length?r(t,s,i):void 0}},function(t,e,n){var r=n(100);t.exports=function(t,e,n){for(var i=-1,s=t.length;++i<s;){var o=t[i],a=e(o);if(null!=a&&(void 0===c?a==a&&!r(a):n(a,c)))var c=a,l=o}return l}},function(t,e){t.exports=function(){return!1}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){var r=n(99),i=n(103),s=n(59);t.exports=function(t){return t&&t.length?r(t,s,i):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(105),i=n(69);t.exports=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==e&&(e=(e=i(e))==e?e:0),r(i(t),e,n)}},function(t,e){t.exports=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"Header",function(){return c});var r=n(167),i=n(107),s=n.n(i),o=n(27),a=n(108);function c(t){const e=Object(o.get)(t,"content.chapeu.label")||"",n=s()("feed-post-header",{"with-post-chapeu":Boolean(e)});var i=r.Engine.createElement("span",{className:"feed-post-header-chapeu"},e);return r.Engine.createElement("div",{className:n},t.children,Object(a.insertIf)(e,()=>i))}},function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var s=typeof r;if("string"===s||"number"===s)t.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&t.push(o)}else if("object"===s)for(var a in r)n.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";n.r(e),n.d(e,"insertIf",function(){return s});var r=n(8),i=n.n(r);function s(t,e,n){let r=t;return i()(t)&&(r=t()),r?e(r):i()(n)?n(r):null}},function(t,e,n){"use strict";n.r(e),n.d(e,"Metadata",function(){return i});var r=n(167);const i=t=>r.Engine.createElement("div",{className:"feed-post-metadata"},t.date," ",t.section)},function(t,e,n){"use strict";n.r(e),n.d(e,"Relateds",function(){return h});var r=n(8),i=n.n(r),s=n(167),o=n(27),a=n(108);function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){const n=t.thumb,r=t.title,o=t.url,l=t.dateFactory,u=t.age,h=t.isRecommended,p=n&&n.url,d={};return n&&n.rightsholder&&(d.alt=n.rightsholder,d.title=n.rightsholder),s.Engine.createElement("li",{key:e,className:"bstn-relateditem"},Object(a.insertIf)(p,()=>s.Engine.createElement("div",{className:"bstn-fd-relatedimage"},s.Engine.createElement("img",c({className:"bstn-fd-relatedthumb",src:p},d)))),s.Engine.createElement("div",{className:"bstn-fd-relatedtext"},s.Engine.createElement("a",{className:"gui-color-primary gui-color-hover feed-post-body-title bstn-relatedtext",href:o},r),i()(l)&&s.Engine.createElement("div",{className:"feed-post-metadata"},l({age:u,isRecommended:h}))))}const u=(t,e)=>n=>{const r=n.content,i=r.title,s=r.url,a=n.age,l=n.isRecommended,u={age:a,dateFactory:e,isRecommended:l,title:i,url:s},h=Object(o.get)(n.content,"image.rightsHolder"),p=Object(o.get)(n.content,"image.sizes.S.url");let d={};return t&&p&&(d={thumb:{url:p,rightsholder:h}}),c({},u,d)},h=({showThumbs:t=!1,children:e,dateFactory:n,items:r})=>(e=Array.isArray(e)?e[0]:e,i()(e)||(e=(t=>t)),r&&r.length>0?s.Engine.createElement("div",{className:"bstn-related"},e(s.Engine.createElement("ul",{className:"bstn-relateditems"},r.map(u(t,n)).map(l)))):null)},function(t,e,n){"use strict";n.r(e),n.d(e,"Section",function(){return i});var r=n(167);function i(t){return r.Engine.createElement("span",{className:"feed-post-metadata-section"}," ",t.text," ")}},function(t,e,n){"use strict";n.r(e),n.d(e,"Summary",function(){return a});var r=n(167),i=n(113),s=n(165),o=n(108);class a extends r.Engine.Component{constructor(t){super(t);const e=()=>({visible:s.SummaryTest.isVisible()});this.state=e(),s.SummaryTest.on("change",()=>{this.setState(e())})}render(){return Object(o.insertIf)(this.state.visible,()=>r.Engine.createElement("div",{className:"feed-post-body-resumo"},r.Engine.createElement(i.LabelEvent,{type:"click",label:"resumo"},this.props.text)))}}},function(t,e,n){"use strict";n.r(e),n.d(e,"LabelEvent",function(){return o});var r=n(167),i=n(114);let s;const o=s=class extends(Object(i.drawless)(r.Engine.Component)){componentDidMount(){this._refs.node.addEventListener(this.props.type,t=>{t.label=this.props.label})}}},function(t,e,n){"use strict";n.r(e),n.d(e,"drawless",function(){return d});var r=n(16),i=n.n(r),s=n(1),o=n.n(s),a=n(8),c=n.n(a),l=n(167),u=n(89);const h=/^function ([^(]+)/,p=i()(t=>(t.match(h)||["",""])[1]);function d(t){return class extends t{render(){c()(this.beforeRender)&&this.beforeRender(this.props.children);let t="";this.constructor&&(t=`_${(this.constructor.displayName||this.constructor.name||p(this.constructor.toString())).replace("_render","").toLowerCase()}`);let e="div";return o()(this.drawlessTag)&&(e=this.drawlessTag),l.Engine.createElement(e,{className:t,ref:Object(u.as)(this)},this.props.children)}}}},function(t,e,n){var r=n(116),i=n(117),s=n(118),o=n(3),a=n(119),c=n(121),l=n(122),u=n(123),h="[object Map]",p="[object Set]",d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(a(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||u(t)||s(t)))return!t.length;var e=i(t);if(e==h||e==p)return!t.size;if(l(t))return!r(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},function(t,e,n){var r=n(52)(Object.keys,Object);t.exports=r},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(8),i=n(120);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){t.exports=function(){return!1}},function(t,e){t.exports=function(){return!1}},function(t,e){t.exports=function(){return!1}},function(t,e,n){"use strict";n.r(e),n.d(e,"Title",function(){return o});var r=n(171),i=n(167),s=n(113);function o(t){const e=t.text;let n="";return t.extraClasses&&(n=Array.isArray(t.extraClasses)?t.extraClasses.join(" "):String(t.extraClasses)),i.Engine.createElement("div",{className:`feed-post-body-title gui-color-primary gui-color-hover ${n}`},i.Engine.createElement(s.LabelEvent,{type:"click",label:"titulo"},i.Engine.createElement(r.ElementViewTrigger,{on:"fitInScreen"},t.innerWrapper?i.Engine.createElement(t.innerWrapper,null,e):e)))}},function(t,e,n){"use strict";n.r(e),n.d(e,"eventable",function(){return i});var r=n(54);function i(t){return class extends t{constructor(t){super(t),this.emitter=new r.EventEmitter}on(t,e){this.emitter.on(t,e)}off(t,e){this.emitter.off(t,e)}trigger(t,e){this.emitter.trigger(t,e)}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"getVisibility",function(){return o});var r=n(26);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}let s;const o=s=function(t){const e=t.getBoundingClientRect(),n=r.Globals.document.documentElement.clientHeight,s=n/4,o=3*s,a=(e.top+e.bottom)/2,c=e.top>0&&e.top<n,l=a>s&&a<o,u=e.bottom>0&&e.bottom<=n,h=c&&u,p=e.top<=0&&e.bottom>=n,d=c||u||l||p;return i({isVisible:d,rect:e,viewportHeight:n,isBoxed:e.top!==e.bottom},d?{top:c,middle:l,bottom:u,partial:d,fitInScreen:h,tookWholeScreen:p}:{})}},function(t,e,n){"use strict";n.r(e),n.d(e,"Video",function(){return d});var r=n(7),i=n.n(r),s=n(75),o=n(167),a=n(128),c=n(129),l=n(130),u=n(108),h=o.Engine.createElement("span",{className:"gradient"}),p=o.Engine.createElement(a.VideoPlay,null);function d(t){const e=t.video,n=t.image;let r;const a=t.isEsppub||!1;if(!e||!n)return null;const d=e.duration,f=e.trademark;var m=o.Engine.createElement("img",{className:"feed-post-video-trademark",src:f});return r=o.Engine.createElement(s.Cover,{images:n,alt:t.title,extraClasses:"bstn-fd-video-cover",onReveal:l.applyVideoLightbox,isEsppub:a,"data-video-id":e.id,"data-short-url":t.url,"data-link":t.url,"data-title":t.title},h,Object(u.insertIf)(i()(d)&&d>0,()=>o.Engine.createElement("p",{className:"feed-post-video-duration"},Object(c.abbrTime)(d))),p,Object(u.insertIf)(f,()=>m))}},function(t,e,n){"use strict";n.r(e),n.d(e,"VideoPlay",function(){return s});var r=n(167),i=r.Engine.createElement("div",{className:"bstn-fd-video-play"},r.Engine.createElement("svg",{className:"bstn-fd-play-icon",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},r.Engine.createElement("filter",{id:"bstn-fd-svg-drop-shadow"},r.Engine.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"2.5"}),r.Engine.createElement("feOffset",{dy:"1",result:"offsetblur"}),r.Engine.createElement("feFlood",null),r.Engine.createElement("feComposite",{in2:"offsetblur",operator:"in"}),r.Engine.createElement("feMerge",null,r.Engine.createElement("feMergeNode",null),r.Engine.createElement("feMergeNode",{in:"SourceGraphic"}))),r.Engine.createElement("path",{filter:"url(#bstn-fd-svg-drop-shadow)",d:"M468.8 256c0 8.2-4.2 15.3-10.6 19.3L77 508c-3.4 2.2-7.3 3.4-11.5 3.4-12.3 0-22.3-10.2-22.3-22.8V24.4v-1C43.2 10.8 53.2.6 65.5.6 69.8.6 73.7 2 77 4l381.2 232.7c6.4 4 10.6 11 10.6 19.3z"})));function s(){return i}},function(t,e,n){"use strict";n.r(e),n.d(e,"abbrTime",function(){return u});var r=n(64);const i=["1s","1min","1hr"].map(r.timeToInt),s=i[0],o=i[1],a=i[2],c=.01,l=t=>Math.floor(t+.69);function u(t){if(null===t)return"";const e=Math.floor(t/a);t%=a;const n=Math.floor(t/o);t%=o;const r=Math.floor(t/s);return e>0?`${l(e+n*c)} hr`:n>0?`${l(n+r*c)} min`:r>0?`${l(r)} seg`:""}},function(t,e,n){"use strict";n.r(e),n.d(e,"applyVideoLightbox",function(){return _});var r=n(11),i=n.n(r),s=n(1),o=n.n(s),a=n(8),c=n.n(a),l=n(86),u=n.n(l),h=n(32),p=n(26),d=n(15),f=n(55),m=n(27);function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const b=i()(()=>{const t=d.Settings.get("PUBLICIDADEPAGINA");let e=d.Settings.get("VIDEO_SITEPAGE");return u()(t)&&!u()(e)&&(Object(h.warn)("PUBLICIDADEPAGINA is deprecated. Use VIDEO_SITEPAGE instead."),e=t),!1!==e&&(e=!0),{publicidadePagina:e}}),v=i()(()=>{const t=Object(m.get)(p.Globals,"SETTINGS.FACEBOOK_APP_ID");return o()(t)?{fbAppId:t}:{}}),E="gui.lightbox.lightbox",y=()=>c()(Object(m.get)(p.Globals,E));async function _(t){if(await Object(f.availabilityOf)(E,y),t&&y()){const e=g({},v(),b());p.Globals.gui.lightbox.lightbox(t,e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"ElementViewGroup",function(){return u});var r=n(7),i=n.n(r),s=n(167),o=n(114),a=n(125),c=n(87);let l;const u=l=class extends(Object(a.eventable)(Object(o.drawless)(s.Engine.Component))){constructor(t){super(t),this.children=[],this.pointer=0,this.handleParentVisibility=(t=>{this.props.id||t?this.props.id===t&&this.activateChildren():this.activateChildren()}),i()(t.radius)||(this.props.radius=1)}getChildContext(){return{parentTrigger:this.context.parentTrigger,parentGroup:this}}activateChildren(){const t=Math.max(this.pointer-this.props.radius,0),e=Math.min(this.pointer+this.props.radius+1,this.children.length);let n,r=this.children.slice(t,e),i=!1;for(n=0;n<r.length;n+=1)r[n].verifyVisibility()&&(this.pointer=t+n,i=!0);if(!i)for(r=[].concat(this.children.slice(0,t),this.children.slice(e,this.children.length)),n=0;n<r.length;n+=1)r[n].verifyVisibility()&&(this.pointer=this.children.indexOf(r[n]))}registerChild(t){this.children.push(t)}unregisterChild(t){Object(c.pull)(this.children,t)}componentDidMount(){this.context.parentTrigger.on("visible",this.handleParentVisibility)}componentWillUnmount(){this.context.parentTrigger.off("visible",this.handleParentVisibility)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"isMabAvailiable",function(){return p}),n.d(e,"requestMabExperiment",function(){return f});var r=n(8),i=n.n(r),s=n(133),o=n.n(s),a=n(26),c=n(55),l=n(27);const u=()=>i()(Object(l.get)(a.Globals,"globoAB.mab.v1.get")),h=new Set,p=t=>!h.has(t),d=(t,e=!1)=>new Promise((n,r)=>{a.Globals.globoAB.mab.v1.get(t,{skipImpression:e},t=>n(t),t=>{let e,n;if(o()(t))e=t;else{if(t instanceof XMLHttpRequest){const e=t.responseText;try{n=JSON.parse(e).error}catch(i){n=e}}else n="Unhandlable mab error";e=new Error(n)}r(e)})}),f=async({experimentName:t,skipImpression:e})=>{if(p(t))return h.add(t),await Object(c.availabilityOf)("globoAB.mab.v1.get",u,"30s"),u?d(t,e):{};throw new Error(`An Mab experiment has already ran and "${t}" couldn't be created`)}},function(t,e,n){var r=n(2),i=n(4),s=n(73),o="[object DOMException]",a="[object Error]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==o||"string"==typeof t.message&&"string"==typeof t.name&&!s(t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"BadgeAoVivo",function(){return i});var r=n(167).Engine.createElement("span",{className:"bstn-aovivo-label"},"ao vivo");const i=()=>r},function(t,e,n){var r=n(136),i=n(137);t.exports=function(t,e,n,s){return t=r(t),n=n||"...",e=s?e+1:e,(t=i(t)).length<=e?t:(t=t.substr(0,e-n.length),(t=s?t.substr(0,t.lastIndexOf(" ")):i(t))+n)}},function(t,e){t.exports=function(t){return null==t?"":t.toString()}},function(t,e,n){var r=n(136),i=n(138),s=n(139),o=n(140);t.exports=function(t,e){return t=r(t),s(o(t,e=e||i),e)}},function(t,e){t.exports=[" ","\n","\r","\t","\f","\v"," "," ","᠎"," "," "," "," "," "," "," "," "," "," "," ","\u2028","\u2029"," "," ","　"]},function(t,e,n){var r=n(136),i=n(138);t.exports=function(t,e){t=r(t),e=e||i;for(var n,s,o=0,a=t.length,c=e.length,l=!0;l&&o<a;)for(l=!1,n=-1,s=t.charAt(o);++n<c;)if(s===e[n]){l=!0,o++;break}return o>=a?"":t.substr(o,a)}},function(t,e,n){var r=n(136),i=n(138);t.exports=function(t,e){t=r(t),e=e||i;for(var n,s,o=t.length-1,a=e.length,c=!0;c&&o>=0;)for(c=!1,n=-1,s=t.charAt(o);++n<a;)if(s===e[n]){c=!0,o--;break}return o>=0?t.substring(0,o+1):""}},function(t,e,n){"use strict";n.r(e),n.d(e,"Scoreboard",function(){return d});var r=n(7),i=n.n(r),s=n(167),o=n(107),a=n.n(o),c=s.Engine.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},s.Engine.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.Engine.createElement("g",{id:"vs"},s.Engine.createElement("g",null,s.Engine.createElement("polygon",{className:"versus",points:"12.6666667 4.27333333 11.7266667 3.33333333 8 7.06 4.27333333 3.33333333 3.33333333 4.27333333 7.06 8 3.33333333 11.7266667 4.27333333 12.6666667 8 8.94 11.7266667 12.6666667 12.6666667 11.7266667 8.94 8"}),s.Engine.createElement("polygon",{points:"0 0 16 0 16 16 0 16"})))));function l(){return c}var u=s.Engine.createElement(l,null),h=s.Engine.createElement(l,null);function p(t){const e=t.away,n=t.home;return i()(e.penalties)&&i()(n.penalties)&&e.penalties+n.penalties>0?s.Engine.createElement("div",{className:"score"},s.Engine.createElement("span",{className:"score-number"},n.score),s.Engine.createElement("span",{className:"score-penalties"},"(",n.penalties),u,s.Engine.createElement("span",{className:"score-penalties"},e.penalties,")"),s.Engine.createElement("span",{className:"score-number"},e.score)):s.Engine.createElement("div",{className:"score"},s.Engine.createElement("span",{className:"score-number"},n.score),h,s.Engine.createElement("span",{className:"score-number"},e.score))}function d(t){const e=t.away,n=t.home,r=t.headline,i=a()("scoreboard-bastian-feed",{headline:r});return s.Engine.createElement("div",{className:i},s.Engine.createElement("div",{className:"scoreboard-home-team",title:n.name},s.Engine.createElement("span",{className:"shortName"},n.shortName),s.Engine.createElement("img",{className:"crest",src:n.crest})),s.Engine.createElement(p,{away:e,home:n}),s.Engine.createElement("div",{className:"scoreboard-away-team",title:e.name},s.Engine.createElement("img",{className:"crest",src:e.crest}),s.Engine.createElement("span",{className:"shortName"},e.shortName)))}},function(t,e,n){"use strict";n.r(e),n.d(e,"SeenTimeTelemetry",function(){return h});var r=n(7),i=n.n(r),s=n(81),o=n.n(s),a=n(65),c=n(167),l=(n(32),n(71));let u;const h=u=class extends c.Engine.Component{constructor(...t){super(...t),this.telemetry={seenTime:0,begin:null},this.handleElementView=(t=>{t.stopPropagation(),this.startCounting(),this.commitElapsedTime()})}cdmSeenTimeTelemetry(){this.startCounting=o()(this.startCounting,1100,{leading:!0,trailing:!1}),this.commitElapsedTime=o()(this.commitElapsedTime,1100,{leading:!1,trailing:!0}),this._refs.node.addEventListener(a.ELEMENT_VIEWED,this.handleElementView,!1)}cwuSeenTimeTelemetry(){this.startCounting.cancel(),this.commitElapsedTime.cancel(),this._refs.node.removeEventListener(a.ELEMENT_VIEWED,this.handleElementView)}startCounting(){this.telemetry.begin=Object(l.now)()}commitElapsedTime(){if(i()(this.telemetry.begin)){const t=this.telemetry.begin,e=parseInt(Object(l.now)()-t,10);this.telemetry.seenTime+=e,this.telemetry.begin=null}}getSeenTime(){if(i()(this.telemetry.begin)){const t=this.telemetry.begin;return this.telemetry.seenTime+parseInt(Object(l.now)()-t,10)}return this.telemetry.seenTime||0}}},function(t,e,n){"use strict";function r(t){return JSON.parse(JSON.stringify(t))}n.r(e),n.d(e,"cloneJSON",function(){return r})},function(t,e,n){var r=n(145),i=n(148);t.exports=function(t){if(null==t)return!0;if("string"==typeof t||i(t))return!t.length;if("object"==typeof t){var e=!0;return r(t,function(){return e=!1,!1}),e}return!0}},function(t,e,n){var r=n(146),i=n(147);t.exports=function(t,e,n){i(t,function(i,s){if(r(t,s))return e.call(n,t[s],s,t)})}},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},function(t,e,n){var r,i,s=n(146);function o(){for(var t in i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=!0,{toString:null})r=!1}function a(t,e,n,r){return t.call(r,e[n],n,e)}t.exports=function(t,e,n){var c,l=0;for(c in null==r&&o(),t)if(!1===a(e,t,c,n))break;if(r)for(var u=t.constructor,h=!!u&&t===u.prototype;(c=i[l++])&&("constructor"===c&&(h||!s(t,c))||t[c]===Object.prototype[c]||!1!==a(e,t,c,n)););}},function(t,e,n){var r=n(149),i=Array.isArray||function(t){return r(t,"Array")};t.exports=i},function(t,e,n){var r=n(150);t.exports=function(t,e){return r(t)===e}},function(t,e){t.exports=function(t){return Object.prototype.toString.call(t).slice(8,-1)}},function(t,e,n){"use strict";n.r(e),n.d(e,"isLiveVideo",function(){return s});var r=n(1),i=n.n(r);const s=t=>i()(t)&&"live"===String(t).toLowerCase()},function(t,e,n){"use strict";n.r(e),n.d(e,"reportGA",function(){return p});var r=n(8),i=n.n(r),s=n(26),o=n(55),a=n(27);n(32);let c;const l=["_trackEvent","feed"];let u=[];c=(t=>{u.push(l.slice().concat(t))}),(async()=>{await Object(o.availabilityOf)("_gaq",()=>[s.Globals.GoogleAnalyticsObject,"_gaq.push"].every(h),"30s"),s.Globals._gaq&&i()(s.Globals._gaq.push)&&(u.forEach(t=>s.Globals._gaq.push(...t)),u=s.Globals._gaq)})();const h=t=>i()(Object(a.get)(s.Globals,String(t))),p=c},function(t,e,n){"use strict";n.r(e),n.d(e,"ItemIndex",function(){return o});var r=n(27);const i=[];function s(t){return"advertise"!==String(Object(r.get)(t,"state.data.type")).toLowerCase()||!0===Object(r.get)(t,"_refs.child.isDraw")}class o{constructor(){this.items=[],i.push(this)}register(t){this.items.push(t)}getPosition(t){let e,n=0;for(e of this.items)if(s(e)&&(n+=1),e===t)return n;return-1}clear(){this.items.splice(0,this.items.length)}static destroy(){i.forEach(t=>t.clear()),i.splice(0,i.length)}}o.HEADLINE_PLACEHOLDER="headline_placeholder"},function(t,e,n){"use strict";n.r(e),n.d(e,"HEADLINES_PLACEHOLDER",function(){return r}),n.d(e,"PLACEHOLDER",function(){return i}),n.d(e,"ROOT",function(){return s}),n.d(e,"FEED",function(){return o}),n.d(e,"PAGE",function(){return a}),n.d(e,"ITEM",function(){return c}),n.d(e,"POST",function(){return l}),n.d(e,"CARD",function(){return u}),n.d(e,"LOAD_MORE",function(){return h}),n.d(e,"LOAD_MORE_LINK",function(){return p}),n.d(e,"BANNER_SLB_MEIO",function(){return d}),n.d(e,"SHOWTIME_INITIALIZED",function(){return f}),n.d(e,"AREATEMPLATE_ESQUERDA",function(){return m}),n.d(e,"AREATEMPLATE_DIREITA",function(){return g}),n.d(e,"BS_HOME",function(){return b});const r=".areatemplate-showtime",i="#feed-placeholder",s=".feed-root",o=".bstn-feed",a=".bastian-page",c=".bastian-feed-item",l=".feed-post",u=".bastian-card-mobile, .bastian_card__mobile",h=".load-more",p=".load-more > a",d="#banner_slb_meio",f=".showtime--initialized",m=".areatemplate-esquerda",g=".areatemplate-direita",b=".bs-home"},function(t,e,n){"use strict";n.r(e),n.d(e,"$DistributedComponents",function(){return p});var r=n(9),i=n.n(r),s=n(41),o=n(32),a=n(34),c=n.n(a);function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}let u;const h={};class p{static getInstance(t){if(t&&!u&&(u=new p(t,h)),u)return u;throw new Error("Couldn't return an $DistributedComponents instance")}constructor(t,e){this.buffer=[],e!==h&&Object(o.warn)("Class $DistributedComponents is a singleton and shouldn't be called directly."),Array.isArray(t.specialItems)&&this.store([...t.specialItems]);const n=this;this.stream=c.a.create({start(t){n.listener=t},stop(){n.listener=null}})}store(t){this.buffer.push(...t)}isEmpty(){return 0===this.buffer.length}request(t){const e=i()(t);if(!((s.At.smallScreen||!e)&&this.listener&&this.buffer.length>0))return!1;this.listener.next(l({},this.buffer.shift(),{key:Math.random().toString()}))}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Item",function(){return j});var r=n(8),i=n.n(r),s=n(161),o=n(168),a=n(157),c=n(171),l=n(167),u=n(43),h=n(65),p=n(142),d=n(165),f=n(89),m=n(143),g=n(27),b=n(30),v=n(152),E=n(42),y=n(90),_=n(66);function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}let w;function x(t,e){return e?"com video":t?"com foto":"sem midia"}const j=w=class extends p.SeenTimeTelemetry{constructor(t){super(t),this.reportPostView=(()=>{const t=this.getSeenTime();this.lastReportedSeenTime!==t&&(this.lastReportedSeenTime=t,this.reportToHorizon("post-view"))}),this.reportPostClick=(t=>{if(t.label){const e=Object(m.cloneJSON)(this.state.data);Object(y.set)(e,"bstn$source","feed"),Object(_.triggerDomEvent)(h.ITEM_CLICK,document,t=>{t.data=e}),this.reportToHorizon("post-click"),this.reportToGoogleAnalytics(t),this.reportToRealtime(),d.SummaryTest.convert()}}),this.state={data:Object(s.assignFactory)(t.data)}}getChildContext(){return{item:this}}render(){const t=this.state.data.klass||(()=>null),e=String(this.state.data.type||t.name||t.displayName||"unamed").toLowerCase();return this.state.data.source!==o.$PushStream&&this.context.itemIndex&&this.context.itemIndex.register(this),l.Engine.createElement(c.ElementViewTrigger,{on:"middle",redirectToChildTriggerIfExists:!0},l.Engine.createElement("div",{ref:Object(f.as)(this,"item"),className:"bastian-feed-item","data-type":e,"data-index":this.props.index},l.Engine.createElement(t,O({ref:Object(f.as)(this,"child")},this.state.data))))}componentDidMount(){this._refs.node=this._refs.item,this.cdmSeenTimeTelemetry(),this.lastReportedSeenTime=this.telemetry.seenTime,u.Horizon.on("collect-metrics",this.reportPostView),this._refs.item.addEventListener("click",this.reportPostClick),s.emitter.on(s.NEW_POST_TYPE_EVENT+this.props.data.type,()=>{this.setState({data:Object(s.assignFactory)(this.props.data)})})}componentWillUnmount(){this.cwuSeenTimeTelemetry(),u.Horizon.off("collect-metrics",this.reportPostView),this._refs.item&&this._refs.item.removeEventListener("click",this.reportPostClick)}reportToHorizon(t){let e={"post-view-ms":this.getSeenTime(),"post-position":this.state.data.source===o.$PushStream?0:this.context.itemIndex.getPosition(this),"post-type":Object(g.get)(this,"state.data.type")||""};this._refs.child&&i()(this._refs.child.reportToHorizon)&&(e=O({},e,this._refs.child.reportToHorizon())),u.Horizon.report(t,e)}assembleGAEvent(t="clique",e,n,r,i){const s=this.context.itemIndex.getPosition(this);return[t,e,x(r,n),i?"com resumo":"sem resumo",`posicao ${String(s).padStart(4,"0")}`].join(" | ")}reportToGoogleAnalytics(t){const e=this._refs.child||{};t.label?Object(v.reportGA)(["post basico",this.assembleGAEvent(t.action,t.label,Object(b.has)(e,"_refs.video"),Object(b.has)(e,"_refs.photo"),i()(e.hasSummary)&&e.hasSummary())]):this.state.data.klass===a.Advertise?Object(v.reportGA)(["publicidade"]):"card"===this.state.data.type&&Object(v.reportGA)(["card"])}reportToRealtime(){const t=this.state.data;let e=`tipo desconhecido "${Object(g.get)(t,"key")}"`;const n=Object(g.get)(t,"content.url");if(n)e=n;else{const n=Object(g.get)(t,"content.video.id");n&&(e=`video ${n}`)}Object(E.reportToRealtime)({feed:"feed","right-column":"coluna da direita"}[this.context.areaId],e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"hasBannerFunction",function(){return C}),n.d(e,"Advertise",function(){return D});var r=n(11),i=n.n(r),s=n(16),o=n.n(s),a=n(8),c=n.n(a),l=n(72),u=n.n(l),h=n(56),p=n.n(h),d=n(81),f=n.n(d),m=n(79),g=n(32),b=n(41),v=n(167),E=n(26),y=n(15),_=n(89),O=n(55),w=n(27),x=n(30),j=n(132);const S=["","WebKit","Moz"].find(t=>`${t}MutationObserver`in E.Globals)||"",I=E.Globals[`${S}MutationObserver`],C=()=>c()(E.Globals.bannerLazyLoading),T=i()(()=>E.Globals.document.getElementsByClassName("areatemplate-direita").length>0),N=()=>c()(Object(w.get)(E.Globals,"googletag.pubads")),P=(t,e,n)=>{t.setAttribute("id",e),p()(()=>E.Globals.bannerLazyLoading(e,{abAlternative:n}))},A={styleWidth:t=>t.style.width,styleMinWidth:t=>t.style.minWidth,width:t=>String(t.getAttribute("width"))},L=Object.keys(A),k=/^([^0]\d*%|auto)$/,M=t=>{const e=t.querySelector("iframe");if(e){const n=[e],r=t.parentElement;return u()(r)&&n.unshift(r),n.some(t=>L.some(e=>A[e](t).match(k)))}return!1},R=(t,e)=>{let n=t.parentElement,r=0;for(;r<2&&(n&&n.parentElement);r++)n=n.parentElement;2===r&&n&&(e?n.classList.add("bstn-fd-elastic-banner"):n.classList.remove("bstn-fd-elastic-banner"))};class D extends v.Engine.Component{constructor(t){super(t),this.render=(()=>v.Engine.createElement("div",{className:"bstn-feed-ad"},v.Engine.createElement(m.PreemptVisibility,{onNearToBeVisible:this.nearToBeVisible,threshold:this.thresholdPromise},v.Engine.createElement("div",{ref:Object(_.as)(this)})))),this.checkMABImpression=(async t=>{const e=this.experimentPromise;if(e){if(!X(t))return;const n=Q(t);if(n&&n===this.props.id&&G(n)){const t=await e;t&&(console.log('[bastian] mab:vwblt "%s" rewarding "%s"',this.props.id,t.threshold),t.reward())}}}),this.nearToBeVisible=(async()=>{this._refs.node&&(await Object(O.availabilityOf)("bannerLazyLoading",C),C()&&this.initBanner())}),this.checkMutation=f()(()=>{clearTimeout(this.checkMutationTimeout),this.isDraw=this._refs.node.offsetHeight>0,this.observer&&this.disconnectObserver(),T()||this.adjustScapingAds()},500,{leading:!0,trailing:!0}),this.disconnectObserver=f()(()=>{this.observer&&(this.observer.disconnect(),this.observer=null)},1e4,{leading:!1,trailing:!0}),this.reportToHorizon=(()=>({"post-id":this.props.id,"post-type":"advertise"}));const e=this.props.id;if(G(e)&&E.Globals.googletag){const t=J(e);this.experimentPromise=Z(t,e),this.experimentPromise&&(this.thresholdPromise=this.experimentPromise.then(t=>(t&&console.log('[bastian] mab:vwblt for "%s" got "%s"',e,t.threshold),t?t.threshold:m.DEFAULT_THRESHOLD)))}}async componentDidMount(){this.experimentPromise&&(await Y(),N()&&E.Globals.googletag.pubads().addEventListener("impressionViewable",this.checkMABImpression))}async initBanner(){const t=this.props;try{this.observe();let n="control";const r=this.experimentPromise;if(r){const t=await r;t&&(console.log('[bastian] mab:vwblt impressed at "%s"',t.threshold),t.recordImpression(),n=t.abAlternative)}console.log('[bastian] mab:vwblt abAlternative: "%s"',n),P(this._refs.node,t.id,n)}catch(e){Object(g.warn)(`Soft error: could not create banner "${t.id}"`),Object(g.error)(e)}}observe(){this.isDraw=!1,I?(this.observer=new I(this.checkMutation),this.observer.observe(this._refs.node,{childList:!0,subtree:!0,attributes:!0,attributesFilter:["style","width"]})):this._refs.node.addEventListener("DOMNodeInserted",this.checkMutation,!1),this.checkMutation()}adjustScapingAds(){const t=this._refs.node;R(t,M(t))}}const $={banner_feed_especial:"ep",banner_rm2_feed:"banner2",banner_rm3_feed:"banner3",banner_feed__:"dinamico"},H=t=>$[t.startsWith("banner_feed__")?"banner_feed__":t],G=t=>Boolean(H(t)),V=t=>E.Globals.document.body.classList.contains(t),F=V("bs-home"),B=V("multicontent"),U=V("poll-container"),z="/"===E.Globals.location.pathname,q=["g1","ge","gshow"].some(t=>y.Settings.get("PORTAL")===t),W=t=>{const e=H(t);return q&&(F||(B||U&&"bbb"===K())&&["ep","dinamico"].some(t=>e===t))},Y=i()(async()=>Object(O.availabilityOf)("googletag.pubads",N)),J=t=>{return`bastian-advwblt.r3:${K()}:${b.At.smallScreen?"mobile":"desktop"}:${F?`home${z?"principal":""}`:B?"multicontent":U?"votacao":""}:${H(t)||""}`},K=()=>{let t=y.Settings.get("PORTAL");if("gshow"===t){(Object(w.get)(E.Globals,"cdaaas.SETTINGS.CATEGORIAS")||"").includes("realities/bbb")&&(t="bbb")}return t},Z=o()(async(t,e)=>{if(W(e))try{const e=await Object(j.requestMabExperiment)({experimentName:t,skipImpression:!0});return{abAlternative:e.abAlternative,threshold:e.arm,reward:()=>e.reward(),recordImpression:()=>e.recordImpression()}}catch(n){Object(g.warn)("viewability test failed\n",n)}}),X=t=>!(!t||!Object(x.has)(t,"slot.u.o")&&!Object(x.has)(t,"slot.getSlotElementId"))||(Object(g.warn)("mab:vwblt path to creative name seems broken"),!1),Q=t=>Object(w.get)(t,"slot.u.o")||Object(w.get)(t,"slot.getSlotElementId")()},function(t,e){const n=[8,51,5];n.toString=function(){return this.join(".")},t.exports=n,t.exports.default=t.exports},function(t,e,n){"use strict";n.r(e),n.d(e,"launch",function(){return i});var r=n(26);const i=()=>{const t=r.Globals.document;r.Globals.feedLauncher(t,"medium","collapse","bastianJsonpRecommendationFirstFetch","bastianRecommendationFallback",r.Globals.SETTINGS.FEED_DATA),r.Globals.launchBastian();const e=t.getElementById("bstn-components-script");e.setAttribute("src",e.getAttribute("data-src"));const n=t.getElementById("bstn-components-style");n.setAttribute("href",n.getAttribute("data-href"))}},function(t,e,n){"use strict";var r=n(167),i=n(40),s=n(171),o=n(162),a=n(153),c=n(80),l=n.n(c),u=n(8),h=n.n(u),p=n(32),d=n(95),f=n.n(d),m=n(44),g=n.n(m),b=n(34),v=n.n(b);let E;const y={},_={3:"mobile1",6:"feed_especial",7:"rm2_feed",10:"rm3_feed",default:"feed__{hash}"},O=6;function w(t,e){return _[t]||_.default.replace("{hash}",e)}class x{static getInstance(){return E||(E=new x(y)),E}constructor(t){t!==y&&Object(p.warn)("Class $Advertise is a singleton and shouldn't be called directly.");const e=this;this.stream=v.a.create({start(t){e.listener=t},stop(){e.listener=null}})}getAdvertise(t){const e=Math.random().toString().replace(".","").slice(1);return{id:`banner_${w(t.position,e)}`,hash:e,type:"advertise"}}request(t){let e=!1;if(!(e=1===t.pageNumber?t.position in _:t.positionOnPage===O)||!this.listener)return!1;this.listener.next(this.getAdvertise(t))}}var j=n(164),S=n(155),I=n(1),C=n.n(I),T=n(39),N=n(170);let P;const A={};function L(t){t.content&&C()(t.content.url)&&(t.content.url=t.content.url.trim()+i.Configs.get("recommendationTag"))}class k{static getInstance(){return P||(P=new k(A)),P}constructor(t){t!==A&&Object(p.warn)("Class $Posts is a singleton and shouldn't be called directly.");const e=T.$Falkor.getInstance(),n=e.stream;let r;this.$falkor=e,this.source=e,this.stream=n;try{r=N.$Recommendation.getInstance()}catch(s){}if(r){this.source=r;const t=r.stream,s=()=>{this.source=e,this.request()};t.addListener({next:()=>{},error:()=>{Object(p.error)("soft error: recommendation failed, activating fallback"),s()},complete:()=>{console.info("[bastian] Recommendation ended. Activating fallback..."),s()}}),this.stream=v.a.merge(t,n.map(t=>(i.Configs.get("isRecommended")&&i.Configs.get("recommendationCounter")<i.Configs.get("recommendationStart")?i.Configs.incr("recommendationCounter"):i.Configs.has("recommendationTag")&&(L(t),Array.isArray(t.aggregatedPosts)&&t.aggregatedPosts.forEach(L)),t)))}}request(){i.Configs.get("isRecommended")&&i.Configs.get("recommendationCounter")+1>=i.Configs.get("recommendationStart")?this.source.request():this.$falkor.request({preventFetch:!0})}isEmpty(){return this.source.isEmpty()}getNextPage(){return this.source.nextPage}}let M;const R={};function D(t,e){return new Array(e).fill().map(()=>t)}function $(...t){return{request:function(e){return t.some(t=>!1!==t.request(e))}}}class H{static getInstance(){return M||(M=new H(R)),M}constructor(t){let e;t!==R&&Object(p.warn)("Class $Rhythmist is a singleton and shouldn't be called directly."),e={AD:x,CARD:j.$Cards,DISTRIBUTED_COMPONENTS:S.$DistributedComponents,POST:k};const n=g()(e,t=>t.getInstance()),r="cards"===i.Configs.get("thirdPartyingModel")?n.CARD:n.DISTRIBUTED_COMPONENTS;this.rhythm=[...D(n.POST,2),$(n.AD,n.POST),...D(n.POST,2),...D($(n.AD,n.POST),2),$(r,n.POST),n.POST,$(n.AD,n.POST)];const s=f()(n).map(t=>t.stream);this.stream=v.a.merge(...s).endWhen(k.getInstance().stream.last())}rotateRhythm(){this.rhythm.push(this.rhythm.shift())}request(t){const e=this.rhythm[0];this.rotateRhythm(),!1===e.request(t)&&(Object(p.warn)("all choices failed, skipping position:",t),this.request(t))}}let G;const V={},F=10;class B{static getInstance(){return G||(G=new B(V)),G}constructor(t){this.itemCounter=0,this.pageCounter=0,this.isBusy=!1,t!==V&&Object(p.warn)("Class $Pages is a singleton and shouldn't be called directly."),this.stream=v.a.create({start:t=>{this.listener=t},stop:()=>{this.listener=null}})}request(){if(!this.isBusy&&this.listener){const t=this.listener,e=[],n=H.getInstance();let r;const i=()=>{e.length>0&&(this.deliver=null,this.pageCounter++,this.itemCounter+=e.length,n.stream.removeListener(r),t.next(e),this.isBusy=!1)};this.deliver=i;const s=()=>({pageNumber:this.pageCounter+1,position:this.itemCounter+e.length+1,positionOnPage:e.length+1});r={next:t=>{e.push(t),e.length<F?n.request(s()):i()},error:e=>{Object(p.error)(e),i(),t.error(e)},complete:()=>{i(),t.complete()}},n.stream.addListener(r),this.isBusy=!0,n.request(s())}}flush(){h()(this.deliver)&&this.deliver()}}var U=n(26);let z;const q=/(.*\/)([^?#]*)(\?[^#]*|)(#.*|)/;function W(t){const e=t.match(q)||["","","",""];return{path:e[1],name:e[2],querystring:e[3],hash:e[4]}}const Y=/(?:(.*\/)([^\/]+)\/feed\/pagina-(\d+)(\.g?html|\/|)|(.*\/)([^.]*)(\.g?html|))/,J=/\..*/;function K(){const t=i.Configs.get("referer")||"",e=W(t),n=`${e.path}${e.name}`.match(Y)||["","","","","",""],r=n[1],s=n[2],o=n[3],a=n[4],c=n[5],l=n[6],u=n[7];return{path:c||r,name:l&&l.replace(J,"")||s||"index",page:o||"1",extension:u||a||"",querystring:e.querystring,hash:e.hash,decomposed:Boolean(t&&(c||r))}}const Z={getPageURL:function(t){return(z=z||K()).decomposed?`${z.path}${z.name}/feed/pagina-${t}${z.extension}${z.querystring}${z.hash}`:null},destroy:function(){z=null}};var X=n(85),Q=n(89),tt=n(126),et=n(30);function nt(t,e,n){let r=0;return function(){let i;r<t?(i=e())&&(r+=1):i&&h()(n)&&n(i)}}var rt=n(152);const it=1e3,st=1e3;class ot extends r.Engine.Component{constructor(){super(),this.autoLoadActive=!1,this.handleLoadMore=(t=>{t&&(t.stopPropagation(),t.preventDefault()),Object(rt.reportGA)(["botao mais noticias",`interacao | carregamento ${String(this.state.pagesDelivered).padStart(3,"0")}`]),this.proceedLoadMore()}),this.proceedLoadMore=l()(()=>{B.getInstance().request(),i.Configs.has("recommendationTag")&&N.$Recommendation.getInstance().fetch()},it,{leading:!0,trailing:!1}),this.scheduleAutoLoad=(()=>{this.autoLoadActive&&(this.autoLoad(),this.timer=setTimeout(this.scheduleAutoLoad,it))}),this.teardownAutoLoad=(()=>{this.autoLoadActive&&(X.PassiveScrollListener.off(this.autoLoad),clearTimeout(this.timer),this.autoLoadActive=!1)});const t=B.getInstance();this.state={pagesDelivered:t.pageCounter,reachedEnd:!1},t.stream.addListener({next:()=>{this.setState({pagesDelivered:t.pageCounter})},error:()=>{},complete:()=>{this.setState({reachedEnd:!0})}})}render(){const t=k.getInstance(),e=t.getNextPage(),n=Math.max(e||0,this.state.pagesDelivered+1);return(this.state.reachedEnd||null===e)&&t.isEmpty()?null:r.Engine.createElement("div",{className:"load-more gui-color-primary-bg"},r.Engine.createElement("a",{ref:Object(Q.as)(this),href:Z.getPageURL(n)},"Veja mais"))}componentDidMount(){this.setupAutoLoad(),this._refs&&this._refs.node&&this._refs.node.addEventListener("click",this.handleLoadMore,!1)}componentWillUnmount(){this.teardownAutoLoad(),this._refs&&this._refs.node&&this._refs.node.removeEventListener("click",this.handleLoadMore)}setupAutoLoad(){const t=k.getInstance();if(null===t.getNextPage()&&t.isEmpty()||Object(et.has)(U.Globals,"campos.pubeditorial"))return;const e=i.Configs.get("isRecommended")?5:4;this.autoLoad=this.pureAutoLoad.bind(this),this.autoLoad=nt(e,this.autoLoad,this.teardownAutoLoad),this.autoLoad=l()(this.autoLoad,it,{leading:!0,trailing:!1}),this.autoLoadActive=!0,setTimeout(this.scheduleAutoLoad,0),X.PassiveScrollListener.on(this.autoLoad)}pureAutoLoad(){const t=Object(tt.getVisibility)(this.context.root._refs.node);return!!(t.isBoxed&&t.rect.bottom<t.viewportHeight+st)&&(this.handleLoadMore(),!0)}}var at=n(168),ct=n(131),lt=n(156),ut=n(65),ht=n(165),pt=n(66);class dt extends r.Engine.Component{render(){const t=this.props,e=t.items,n=t.pageIndex,i=`page-${n}-items`;return r.Engine.createElement(s.ElementViewTrigger,{on:"partial",chain:i},r.Engine.createElement("div",{ref:Object(Q.as)(this,"page"),className:"bastian-page","data-index":n},r.Engine.createElement(ct.ElementViewGroup,{id:i,radius:2},e.map((t,e)=>r.Engine.createElement(lt.Item,{key:e,data:t,index:e+1})))))}componentDidMount(){Object(pt.triggerDomEvent)(ut.PAGE_RENDERED,this._refs.page),this._refs.page.addEventListener("element-view",t=>{t.stopPropagation(),ht.SummaryTest.markAsPrinted()})}}var ft=n(27);function mt(t){let e=[];return t.stream.take(1).addListener({next:t=>{e=t},error:p.error,complete:()=>{}}),t.request(),t.flush(),e}class gt extends r.Engine.Component{constructor(){super();const t=B.getInstance(),e=t.stream;this.state={updates:[],pages:[mt(t)]},at.$PushStream.getInstance().stream.addListener({next:t=>this.setState({updates:[...this.state.updates,...t]}),error:p.error,complete:()=>{}}),e.addListener({next:t=>this.setState({pages:[...this.state.pages,t]}),error:p.error,complete:()=>{}})}render(){let t;return this.state.updates.length>0&&(t=r.Engine.createElement(dt,{key:0,pageIndex:0,items:this.state.updates})),r.Engine.createElement(ct.ElementViewGroup,{id:"pages"},t,this.state.pages.map((t,e)=>r.Engine.createElement(dt,{key:e+1,pageIndex:e+1,items:t})))}shouldComponentUpdate(t,e){const n=Object(ft.get)(this.state,"updates.length")!==Object(ft.get)(e,"updates.length"),r=this.state.pages.length!==e.pages.length;return n||r}}var bt=n(142),vt=n(70),Et=n(154),yt=n(15),_t=n(107),Ot=n.n(_t),wt=n(88);const xt=t=>t<.5?2*t*t:(4-2*t)*t-1;function jt(t,e,n){const r=performance.now(),i=U.Globals.window.scrollY;if(i===t)return n();Object(wt.rAF)(function s(){const o=performance.now(),a=Math.min(1,(o-r)/e),c=xt(a);U.Globals.window.scrollTo(0,c*(t-i)+i),a<1?Object(wt.rAF)(s):n()})}function St(){return(St=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const It=()=>{},Ct={next:It,error:It,complete:It};function Tt(t){return St({},Ct,t)}const Nt=100;function Pt(t){let e=13;return vt.DEVICES[yt.Settings.get("DEVICE_GROUP","desktop")]>vt.DEVICES.smart&&(e+=Nt),t.getBoundingClientRect().top+U.Globals.window.scrollY-e}function At(t){const e=Object(ft.get)(t,"content.url");if(!e)return null;let n=U.Globals.document.querySelector(`.bastian-page:nth-child(1) .feed-post-link[href="${e}"]`);if(n)for(;n.className&&-1===n.className.indexOf(Et.ITEM.slice(1))&&n.parentElement;)n=n.parentElement;return n}function Lt(t){setTimeout(()=>{X.PassiveScrollListener.pause();const e=At(t[0]);e&&jt(Pt(e),1e3,()=>{X.PassiveScrollListener.resume()})},100)}class kt extends r.Engine.Component{constructor(t){super(t),this.handleClick=(()=>{Object(rt.reportGA)(["botao pushstream click",`Quantidade: ${String(this.state.counter).padStart(2,"0")}`]);const t=at.$PushStream.getInstance();t.stream.take(1).addListener(Tt({next:Lt})),t.request()}),this.state={counter:0,topIsVisible:!0},at.$PushStream.getInstance().counterStream.addListener({next:t=>{this.setState({counter:t})},error:p.error,complete:()=>{}})}render(){const t=this.state.counter,e=Ot()("post-notifier-pushstream gui-color-primary-bg",{"notify-pushstream":Boolean(1===t),"notify-pulse":Boolean(t>1),"bstn-fd-visible-top":this.state.topIsVisible});return 0===t?r.Engine.createElement("div",{className:e,ref:Object(Q.as)(this)}):r.Engine.createElement("div",{className:e,ref:Object(Q.as)(this),onClick:this.handleClick},r.Engine.createElement("span",null,t)," ",`atualizaç${t>1?"ões":"ão"}`)}componentDidMount(){if(vt.DEVICES[yt.Settings.get("DEVICE_GROUP","desktop")]<=vt.DEVICES.smart){const t=()=>{const t=this._refs.node.parentElement;t&&this.setState({topIsVisible:Object(tt.getVisibility)(t).top})};t(),X.PassiveScrollListener.on(t)}}}var Mt=r.Engine.createElement(kt,null),Rt=r.Engine.createElement(gt,null),Dt=r.Engine.createElement(ot,null);class $t extends bt.SeenTimeTelemetry{constructor(t){super(t),this.itemIndex=new a.ItemIndex}getChildContext(){return{root:this,areaId:"feed",itemIndex:this.itemIndex}}render(){const t=Ot()("bstn-fd bstn-cls-deprecated_ bastian bstn-feed _bstn-cls-deprecated",i.Configs.get("feedType").toLowerCase(),"bstn-fd-csr bstn-cls-deprecated_ bstn-feed-csr _bstn-cls-deprecated",{"bstn-fd-recommended":i.Configs.get("isRecommended")});return this.itemIndex.clear(),new Array(o.Headlines.getConsumed()).fill().forEach(()=>this.itemIndex.register(a.ItemIndex.HEADLINE_PLACEHOLDER)),r.Engine.createElement(s.ElementViewTrigger,{on:"partial",chain:"pages",checkInterval:1e3},r.Engine.createElement("div",{key:"feed",ref:Object(Q.as)(this),className:t},Mt,Rt,Dt))}componentDidMount(){this.cdmSeenTimeTelemetry(),i.Configs.set("feed_getSeenTime",this.getSeenTime.bind(this))}componentWillUnmount(){this.cwuSeenTimeTelemetry()}}let Ht;n.d(e,"Feed",function(){return Vt});const Gt={};class Vt{static getInstance(){return Ht||(Ht=new Vt(Gt)),Ht}constructor(t){t!==Gt&&Object(p.warn)("Class Feed is a singleton and shouldn't be called directly."),this.virtualElement=r.Engine.createElement($t)}}},function(t,e,n){"use strict";var r=n(157),i=n(75),s=n(167),o=n(113),a=n(27);let c;const l=c=function(t){const e=Object(a.get)(t,"pubeditorial.anunciante")||{url:null,logo_pequeno:null};let n=null;return e.logo_pequeno&&(n=s.Engine.createElement(o.LabelEvent,{type:"click",label:"chapeu"},s.Engine.createElement("a",{href:Object(a.get)(e,"url")||"#"},s.Engine.createElement("span",{className:"feed-post-header-special-advertising-logo"},s.Engine.createElement("img",{className:"special-advertising-logo",src:Object(a.get)(e,"logo_pequeno")}))))),s.Engine.createElement("div",{className:"feed-post-header post-header-special-advertising"},s.Engine.createElement("span",{className:"feed-post-header-chapeu gui-text-section-title gui-text-special-advertising"},decodeURI("Especial Publicit%C3%A1rio")),n)};var u=n(132),h=n(41),p=n(40),d=n(169),f=n(106),m=n(109);const g=t=>e=>s.Engine.createElement("a",{href:t.url,className:"feed-post-link gui-color-primary gui-color-hover"},e.children);var b=n(110),v=n(111),E=n(112),y=n(124),_=n(127),O=n(89),w=n(107),x=n.n(w),j=n(32),S=n(30);function I(){return(I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}class C extends s.Engine.Component{constructor(t){super(t),this.Datetime=(()=>T({age:this.props.age,isRecommended:this.props.isRecommended})),this.state.title=Object(a.get)(t,"content.title"),this.isMabEnabled()&&(this.state.title="")}render(){const t=x()("feed-post","bstn-item-shape",{[`type-${this.props.type}`]:this.props.type});return s.Engine.createElement("div",{ref:Object(O.as)(this,"post"),className:t},s.Engine.createElement("div",{className:"feed-post-body"},this.Header(),this.Title(),this.Summary(),this.Media(),this.Metadata(),this.Relateds()))}componentDidMount(){this._refs.post.setAttribute("id",this.props.id),this.isMabEnabled()&&this.installMab()}componentWillUnmount(){this.uninstallMab()}isMabEnabled(){if(h.At.server)return!1;const t=Object(a.get)(this,"props.content.mab.experiment");return t&&Object(u.isMabAvailiable)(t)}async installMab(){const t=Object(a.get)(this,"props.content.mab.experiment");if(t)try{const n=await Object(u.requestMabExperiment)({experimentName:t});this.setState({title:this.props.content.mab.metadata[n.arm]}),this.mabRewardHandler=(()=>n.reward()),this._refs.post.addEventListener("click",this.mabRewardHandler,!1)}catch(e){Object(j.error)("title exp failed\n",e)}}uninstallMab(){this.mabRewardHandler&&this._refs.post.removeEventListener("click",this.mabRewardHandler)}getUrl(){return Object(a.get)(this,"props.content.url")||null}getContentType(){return this.props.type}Video(){return Object(a.get)(this,"props.content.video.id")?s.Engine.createElement(_.Video,I({ref:Object(O.as)(this,"video")},this.props.content)):null}Image(){const t=this.props.content.image;if(t){let e=Object(a.get)(t,"rightsHolder")||null;return e&&(e=`Foto: (${e})`),s.Engine.createElement(i.Cover,{ref:Object(O.as)(this,"photo"),images:t,alt:e,isEsppub:Object(S.has)(this,"props.pubeditorial")})}return null}hasMedia(){const t=this.props.content;return!!Object(a.get)(t,"video.id")||!!t.image}chooseMedia(){if(p.Configs.get("photoOverVideo")){const t=this.Image(),e=t?null:this.Video();return t||e}{const t=this.Video(),e=t?null:this.Image();return t||e}}Media(){return this.hasMedia()?s.Engine.createElement("div",{className:"feed-media-wrapper"},s.Engine.createElement(o.LabelEvent,{type:"click",label:"midia"},s.Engine.createElement("a",{href:this.getUrl(),className:"feed-post-figure-link gui-image-hover"},this.chooseMedia()))):null}Metadata(){let t=null;const e=this.props.content.section;return e&&(t=s.Engine.createElement(v.Section,{text:e})),s.Engine.createElement(m.Metadata,{section:t,date:this.Datetime()})}Header(t){return s.Engine.createElement(f.Header,{content:this.props.content,parent:this},t)}Title(){return Object(S.has)(this,"state.title")?s.Engine.createElement(y.Title,{text:this.state.title,innerWrapper:g({url:this.getUrl()})}):null}hasSummary(){const t=this.props.aggregatedPosts;return Boolean(this.props.content.summary)&&!(Array.isArray(t)&&t.length>0)}Summary(){const t=this.props.content.summary;return t&&this.hasSummary()?s.Engine.createElement(E.Summary,{text:t}):null}Relateds(){const t=this.props.aggregatedPosts;return Array.isArray(t)&&t.length>0?s.Engine.createElement(b.Relateds,{items:t,dateFactory:({age:t})=>T({age:t||this.props.age,isRecommended:this.props.isRecommended})},t=>s.Engine.createElement(o.LabelEvent,{type:"click",label:"agregados"},t)):null}reportToHorizon(){return{"post-id":this.props.id,"post-type":this.getContentType(),"post-url":this.getUrl(),"post-has-resumo":this.hasSummary(),"post-has-photo":this.hasMedia()}}}const T=({age:t,isRecommended:e})=>e||!t?null:s.Engine.createElement(d.Datetime,{ageInSeconds:t});function N(){return(N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var P=n(54),A=n(8),L=n.n(A),k=n(56),M=n.n(k),R=n(67),D=n(166),$=n(108);function H(){return(H=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const G=H({},R,{ui:H({},D)});function V(t){return class extends s.Engine.Component{constructor(...t){super(...t),this.state={imploded:!1}}render(){return Object($.insertIf)(!this.state.imploded,()=>s.Engine.createElement("div",{className:"post-item"},s.Engine.createElement("div",{ref:Object(O.as)(this),className:"bstn-item-shape"})))}componentDidMount(){M()(()=>{const e=this.context,n=H({},G);R.patch(n,{areaId:e.areaId,item:e.item,itemIndex:e.itemIndex,source:this.props.source,implode:this.implode.bind(this)});try{L()(t)&&t(this.props,this._refs.node,n)}catch(r){Object(j.error)(`[component] [${this.props.type}]\n`,r)}})}shouldComponentUpdate(t,e){return e.imploded}implode(){this.setState({imploded:!0});const t=this.props;Object(j.warn)(`The item of type ${t.type} self imploded.`,t)}}}var F=n(134),B=s.Engine.createElement(F.BadgeAoVivo,null);var U=n(76),z=n.n(U),q=n(172),W=n(141);const Y={criado:1,iniciado:2,INITIATED:2,"em andamento":3,IN_PROGRESS:3,encerrado:4,CLOSED:4};var J=s.Engine.createElement("div",{className:"bstn-aovivo-label"},"tempo real");var K=n(26),Z=n(130),X=n(151);function Q(){return(Q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tt(){const t=p.Configs.get("recommendationTag",null);t&&L()(K.Globals.convertRecAb)&&K.Globals.convertRecAb(t)}var et=s.Engine.createElement(F.BadgeAoVivo,null);n.d(e,"emitter",function(){return nt}),n.d(e,"NEW_POST_TYPE_EVENT",function(){return rt}),n.d(e,"registerExternalItemFactory",function(){return ot}),n.d(e,"assignFactory",function(){return ct});const nt=new P.EventEmitter,rt="ITEM_TYPE_NEW_POST_TYPE_EVENT",it={default:C,basico:C,materia:C,materia_video:C,advertise:r.Advertise,cobertura:class extends C{constructor(...t){super(...t),this.Header=(()=>{const t=this.props,e=t.cobertura,n=t.content;return e&&e.isLive?s.Engine.createElement(f.Header,{content:n},B):s.Engine.createElement(f.Header,{content:n})})}},"especial-publicitario":class extends C{constructor(...t){super(...t),this.Header=(()=>s.Engine.createElement(l,{pubeditorial:this.props.pubeditorial}))}getContentType(){return"especial-publicitario"}Title(){return s.Engine.createElement(y.Title,{text:this.state.title||this.props.content.title,extraClasses:"feed-post-advertising-title",innerWrapper:g({url:this.getUrl()})})}renderVideo(){return Object(a.get)(this,"props.content.video.id")?s.Engine.createElement(_.Video,N({ref:Object(O.as)(this,"video")},this.props.content,{isEsppub:!0})):null}renderImage(){const t=this.props.content.image;if(t){let e=Object(a.get)(this,"props.content.image.rightsHolder")||null;return e&&(e=`Foto: (${e})`),s.Engine.createElement(i.Cover,{ref:Object(O.as)(this,"photo"),images:t,alt:e,isEsppub:!0})}return null}},video:class extends C{render(){const t=this.props.content;t.url=t.url||K.Globals.location.href;const e=t.url||"",n=Object(a.get)(t,"video.kind"),r=Boolean(Object(a.get)(this,"props.pubeditorial"));return s.Engine.createElement("div",{ref:Object(O.as)(this,"post"),className:`feed-post bstn-item-shape type-${this.props.type}`},s.Engine.createElement("div",{className:"feed-post-body",onClick:tt},s.Engine.createElement(f.Header,{content:t},Object($.insertIf)(Object(X.isLiveVideo)(n),()=>et)),this.Title(),s.Engine.createElement("div",{className:"feed-media-wrapper"},s.Engine.createElement(o.LabelEvent,{type:"click",label:"midia"},s.Engine.createElement("a",{href:e,className:"feed-post-figure-link gui-image-hover"},s.Engine.createElement(_.Video,Q({ref:Object(O.as)(this,"video")},t,{isEsppub:r}))))),this.Metadata(),this.Relateds()))}Title(){if(Object(S.has)(this,"state.title")){const t=this.getUrl(),e=Object(a.get)(this.props.content,"video.id");return s.Engine.createElement(y.Title,{text:this.state.title,innerWrapper:n=>s.Engine.createElement("a",{href:t,className:"feed-post-link gui-color-primary gui-color-hover","data-video-id":e,"data-short-url":t,"data-link":t,ref:t=>Object(Z.applyVideoLightbox)(t)},n.children)})}return null}reportToHorizon(){const t=this.props,e=Object(a.get)(t,"content.video.id"),n=K.Globals.location,r=n.origin,i=n.pathname;return e?{"post-id":t.id,"post-type":t.type,"post-url":`${r}${i}#v/${e}`}:{}}},"eventos-esportivos":class extends C{render(){return s.Engine.createElement("div",{ref:Object(O.as)(this,"post"),className:`feed-post bstn-item-shape bstn-face-temporeal type-${this.props.type}`},s.Engine.createElement("div",{className:"feed-post-body"},this.Header(),this.Score(),this.Title(),this.Summary(),this.Media(),this.Metadata(),this.Relateds()))}componentDidMount(){this.completeRecommended()}async completeRecommended(){const t=this.props.match;if(t&&t.resume&&this.props.isRecommended){const e=await fetch(t.resume),n=await e.json();this.fillRecommended(n)}}Header(){return super.Header(this.isLive()?J:null)}Metadata(){let t=null;const e=(this.props.match||{}).spectators,n=this.props.content;return this.isLive()&&n.showSpectators&&e&&(t=s.Engine.createElement("span",{className:"post-tr-spectators"},e.toLocaleString("pt-br")," assistindo")),s.Engine.createElement("div",{className:"feed-post-metadata"},this.Datetime(),t)}Summary(){return this.isLive()?this.Highlights():super.Summary()}Highlights(){let t=this.props.match,e=t.highlights,n=t.status;return(e=e||[]).length<1||"Em Andamento"!==n?super.Summary():e.length>0?s.Engine.createElement(q.Highlight,{content:e[0]}):null}isLive(){const t=(this.props.match||{}).status||"";return!(!z()(Y[t.toLowerCase()],Y.INITIATED,Y.CLOSED)||!this.props.isRecommended&&0!==String(this.props.content.summary||"").trim().length)}Score(){if(this.props.match){const t=this.props.match,e=t.awayTeam,n=t.homeTeam;return s.Engine.createElement("a",{href:this.getUrl()},s.Engine.createElement(W.Scoreboard,{away:e,home:n}))}return null}fillRecommended(t){const e=this.props.match;e&&(e.homeTeam.score=t.equipe_mandante.placar||0,e.awayTeam.score=t.equipe_visitante.placar||0,e.homeTeam.penalties=t.equipe_mandante.penalti||0,e.awayTeam.penalties=t.equipe_visitante.penalti||0,e.status=t.status,this.setState({match:e}))}}};function st(t,e){t in it||(it[t]=e,nt.trigger(rt+t))}function ot(t,e){st(t,V(e))}function at(t){return Object(a.get)(t,"content.title")&&Object(a.get)(t,"content.url")}function ct(t){let e=t.type;return t.pubeditorial&&"cobertura"!==e&&(e="especial-publicitario"),e in it||!at(t)||(e="default"),e in it&&(t.klass=it[e]),t}},function(t,e,n){"use strict";var r=n(95),i=n.n(r),s=n(104),o=n.n(s),a=n(41),c=n(32),l=n(39),u=n(40),h=n(167),p=n(131),d=n(171),f=n(11),m=n.n(f),g=n(72),b=n.n(g),v=n(132),E=n(134),y=n(26),_=n(43),O=n(65),w=n(108),x=h.Engine.createElement("svg",{className:"icon",width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},h.Engine.createElement("g",{fill:"none"},h.Engine.createElement("path",{d:"M6 6c1 0 2-1 2-2S7 2 6 2 4 3 4 4s1 2 2 2zm0 1c-1.3 0-4 .7-4 2v1h8V9c0-1.3-2.7-2-4-2z",fill:"#FFF"}),h.Engine.createElement("path",{d:"M0 0h12v12H0"})));const j=()=>x;var S=h.Engine.createElement("svg",{className:"icon",width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},h.Engine.createElement("g",{fill:"none"},h.Engine.createElement("path",{d:"M6 .2C2.8.2.2 2.8.2 6c0 3.2 2.6 5.8 5.8 5.8 3.2 0 5.8-2.6 5.8-5.8C11.8 2.8 9.2.2 6 .2zm0 10.5c-2.6 0-4.7-2-4.7-4.7 0-2.6 2-4.7 4.7-4.7 2.6 0 4.7 2 4.7 4.7 0 2.6-2 4.7-4.7 4.7z",fill:"#FFF"}),h.Engine.createElement("path",{d:"M-1-1h14v14H-1"}),h.Engine.createElement("path",{fill:"#FFF",d:"M6.3 3h-1v3.6l3.2 1.8.4-.7L6.2 6"})));var I=h.Engine.createElement("div",{className:"text"},h.Engine.createElement(()=>S,null)," SIGA EM TEMPO REAL"),C=h.Engine.createElement(j,null);function T({spectators:t}){return h.Engine.createElement("div",{className:"label-tempo-real headline"},I,Object(w.insertIf)(t,()=>h.Engine.createElement("div",{className:"count"},C," ",t.toLocaleString("pt-br")," assistindo")))}var N=n(172),P=n(7),A=n.n(P),L=n(128),k=n(129),M=n(130),R=n(89),D=h.Engine.createElement(L.VideoPlay,null);class $ extends h.Engine.Component{render(){const t=this.props;if(t.video&&t.image){const e=t.video,n=e.id,r=e.duration,i=t.image.url;return h.Engine.createElement("div",{ref:Object(R.as)(this,"video"),className:"bstn-hl-video",title:t.title,"data-video-id":n,"data-short-url":t.url,"data-link":t.url,"data-title":t.title,"data-img":i},Object(w.insertIf)(A()(r),()=>h.Engine.createElement("div",{className:"bstn-hl-duration"},Object(k.abbrTime)(r))),D)}return null}componentDidMount(){this._refs.video&&(Object(M.applyVideoLightbox)(this._refs.video),this._refs.video.addEventListener("click",t=>t.stopPropagation(),!1))}}var H=n(27),G=h.Engine.createElement("div",{className:"bastian-feed-show-temporeal-link"},"Siga em Tempo Real");function V(t){const e=Object(H.get)(t,"match.highlights")||[];return h.Engine.createElement("div",null,Object(w.insertIf)(t.hasVideo,()=>h.Engine.createElement($,t)),h.Engine.createElement(d.ElementViewTrigger,{on:"fitInScreen"},h.Engine.createElement("span",{className:"bstn-hl-title gui-color-primary gui-color-hover gui-color-primary-bg-after"},t.title)),Object(w.insertIf)(t.hasSummary||t.hasScoreFinished,()=>h.Engine.createElement("span",{className:"bstn-hl-summary gui-color-primary gui-color-hover"},t.summary),()=>Object(w.insertIf)(t.hasHighlights,()=>h.Engine.createElement("div",{className:"highlights-bastian-feed"},e.slice(0,2).map((t,e)=>h.Engine.createElement(N.Highlight,{key:e,content:t,headline:!0})),G))))}var F=n(141),B=n(142),U=n(55),z=n(94),q=n(107),W=n.n(q),Y=n(143);function J(){return(J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const K=({allowThumb:t})=>(e,n)=>{const r=e.content,i=r.title,s=r.url,o=Object(H.get)(e.content,"image.sizes.S.url"),a={};return t&&o&&(a.thumb={url:o,rightsholder:Object(H.get)(e.content,"image.rightsHolder")}),h.Engine.createElement("li",{key:n,className:"bstn-hl-itemlist bstn-hl-relateditem"},h.Engine.createElement(Z,J({title:i,url:s},a)))};function Z({url:t,title:e,thumb:n}){const r=n&&n.url,i={};return n&&n.rightsholder&&(i.alt=n.rightsholder,i.title=n.rightsholder),h.Engine.createElement("a",{className:"bstn-hl-link bstn-related",href:t},Object(w.insertIf)(r,()=>h.Engine.createElement("img",J({className:"bstn-hl-relatedthumb",src:r},i))),h.Engine.createElement("span",{className:"bstn-hl-title gui-color-primary gui-color-hover bstn-related"},e))}var X=n(144),Q=n.n(X),tt=n(151),et=n(152),nt=n(42),rt=n(66);function it(){return(it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var st=h.Engine.createElement(E.BadgeAoVivo,null),ot=h.Engine.createElement("li",{className:"bstn-hl-itemlist bstn-hl-spaceritem"});class at extends B.SeenTimeTelemetry{constructor(t){super(t),this.reportView=(()=>{const t=this.getSeenTime();this.lastReportedSeenTime!==t&&(this.lastReportedSeenTime=t,this.reportToHorizon("post-view"))}),this.reportClick=(t=>{const e=Object(Y.cloneJSON)(this.props);e.bstn$source="headline",Object(rt.triggerDomEvent)(O.ITEM_CLICK,document,t=>{t.data=e}),this.reportToHorizon("post-click"),this.reportToGA(t),this.reportToRealtime()}),this.getFeatures=m()(()=>{const t=this.props,e=this.getProps(),n=e.summary,r=e.status,i=e.video,s=e.chapeuLabel,o=e.imageSizes,a=e.imageUrl,c=e.videoKind,l=e.highlights,u="uber"===t.headlineVariation,h=o||a,p=Boolean(i&&!u),d=Boolean(s),f=Object(H.get)(t,"cobertura.isLive")||Object(tt.isLiveVideo)(c),m=Boolean("eventos-esportivos"===t.type&&t.match&&!u),g=m&&(n.length>0||"Encerrada"===r),b=!p&&!Q()(t.aggregatedPosts);return{hasPhoto:h,hasVideo:p,hasChapeu:d,isLive:f,hasRelated:b,hasScore:m,hasScoreFinished:g,hasSummary:Boolean(n&&(!d||!h||u)&&!p&&(!b||u)),isUber:u,hasHighlights:l&&l.length>0&&!u}}),this.state={title:""},this.state.title=this.isMabEnabled()?"":Object(H.get)(t,"content.title")}render(){const t=this.props,e=this.getFeatures(),n=this.getClasses(e),r=Object(H.get)(t,"match")||{spectators:0},i=r.spectators,s=Object(H.get)(t,"content.showSpectators")||!1,o=this.getRelateds(e),a=Object(H.get)(t,"content.chapeu.label");let c=null,l=null,u=Object(H.get)(t,"content.url");const p=Object(H.get)(t,"content.video.id");e.hasVideo&&!u&&p&&(u=`#v/${p}`,u=`${y.Globals.location.origin}${y.Globals.location.pathname}#v/${p}`),e.hasScore&&r.awayTeam&&r.homeTeam&&(c=r.awayTeam,l=r.homeTeam);var d=h.Engine.createElement("span",{className:"bstn-hl-chapeu gui-subject gui-color-primary-bg-after"},a),f=h.Engine.createElement(F.Scoreboard,{headline:!0,away:c,home:l});return h.Engine.createElement("div",{className:"bstn-hl-wrapper"},h.Engine.createElement("div",{ref:Object(R.as)(this),className:W()(`bstn-hl type-${t.type}`,n),onClick:this.reportClick},h.Engine.createElement("a",{className:"bstn-hl-link",href:u},Object(w.insertIf)(e.hasScore&&!e.hasScoreFinished,()=>h.Engine.createElement(T,{spectators:s?i:0})),h.Engine.createElement("ul",{className:"bstn-hl-list"},Object(w.insertIf)(e.hasChapeu||e.isLive,()=>h.Engine.createElement("li",{className:"bstn-hl-itemlist bstn-hl-chapeuitem"},Object(w.insertIf)(e.isLive,()=>st,()=>Object(w.insertIf)(e.hasChapeu,()=>d)))),ot,h.Engine.createElement("li",{className:"bstn-hl-itemlist bstn-hl-mainitem"},Object(w.insertIf)(c&&l,()=>f),h.Engine.createElement(V,it({},t.content,e,{title:this.state.title,match:r}))),Object(w.insertIf)(!e.isUber,()=>o.map(K({allowThumb:!1})))))),Object(w.insertIf)(e.isUber&&e.hasRelated,()=>h.Engine.createElement("ul",{className:"bstn-hl-uberrelateds",onClick:this.reportClick},o.map(K({allowThumb:!0})))))}async componentDidMount(){this.cdmSeenTimeTelemetry(),_.Horizon.on("collect-metrics",this.reportView);const t=this._refs.node;t.style.setProperty("--bstn-hl-cover",this.state.backgroundImage);const e=Object(H.get)(this,"props.content.image");if(!this.state.backgroundImage&&e&&t){const n=100;await Object(U.check)(()=>t.offsetHeight>n,{id:this.props.index});const r=2,i=Object(z.choosePicture)(e,r,{height:t.offsetHeight,width:t.offsetWidth});i&&this.setState({backgroundImage:`url("${i}")`})}this.isMabEnabled()&&this.installMab()}componentDidUpdate(){this._refs.node.style.setProperty("--bstn-hl-cover",this.state.backgroundImage)}componentWillUnmount(){_.Horizon.off("collect-metrics",this.reportView),this.cwuSeenTimeTelemetry()}isMabEnabled(){if(a.At.server)return!1;const t=Object(H.get)(this,"props.content.mab.experiment");return t&&Object(v.isMabAvailiable)(t)}async installMab(){const t=Object(H.get)(this,"props.content.mab.experiment");if(t)try{const n=await Object(v.requestMabExperiment)({experimentName:t});this.setState({title:this.props.content.mab.metadata[n.arm]}),this.mabRewardHandler=(()=>n.reward()),this._refs.node.addEventListener("click",this.mabRewardHandler,!1)}catch(e){Object(c.error)(e)}}uninstallMab(){this.mabRewardHandler&&this._refs.node.removeEventListener("click",this.mabRewardHandler)}getClasses(t){return{"no-photo":!t.hasPhoto,"with-photo":t.hasPhoto,"with-video":t.hasVideo,"with-chapeu":t.hasChapeu,"with-summary":t.hasSummary,"with-related":t.hasRelated,"with-score":t.hasScore,"is-half-size":this.props.isHalfSize,"is-live":t.isLive}}getRelateds(t){return t.hasRelated&&this.props.aggregatedPosts?this.props.aggregatedPosts:[]}reportToHorizon(t){const e=this.getFeatures();_.Horizon.report(t,{"post-destacado":!0,"post-id":this.props.id,"post-has-photo":Boolean("sem midia"!==this.getMedia()),"post-has-resumo":e.hasSummary,"post-position":this.getItemPosition(),"post-type":this.props.type,"post-url":this.props.content.url,"post-view-ms":this.getSeenTime()})}reportToGA(t){Object(et.reportGA)(["post basico",[ct(t)?"play":"clique","headline",this.getMedia(),this.getFeatures().hasSummary?"com resumo":"sem resumo",`posicao ${String(this.getItemPosition()).padStart(4,"0")}`].join(" | ")])}reportToRealtime(){const t=this.props;let e=`tipo desconhecido "${Object(H.get)(t,"key")}"`;const n=Object(H.get)(t,"content.url");if(n)e=n;else{const n=Object(H.get)(t,"content.video.id");n&&(e=`video ${n}`)}Object(nt.reportToRealtime)("headlines",e)}getProps(){const t=this.props.content;return{summary:String(Object(H.get)(t,"summary")||"").trim(),status:Object(H.get)(this.props,"match.status")||"Encerrada",video:Object(H.get)(t,"video"),chapeuLabel:Object(H.get)(t,"chapeu.label"),imageSizes:Object(H.get)(t,"images.sizes"),imageUrl:String(Object(H.get)(t,"image.url")||"").trim(),videoKind:Object(H.get)(t,"video.kind"),highlights:Object(H.get)(this.props,"match.highlights")}}getMedia(){const t=this.getFeatures();return t.hasVideo?"com video":t.hasPhoto?"com foto":"sem midia"}getItemPosition(){return this.props.index+1}}const ct=t=>Boolean(lt(t.srcElement,"bstn-hl-video")),lt=(t,e)=>{for(const n of ht(t))if(ut(n,e))return n},ut=(t,e)=>b()(t)&&t.classList.contains(e);function*ht(t){for(yield t;t&&(t=t.parentElement);)yield t}function pt(){return(pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const dt=({items:t})=>{const e=a.At.screen(a.LARGE_SCREEN)?u.Configs.get("headlineVariation"):"";return h.Engine.createElement(d.ElementViewTrigger,{on:"partial",chain:"headlines",checkInterval:1e3},h.Engine.createElement("div",{className:W()("bstn-hls","xlarge-22","xlarge-offset-1","theme",`model-${t.length}`,{[`variation-${e}`]:e}),ref:ft},h.Engine.createElement(p.ElementViewGroup,{id:"headlines",radius:2},t.map((n,r)=>h.Engine.createElement(at,pt({index:r,key:r,isHalfSize:3===t.length&&r>=1,headlineVariation:e},n))))))},ft=t=>{if(t){const e=t.offsetHeight;let n;(n=mt(t.firstElementChild,HTMLDivElement))&&e>400?n.style.height=`${e}px`:setTimeout(()=>ft(t),100)}};function mt(t,e){if(t instanceof e)return t}function gt(){return(gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const bt=({items:t})=>h.Engine.createElement(d.ElementViewTrigger,{on:"partial",checkInterval:1e3},h.Engine.createElement("div",{className:"bstn-uhl xlarge-22 xlarge-offset-1 theme"},h.Engine.createElement(Et,t[0])));var vt=h.Engine.createElement(E.BadgeAoVivo,null);class Et extends B.SeenTimeTelemetry{constructor(t){super(t),this.reportView=(()=>{const t=this.getSeenTime();this.lastReportedSeenTime!==t&&(this.lastReportedSeenTime=t,this.reportToHorizon("post-view"))}),this.handleClick=(t=>{if(this.reportClick(),!t.defaultPrevented){const t=this._refs.node.querySelector(".bstn-uhl-picture .bstn-uhl-link");t&&(t.addEventListener("click",t=>{t.stopPropagation()},!1),setTimeout(()=>{t.click()},0))}}),this.state={title:this.isMabEnabled()?"":Object(H.get)(t,"content.title")},this.features=yt(t)}render(){const t=this.props,e=this.features;return h.Engine.createElement("div",{className:W()(`bstn-uber-hl type-${t.type}`,_t(e))},h.Engine.createElement("div",{className:"bstn-uhl-picture",ref:Object(R.as)(this),onClick:this.handleClick},h.Engine.createElement("div",{className:"bstn-uhl-overlay"},Object(w.insertIf)(e.hasHat||e.isLive,()=>h.Engine.createElement("div",{className:"bstn-uhl-hatslot"},Object(w.insertIf)(e.isLive,()=>vt,()=>Object(w.insertIf)(e.hasHat,()=>h.Engine.createElement("span",{className:"bstn-uhl-hat"},Object(H.get)(t,"content.chapeu.label")))))),h.Engine.createElement("a",{className:"bstn-uhl-link",href:t.content.url},h.Engine.createElement(d.ElementViewTrigger,{on:"fitInScreen",tagName:"span"},h.Engine.createElement("span",{className:"bstn-uhl-title"},t.content.title))))),Object(w.insertIf)(e.hasSummary,()=>h.Engine.createElement("div",{className:"bstn-uhl-summary"},t.content.summary)),Object(w.insertIf)(e.hasRelated,()=>h.Engine.createElement("ul",{className:"bstn-uhl-relateds"},this.getRelateds().map((t,e)=>h.Engine.createElement(wt,gt({},t,{key:e}))))))}componentDidMount(){if(this.cdmSeenTimeTelemetry(),_.Horizon.on("collect-metrics",this.reportView),this.setBackground(),!this.state.backgroundImage&&this.features.hasPhoto){const t=Object(z.choosePicture)(Object(H.get)(this,"props.content.image"),1,{height:1,width:1});t&&this.setState({backgroundImage:`url("${t}")`})}this.isMabEnabled()&&this.installMab()}componentDidUpdate(){this.setBackground()}componentWillUnmount(){_.Horizon.off("collect-metrics",this.reportView),this.cwuSeenTimeTelemetry()}setBackground(){this._refs.node.style.setProperty("--bstn-uhl-cover",this.state.backgroundImage)}isMabEnabled(){if(a.At.server)return!1;const t=Object(H.get)(this,"props.content.mab.experiment");return Object(H.get)(this,"props.content.mab")&&Object(v.isMabAvailiable)(t)}async installMab(){const t=Object(H.get)(this,"props.content.mab.experiment");if(t)try{const n=await Object(v.requestMabExperiment)({experimentName:t});this.setState({title:this.props.content.mab.metadata[n.arm]}),this.mabRewardHandler=(()=>n.reward()),this._refs.node.addEventListener("click",this.mabRewardHandler,!1)}catch(e){Object(c.error)(e)}}uninstallMab(){this.mabRewardHandler&&this._refs.node.removeEventListener("click",this.mabRewardHandler)}getRelateds(){return this.features.hasRelated&&this.props.aggregatedPosts?this.props.aggregatedPosts:[]}reportClick(){const t=Object(Y.cloneJSON)(this.props);t.bstn$source="headline",Object(rt.triggerDomEvent)(O.ITEM_CLICK,document,e=>{e.data=t}),this.reportToHorizon("post-click"),this.reportToGA(),this.reportToRealtime()}reportToHorizon(t){_.Horizon.report(t,{"post-destacado":!0,"post-id":this.props.id,"post-has-photo":Boolean("sem midia"!==Ot(this.features)),"post-has-resumo":this.features.hasSummary,"post-position":1,"post-type":this.props.type,"post-url":this.props.content.url,"post-view-ms":this.getSeenTime()})}reportToGA(){Object(et.reportGA)(["post basico",["clique","headline",Ot(this.features),this.features.hasSummary?"com resumo":"sem resumo","posicao 0001"].join(" | ")])}reportToRealtime(){const t=this.props;let e=`tipo desconhecido "${Object(H.get)(t,"key")}"`;const n=Object(H.get)(t,"content.url");if(n)e=n;else{const n=Object(H.get)(t,"content.video.id");n&&(e=`video ${n}`)}Object(nt.reportToRealtime)("headlines",e)}}const yt=t=>{const e=t.content;return{hasHat:Boolean(Object(H.get)(e,"chapeu.label")),hasPhoto:Boolean(Object(H.get)(e,"images.sizes")||String(Object(H.get)(e,"image.url")||"").trim()),hasRelated:!Q()(t.aggregatedPosts),hasSummary:Boolean(String(Object(H.get)(e,"summary")||"").trim()),isLive:Object(H.get)(t,"cobertura.isLive")||Object(tt.isLiveVideo)(Object(H.get)(e,"video.kind"))}},_t=t=>({"with-hat":t.hasHat,"with-summary":t.hasSummary,"with-related":t.hasRelated,"is-live":t.isLive}),Ot=m()(t=>t.hasPhoto?"com foto":"sem midia"),wt=t=>{const e=Object(H.get)(t.content,"image.sizes.S.url"),n=Object(H.get)(t.content,"image.rightsHolder"),r={};return e&&n&&(r.alt=n,r.title=n),h.Engine.createElement("li",{className:"bstn-uhl-relateditem"},h.Engine.createElement("a",{className:"bstn-uhl-relatedlink",href:t.content.url},h.Engine.createElement("span",{className:"bstn-uhl-related gui-color-primary gui-color-hover"},t.content.title),Object(w.insertIf)(e,()=>h.Engine.createElement("span",{className:"bstn-uhl-relatedthumb",style:`background-image:url("${String(e)}")`},h.Engine.createElement("img",gt({className:"bstn-uhl-relatedimage",src:e},r))))))};n.d(e,"Headlines",function(){return It}),n.d(e,"getHeadlinesQuantity",function(){return Ct});let xt,jt=0;const St={};class It{static getInstance(){return xt||(xt=new It(St)),xt}static getConsumed(){return jt}constructor(t){t!==St&&Object(c.warn)("Class Headlines is a singleton and shouldn't be called directly.");const e=this.getPosts();if(e.length>0){const t="uber"===u.Configs.get("headlineVariation")&&a.At.screen(a.SMALL_SCREEN)?bt:dt;this.virtualElement=h.Engine.createElement(t,{items:e})}}getPosts(){let t=Ct(u.Configs.get("forePosts",0));const e=[];if(t>0){const n=l.$Falkor.getInstance(),r=n.stream.subscribe({next(t){e.push(t),jt+=1},error:c.error,complete(){}});for(;t>0;)t--,n.request({preventFetch:!0});r.unsubscribe(),u.Configs.decr("recommendationStart",jt)}return e}}const Ct=t=>t=t>0?a.At.screen(a.SMALL_SCREEN)?Number("uber"===u.Configs.get("headlineVariation")):o()(...i()({INPUT:t,MIN:1,MAX:3})):0},function(t,e,n){"use strict";var r=n(72),i=n.n(r),s=n(154),o=n(32),a=n(41),c=n(167),l=n(26),u=n(65),h=n(55),p=n(160),d=n(162),f=n(155),m=n(131),g=n(171),b=n(156),v=n(153),E=n(142),y=n(89);n(114);let _;function O(t){const e=[...t],n=[[1,2],[Number.POSITIVE_INFINITY,3]];if(l.Globals.document.querySelector(s.BS_HOME))for(const r of n){const t=r[0],n=r[1];e.splice(t,0,{id:`banner_rm${n}`,type:"advertise"})}return e}const w=_=class extends E.SeenTimeTelemetry{constructor(){super(),this.state={items:O(this.getItems())},this.itemIndex=new v.ItemIndex}getChildContext(){return{root:this,areaId:"right-column",itemIndex:this.itemIndex}}render(){return this.itemIndex.clear(),c.Engine.createElement(g.ElementViewTrigger,{on:"partial",chain:"rightColumn",checkInterval:1e3},c.Engine.createElement("div",{ref:Object(y.as)(this),id:"bstn-rtcl"},c.Engine.createElement(m.ElementViewGroup,{id:"rightColumn",radius:2},this.state.items.map((t,e)=>c.Engine.createElement(b.Item,{key:e,data:t,index:e+1})))))}componentDidMount(){this._refs.node.addEventListener("element-view",t=>t.stopPropagation())}getItems(){const t=[],e=f.$DistributedComponents.getInstance(),n=e.stream.subscribe({next:e=>{t.push(e)},error:()=>{},complete:()=>{}});for(;!e.isEmpty();)e.request();return n.unsubscribe(),e.stream.addListener({next:t=>this.setState({items:[...this.state.items,t]}),error:o.error,complete:()=>{}}),t}};let x;const j={};class S{static getInstance(){return x||(x=new S(j)),x}constructor(t){t!==j&&Object(o.warn)("Class RightColumn is a singleton and shouldn't be called directly."),this.virtualElement=c.Engine.createElement(w)}}function I(t){const e={};if(t&&t.headlines){const t=d.Headlines.getInstance();d.Headlines.getConsumed()>0&&t.virtualElement&&(e.headlines=t.virtualElement)}return p.Feed.getInstance().virtualElement&&(e.feed=p.Feed.getInstance().virtualElement),S.getInstance().virtualElement&&(e.rightColumn=S.getInstance().virtualElement),e}var C=n(27),T=n(157),N=n(40),P=n(39),A=n(170),L=n(10);function k(t,e){return{config:t.config,id:t.id,items:e,specialItems:t.specialItems,nextFetch:t.nextFetch,nextPage:t.nextPage,source:"esppub"===t.source?"esppub":"falkor"}}const M=(t,e)=>()=>{Array.isArray(e)&&e.length>0&&t.store(e)};function R(t){const e=Object(N.get)("recommendationStart");let n=[],r=t.items;return e>0&&(n=t.items.slice(0,e-1),r=t.items.slice(e-1)),{falkorInitialItems:n,rest:r}}function D(t,e){const n=t&&e?e:t;Object(N.absorbConfigs)(n),L.PostIndex.loadInitialURLs();const r=R(n),i=r.falkorInitialItems,s=r.rest,o=k(n,i),a=P.$Falkor.getInstance(o),c=M(a,s);if(a.store(i),f.$DistributedComponents.getInstance(o),"recommendation"===t.source){const e=t.tag,n=void 0===e?null:e,r=t.items,i=t.source;A.$Recommendation.getInstance({tag:n,items:r,source:i}).stream.addListener({next:()=>{},error:()=>{},complete:c})}else c()}var $=n(165),H=n(66);function G(){return(G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"launch",function(){return nt});let V=!1;const F=/[#?].*$/,B=/^https?:\/\//,U=l.Globals.location.href.replace(F,"").replace(B,"");function z(t){let e=t.items.length;for(;e--;){(Object(C.get)(t.items[e],"content.url")||"").trim().replace(B,"").replace(F,"")===U&&t.items.splice(e,1)}}function q(t){const e=Object(C.get)(t,"config.forePosts")||0;if(a.At.largeScreen&&e>1){let n=e-1,r=1;for(let e=1;e<t.items.length&&n>0;e++)if(Object(C.get)(t.items[e],"pinned.isForePost")){const i=t.items.splice(e,1)[0];t.items.splice(r,0,i),r+=1,n-=1}}}function W(t,e){Object(H.triggerDomEvent)(u.LAUNCH_FAILED,l.Globals.document,e=>{e.component=t});const n=[`Impossible to initialize Bastian "${t}".`,e];e.stack&&n.push(e.stack),Object(o.error)(...n)}function Y(){const t=t=>l.Globals.document.querySelector(t),e='There is no such placeholder with selector "',n=[[s.HEADLINES_PLACEHOLDER,"headlines",()=>Object(o.info)(`${e}${s.HEADLINES_PLACEHOLDER}"`)],[s.PLACEHOLDER,"feed",()=>W("Feed",`${e}${s.PLACEHOLDER}"`)]];a.At.largeScreen&&n.push([s.AREATEMPLATE_DIREITA,"rightColumn",()=>Object(o.info)(`${e}${s.AREATEMPLATE_DIREITA}"`)]);const r={};return n.forEach(([e,n,i])=>{const s=t(e);s?r[n]=s:i()}),r}function J(t,e){const n=[t];return e&&n.push(e),n.map(t=>{const e=G({},t);return"recommendation"===e.source&&(e.items=e.items.map(A.toPost)),z(e),"falkor"===e.source&&q(e),e})}const K=l.Globals.document,Z=t=>K.querySelector(t),X=t=>{const e=Z(s.BANNER_SLB_MEIO),n=Z(s.SHOWTIME_INITIALIZED);if(a.At.largeScreen&&!e&&(t||n)){const t=Z(s.AREATEMPLATE_ESQUERDA);if(t){const e=t.parentNode,n=K.createElement("div");n.setAttribute("class","row show-for-medium-up"),n.innerHTML='<div class="column medium-24 large-24 large-offset-0 xlarge-22 xlarge-offset-1"><div class="publicidade publicidade-banner_slb_meio"><div id="banner_slb_meio"></div></div></div>',e.parentNode.insertBefore(n,e),Q()}}},Q=async()=>{await Object(h.availabilityOf)("bannerLazyLoading",T.hasBannerFunction),Object(T.hasBannerFunction)()&&l.Globals.bannerLazyLoading("banner_slb_meio")};function tt(t){const e="bstn-rtcl-placeholder";if("rightColumn"in t&&null===K.getElementById(e)){const n=K.createElement("div");n.id=e;const r=t.rightColumn;i()(r)&&(r.firstElementChild?r.insertBefore(n,r.firstElementChild):r.appendChild(n)),t.rightColumn=n}return t}function et(t,e){const n=J(t,e),r=tt(Y());D(...n),Object($.installSummaryTest)();const s=I(r);for(const a in s){const t=s[a],e=r[a];if(t&&i()(e))try{e.innerHTML="",c.Engine.render(t,e)}catch(o){W(a,o)}}X(s.headlines)}const nt=(t,e)=>{V||(V=!0,et(t,e))}},function(t,e,n){"use strict";var r=n(32),i=n(41),s=n(154),o=n(65),a=n(167),c=n(54),l=n(26),u=n(8),h=n.n(u),p=a.Engine.createElement("div",null);class d extends a.Engine.Component{componentDidMount(){h()(this.props.onPlaceholderMount)&&this.props.onPlaceholderMount(this.context.item)}render(){return p}}var f=n(89);let m;const g=()=>["interactive","complete"].includes(l.Globals.document.readyState),b=new Promise(t=>{g()?t():document.addEventListener("readystatechange",()=>{g()&&t()})}),v=m=(()=>b);var E=n(27),y=n(63),_=n(66),O=n(34),w=n.n(O);n.d(e,"exposable",function(){return C}),n.d(e,"$Cards",function(){return P});class x extends a.Engine.Component{answerInvitation(){return!0}shouldComponentUpdate(){return!1}componentDidMount(){this.customComponentDidMount&&Object(y.safeCall)(this.customComponentDidMount,this);const t=Object(E.get)(this,"_refs.node.firstElementChild.firstElementChild");t&&Object(_.triggerDomEvent)(o.CARD_RENDERED,t)}render(){return null}}function j(t){t.componentDidMount&&(t.customComponentDidMount=t.componentDidMount,delete t.componentDidMount);class e extends x{}return Object.assign(e.prototype,t),t.klass=e,t}function S(t){return function(){return a.Engine.createElement("div",{ref:Object(f.as)(this),dangerouslySetInnerHTML:{__html:t}})}}function I(t){return t.parentNode&&t.parentNode.removeChild&&t.parentNode.removeChild(t),j({rawHTML:t.outerHTML,render:S(t.outerHTML)})}const C={BaseCard:x,create:j,rawHTMLRender:S,embededHTMLCardFactory:I,defaultCardFactory:I};let T;const N={};class P{static getInstance(){return T||(T=new P(N)),T}constructor(t){this.buffer=[],this.placeholders=[],this.emitter=new c.EventEmitter,this.pageScanned=!1,t!==N&&Object(r.warn)("Class $Posts is a singleton and shouldn't be called directly."),this.stream=w.a.create({start:t=>{this.listener=t},stop:()=>{this.listener=null}}),i.At.largeScreen||this.performCollect()}async performCollect(){await v(),this.collect()}collect(){const t=Array.from(l.Globals.document.querySelectorAll(s.CARD)).map(t=>Object(E.get)(t,"firstElementChild.cardComponent")||I(t));t.slice().forEach(e=>{const n=this.placeholders.shift();if(n&&n.placeInfo){const e=this.doInvitations(t,n.placeInfo);if(e)return void this.assignCardToPlaceholder(n,e)}this.buffer.push(e)}),this.pageScanned=!0}doInvitations(t,e){let n,i=!1;const s=[];for(;!1===i&&(n=t.shift());){try{i=Object(E.get)(n,"klass.prototype.answerInvitation")(e)}catch(o){Object(r.warn)("Soft error: failed to invite card",n),Object(r.error)(o)}!1===i&&s.push(n)}if(t.push(...s),!0===i)return n}assignCardToPlaceholder(t,e){t.card=e,t.klass=e.klass,null!==t.item&&t.item.forceUpdate()}request(t){if(!i.At.smallScreen||!this.listener)return!1;{const e=this.listener,n={id:`card-${Math.random().toString().substr(2)}`,type:"card",card:null,item:null,klass:d,placeInfo:t,onPlaceholderMount:t=>{n.item=t}},r=this.doInvitations(this.buffer,t);if(!r&&this.pageScanned)return!1;r?this.assignCardToPlaceholder(n,r):this.pageScanned||this.placeholders.push(n),e.next(n)}}}},function(t,e,n){"use strict";var r=n(8),i=n.n(r),s=n(86),o=n.n(s),a=n(32),c=n(26),l=n(55),u=n(27);let h;const p="globoAB.v2.get",d=()=>i()(Object(u.get)(c.Globals,p)),f="globoAB.v2.getMulti",m=()=>i()(Object(u.get)(c.Globals,f)),g="__fallback__";let b=!1;function v(t){for(const n of t)try{n()}catch(e){Object(a.error)(e)}}class E{constructor(t,e,n){this.name=t,this.promise=e,this.options=n,this.alternatives=new Map}addAlternatives(t,e){for(const n of t){const t=n.name,e=n.callback;this.alternatives.set(t,e)}this.alternatives.set(g,e),this.runAlternative()}async runAlternative(){try{const t=await this.promise,n=this.alternatives.get(t.alternative);if(i()(n))try{return n(),void(this.options.skipImpression&&t.recordImpression())}catch(e){Object(a.error)(e)}}catch(e){Object(a.error)("Failed to resolve AB promise",e)}const t=this.alternatives.get(g);t&&t()}async convert(){(await this.promise).recordConversion()}}h=new class{constructor(){this.experiments=new Map,this.promisesCallbacks=new Map}setApplicationAsLoaded(){b=!0,this.raffleAll()}register(t,e={}){let n=this.experiments.get(t);if(n)return n;let r=()=>{},i=()=>{};const s=new Promise((t,e)=>{i=t,r=e});return n=new E(t,s,e),this.experiments.set(t,n),this.promisesCallbacks.set(n,{resolve:i,reject:r}),b&&this.immediateRaffle(n),n}async raffleAll(){if(await Object(l.availabilityOf)(f,m,"30s"),m()){const t=Array.from(this.experiments.values());this.requestMulti(t.filter(t=>t.options.skipImpression)),this.requestMulti(t.filter(t=>!t.options.skipImpression))}}requestMulti(t){const e=[],n=[],r=[];let i;for(const s of t){const t=this.promisesCallbacks.get(s);if(t){const o=s.name,a=s.options,c=t.resolve,l=t.reject;e.push(o),i=a,n.push(c),r.push(l)}}c.Globals.globoAB.v2.getMulti(e,i,v(n),v(r))}async immediateRaffle(t){if(await Object(l.availabilityOf)(p,d,"30s"),d()){const e=this.promisesCallbacks.get(t);if(e){const n=t.name,r=t.options,i=e.resolve,s=e.reject;c.Globals.globoAB.v2.get(n,r,i,s)}}}};var y=n(41),_=n(54),O=n(1),w=n.n(O),x=n(9),j=n.n(x),S=n(115),I=n.n(S);const C={SSR_HEADLINES:!0,AB_SUMMARY_VISIBILITY:null},T=t=>decodeURIComponent(escape(atob(t)));(t=>{if(j()(t)&&!I()(t))for(const e of Object.keys(C))e in t&&(C[e]=t[e])})((t=>{if(w()(t)&&t.length>0)try{const n=T(t);return JSON.parse(n)}catch(e){Object(a.error)(e)}})((()=>{const t=c.Globals.location.hash;if(t.includes("bstnflags=")){const e=t.indexOf("bstnflags=")+"bstnflags=".length,n=t.indexOf("&",e),r=[e];return n>=0&&r.push(n),t.slice(...r)}})()));var N=n(15);n.d(e,"installSummaryTest",function(){return k}),n.d(e,"SummaryTest",function(){return M});let P=!1;const A=N.Settings.get("PORTAL"),L=()=>!P&&y.At.smallScreen&&null===C.AB_SUMMARY_VISIBILITY&&("ge"===A||"gshow"===A),k=async()=>{L()&&(await Object(l.availabilityOf)(p,d,"30s"),d()&&(c.Globals.globoAB.v2.get("bstn-summary-test-rc5",{skipImpression:!0},t=>{const e="hidden"!==t.alternative;e!==M.visible&&(M.visible=e,M.trigger("change")),M.experiment=t},()=>{}),P=!0))},M=new class extends _.EventEmitter{constructor(...t){super(...t),this.visible=!o()(C.AB_SUMMARY_VISIBILITY)||C.AB_SUMMARY_VISIBILITY,this.printMarked=!1}isVisible(){return this.visible}convert(){this.experiment&&i()(this.experiment.recordConversion)&&this.experiment.recordConversion()}markAsPrinted(){this.experiment&&i()(this.experiment.recordImpression)&&!this.printMarked&&(this.experiment.recordImpression(),this.printMarked=!0)}}},function(t,e,n){"use strict";var r=n(72),i=n.n(r),s=n(167),o=n(26),a=n(75),c=n(169),l=n(106),u=n(109),h=n(110),p=n(111),d=n(112),f=n(124),m=n(127),g=n(128),b=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,v=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},E={};function y(t){var e="";for(var n in t){var r=t[n];null!=r&&(e&&(e+=" "),e+=E[n]||(E[n]=n.replace(/([A-Z])/g,"-$1").toLowerCase()),e+=": ",e+=r,"number"==typeof r&&!1===b.test(n)&&(e+="px"),e+=";")}return e||void 0}function _(t,e){for(var n in e)t[n]=e[n];return t}var O={shallow:!0},w=[],x=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;j.render=j;function j(t,e,n,r,i){if(null==t||"boolean"==typeof t)return"";var s,o=t.nodeName,a=t.attributes,c=!1;if(e=e||{},n=n||{},"object"!=typeof t&&!o)return v(t);if("function"==typeof o){if(c=!0,!n.shallow||!r&&!1!==n.renderRootComponent){var l,u=function(t){var e=_({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}(t);if(o.prototype&&"function"==typeof o.prototype.render){var h=new o(u,e);h._disable=h.__x=!0,h.props=u,h.context=e,o.getDerivedStateFromProps?h.state=_(_({},h.state),o.getDerivedStateFromProps(h.props,h.state)):h.componentWillMount&&h.componentWillMount(),l=h.render(h.props,h.state,h.context),h.getChildContext&&(e=_(_({},e),h.getChildContext()))}else l=o(u,e);return j(l,e,n,!1!==n.shallowHighOrder)}o=(s=o).displayName||s!==Function&&s.name||function(t){var e=(Function.prototype.toString.call(t).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!e){for(var n=-1,r=w.length;r--;)if(w[r]===t){n=r;break}n<0&&(n=w.push(t)-1),e="UnnamedComponent"+n}return e}(s)}var p,d="";if(a){var f=Object.keys(a);n&&!0===n.sortAttributes&&f.sort();for(var m=0;m<f.length;m++){var g=f[m],b=a[g];if("children"!==g&&!g.match(/[\s\n\\\/='"\0<>]/)&&(n&&n.allAttributes||"key"!==g&&"ref"!==g)){if("className"===g){if(a.class)continue;g="class"}else i&&g.match(/^xlink:?./)&&(g=g.toLowerCase().replace(/^xlink:?/,"xlink:"));"style"===g&&b&&"object"==typeof b&&(b=y(b));var E=n.attributeHook&&n.attributeHook(g,b,e,n,c);if(E||""===E)d+=E;else if("dangerouslySetInnerHTML"===g)p=b&&b.__html;else if((b||0===b||""===b)&&"function"!=typeof b){if(!(!0!==b&&""!==b||(b=g,n&&n.xml))){d+=" "+g;continue}d+=" "+g+'="'+v(b)+'"'}}}}if(d="<"+o+d+">",String(o).match(/[\s\n\\\/='"\0<>]/))throw d;var O=String(o).match(x);O&&(d=d.replace(/>$/," />"));var S=[];if(p)d+=p;else if(t.children)for(var I=0;I<t.children.length;I++){var C=t.children[I];if(null!=C&&!1!==C){var T=j(C,e,n,!0,"svg"===o||"foreignObject"!==o&&i);T&&S.push(T)}}if(S.length)d+=S.join("");else if(n&&n.xml)return d.substring(0,d.length-1)+" />";return O||(d+="</"+o+">"),d}j.shallowRender=function(t,e){return j(t,e,O)};var S=j,I=n(32);function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}let T;function N(t,e){const n=(T&&i()(T)||(T=o.Globals.document.createElement("div")),T.innerHTML="",T);if(n.innerHTML=S(s.Engine.createElement(t,e)),i()(n.firstChild))return n.removeChild(n.firstChild)}n.d(e,"Relateds",function(){return P}),n.d(e,"Relacionados",function(){return A}),n.d(e,"Cover",function(){return L}),n.d(e,"Foto",function(){return k}),n.d(e,"Datetime",function(){return M}),n.d(e,"Datahora",function(){return R}),n.d(e,"Header",function(){return D}),n.d(e,"Chapeu",function(){return $}),n.d(e,"Metadata",function(){return H}),n.d(e,"Metadados",function(){return G}),n.d(e,"Section",function(){return V}),n.d(e,"Secao",function(){return F}),n.d(e,"Summary",function(){return B}),n.d(e,"Sumario",function(){return U}),n.d(e,"Title",function(){return z}),n.d(e,"Titulo",function(){return q}),n.d(e,"Video",function(){return W}),n.d(e,"PlayIcon",function(){return Y}),n.d(e,"IconePlay",function(){return J});const P=({showThumbs:t=!1,showDate:e=!0,items:n})=>{const r={};return e&&(r.dateFactory=(({age:t})=>t?s.Engine.createElement(c.Datetime,{ageInSeconds:t}):null)),N(()=>s.Engine.createElement(h.Relateds,C({showThumbs:t,items:n},r)))},A=P,L=t=>{const e=t.imagesCollection,n=t.alt;return N(a.Cover,{alt:n,images:e})},k=L,M=({ageInSeconds:t,time:e})=>(!t&&e&&(t=e,Object(I.warn)('Use of "time" attribute is deprecated on "toolkit.ui.Datetime". Use "ageInSeconds" instead.')),N(c.Datetime,{ageInSeconds:t})),R=M,D=t=>N(l.Header,{content:{chapeu:{label:t.label}}}),$=D,H=(...t)=>{const e=N(u.Metadata);if(e)return t.forEach(t=>e.appendChild(t)),e},G=H,V=({text:t})=>N(p.Section,{text:t}),F=V,B=({text:t})=>N(d.Summary,{text:t}),U=B,z=({text:t})=>N(f.Title,{text:t}),q=z,W=t=>{const e=t.alt,n=t.image,r=t.url,i=t.video;return N(m.Video,{title:e,image:n,video:i,url:r})},Y=()=>N(g.VideoPlay),J=Y},function(t,e,n){"use strict";var r=function(){},i={},s=[],o=[];function a(t,e){var n,a,c,l,u=o;for(l=arguments.length;l-- >2;)s.push(arguments[l]);for(e&&null!=e.children&&(s.length||s.push(e.children),delete e.children);s.length;)if((a=s.pop())&&void 0!==a.pop)for(l=a.length;l--;)s.push(a[l]);else"boolean"==typeof a&&(a=null),(c="function"!=typeof t)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(c=!1)),c&&n?u[u.length-1]+=a:u===o?u=[a]:u.push(a),n=c;var h=new r;return h.nodeName=t,h.children=u,h.attributes=null==e?void 0:e,h.key=null==e?void 0:e.key,void 0!==i.vnode&&i.vnode(h),h}function c(t,e){for(var n in e)t[n]=e[n];return t}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var u=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,h=[];function p(t){!t._dirty&&(t._dirty=!0)&&1==h.push(t)&&(i.debounceRendering||l)(d)}function d(){var t,e=h;for(h=[];t=e.pop();)t._dirty&&k(t)}function f(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function m(t){var e=c({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function g(t){var e=t.parentNode;e&&e.removeChild(t)}function b(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||i)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var s in n)s in r||(t.style[s]="");for(var s in r)t.style[s]="number"==typeof r[s]&&!1===u.test(s)?r[s]+"px":r[s]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var o=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,v,o):t.removeEventListener(e,v,o),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t){try{t[e]=null==r?"":r}catch(c){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var a=i&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function v(t){return this._listeners[t.type](i.event&&i.event(t)||t)}var E=[],y=0,_=!1,O=!1;function w(){for(var t;t=E.pop();)i.afterMount&&i.afterMount(t),t.componentDidMount&&t.componentDidMount()}function x(t,e,n,r,i,s){y++||(_=null!=i&&void 0!==i.ownerSVGElement,O=null!=t&&!("__preactattr_"in t));var o=j(t,e,n,r,s);return i&&o.parentNode!==i&&i.appendChild(o),--y||(O=!1,s||w()),o}function j(t,e,n,r,i){var s=t,o=_;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(s=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(s,t),I(t,!0))),s.__preactattr_=!0,s;var a,c,l=e.nodeName;if("function"==typeof l)return M(t,e,n,r);if(_="svg"===l||"foreignObject"!==l&&_,l=String(l),(!t||!f(t,l))&&(a=l,(c=_?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)).normalizedNodeName=a,s=c,t)){for(;t.firstChild;)s.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(s,t),I(t,!0)}var u=s.firstChild,h=s.__preactattr_,p=e.children;if(null==h){h=s.__preactattr_={};for(var d=s.attributes,m=d.length;m--;)h[d[m].name]=d[m].value}return!O&&p&&1===p.length&&"string"==typeof p[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=p[0]&&(u.nodeValue=p[0]):(p&&p.length||null!=u)&&S(s,p,n,r,O||null!=h.dangerouslySetInnerHTML),T(s,e.attributes,h),_=o,s}function S(t,e,n,r,i){var s,o,a,c,l,u,h,p,d=t.childNodes,m=[],b={},v=0,E=0,y=d.length,_=0,O=e?e.length:0;if(0!==y)for(var w=0;w<y;w++){var x=d[w],S=x.__preactattr_;null!=(C=O&&S?x._component?x._component.__key:S.key:null)?(v++,b[C]=x):(S||(void 0!==x.splitText?!i||x.nodeValue.trim():i))&&(m[_++]=x)}if(0!==O)for(w=0;w<O;w++){var C;if(l=null,null!=(C=(c=e[w]).key))v&&void 0!==b[C]&&(l=b[C],b[C]=void 0,v--);else if(E<_)for(s=E;s<_;s++)if(void 0!==m[s]&&(u=o=m[s],p=i,"string"==typeof(h=c)||"number"==typeof h?void 0!==u.splitText:"string"==typeof h.nodeName?!u._componentConstructor&&f(u,h.nodeName):p||u._componentConstructor===h.nodeName)){l=o,m[s]=void 0,s===_-1&&_--,s===E&&E++;break}l=j(l,c,n,r),a=d[w],l&&l!==t&&l!==a&&(null==a?t.appendChild(l):l===a.nextSibling?g(a):t.insertBefore(l,a))}if(v)for(var w in b)void 0!==b[w]&&I(b[w],!1);for(;E<=_;)void 0!==(l=m[_--])&&I(l,!1)}function I(t,e){var n=t._component;n?R(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||g(t),C(t))}function C(t){for(t=t.lastChild;t;){var e=t.previousSibling;I(t,!0),t=e}}function T(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||b(t,r,n[r],n[r]=void 0,_);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||b(t,r,n[r],n[r]=e[r],_)}var N=[];function P(t,e,n){var r,i=N.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),D.call(r,e,n)):((r=new D(e,n)).constructor=t,r.render=A);i--;)if(N[i].constructor===t)return r.nextBase=N[i].nextBase,N.splice(i,1),r;return r}function A(t,e,n){return this.constructor(t,n)}function L(t,e,n,r,s){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||s?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===i.syncComponentUpdates&&t.base?p(t):k(t,1,s)),t.__ref&&t.__ref(t))}function k(t,e,n,r){if(!t._disable){var s,o,a,l=t.props,u=t.state,h=t.context,p=t.prevProps||l,d=t.prevState||u,f=t.prevContext||h,g=t.base,b=t.nextBase,v=g||b,_=t._component,O=!1,j=f;if(t.constructor.getDerivedStateFromProps&&(u=c(c({},u),t.constructor.getDerivedStateFromProps(l,u)),t.state=u),g&&(t.props=p,t.state=d,t.context=f,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(l,u,h)?O=!0:t.componentWillUpdate&&t.componentWillUpdate(l,u,h),t.props=l,t.state=u,t.context=h),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!O){s=t.render(l,u,h),t.getChildContext&&(h=c(c({},h),t.getChildContext())),g&&t.getSnapshotBeforeUpdate&&(j=t.getSnapshotBeforeUpdate(p,d));var S,C,T=s&&s.nodeName;if("function"==typeof T){var N=m(s);(o=_)&&o.constructor===T&&N.key==o.__key?L(o,N,1,h,!1):(S=o,t._component=o=P(T,N,h),o.nextBase=o.nextBase||b,o._parentComponent=t,L(o,N,0,h,!1),k(o,1,n,!0)),C=o.base}else a=v,(S=_)&&(a=t._component=null),(v||1===e)&&(a&&(a._component=null),C=x(a,s,h,n||!g,v&&v.parentNode,!0));if(v&&C!==v&&o!==_){var A=v.parentNode;A&&C!==A&&(A.replaceChild(C,v),S||(v._component=null,I(v,!1)))}if(S&&R(S),t.base=C,C&&!r){for(var M=t,D=t;D=D._parentComponent;)(M=D).base=C;C._component=M,C._componentConstructor=M.constructor}}for(!g||n?E.unshift(t):O||(t.componentDidUpdate&&t.componentDidUpdate(p,d,j),i.afterUpdate&&i.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);y||r||w()}}function M(t,e,n,r){for(var i=t&&t._component,s=i,o=t,a=i&&t._componentConstructor===e.nodeName,c=a,l=m(e);i&&!c&&(i=i._parentComponent);)c=i.constructor===e.nodeName;return i&&c&&(!r||i._component)?(L(i,l,3,n,r),t=i.base):(s&&!a&&(R(s),t=o=null),i=P(e.nodeName,l,n),t&&!i.nextBase&&(i.nextBase=t,o=null),L(i,l,1,n,r),t=i.base,o&&t!==o&&(o._component=null,I(o,!1))),t}function R(t){i.beforeUnmount&&i.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?R(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.nextBase=e,g(e),N.push(t),C(e)),t.__ref&&t.__ref(null)}function D(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function $(t,e,n){return x(n,t,{},!1,e,!1)}c(D.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=c(c({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),p(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),k(this,2)},render:function(){}});n.d(e,"Engine",function(){return H}),n.d(e,"Renderer",function(){return G}),n.d(e,"createElement",function(){return V});const H={render:$,Component:D,createElement:a},G=H,V=a},function(t,e,n){"use strict";var r=n(68),i=n.n(r),s=n(8),o=n.n(s),a=n(32),c=n(40),l=n(70),u=n(26),h=n(10),p=n(54);let d;const f=d=class extends p.EventEmitter{constructor(t,e){super();try{const r=new u.Globals.PushStream({host:t,port:80,longPollingInterval:6e4,reconnectOnChannelUnavailableInterval:6e4,modes:"websocket|eventsource|stream|longpolling"});r.onmessage=(({method:t,resourceId:e,resource:n})=>{this.trigger(t,{resourceId:e,resource:n})}),r.removeAllChannels(),r.addChannel(e),r.connect(),this.pushStream=r}catch(n){Object(a.error)(n)}}};var m=n(15),g=n(55),b=n(71),v=n(34),E=n.n(v);function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}let _;n.d(e,"$PushStream",function(){return w});const O={};class w{static getInstance(){return _||(_=new w(O)),_}constructor(t){this.buffer=[],this.initPushStreamClient=(()=>{const t=new f(m.Settings.get("PUSHSTREAM_HOST"),`p.bastian-posts-${c.Configs.get("feedId")}`);t.on("create",t=>{if(t){const e=t.resourceId,n=t.resource;n.key=n.id||e,n.arrived=Object(b.now)(),n.source=w,h.PostIndex.has(n)||(h.PostIndex.register(n),this.buffer.push(n),this.counterListener&&this.counterListener.next(this.buffer.length))}}),t.on("error",()=>{Object(a.error)("Couldn't connect Bastian on PushStream channel")}),t.on("disconnect",()=>{Object(a.warn)("Disconnected from the PushStream channel")})}),t!==O&&Object(a.warn)("Class $Posts is a singleton and shouldn't be called directly."),this.stream=E.a.create({start:t=>{this.listener=t},stop:()=>{this.listener=null}}),this.counterStream=E.a.create({start:t=>{this.counterListener=t},stop:()=>{this.counterListener=null}});const e=l.DEVICES[m.Settings.get("DEVICE_GROUP","desktop")];m.Settings.has("PUSHSTREAM_HOST")&&e<=l.DEVICES.smart&&i()(async()=>{const t=()=>o()(u.Globals.PushStream);await Object(g.availabilityOf)("PushStream client",t,"20s"),t()&&this.initPushStreamClient()},1e4)}request(){const t=this.buffer;if(this.listener&&t.length>0){const e=this.listener,n=Object(b.now)();t.map(t=>t.arrived?y({},t,{age:parseInt((n-t.arrived)/1e3,10)}):t),e.next(t.splice(0,t.length)),this.counterListener&&this.counterListener.next(0)}}}},function(t,e,n){"use strict";var r=n(167);const i=86400,s=[[60,"Agora",1],[90,"Há 1 minuto",1],[3600,"minutos",60],[5400,"Há 1 hora",1],[i,"horas",3600],[129600,"Ontem",1],[7*i,"dias",i],[907200,"Há 1 semana",1],[2628e3,"semanas",604800],[3942e3,"Há 1 mês",1],[31536e3,"meses",2628e3],[47304e3,"Há 1 ano",1],[Number.POSITIVE_INFINITY,"anos",31536e3]];function o(t){for(const e of s){const n=e[0],r=e[1],i=e[2];if(t<n)return 1===i?r:`Há ${Math.round(t/i)} ${r}`}return""}function a(t){return r.Engine.createElement("span",{className:"feed-post-datetime"},o(t.ageInSeconds))}n.d(e,"Datetime",function(){return a})},function(t,e,n){"use strict";var r=n(95),i=n.n(r),s=n(1),o=n.n(s),a=n(7),c=n.n(a),l=n(6),u=n(40),h=n(26),p=n(15),d=n(30),f=n(11),m=n.n(f),g=n(71),b=n(32);let v;const E=()=>`bastian_jsonp_${Object(g.now)()}`,y=m()(()=>h.Globals.document.getElementsByTagName("head")[0]),_=t=>y().removeChild(t);function O(t,e){try{delete h.Globals[t]}catch(n){h.Globals[t]=e}}function w(t,e){h.Globals[t]=(()=>{Object(b.warn)(`"${t}" was invoked by "${e}", however the request time were out. Response discarted.`),O(t)})}const x=v=(({url:t,_timeout:e,_callbackName:n})=>{let r;const i=e||1e4,s=n||E();return new Promise((e,n)=>{const o=h.Globals.document.createElement("script");h.Globals[s]=(t=>{setTimeout(()=>{e(t)},0),r&&clearTimeout(r),_(o),O(s)}),t+=-1===t.indexOf("?")?"?":"&",o.setAttribute("src",`${t}callback=${s}`),y().appendChild(o),r=setTimeout(()=>{w(s,t),_(o),n(new Error(`JSONP request to ${t} timed out`))},i)})});var j=n(90);let S;n.d(e,"toPost",function(){return A}),n.d(e,"toPhotos",function(){return L}),n.d(e,"toVideo",function(){return k}),n.d(e,"$Recommendation",function(){return M});const I={},C={S:"540x304_top_smart",M:"810x456_top_smart",L:"1080x608_top_smart"};function T(t){let e="";return t.section&&t.section.length>0?e=t.section[0]:t.extras&&t.extras.vertical?e=t.extras.vertical:t.mainSection&&(e=t.mainSection),e}const N=/#.*$/;function P(t){o()(t.tag)&&u.Configs.set("recommendationTag",t.tag)}function A(t){if(!t.issued&&!t.url)return Object(d.has)(t,"content.url")&&(t.key=t.content.url.replace(N,"")),t;const e=(t.url||"").replace(N,"");if(t.normalized)return t;const n={id:e,key:e,created:{time:t.issued},isRecommended:!0,type:t.type,content:{section:T(t),chapeu:{},url:t.url,title:t.title,summary:t.caption},match:t.match};return L(n,t),k(n,t),n}function L(t,e){if(e.photos){t.content.image={url:e.photos.original,croppedUrl:e.photos.thumbnail,sizes:{}};for(const n in C)Object(j.set)(t.content.image.sizes,`${n}.url`,e.photos[C[n]]||"")}return t}function k(t,e){return e.extras&&e.extras.mediaId&&(t.content.video={id:e.extras.mediaId,duration:e.extras.duration||3e4,trademark:e.extras.trademark,trademarkRaster:e.extras.trademarkRaster}),t}class M extends l.$OnDemandSource{static getInstance(t){if(t&&!S&&(S=new M(t,I)),S)return S;throw new Error("Couldn't return a $Recommendation instance")}constructor(t,e){e!==I&&Object(b.warn)("Class $Recommendation is a singleton and shouldn't be called directly."),super(t.items),this.receivedZeroItems=R(t.items),this.nextFetch=2,this.nextPage=2,P(t)}whenToFetch(){return 0===this.buffer.length}static buildRequestUrl(t){const e=-1!==["smart","feature"].indexOf(p.Settings.get("DEVICE_GROUP","desktop")),n=p.Settings.get("RECOMMENDATION.URL",p.Settings.get("RECOMMENDATION_URL"))||"",r=(u.Configs.get("recommendationContentId")||"feed")+(e?"-smart":""),s=/client_id=/.test(n)?`&content_id=${r}`:`/${r}?type=bastian`,o=i()(C).join(",").replace(/_/g,"/"),a=h.Globals.location.hash.match(/(?:^#|&)alternative=([^&]+)/);return`${n}${s}&page=${t}&limit=10&photo_size=${o}${a?`&alternative=${a[1]}`:""}`}howToFetch(){const t=this.nextFetch;if(c()(t))return x({url:M.buildRequestUrl(t),timeout:8e3}).then(this.unlock).then(t=>{this.setNextFetch(this.nextFetch+1),P(t),Array.isArray(t)?this.saveAndResumeStream(t.map(A),t=>{this.receivedZeroItems=R(t)}):this.receivedZeroItems=!0}).catch(t=>{u.Configs.unset("recommendationTag"),this.listener&&this.listener.error(t)})}whenToComplete(){return this.receivedZeroItems}}const R=t=>0===t.length},function(t,e,n){"use strict";var r=n(80),i=n.n(r),s=n(25),o=n.n(s),a=n(65),c=n(167),l=n(26),u=n(33),h=n(114),p=n(125),d=n(27),f=n(126),m=n(87),g=n(63),b=n(66),v=n(43),E=n(55);const y={hidden:!1,visible:!0},_=t=>{y.hidden=t,y.visible=!t,Object(b.triggerDomEvent)(t?a.PAGE_HIDDEN:a.PAGE_VISIBLE,l.Globals.window)};let O;(async()=>{if(await Object(E.availabilityOf)(v.horizonClientPath,v.hasHorizonClient,"30s"),Object(v.hasHorizonClient)()){const t=new l.Globals.Horizon.Client;t.subscribe("focus","bastian.page-visibility",()=>{_(!1)}),t.subscribe("blur","bastian.page-visibility",()=>{_(!0)})}})(),n.d(e,"ElementViewTrigger",function(){return w});const w=O=class extends(Object(p.eventable)(Object(h.drawless)(c.Engine.Component))){constructor(t){super(t),this.childrenTriggers=[],this.verifyVisibility=function(){const t=this.props.on;if(this.props.redirectToChildTriggerIfExists&&this.childrenTriggers.length>0)return this.childrenTriggers.some(t=>t.verifyVisibility());const e=Object(f.getVisibility)(this._refs.node);return(!1!==e.isBoxed||!0===this.props.evenIfUnboxed)&&Object(u.castArray)(t).some(t=>this.testVisibility(e,t))},this.testVisibility=((t,e)=>{if(t[e])return this.handleVisibleState(),!0}),this.resume=(()=>{this.isRoot()&&(Object(g.safeCall)(this.verifyVisibility,this),this.timerID=setTimeout(this.resume,250))}),this.pause=(()=>{clearTimeout(this.timerID)}),t.tagName&&(this.drawlessTag=t.tagName),this.verifyVisibility=i()(this.verifyVisibility.bind(this),this.props.checkInterval||1e3,{leading:!0,trailing:!1})}getChildContext(){return{parentTrigger:this,parentGroup:this.context.parentGroup}}isRoot(){return o()(this.context.parentTrigger)}handleVisibleState(){for(const t of Array.from(this._refs.node.children||[]))Object(b.triggerDomEvent)(a.ELEMENT_VIEWED,t);this.trigger("visible",this.props.chain)}bindEvents(){this.isRoot()&&(l.Globals.window.addEventListener(a.PAGE_VISIBLE,this.resume),l.Globals.window.addEventListener(a.PAGE_HIDDEN,this.pause))}registerChildTrigger(t){this.childrenTriggers.push(t)}unregisterChildTrigger(t){Object(m.pull)(this.childrenTriggers,t)}componentDidMount(){this.bindEvents(),this.isRoot()&&y.visible&&this.resume(),Object(d.get)(this,"context.parentTrigger.props.redirectToChildTriggerIfExists")?this.context.parentTrigger.registerChildTrigger(this):this.context.parentGroup&&this.context.parentGroup.registerChild(this)}componentWillUnmount(){this.isRoot()&&this.pause(),this.context.parentGroup&&this.context.parentGroup.unregisterChild(this),this.context.parentTrigger.props.redirectToChildTriggerIfExists&&this.context.parentTrigger.unregisterChildTrigger(this)}}},function(t,e,n){"use strict";var r=n(167),i=n(107),s=n.n(i),o=n(135),a=n.n(o);n.d(e,"Highlight",function(){return c});class c extends r.Engine.Component{render(){let t;const e=this.props,n=e.content,i=e.headline,o=s()("highlight-bastian-feed",{headline:i}),c=n.half;n.time>0&&"Pós Jogo"!==c&&(t=`${n.time}’ -${c}`),"1º tempo"!==c&&"2º tempo"!==c&&(t=c);const l=a()(n.text,85,"...",!0),u=i?r.Engine.createElement("p",null,r.Engine.createElement("strong",null,n.title)):r.Engine.createElement("span",{className:"title"},n.title);return r.Engine.createElement("div",{className:o},r.Engine.createElement("div",{className:"time"},t),r.Engine.createElement("div",{className:"text"},u,l))}}}]).default;