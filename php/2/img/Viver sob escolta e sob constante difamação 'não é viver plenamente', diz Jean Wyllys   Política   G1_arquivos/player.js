!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WP3=e():t.WP3=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="<%=baseUrl%>/",n(n.s=478)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=j(n(124)),r=j(n(9)),o=j(n(7)),a=j(n(13)),s=j(n(52)),l=j(n(43)),u=j(n(42)),c=j(n(51)),d=j(n(19)),h=j(n(27)),p=j(n(18)),f=j(n(92)),y=j(n(91)),v=j(n(28)),g=j(n(100)),m=j(n(36)),b=j(n(94)),_=j(n(49)),A=j(n(74)),E=j(n(102)),w=j(n(104)),T=j(n(105)),k=j(n(103)),S=j(n(50)),C=j(n(106)),O=j(n(107)),P=j(n(111)),R=j(n(112)),I=j(n(113)),x=j(n(35)),L=j(n(110)),D=j(n(108)),M=j(n(109)),N=j(n(99)),B=j(n(54)),U=j(n(11)),F=j(n(5));function j(t){return t&&t.__esModule?t:{default:t}}e.default={Player:i.default,Mediator:m.default,Events:o.default,Browser:p.default,PlayerInfo:_.default,MediaControl:b.default,ContainerPlugin:s.default,UIContainerPlugin:c.default,CorePlugin:l.default,UICorePlugin:u.default,Playback:a.default,Container:f.default,Core:y.default,PlayerError:v.default,Loader:g.default,BaseObject:d.default,UIObject:h.default,Utils:r.default,BaseFlashPlayback:A.default,Flash:E.default,FlasHLS:w.default,HLS:T.default,HTML5Audio:k.default,HTML5Video:S.default,HTMLImg:C.default,NoOp:O.default,ClickToPausePlugin:P.default,DVRControls:R.default,Favicon:I.default,Log:x.default,Poster:L.default,SpinnerThreeBouncePlugin:D.default,WaterMarkPlugin:M.default,Styler:N.default,Vendor:B.default,version:"0.2.100",template:U.default,$:F.default},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(48),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var i=a(n(156)),r=a(n(90)),o=a(n(48));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i.default?(0,i.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(89),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){var t,e,n,i,o,a,s=[],l=s.concat,u=s.filter,c=s.slice,d=window.document,h={},p={},f={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},y=/^\s*<(\w+|!)[^>]*>/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/^(?:body|html)$/i,b=/([A-Z])/g,_=["val","css","html","text","data","width","height","offset"],A=d.createElement("table"),E=d.createElement("tr"),w={tr:d.createElement("tbody"),tbody:A,thead:A,tfoot:A,td:E,th:E,"*":d.createElement("div")},T=/complete|loaded|interactive/,k=/^[\w-]*$/,S={},C=S.toString,O={},P=d.createElement("div"),R={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},I=Array.isArray||function(t){return t instanceof Array};function x(t){return null==t?String(t):S[C.call(t)]||"object"}function L(t){return"function"==x(t)}function D(t){return null!=t&&t==t.window}function M(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function N(t){return"object"==x(t)}function B(t){return N(t)&&!D(t)&&Object.getPrototypeOf(t)==Object.prototype}function U(t){return"number"==typeof t.length}function F(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function j(t){return t in p?p[t]:p[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function V(t,e){return"number"!=typeof e||f[F(t)]?e:e+"px"}function H(t){return"children"in t?c.call(t.children):n.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function G(t,e){var n,i=t?t.length:0;for(n=0;n<i;n++)this[n]=t[n];this.length=i,this.selector=e||""}function z(t,e){return null==e?n(t):n(t).filter(e)}function Y(t,e,n,i){return L(e)?e.call(t,n,i):e}function $(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function K(e,n){var i=e.className||"",r=i&&i.baseVal!==t;if(n===t)return r?i.baseVal:i;r?i.baseVal=n:e.className=n}function W(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}return O.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=P).appendChild(t),i=~O.qsa(r,e).indexOf(t),o&&P.removeChild(t),i},o=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},a=function(t){return u.call(t,function(e,n){return t.indexOf(e)==n})},O.fragment=function(e,i,r){var o,a,s;return v.test(e)&&(o=n(d.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(g,"<$1></$2>")),i===t&&(i=y.test(e)&&RegExp.$1),i in w||(i="*"),(s=w[i]).innerHTML=""+e,o=n.each(c.call(s.childNodes),function(){s.removeChild(this)})),B(r)&&(a=n(o),n.each(r,function(t,e){_.indexOf(t)>-1?a[t](e):a.attr(t,e)})),o},O.Z=function(t,e){return new G(t,e)},O.isZ=function(t){return t instanceof O.Z},O.init=function(e,i){var r,o;if(!e)return O.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&y.test(e))r=O.fragment(e,RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=O.qsa(d,e)}else{if(L(e))return n(d).ready(e);if(O.isZ(e))return e;if(I(e))o=e,r=u.call(o,function(t){return null!=t});else if(N(e))r=[e],e=null;else if(y.test(e))r=O.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=O.qsa(d,e)}}return O.Z(r,e)},(n=function(t,e){return O.init(t,e)}).extend=function(n){var i,r=c.call(arguments,1);return"boolean"==typeof n&&(i=n,n=r.shift()),r.forEach(function(r){!function n(i,r,o){for(e in r)o&&(B(r[e])||I(r[e]))?(B(r[e])&&!B(i[e])&&(i[e]={}),I(r[e])&&!I(i[e])&&(i[e]=[]),n(i[e],r[e],o)):r[e]!==t&&(i[e]=r[e])}(n,r,i)}),n},O.qsa=function(t,e){var n,i="#"==e[0],r=!i&&"."==e[0],o=i||r?e.slice(1):e,a=k.test(o);return t.getElementById&&a&&i?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:c.call(a&&!i&&t.getElementsByClassName?r?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=d.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=x,n.isFunction=L,n.isWindow=D,n.isArray=I,n.isPlainObject=B,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.inArray=function(t,e,n){return s.indexOf.call(e,t,n)},n.camelCase=o,n.trim=function(t){return null==t?"":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(t,e){var i,r,o,a,s=[];if(U(t))for(r=0;r<t.length;r++)null!=(i=e(t[r],r))&&s.push(i);else for(o in t)null!=(i=e(t[o],o))&&s.push(i);return(a=s).length>0?n.fn.concat.apply([],a):a},n.each=function(t,e){var n,i;if(U(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(i in t)if(!1===e.call(t[i],i,t[i]))return t;return t},n.grep=function(t,e){return u.call(t,e)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){S["[object "+e+"]"]=e.toLowerCase()}),n.fn={constructor:O.Z,length:0,forEach:s.forEach,reduce:s.reduce,push:s.push,sort:s.sort,splice:s.splice,indexOf:s.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=O.isZ(e)?e.toArray():e;return l.apply(O.isZ(this)?this.toArray():this,n)},map:function(t){return n(n.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return n(c.apply(this,arguments))},ready:function(t){return T.test(d.readyState)&&d.body?t(n):d.addEventListener("DOMContentLoaded",function(){t(n)},!1),this},get:function(e){return e===t?c.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return s.every.call(this,function(e,n){return!1!==t.call(e,n,e)}),this},filter:function(t){return L(t)?this.not(this.not(t)):n(u.call(this,function(e){return O.matches(e,t)}))},add:function(t,e){return n(a(this.concat(n(t,e))))},is:function(t){return this.length>0&&O.matches(this[0],t)},not:function(e){var i=[];if(L(e)&&e.call!==t)this.each(function(t){e.call(this,t)||i.push(this)});else{var r="string"==typeof e?this.filter(e):U(e)&&L(e.item)?c.call(e):n(e);this.forEach(function(t){r.indexOf(t)<0&&i.push(t)})}return n(i)},has:function(t){return this.filter(function(){return N(t)?n.contains(this,t):n(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!N(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!N(t)?t:n(t)},find:function(t){var e=this;return t?"object"==(void 0===t?"undefined":r(t))?n(t).filter(function(){var t=this;return s.some.call(e,function(e){return n.contains(e,t)})}):1==this.length?n(O.qsa(this[0],t)):this.map(function(){return O.qsa(this,t)}):n()},closest:function(t,e){var i=this[0],o=!1;for("object"==(void 0===t?"undefined":r(t))&&(o=n(t));i&&!(o?o.indexOf(i)>=0:O.matches(i,t));)i=i!==e&&!M(i)&&i.parentNode;return n(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=n.map(i,function(t){if((t=t.parentNode)&&!M(t)&&e.indexOf(t)<0)return e.push(t),t});return z(e,t)},parent:function(t){return z(a(this.pluck("parentNode")),t)},children:function(t){return z(this.map(function(){return H(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||c.call(this.childNodes)})},siblings:function(t){return z(this.map(function(t,e){return u.call(H(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return n.map(this,function(e){return e[t]})},show:function(){return this.each(function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,h[t]||(e=d.createElement(t),d.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),h[t]=n),h[t]))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=L(t);if(this[0]&&!e)var i=n(t).get(0),r=i.parentNode||this.length>1;return this.each(function(o){n(this).wrapAll(e?t.call(this,o):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){var e;for(n(this[0]).before(t=n(t));(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=L(t);return this.each(function(i){var r=n(this),o=r.contents(),a=e?t.call(this,i):t;o.length?o.wrapAll(a):r.append(a)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var i=n(this);(e===t?"none"==i.css("display"):e)?i.show():i.hide()})},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;n(this).empty().append(Y(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=Y(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(n,i){var r;return"string"!=typeof n||1 in arguments?this.each(function(t){if(1===this.nodeType)if(N(n))for(e in n)$(this,e,n[e]);else $(this,n,Y(this,i,t,this.getAttribute(n)))}):this.length&&1===this[0].nodeType?!(r=this[0].getAttribute(n))&&n in this[0]?this[0][n]:r:t},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){$(this,t)},this)})},prop:function(t,e){return t=R[t]||t,1 in arguments?this.each(function(n){this[t]=Y(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(e,n){var i="data-"+e.replace(b,"-$1").toLowerCase(),r=1 in arguments?this.attr(i,n):this.attr(i);return null!==r?W(r):t},val:function(t){return 0 in arguments?this.each(function(e){this.value=Y(this,t,e,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=n(this),r=Y(this,t,e,i.offset()),o=i.offsetParent().offset(),a={top:r.top-o.top,left:r.left-o.left};"static"==i.css("position")&&(a.position="relative"),i.css(a)});if(!this.length)return null;if(!n.contains(d.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,i){if(arguments.length<2){var r,a=this[0];if(!a)return;if(r=getComputedStyle(a,""),"string"==typeof t)return a.style[o(t)]||r.getPropertyValue(t);if(I(t)){var s={};return n.each(t,function(t,e){s[e]=a.style[o(e)]||r.getPropertyValue(e)}),s}}var l="";if("string"==x(t))i||0===i?l=F(t)+":"+V(t,i):this.each(function(){this.style.removeProperty(F(t))});else for(e in t)t[e]||0===t[e]?l+=F(e)+":"+V(e,t[e])+";":this.each(function(){this.style.removeProperty(F(e))});return this.each(function(){this.style.cssText+=";"+l})},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&s.some.call(this,function(t){return this.test(K(t))},j(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){i=[];var r=K(this);Y(this,t,e,r).split(/\s+/g).forEach(function(t){n(this).hasClass(t)||i.push(t)},this),i.length&&K(this,r+(r?" ":"")+i.join(" "))}}):this},removeClass:function(e){return this.each(function(n){if("className"in this){if(e===t)return K(this,"");i=K(this),Y(this,e,n,i).split(/\s+/g).forEach(function(t){i=i.replace(j(t)," ")}),K(this,i.trim())}})},toggleClass:function(e,i){return e?this.each(function(r){var o=n(this);Y(this,e,r,K(this)).split(/\s+/g).forEach(function(e){(i===t?!o.hasClass(e):i)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var n="scrollTop"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n="scrollLeft"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),r=m.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(n(t).css("margin-top"))||0,i.left-=parseFloat(n(t).css("margin-left"))||0,r.top+=parseFloat(n(e[0]).css("border-top-width"))||0,r.left+=parseFloat(n(e[0]).css("border-left-width"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||d.body;t&&!m.test(t.nodeName)&&"static"==n(t).css("position");)t=t.offsetParent;return t})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(e){var i=e.replace(/./,function(t){return t[0].toUpperCase()});n.fn[e]=function(r){var o,a=this[0];return r===t?D(a)?a["inner"+i]:M(a)?a.documentElement["scroll"+i]:(o=this.offset())&&o[e]:this.each(function(t){(a=n(this)).css(e,Y(this,r,t,a[e]()))})}}),["after","prepend","before","append"].forEach(function(t,e){var i=e%2;n.fn[t]=function(){var t,r,o=n.map(arguments,function(e){return"object"==(t=x(e))||"array"==t||null==e?e:O.fragment(e)}),a=this.length>1;return o.length<1?this:this.each(function(t,s){r=i?s:s.parentNode,s=0==e?s.nextSibling:1==e?s.firstChild:2==e?s:null;var l=n.contains(d.documentElement,r);o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!r)return n(t).remove();r.insertBefore(t,s),l&&function t(e,n){n(e);for(var i=0,r=e.childNodes.length;i<r;i++)t(e.childNodes[i],n)}(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},n.fn[i?t+"To":"insert"+(e?"Before":"After")]=function(e){return n(e)[t](this),this}}),O.Z.prototype=G.prototype=n.fn,O.uniq=a,O.deserializeValue=W,n.zepto=O,n}();!function(t){var e,n=1,i=Array.prototype.slice,r=t.isFunction,o=function(t){return"string"==typeof t},a={},s={},l="onfocusin"in window,u={focus:"focusin",blur:"focusout"},c={mouseenter:"mouseover",mouseleave:"mouseout"};function d(t){return t._zid||(t._zid=n++)}function h(t,e,n,i){if((e=p(e)).ns)var r=(o=e.ns,new RegExp("(?:^| )"+o.replace(" "," .* ?")+"(?: |$)"));var o;return(a[d(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||r.test(t.ns))&&(!n||d(t.fn)===d(n))&&(!i||t.sel==i)})}function p(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function f(t,e){return t.del&&!l&&t.e in u||!!e}function y(t){return c[t]||l&&u[t]||t}function v(n,i,r,o,s,l,u){var h=d(n),v=a[h]||(a[h]=[]);i.split(/\s/).forEach(function(i){if("ready"==i)return t(document).ready(r);var a=p(i);a.fn=r,a.sel=s,a.e in c&&(r=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return a.fn.apply(this,arguments)}),a.del=l;var d=l||r;a.proxy=function(t){if(!(t=E(t)).isImmediatePropagationStopped()){t.data=o;var i=d.apply(n,t._args==e?[t]:[t].concat(t._args));return!1===i&&(t.preventDefault(),t.stopPropagation()),i}},a.i=v.length,v.push(a),"addEventListener"in n&&n.addEventListener(y(a.e),a.proxy,f(a,u))})}function g(t,e,n,i,r){var o=d(t);(e||"").split(/\s/).forEach(function(e){h(t,e,n,i).forEach(function(e){delete a[o][e.i],"removeEventListener"in t&&t.removeEventListener(y(e.e),e.proxy,f(e,r))})})}s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",t.event={add:v,remove:g},t.proxy=function(e,n){var a=2 in arguments&&i.call(arguments,2);if(r(e)){var s=function(){return e.apply(n,a?a.concat(i.call(arguments)):arguments)};return s._zid=d(e),s}if(o(n))return a?(a.unshift(e[n],e),t.proxy.apply(null,a)):t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var m=function(){return!0},b=function(){return!1},_=/^([A-Z]|returnValue$|layer[XY]$)/,A={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function E(n,i){return!i&&n.isDefaultPrevented||(i||(i=n),t.each(A,function(t,e){var r=i[t];n[t]=function(){return this[e]=m,r&&r.apply(i,arguments)},n[e]=b}),(i.defaultPrevented!==e?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(n.isDefaultPrevented=m)),n}function w(t){var n,i={originalEvent:t};for(n in t)_.test(n)||t[n]===e||(i[n]=t[n]);return E(i,t)}t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(n,a,s,l,u){var c,d,h=this;return n&&!o(n)?(t.each(n,function(t,e){h.on(t,a,s,e,u)}),h):(o(a)||r(l)||!1===l||(l=s,s=a,a=e),l!==e&&!1!==s||(l=s,s=e),!1===l&&(l=b),h.each(function(e,r){u&&(c=function(t){return g(r,t.type,l),l.apply(this,arguments)}),a&&(d=function(e){var n,o=t(e.target).closest(a,r).get(0);if(o&&o!==r)return n=t.extend(w(e),{currentTarget:o,liveFired:r}),(c||l).apply(o,[n].concat(i.call(arguments,1)))}),v(r,n,l,s,a,d||c)}))},t.fn.off=function(n,i,a){var s=this;return n&&!o(n)?(t.each(n,function(t,e){s.off(t,i,e)}),s):(o(i)||r(a)||!1===a||(a=i,i=e),!1===a&&(a=b),s.each(function(){g(this,n,a,i)}))},t.fn.trigger=function(e,n){return(e=o(e)||t.isPlainObject(e)?t.Event(e):E(e))._args=n,this.each(function(){e.type in u&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var i,r;return this.each(function(a,s){(i=w(o(e)?t.Event(e):e))._args=n,i.target=s,t.each(h(s,e.type||e),function(t,e){if(r=e.proxy(i),i.isImmediatePropagationStopped())return!1})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){o(t)||(t=(e=t).type);var n=document.createEvent(s[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),E(n)}}(o),function(t){var e,n,i=0,r=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,a=/^(?:text|application)\/javascript/i,s=/^(?:text|application)\/xml/i,l="application/json",u="text/html",c=/^\s*$/,d=r.createElement("a");function h(e,n,i,o){if(e.global)return function(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}(n||r,i,o)}function p(t,e){var n=e.context;if(!1===e.beforeSend.call(n,t,e)||!1===h(e,n,"ajaxBeforeSend",[t,e]))return!1;h(e,n,"ajaxSend",[t,e])}function f(t,e,n,i){var r=n.context;n.success.call(r,t,"success",e),i&&i.resolveWith(r,[t,"success",e]),h(n,r,"ajaxSuccess",[e,n,t]),v("success",e,n)}function y(t,e,n,i,r){var o=i.context;i.error.call(o,n,e,t),r&&r.rejectWith(o,[n,e,t]),h(i,o,"ajaxError",[n,i,t||e]),v(e,n,i)}function v(e,n,i){var r=i.context;i.complete.call(r,n,e),h(i,r,"ajaxComplete",[n,i]),function(e){e.global&&!--t.active&&h(e,null,"ajaxStop")}(i)}function g(){}function m(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function b(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}d.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var o,a,s=e.jsonpCallback,l=(t.isFunction(s)?s():s)||"jsonp"+ ++i,u=r.createElement("script"),c=window[l],d=function(e){t(u).triggerHandler("error",e||"abort")},h={abort:d};return n&&n.promise(h),t(u).on("load error",function(i,r){clearTimeout(a),t(u).off().remove(),"error"!=i.type&&o?f(o[0],h,e,n):y(null,r||"error",h,e,n),window[l]=c,o&&t.isFunction(c)&&c(o[0]),c=o=void 0}),!1===p(h,e)?(d("abort"),h):(window[l]=function(){o=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),r.head.appendChild(u),e.timeout>0&&(a=setTimeout(function(){d("timeout")},e.timeout)),h)},t.ajaxSettings={type:"GET",beforeSend:g,success:g,error:g,complete:g,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:l,xml:"application/xml, text/xml",html:u,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(i){var o,v,b=t.extend({},i||{}),_=t.Deferred&&t.Deferred();for(e in t.ajaxSettings)void 0===b[e]&&(b[e]=t.ajaxSettings[e]);!function(e){e.global&&0==t.active++&&h(e,null,"ajaxStart")}(b),b.crossDomain||((o=r.createElement("a")).href=b.url,o.href=o.href,b.crossDomain=d.protocol+"//"+d.host!=o.protocol+"//"+o.host),b.url||(b.url=window.location.toString()),(v=b.url.indexOf("#"))>-1&&(b.url=b.url.slice(0,v)),function(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=m(e.url,e.data),e.data=void 0)}(b);var A=b.dataType,E=/\?.+=\?/.test(b.url);if(E&&(A="jsonp"),!1!==b.cache&&(i&&!0===i.cache||"script"!=A&&"jsonp"!=A)||(b.url=m(b.url,"_="+Date.now())),"jsonp"==A)return E||(b.url=m(b.url,b.jsonp?b.jsonp+"=?":!1===b.jsonp?"":"callback=?")),t.ajaxJSONP(b,_);var w,T=b.accepts[A],k={},S=function(t,e){k[t.toLowerCase()]=[t,e]},C=/^([\w-]+:)\/\//.test(b.url)?RegExp.$1:window.location.protocol,O=b.xhr(),P=O.setRequestHeader;if(_&&_.promise(O),b.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",T||"*/*"),(T=b.mimeType||T)&&(T.indexOf(",")>-1&&(T=T.split(",",2)[0]),O.overrideMimeType&&O.overrideMimeType(T)),(b.contentType||!1!==b.contentType&&b.data&&"GET"!=b.type.toUpperCase())&&S("Content-Type",b.contentType||"application/x-www-form-urlencoded"),b.headers)for(n in b.headers)S(n,b.headers[n]);if(O.setRequestHeader=S,O.onreadystatechange=function(){if(4==O.readyState){O.onreadystatechange=g,clearTimeout(w);var e,n=!1;if(O.status>=200&&O.status<300||304==O.status||0==O.status&&"file:"==C){if(A=A||((i=b.mimeType||O.getResponseHeader("content-type"))&&(i=i.split(";",2)[0]),i&&(i==u?"html":i==l?"json":a.test(i)?"script":s.test(i)&&"xml")||"text"),"arraybuffer"==O.responseType||"blob"==O.responseType)e=O.response;else{e=O.responseText;try{"script"==A?(0,eval)(e):"xml"==A?e=O.responseXML:"json"==A&&(e=c.test(e)?null:t.parseJSON(e))}catch(t){n=t}if(n)return y(n,"parsererror",O,b,_)}f(e,O,b,_)}else y(O.statusText||null,O.status?"error":"abort",O,b,_)}var i},!1===p(O,b))return O.abort(),y(null,"abort",O,b,_),O;if(b.xhrFields)for(n in b.xhrFields)O[n]=b.xhrFields[n];var R=!("async"in b)||b.async;for(n in O.open(b.type,b.url,R,b.username,b.password),k)P.apply(O,k[n]);return b.timeout>0&&(w=setTimeout(function(){O.onreadystatechange=g,O.abort(),y(null,"timeout",O,b,_)},b.timeout)),O.send(b.data?b.data:null),O},t.get=function(){return t.ajax(b.apply(null,arguments))},t.post=function(){var e=b.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=b.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var r,a=this,s=e.split(/\s/),l=b(e,n,i),u=l.success;return s.length>1&&(l.url=s[0],r=s[1]),l.success=function(e){a.html(r?t("<div>").html(e.replace(o,"")).find(r):e),u&&u.apply(a,arguments)},t.ajax(l),this};var _=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(_(e)+"="+_(n))},function e(n,i,r,o){var a,s=t.isArray(i),l=t.isPlainObject(i);t.each(i,function(i,u){a=t.type(u),o&&(i=r?o:o+"["+(l||"object"==a||"array"==a?i:"")+"]"),!o&&s?n.add(u.name,u.value):"array"==a||!r&&"object"==a?e(n,u,r,i):n.add(i,u)})}(i,e,n),i.join("&").replace(/%20/g,"+")}}(o),(i=o).Callbacks=function(t){var e,n,r,o,a,s,l=[],u=!(t=i.extend({},t)).once&&[],c=function i(c){for(e=t.memory&&c,n=!0,s=o||0,o=0,a=l.length,r=!0;l&&s<a;++s)if(!1===l[s].apply(c[0],c[1])&&t.stopOnFalse){e=!1;break}r=!1,l&&(u?u.length&&i(u.shift()):e?l.length=0:d.disable())},d={add:function(){if(l){var n=l.length,s=function e(n){i.each(n,function(n,i){"function"==typeof i?t.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!=typeof i&&e(i)})};s(arguments),r?a=l.length:e&&(o=n,c(e))}return this},remove:function(){return l&&i.each(arguments,function(t,e){for(var n;(n=i.inArray(e,l,n))>-1;)l.splice(n,1),r&&(n<=a&&--a,n<=s&&--s)}),this},has:function(t){return!(!l||!(t?i.inArray(t,l)>-1:l.length))},empty:function(){return a=l.length=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||n&&!u||(e=[t,(e=e||[]).slice?e.slice():e],r?u.push(e):c(e)),this},fire:function(){return d.fireWith(this,arguments)},fired:function(){return!!n}};return d},function(t){var e=Array.prototype.slice;function n(e){var i=[["resolve","done",t.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",t.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",t.Callbacks({memory:1})]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return n(function(n){t.each(i,function(i,r){var s=t.isFunction(e[i])&&e[i];a[r[1]](function(){var e=s&&s.apply(this,arguments);if(e&&t.isFunction(e.promise))e.promise().done(n.resolve).fail(n.reject).progress(n.notify);else{var i=this===o?n.promise():this,a=s?[e]:arguments;n[r[0]+"With"](i,a)}})}),e=null}).promise()},promise:function(e){return null!=e?t.extend(e,o):o}},a={};return t.each(i,function(t,e){var n=e[2],s=e[3];o[e[1]]=n.add,s&&n.add(function(){r=s},i[1^t][2].disable,i[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?o:this,arguments),this},a[e[0]+"With"]=n.fireWith}),o.promise(a),e&&e.call(a,a),a}t.when=function(i){var r,o,a,s=e.call(arguments),l=s.length,u=0,c=1!==l||i&&t.isFunction(i.promise)?l:0,d=1===c?i:n(),h=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?e.call(arguments):o,i===r?d.notifyWith(n,i):--c||d.resolveWith(n,i)}};if(l>1)for(r=new Array(l),o=new Array(l),a=new Array(l);u<l;++u)s[u]&&t.isFunction(s[u].promise)?s[u].promise().done(h(u,a,s)).fail(d.reject).progress(h(u,o,r)):--c;return c||d.resolveWith(a,s),d.promise()},t.Deferred=n}(o),function(t){var e=t.zepto,n=e.qsa,i=e.matches;function r(e){return!(!(e=t(e)).width()&&!e.height())&&"none"!==e.css("display")}var o=t.expr[":"]={visible:function(){if(r(this))return this},hidden:function(){if(!r(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(t){if(0===t)return this},last:function(t,e){if(t===e.length-1)return this},eq:function(t,e,n){if(t===n)return this},contains:function(e,n,i){if(t(this).text().indexOf(i)>-1)return this},has:function(t,n,i){if(e.qsa(this,i).length)return this}},a=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),s=/^\s*>/,l="Zepto"+ +new Date;function u(t,e){t=t.replace(/=#\]/g,'="#"]');var n,i,r=a.exec(t);if(r&&r[2]in o&&(n=o[r[2]],i=r[3],t=r[1],i)){var s=Number(i);i=isNaN(s)?i.replace(/^["']|["']$/g,""):s}return e(t,n,i)}e.qsa=function(i,r){return u(r,function(o,a,u){try{var c;!o&&a?o="*":s.test(o)&&(c=t(i).addClass(l),o="."+l+" "+o);var d=n(i,o)}catch(t){throw console.error("error performing selector: %o",r),t}finally{c&&c.removeClass(l)}return a?e.uniq(t.map(d,function(t,e){return a.call(t,e,d,u)})):d})},e.matches=function(t,e){return u(e,function(e,n,r){return(!e||i(t,e))&&(!n||n.call(t,null,r)===t)})}}(o),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(t){return null}}}}(),t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};e.default=i,i.WM_PLAY_REQUESTED="wm:play:requested",i.WM_PLAY_REQUESTED_READY="wm:play:requested:ready",i.DFP_MANAGER_LOADED="dfp:manager:loaded",i.DFP_ENABLE="dfp:enable",i.DFP_DISABLE="dfp:disable",i.DFP_AD_LOADED="dfp:ad:loaded",i.DFP_AD_CLOSED="dfp:ad:closed",i.DFP_AD_STARTED="dfp:ad:started",i.DFP_AD_RESUME="dfp:playback:resume",i.DFP_AD_PAUSE="dfp:playback:pause",i.DFP_AD_CLICKED="dfp:ad:clicked",i.DFP_AD_COMPLETED="dfp:ad:completed",i.DFP_AD_SKIPPED="dfp:ad:skipped",i.DFP_AD_NOTSERVED="dfp:ad:notserved",i.DFP_AD_ERROR="dfp:ad:error",i.DFP_AD_METADATA="dfp:metadata",i.DFP_ALL_ADS_COMPLETED="dfp:allads:completed",i.DFP_CONTENT_PAUSE="dfp:content:pause",i.DFP_CONTENT_RESUME="dfp:content:resume",i.DFP_CONTENT_STARTED="dfp:content:started",i.DFP_CONTENT_ENDED="dfp:content:ended",i.DFP_FINISHED="dfp:finished",i.YOUBORA_TIMEMARK="youbora:timemark",i.WM_STREAMING_DATA_LOADED="wm:streamingdata:loaded",i.WM_VIDEO_METADATA_LOADED="wm:videometadata:loaded",i.WM_VIDEO_METADATA_ERROR="wm:videometadata:error",i.WM_RESOURCE_SELECTED="wm:resource:selected",i.WM_RESOURCE_READY="wm:resource:ready",i.WM_RESOURCE_ERROR="wm:resource:error",i.WM_SETTINGS_SHOW="wm:settings:show",i.WM_VOLUME_SHOW="wm:volume:show",i.WM_VOLUME_HIDE="wm:volume:hide",i.WM_MUTED="wm:muted",i.WM_UNMUTED="wm:unmuted",i.WM_SHARE_SHOW="wm:share:show",i.WM_SHARE_HIDE="wm:share:hide",i.WM_SPINNER_START="wm:spinner:start",i.WM_SPINNER_STOP="wm:spinner:stop",i.WM_SETTINGS_HIDE="wm:settings:hide",i.WM_SETTINGS_OPTIONS_CHANGED="wm:settings:options:changed",i.WM_SETTINGS_LEVEL_SELECTED="wm:settings:level:selected",i.WM_LEVELSELECTOR_READY="wm:levelselector:ready",i.WM_AUDIOSELECTOR_READY="wm:audioselector:ready",i.STREAMSENSE_READY="streamsense:ready",i.WM_SUBTITLE_CHANGED="wm:subtitle:changed",i.WM_SUBTITLE_CONTENT_CHANGED="wm:subtitle:content:changed",i.WM_SUBTITLE_AVAILABLE="wm:subtitle:available",i.WM_AUDIO_CHANGED="wm:audio:changed",i.WM_AUDIO_AVAILABLE="wm:audio:available",i.WM_WROOM_AUTHORIZE="wm:authorize:wroom",i.WM_WROOM_AUTHORIZED="wm:authorized:wroom",i.WM_WROOM_WAITING="wm:waiting:wroom",i.WM_PLAYBACK_CAN_PLAY="wm:playback:canplay",i.WM_PLAYBACK_WILL_PLAY="wm:playback:willplay",i.WM_PLAYBACK_BUILT="wm:playback:built",i.WM_PIP_ADDED="wm:pip:added",i.WM_PIP_DISCARDED="wm:pip:discarded",i.WM_MASTER_ADDED="wm:master:added",i.WM_MASTER_CHANGED="wm:master:changed",i.WM_PIPTOMASTER="wm:piptomaster",i.WM_MASTERTOPIP="wm:mastertopip",i.WM_STATS_REPORTED="wm:stats:reported",i.WM_LOCATION_AVAILABLE="wm:location:available",i.WM_HASH_EXPIRED="wm:hash:expired",i.WM_BITRATE_CAP="wm:bitrate:cap",i.PLAYER_PIP_ADDED="player:pip:added",i.PLAYER_PIP_DISCARDED="player:pip:discarded",i.PLAYER_MASTER_ADDED="player:master:added",i.PLAYER_MASTER_CHANGED="player:master:changed",i.PLAYER_PIPTOMASTER="player:piptomaster",i.PLAYER_CAN_PLAY="player:canplay",i.MEDIACONTROL_MODAL_SHOW="mediacontrol:showmodal",i.MEDIACONTROL_MODAL_HIDE="mediacontrol:hidemodal",i.MEDIACONTROL_KEEPVISIBLE="mediacontrol:keepvisible",i.MEDIACONTROL_ITEMCLICKED="mediacontrol:itemclicked",i.PLAYER_MEDIACONTROL_SHOW="player:mediacontrol:show",i.PLAYER_MEDIACONTROL_HIDE="player:mediacontrol:hide",t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(65)),r=l(n(1)),o=l(n(48)),a=l(n(35)),s=n(9);function l(t){return t&&t.__esModule?t:{default:t}}var u=Array.prototype.slice,c=/\s+/,d=function(t,e,n,i){if(!n)return!0;if("object"===(void 0===n?"undefined":(0,o.default)(n))){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(c.test(n)){for(var a=n.split(c),s=0,l=a.length;s<l;s++)t[e].apply(t,[a[s]].concat(i));return!1}return!0},h=function(t,e,n,i){var r=void 0,o=-1,s=t.length,l=e[0],u=e[1],c=e[2];!function d(){try{switch(e.length){case 0:for(;++o<s;)(r=t[o]).callback.call(r.ctx);return;case 1:for(;++o<s;)(r=t[o]).callback.call(r.ctx,l);return;case 2:for(;++o<s;)(r=t[o]).callback.call(r.ctx,l,u);return;case 3:for(;++o<s;)(r=t[o]).callback.call(r.ctx,l,u,c);return;default:for(;++o<s;)(r=t[o]).callback.apply(r.ctx,e);return}}catch(t){a.default.error.apply(a.default,[n,"error on event",i,"trigger","-",t]),d()}}()},p=function(){function t(){(0,r.default)(this,t)}return t.prototype.on=function(t,e,n){return d(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},t.prototype.once=function(t,e,n){var i=this,r=void 0;if(!d(this,"once",t,[e,n])||!e)return this;return r=function(){i.off(t,r),e.apply(this,arguments)},this.on(t,r,n)},t.prototype.off=function(t,e,n){var r,o,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0;if(!this._events||!d(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(u=0,o=(r=t?[t]:(0,i.default)(this._events)).length;u<o;u++)if(t=r[u],l=this._events[t]){if(this._events[t]=a=[],e||n)for(c=0,h=l.length;c<h;c++)s=l[c],(e&&e!==s.callback&&e!==s.callback._callback||n&&n!==s.context)&&a.push(s);a.length||delete this._events[t]}return this},t.prototype.trigger=function(t){var e=this.name||this.constructor.name;if(a.default.debug.apply(a.default,[e].concat(Array.prototype.slice.call(arguments))),!this._events)return this;var n=u.call(arguments,1);if(!d(this,"trigger",t,n))return this;var i=this._events[t],r=this._events.all;return i&&h(i,n,e,t),r&&h(r,arguments,e,t),this},t.prototype.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;var a=!e&&!n;for(var s in n||"object"!==(void 0===e?"undefined":(0,o.default)(e))||(n=this),t&&((r={})[t._listenId]=t),r)(t=r[s]).off(e,n,this),(a||0===(0,i.default)(t._events).length)&&delete this._listeningTo[s];return this},t.register=function(e){t.Custom||(t.Custom={});var n="string"==typeof e&&e.toUpperCase().trim();n&&!t.Custom[n]?t.Custom[n]=n.toLowerCase().split("_").map(function(t,e){return 0===e?t:t=t[0].toUpperCase()+t.slice(1)}).join(""):a.default.error("Events","Error when register event: "+e)},t.listAvailableCustomEvents=function(){return t.Custom||(t.Custom={}),(0,i.default)(t.Custom).filter(function(e){return"string"==typeof t.Custom[e]})},t}();e.default=p;var f={listenTo:"on",listenToOnce:"once"};(0,i.default)(f).forEach(function(t){p.prototype[t]=function(e,n,i){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=(0,s.uniqueId)("l"))]=e,i||"object"!==(void 0===n?"undefined":(0,o.default)(n))||(i=this),e[f[t]](n,i,this),this}}),p.PLAYER_READY="ready",p.PLAYER_RESIZE="resize",p.PLAYER_FULLSCREEN="fullscreen",p.PLAYER_PLAY="play",p.PLAYER_PAUSE="pause",p.PLAYER_STOP="stop",p.PLAYER_ENDED="ended",p.PLAYER_SEEK="seek",p.PLAYER_ERROR="playererror",p.ERROR="error",p.PLAYER_TIMEUPDATE="timeupdate",p.PLAYER_VOLUMEUPDATE="volumeupdate",p.PLAYER_SUBTITLE_AVAILABLE="subtitleavailable",p.PLAYBACK_PROGRESS="playback:progress",p.PLAYBACK_TIMEUPDATE="playback:timeupdate",p.PLAYBACK_READY="playback:ready",p.PLAYBACK_BUFFERING="playback:buffering",p.PLAYBACK_BUFFERFULL="playback:bufferfull",p.PLAYBACK_SETTINGSUPDATE="playback:settingsupdate",p.PLAYBACK_LOADEDMETADATA="playback:loadedmetadata",p.PLAYBACK_HIGHDEFINITIONUPDATE="playback:highdefinitionupdate",p.PLAYBACK_BITRATE="playback:bitrate",p.PLAYBACK_LEVELS_AVAILABLE="playback:levels:available",p.PLAYBACK_LEVEL_SWITCH_START="playback:levels:switch:start",p.PLAYBACK_LEVEL_SWITCH_END="playback:levels:switch:end",p.PLAYBACK_PLAYBACKSTATE="playback:playbackstate",p.PLAYBACK_DVR="playback:dvr",p.PLAYBACK_MEDIACONTROL_DISABLE="playback:mediacontrol:disable",p.PLAYBACK_MEDIACONTROL_ENABLE="playback:mediacontrol:enable",p.PLAYBACK_ENDED="playback:ended",p.PLAYBACK_PLAY_INTENT="playback:play:intent",p.PLAYBACK_PLAY="playback:play",p.PLAYBACK_PAUSE="playback:pause",p.PLAYBACK_SEEK="playback:seek",p.PLAYBACK_SEEKED="playback:seeked",p.PLAYBACK_STOP="playback:stop",p.PLAYBACK_ERROR="playback:error",p.PLAYBACK_STATS_ADD="playback:stats:add",p.PLAYBACK_FRAGMENT_LOADED="playback:fragment:loaded",p.PLAYBACK_LEVEL_SWITCH="playback:level:switch",p.PLAYBACK_SUBTITLE_AVAILABLE="playback:subtitle:available",p.PLAYBACK_SUBTITLE_CHANGED="playback:subtitle:changed",p.CORE_CONTAINERS_CREATED="core:containers:created",p.CORE_OPTIONS_CHANGE="core:options:change",p.CORE_READY="core:ready",p.CORE_FULLSCREEN="core:fullscreen",p.CORE_RESIZE="core:resize",p.CORE_SCREEN_ORIENTATION_CHANGED="core:screen:orientation:changed",p.CONTAINER_PLAYBACKSTATE="container:playbackstate",p.CONTAINER_PLAYBACKDVRSTATECHANGED="container:dvr",p.CONTAINER_BITRATE="container:bitrate",p.CONTAINER_STATS_REPORT="container:stats:report",p.CONTAINER_DESTROYED="container:destroyed",p.CONTAINER_READY="container:ready",p.CONTAINER_ERROR="container:error",p.CONTAINER_LOADEDMETADATA="container:loadedmetadata",p.CONTAINER_SUBTITLE_AVAILABLE="container:subtitle:available",p.CONTAINER_SUBTITLE_CHANGED="container:subtitle:changed",p.CONTAINER_TIMEUPDATE="container:timeupdate",p.CONTAINER_PROGRESS="container:progress",p.CONTAINER_PLAY="container:play",p.CONTAINER_STOP="container:stop",p.CONTAINER_PAUSE="container:pause",p.CONTAINER_ENDED="container:ended",p.CONTAINER_CLICK="container:click",p.CONTAINER_DBLCLICK="container:dblclick",p.CONTAINER_CONTEXTMENU="container:contextmenu",p.CONTAINER_MOUSE_ENTER="container:mouseenter",p.CONTAINER_MOUSE_LEAVE="container:mouseleave",p.CONTAINER_SEEK="container:seek",p.CONTAINER_SEEKED="container:seeked",p.CONTAINER_VOLUME="container:volume",p.CONTAINER_FULLSCREEN="container:fullscreen",p.CONTAINER_STATE_BUFFERING="container:state:buffering",p.CONTAINER_STATE_BUFFERFULL="container:state:bufferfull",p.CONTAINER_SETTINGSUPDATE="container:settingsupdate",p.CONTAINER_HIGHDEFINITIONUPDATE="container:highdefinitionupdate",p.CONTAINER_MEDIACONTROL_SHOW="container:mediacontrol:show",p.CONTAINER_MEDIACONTROL_HIDE="container:mediacontrol:hide",p.CONTAINER_MEDIACONTROL_DISABLE="container:mediacontrol:disable",p.CONTAINER_MEDIACONTROL_ENABLE="container:mediacontrol:enable",p.CONTAINER_STATS_ADD="container:stats:add",p.CONTAINER_OPTIONS_CHANGE="container:options:change",p.MEDIACONTROL_RENDERED="mediacontrol:rendered",p.MEDIACONTROL_FULLSCREEN="mediacontrol:fullscreen",p.MEDIACONTROL_SHOW="mediacontrol:show",p.MEDIACONTROL_HIDE="mediacontrol:hide",p.MEDIACONTROL_MOUSEMOVE_SEEKBAR="mediacontrol:mousemove:seekbar",p.MEDIACONTROL_MOUSELEAVE_SEEKBAR="mediacontrol:mouseleave:seekbar",p.MEDIACONTROL_PLAYING="mediacontrol:playing",p.MEDIACONTROL_NOTPLAYING="mediacontrol:notplaying",p.MEDIACONTROL_CONTAINERCHANGED="mediacontrol:containerchanged",p.MEDIACONTROL_OPTIONS_CHANGE="mediacontrol:options:change",t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomRecycler=e.cancelAnimationFrame=e.requestAnimationFrame=e.QueryString=e.Config=e.Fullscreen=void 0;var i=p(n(16)),r=p(n(4)),o=p(n(1)),a=p(n(2)),s=p(n(3)),l=p(n(89)),u=p(n(162));e.assign=f,e.extend=y,e.formatTime=v,e.seekStringToSeconds=_,e.uniqueId=E,e.isNumber=w,e.currentScriptUrl=T,e.getBrowserLanguage=C,e.now=O,e.removeArrayItem=P,e.canAutoPlayMedia=R,n(165);var c=p(n(18)),d=p(n(5)),h=p(n(169));function p(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(e)for(var n in e){var i=(0,u.default)(e,n);i?(0,l.default)(t,n,i):t[n]=e[n]}return t}function y(t,e){var n=function(t){function n(){(0,o.default)(this,n);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=(0,a.default)(this,t.call.apply(t,[this].concat(r)));return e.initialize&&e.initialize.apply(l,r),l}return(0,s.default)(n,t),n}(t);return f(n.prototype,e),n}function v(t,e){if(!isFinite(t))return"--:--";t*=1e3;var n=(t=parseInt(t/1e3))%60,i=(t=parseInt(t/60))%60,r=(t=parseInt(t/60))%24,o=parseInt(t/24),a="";return o&&o>0&&(a+=o+":",r<1&&(a+="00:")),(r&&r>0||e)&&(a+=("0"+r).slice(-2)+":"),a+=("0"+i).slice(-2)+":",(a+=("0"+n).slice(-2)).trim()}var g=e.Fullscreen={isFullscreen:function(){return!!(document.webkitFullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)},requestFullscreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.querySelector&&t.querySelector("video")&&t.querySelector("video").webkitEnterFullScreen?t.querySelector("video").webkitEnterFullScreen():t.webkitEnterFullScreen&&t.webkitEnterFullScreen()},cancelFullscreen:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;t.exitFullscreen?t.exitFullscreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen()},fullscreenEnabled:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},m=e.Config=function(){function t(){(0,o.default)(this,t)}return t._defaultConfig=function(){return{volume:{value:100,parse:parseInt}}},t._defaultValueFor=function(t){try{return this._defaultConfig()[t].parse(this._defaultConfig()[t].value)}catch(t){return}},t._createKeyspace=function(t){return"clappr."+document.domain+"."+t},t.restore=function(t){return c.default.hasLocalstorage&&localStorage[this._createKeyspace(t)]?this._defaultConfig()[t].parse(localStorage[this._createKeyspace(t)]):this._defaultValueFor(t)},t.persist=function(t,e){if(c.default.hasLocalstorage)try{return localStorage[this._createKeyspace(t)]=e,!0}catch(t){return!1}},t}(),b=e.QueryString=function(){function t(){(0,o.default)(this,t)}return t.parse=function(t){for(var e=void 0,n=/\+/g,i=/([^&=]+)=?([^&]*)/g,r=function(t){return decodeURIComponent(t.replace(n," "))},o={};e=i.exec(t);)o[r(e[1]).toLowerCase()]=r(e[2]);return o},(0,r.default)(t,null,[{key:"params",get:function(){var t=window.location.search.substring(1);return t!==this.query&&(this._urlParams=this.parse(t),this.query=t),this._urlParams}},{key:"hashParams",get:function(){var t=window.location.hash.substring(1);return t!==this.hash&&(this._hashParams=this.parse(t),this.hash=t),this._hashParams}}]),t}();function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"t",e=0,n=b.params[t]||b.hashParams[t]||"",i=n.match(/[0-9]+[hms]+/g)||[];if(i.length>0){var r={h:3600,m:60,s:1};i.forEach(function(t){if(t){var n=t[t.length-1],i=parseInt(t.slice(0,t.length-1),10);e+=i*r[n]}})}else n&&(e=parseInt(n,10));return e}var A={};function E(t){return A[t]||(A[t]=0),t+ ++A[t]}function w(t){return t-parseFloat(t)+1>=0}function T(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}var k=e.requestAnimationFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}).bind(window),S=e.cancelAnimationFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout).bind(window);function C(){return window.navigator&&window.navigator.language}function O(){return window.performance&&window.performance.now?performance.now():Date.now()}function P(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function R(t,e){var n=(e=(0,i.default)({inline:!1,muted:!1,timeout:250,type:"video",source:h.default.mp4,element:null},e)).element?e.element:document.createElement(e.type);n.muted=e.muted,!0===e.muted&&n.setAttribute("muted","muted"),!0===e.inline&&n.setAttribute("playsinline","playsinline"),n.src=e.source;var r=n.play(),o=setTimeout(function(){a(!1,new Error("Timeout "+e.timeout+" ms has been reached"))},e.timeout),a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(o),t(e,n)};void 0!==r?r.then(function(){return a(!0)}).catch(function(t){return a(!1,t)}):a(!0)}var I=[],x=e.DomRecycler=function(){function t(){(0,o.default)(this,t)}return t.configure=function(t){this.options=d.default.extend(this.options,t)},t.create=function(t){return this.options.recycleVideo&&"video"===t&&I.length>0?I.shift():(0,d.default)("<"+t+">")},t.garbage=function(t){this.options.recycleVideo&&"VIDEO"===t[0].tagName.toUpperCase()&&(t.children().remove(),I.push(t))},t}();x.options={recycleVideo:!1},e.default={Config:m,Fullscreen:g,QueryString:b,DomRecycler:x,extend:y,formatTime:v,seekStringToSeconds:_,uniqueId:E,currentScriptUrl:T,isNumber:w,requestAnimationFrame:k,cancelAnimationFrame:S,getBrowserLanguage:C,now:O,removeArrayItem:P,canAutoPlayMedia:R,Media:h.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=g(n(269)),r=n(270),o=g(n(273)),a=n(274),s=n(275),l=n(119),u=g(n(114)),c=g(n(276)),d=n(287),h=g(d),p=g(n(75)),f=g(n(288)),y=g(n(289));n(123);var v=g(n(5));function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t,e){var n=e+1-t.toString().length;return new Array(Math.max(0,n)).join("0")+t},b=function(){return new Date};e.default={Ajax:i.default,rstr2b64:function(t){for(var e="",n=t.length,i=0;i<n;i+=3)for(var r=t.charCodeAt(i)<<16|(i+1<n?t.charCodeAt(i+1)<<8:0)|(i+2<n?t.charCodeAt(i+2):0),o=0;o<4;o++)8*i+6*o>8*t.length?e+="":e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(r>>>6*(3-o)&63);return e},rstr2hex:function(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);e+="0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i)}return e},applySizeClass:function(t,e){e&&"number"==typeof e&&(t.removeClass("w960 w640 w540 w480 w360"),e<=360?t.addClass("w360"):e<=480?t.addClass("w480"):e<540?t.addClass("w540"):e<=640?t.addClass("w640"):t.addClass("w960"))},getExperimentsList:l.getExperimentsList,getExperimentAlternative:l.getExperimentAlternative,toLowerCase:function(t){return"string"==typeof t?t.toLowerCase():t},embedScript:function(t){var e=v.default.Deferred(),n=document.createElement("script");return n.type="text/javascript",n.async=!0,n.src=t,n.onload=function(){e.resolve()},n.onerror=function(t){e.reject(t)},document.head.appendChild(n),e.promise()},Fullscreen:o.default,get:function(t,e,n){return e.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).every(function(e){return!(e&&void 0===(t=t[e]))})?t:n},getCookie:function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?window.unescape(e[2]):null},getCurrentDate:b,getCurrentTime:function(){return b().getTime()},getDeviceType:s.getDeviceType,getPlatformName:s.getPlatformName,getExpiresDateInGMT:function(t){var e=new Date;return e.setTime(e.getTime()+24*t*60*60*1e3),e.toGMTString()},getHostname:function(){return location.hostname},getHostAndPathName:function(){var t=(location.pathname||"").split("/")||[];return location.hostname+(t.length>0?"/"+t[1]:"")},isNaN:function(t){return t!=t},iso8601TimezoneOffset:function(){var t=-b().getTimezoneOffset(),e=Math.abs(t)/60,n=Math.abs(t)%60;return(0==t?"":t>0?"+":"-")+m(e,2)+":"+m(n,2)},loadUrlAsImage:function(t){var e=new Image;return e.src=t,e},LocalStorage:u.default,Location:c.default,now:function(){return window.performance&&window.performance.now&&performance.now()||Date.now()},percent:function(t,e){return 0===t?t:t/e*100},QueryString:h.default,toQueryString:d.toQueryString,seekStringToSeconds:function(){var t=0,e=h.default.params.s||"",n=e.match(/[0-9]+[hms]+/g)||[];if(n.length>0){var i={h:3600,m:60,s:1};n.forEach(function(e){if(e){var n=e[e.length-1],r=parseInt(e.slice(0,e.length-1),10);t+=r*i[n]}})}else e&&(t=parseInt(e,10));return t},toDurationString:function(t){var e=t/6e4,n=[0,1,2,3,4,5,7,10],i=void 0;for(i=0;i<n.length&&!(e<n[i]);i++);return i<n.length?m(n[i-1],2)+":0"+(0===i?0:1)+" - "+m(n[i],2)+":00":"10:01 +"},secondsToMillis:function(t){return 1e3*t>>0},User:f.default,Uid:p.default,zeroPad:m,copyToClipboard:function(t,e){if(e){var n=(0,v.default)('<textarea style="opacity:0" class="copytextarea"/>');n.text(t),e.append(n);var i=e.find(".copytextarea")[0],r=document.activeElement;i.focus(),i.select();var o=document.execCommand("copy");return n.remove(),r.focus(),o}},mergePlugins:function(t,e){var n=[];return t.concat(e).filter(function(t){if(!t)return!1;var e=t.prototype.name,i=-1===n.indexOf(e);return i&&n.push(e),i})},autoplayManager:r.autoplayManager,registerGlobal:a.registerGlobal,GlobalsManager:a.GlobalsManager,DOM:y.default,API_VERSION:s.API_VERSION},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},r=/(.)^/,o={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},a=/\\|'|\r|\n|\t|\u2028|\u2029/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},l=new RegExp("[&<>\"']","g"),u=function(t){return null===t?"":(""+t).replace(l,function(t){return s[t]})},c=0,d=function(t,e){var n,s=new RegExp([(i.escape||r).source,(i.interpolate||r).source,(i.evaluate||r).source].join("|")+"|$","g"),l=0,d="__p+='";t.replace(s,function(e,n,i,r,s){return d+=t.slice(l,s).replace(a,function(t){return"\\"+o[t]}),n&&(d+="'+\n((__t=("+n+"))==null?'':escapeExpr(__t))+\n'"),i&&(d+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(d+="';\n"+r+"\n__p+='"),l=s+e.length,e}),d+="';\n",i.variable||(d="with(obj||{}){\n"+d+"}\n"),d="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+d+"return __p;\n//# sourceURL=/microtemplates/source["+c+++"]";try{n=new Function(i.variable||"obj","escapeExpr",d)}catch(t){throw t.source=d,t}if(e)return n(e,u);var h=function(t){return n.call(this,t,u)};return h.source="function("+(i.variable||"obj")+"){\n"+d+"}",h};d.settings=i,e.default=d,t.exports=e.default},function(t,e,n){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),l=null,u=0,c=[],d=n(180);function h(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(m(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(m(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function f(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function v(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),g(e,t.attrs),f(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=u++;n=l||(l=v(e)),i=A.bind(null,n,a,!1),r=A.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),f(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=d(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){y(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return h(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}t&&h(p(t,e),e);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b,_=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function A(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(16)),r=h(n(1)),o=h(n(2)),a=h(n(4)),s=h(n(3)),l=n(9),u=h(n(27)),c=h(n(23)),d=h(n(5));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(n,i,a){(0,r.default)(this,e);var s=(0,o.default)(this,t.call(this,n));return s.settings={},s._i18n=i,s.playerError=a,s._consented=!1,s}return(0,s.default)(e,t),(0,a.default)(e,[{key:"isAudioOnly",get:function(){return!1}},{key:"isAdaptive",get:function(){return!1}},{key:"ended",get:function(){return!1}},{key:"i18n",get:function(){return this._i18n}},{key:"buffering",get:function(){return!1}},{key:"consented",get:function(){return this._consented}}]),e.prototype.consent=function(){this._consented=!0},e.prototype.play=function(){},e.prototype.pause=function(){},e.prototype.stop=function(){},e.prototype.seek=function(t){},e.prototype.seekPercentage=function(t){},e.prototype.getStartTimeOffset=function(){return 0},e.prototype.getDuration=function(){return 0},e.prototype.isPlaying=function(){return!1},e.prototype.getPlaybackType=function(){return e.NO_OP},e.prototype.isHighDefinitionInUse=function(){return!1},e.prototype.volume=function(t){},e.prototype.configure=function(t){this._options=d.default.extend(this._options,t)},e.prototype.destroy=function(){this.remove()},e.prototype.attemptAutoPlay=function(){var t=this;this.canAutoPlay(function(e,n){e&&t.play()})},e.prototype.canAutoPlay=function(t){t(!0,null)},(0,a.default)(e,[{key:"isReady",get:function(){return!1}},{key:"hasClosedCaptionsTracks",get:function(){return this.closedCaptionsTracks.length>0}},{key:"closedCaptionsTracks",get:function(){return[]}},{key:"closedCaptionsTrackId",get:function(){return-1},set:function(t){}}]),e}(u.default);e.default=p,(0,i.default)(p.prototype,c.default),p.extend=function(t){return(0,l.extend)(p,t)},p.canPlay=function(t,e){return!1},p.VOD="vod",p.AOD="aod",p.LIVE="live",p.NO_OP="no_op",p.type="playback",t.exports=e.default},function(t,e,n){"use strict";var i=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(5),o=(i=r)&&i.__esModule?i:{default:i},a=n(0);e.default={getStyleFrom:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{baseUrl:""};e=e||{};var n=(0,a.template)(t.toString())(e);return e.playerId&&(n=n.replace(/\#wp3-player-0/g,"#wp3-player-"+e.playerId)),(0,o.default)('<style class="clappr-style"></style>').html(n)}},t.exports=e.default},function(t,e,n){"use strict";t.exports={default:n(125),__esModule:!0}},function(t,e,n){"use strict";var i=n(62)("wks"),r=n(45),o=n(21).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(166),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(1)),r=l(n(2)),o=l(n(4)),a=l(n(3)),s=n(9);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o._options=n,o.uniqueId=(0,s.uniqueId)("o"),o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"options",get:function(){return this._options}}]),e}(l(n(7)).default);e.default=u,t.exports=e.default},function(t,e,n){"use strict";var i=n(21),r=n(14),o=n(56),a=n(31),s=function t(e,n,s){var l,u,c,d=e&t.F,h=e&t.G,p=e&t.S,f=e&t.P,y=e&t.B,v=e&t.W,g=h?r:r[n]||(r[n]={}),m=g.prototype,b=h?i:p?i[n]:(i[n]||{}).prototype;for(l in h&&(s=n),s)(u=!d&&b&&void 0!==b[l])&&l in g||(c=u?b[l]:s[l],g[l]=h&&"function"!=typeof b[l]?s[l]:y&&u?o(c,i):v&&b[l]==c?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):f&&"function"==typeof c?o(Function.call,c):c,f&&((g.virtual||(g.virtual={}))[l]=c,e&t.R&&m&&!m[l]&&a(m,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){"use strict";var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,n){"use strict";var i=n(32),r=n(79),o=n(57),a=Object.defineProperty;e.f=n(24)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(16)),r=a(n(35)),o=a(n(28));function a(t){return t&&t.__esModule?t:{default:t}}var s={createError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useCodePrefix:!0},n=this.constructor&&this.constructor.type||"",a=this.name||n,s=this.i18n||this.core&&this.core.i18n||this.container&&this.container.i18n,l=a+":"+(t&&t.code||"unknown"),u={description:"",level:o.default.Levels.FATAL,origin:a,scope:n,raw:{}},c=(0,i.default)({},u,t,{code:e.useCodePrefix?l:t.code});if(s&&c.level==o.default.Levels.FATAL&&!c.UI){var d={title:s.t("default_error_title"),message:s.t("default_error_message")};c.UI=d}return this.playerError?this.playerError.createError(c):r.default.warn(a,"PlayerError is not defined. Error: ",c),c}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";t.exports=!n(34)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,n){"use strict";var i=n(82),r=n(59);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(1)),r=u(n(2)),o=u(n(4)),a=u(n(3)),s=u(n(5)),l=n(9);function u(t){return t&&t.__esModule?t:{default:t}}var c=/^(\S+)\s*(.*)$/,d=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o.cid=(0,l.uniqueId)("c"),o._ensureElement(),o.delegateEvents(),o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"tagName",get:function(){return"div"}},{key:"events",get:function(){return{}}},{key:"attributes",get:function(){return{}}}]),e.prototype.$=function(t){return this.$el.find(t)},e.prototype.render=function(){return this},e.prototype.remove=function(){return this.$el.remove(),this.stopListening(),this.undelegateEvents(),this},e.prototype.setElement=function(t,e){return this.$el&&this.undelegateEvents(),this.$el=s.default.zepto.isZ(t)?t:(0,s.default)(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},e.prototype.delegateEvents=function(t){if(!t&&!(t=this.events))return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(n&&n.constructor!==Function&&(n=this[t[e]]),n){var i=e.match(c),r=i[1],o=i[2];r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,n.bind(this)):this.$el.on(r,o,n.bind(this))}}return this},e.prototype.undelegateEvents=function(){return this.$el.off(".delegateEvents"+this.cid),this},e.prototype._ensureElement=function(){if(this.el)this.setElement(this.el,!1);else{var t=s.default.extend({},this.attributes);this.id&&(t.id=this.id),this.className&&(t.class=this.className);var e=l.DomRecycler.create(this.tagName).attr(t);this.setElement(e,!1)}},e}(u(n(19)).default);e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(93),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(75),a=(i=o)&&i.__esModule?i:{default:i};var s=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sessions={}}return r(t,[{key:"startSession",value:function(t){this.sessions[t]=a.default.generate()}},{key:"getVideoSessionId",value:function(t){return this.sessions[t]}},{key:"storeLockId",value:function(t){this.sessions.lockId=t}},{key:"getLockId",value:function(){return this.sessions.lockId}}]),t}());e.default=s,t.exports=e.default},function(t,e,n){"use strict";var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(t){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],d=!1,h=-1;function p(){d&&u&&(d=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!d){var t=l(p);d=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new y(t,e)),1!==c.length||d||l(f)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var i=n(22),r=n(39);t.exports=n(24)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var i=n(33);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":i(t))?null!==t:"function"==typeof t}},function(t,e,n){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(170),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var o=new(r(n(7)).default),a=function t(){(0,i.default)(this,t)};e.default=a,a.on=function(t,e,n){o.on(t,e,n)},a.once=function(t,e,n){o.once(t,e,n)},a.off=function(t,e,n){o.off(t,e,n)},a.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];o.trigger.apply(o,[t].concat(n))},a.stopListening=function(t,e,n){o.stopListening(t,e,n)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AUTHORIZATION_ERROR={code:"AUT",http_status_code:403},e.INVALID_VIDEO_ERROR={code:"invalid-video"},e.DEFAULT_PROFILE="max",e.DEFAULT_CDN="globo",e.DEFAULT_QUERY_STRING_TEMPLATE="h={{hash}}&k={{key}}&a={{openClosed}}&u={{user}}",e.DEFAULT_HASH_REQUEST_METHOD="GET"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(6),s=(i=a)&&i.__esModule?i:{default:i};var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.$el.on("click",function(t){t.stopPropagation(),n.mediaControl.trigger(s.default.MEDIACONTROL_ITEMCLICKED)}),n.$el.addClass("media-control-element"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.UICorePlugin),r(e,[{key:"panel",get:function(){return"middle"}},{key:"position",get:function(){return"center"}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}},{key:"kibo",get:function(){return this.mediaControlPlugin.kibo}}]),r(e,[{key:"applyButtonStyle",value:function(t){this.buttonsColor&&t&&$(t).find("svg path").css("fill",this.buttonsColor)}},{key:"bindKeyAndShow",value:function(t,e){var n=this;this.kibo.down(t,function(){return n.mediaControl.show(),e()})}}]),e}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(81),r=n(63);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(16)),r=d(n(1)),o=d(n(2)),a=d(n(4)),s=d(n(3)),l=n(9),u=d(n(27)),c=d(n(23));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n){(0,r.default)(this,e);var i=(0,o.default)(this,t.call(this,n.options));return i.core=n,i.enabled=!0,i.bindEvents(),i.render(),i}return(0,s.default)(e,t),(0,a.default)(e,[{key:"playerError",get:function(){return this.core.playerError}}]),e.prototype.bindEvents=function(){},e.prototype.getExternalInterface=function(){return{}},e.prototype.enable=function(){this.enabled||(this.bindEvents(),this.$el.show(),this.enabled=!0)},e.prototype.disable=function(){this.stopListening(),this.$el.hide(),this.enabled=!1},e.prototype.destroy=function(){this.remove()},e.prototype.render=function(){return this},e}(u.default);e.default=h,(0,i.default)(h.prototype,c.default),h.extend=function(t){return(0,l.extend)(h,t)},h.type="core",t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(16)),r=d(n(1)),o=d(n(2)),a=d(n(4)),s=d(n(3)),l=n(9),u=d(n(19)),c=d(n(23));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n){(0,r.default)(this,e);var i=(0,o.default)(this,t.call(this,n.options));return i.core=n,i.enabled=!0,i.bindEvents(),i}return(0,s.default)(e,t),(0,a.default)(e,[{key:"playerError",get:function(){return this.core.playerError}}]),e.prototype.bindEvents=function(){},e.prototype.enable=function(){this.enabled||(this.bindEvents(),this.enabled=!0)},e.prototype.disable=function(){this.enabled&&(this.stopListening(),this.enabled=!1)},e.prototype.getExternalInterface=function(){return{}},e.prototype.destroy=function(){this.stopListening()},e}(u.default);e.default=h,(0,i.default)(h.prototype,c.default),h.extend=function(t){return(0,l.extend)(h,t)},h.type="core",t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorScreen=void 0;var i=o(n(78)),r=o(n(284));function o(t){return t&&t.__esModule?t:{default:t}}e.default=i.default,e.ErrorScreen=r.default},function(t,e,n){"use strict";var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},function(t,e,n){"use strict";e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var i=n(59);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__esModule=!0;var r=s(n(133)),o=s(n(144)),a="function"==typeof o.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===a(r.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":a(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i};var a=function t(){(0,o.default)(this,t),this.options={},this.playbackPlugins=[],this.currentSize={width:0,height:0}};a._players={},a.getInstance=function(t){return a._players[t]||(a._players[t]=new a)},e.default=a,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(205),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(16)),r=d(n(1)),o=d(n(2)),a=d(n(4)),s=d(n(3)),l=n(9),u=d(n(27)),c=d(n(23));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n){(0,r.default)(this,e);var i=(0,o.default)(this,t.call(this,n.options));return i.container=n,i.enabled=!0,i.bindEvents(),i}return(0,s.default)(e,t),(0,a.default)(e,[{key:"playerError",get:function(){return this.container.playerError}}]),e.prototype.enable=function(){this.enabled||(this.bindEvents(),this.$el.show(),this.enabled=!0)},e.prototype.disable=function(){this.stopListening(),this.$el.hide(),this.enabled=!1},e.prototype.bindEvents=function(){},e.prototype.destroy=function(){this.remove()},e}(u.default);e.default=h,(0,i.default)(h.prototype,c.default),h.extend=function(t){return(0,l.extend)(h,t)},h.type="container",t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(16)),r=d(n(1)),o=d(n(2)),a=d(n(4)),s=d(n(3)),l=d(n(19)),u=n(9),c=d(n(23));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n){(0,r.default)(this,e);var i=(0,o.default)(this,t.call(this,n.options));return i.container=n,i.enabled=!0,i.bindEvents(),i}return(0,s.default)(e,t),(0,a.default)(e,[{key:"playerError",get:function(){return this.container.playerError}}]),e.prototype.enable=function(){this.enabled||(this.bindEvents(),this.enabled=!0)},e.prototype.disable=function(){this.enabled&&(this.stopListening(),this.enabled=!1)},e.prototype.bindEvents=function(){},e.prototype.destroy=function(){this.stopListening()},e}(l.default);e.default=h,(0,i.default)(h.prototype,c.default),h.extend=function(t){return(0,u.extend)(h,t)},h.type="container",t.exports=e.default},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(171),o=(i=r)&&i.__esModule?i:{default:i};e.default={Kibo:o.default},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=n(10);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.httpOnly=e,this.protocol="http"+(e?"":"s")}return i(t,null,[{key:"isInternal",get:function(){return/(ef(-.*)?|publish\.api\.video|player)(\.qa01|\.local|\.dev)?\.globoi\.com$/.test(location.hostname)}},{key:"isGloboiDomain",get:function(){return/\.globoi\.com$/.test(location.hostname)}},{key:"isGloboDomain",get:function(){return!this.isInternal&&/\.globo\.com$/.test(location.hostname)}},{key:"playerId",get:function(){return this._playerId||(this._playerId=o.Uid.generate()),this._playerId}},{key:"hashQueryString",get:function(){return"hash?resource_id=<%= resourceId %><%= callback ? '&callback=' + callback : '' %>&version=5.6.6&player=<%= player %>&tz=<%= tz %>&cdn=<%= cdn %>&profile=<%= profile %>"}}]),i(t,[{key:"horizonHost",get:function(){return this.protocol+"://horizon.globo.com"}},{key:"scorecardBeacon",get:function(){return this.protocol+"://"+(this.httpOnly?"":"s")+"b.scorecardresearch.com/beacon.js"}},{key:"scorecardMeasurement",get:function(){return this.protocol+"://"+(this.httpOnly?"":"s")+"b.scorecardresearch.com/p?c1=2&c2=6035227&ns_site=globo"}},{key:"streamsenseScript",get:function(){return this.protocol+"://s.videos.globo.com/p2/j/streamsense.min.js"}},{key:"dfpAdTagTemplate",get:function(){return(0,r.template)(this.protocol+"://pubads.g.doubleclick.net/gampad/ads?sz=1280x720&iu=/<%= adAccountId %>/<%= adUnit %>&cmsid=<%= adCmsId %>&vid=<%= videoId %>&cust_params=<%= customParams %>&ciu_szs=940x360&impl=s&gdfp_req=1&env=vp&output=xml_vast3&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]")}},{key:"blackVideoUrl",get:function(){return this.protocol+"://s.glbimg.com/vi/p3/black.mp4"}},{key:"blackVideoStreamingUrl",get:function(){return this.protocol+"://s.glbimg.com/vi/p3/black.m3u8"}},{key:"thumbsHost",get:function(){return this.protocol+"://live-thumbs.video.globo.com/"}},{key:"thumbsPreviewHost",get:function(){return this.protocol+"://v.glbimg.com"}},{key:"youboraScript",get:function(){return this.protocol+"://p.glbimg.com/vendor/libs/youboralib-v5.5.4.min.js"}},{key:"waitingRoomHost",get:function(){return this.protocol+"://wroom.video.globo.com/try"}},{key:"bandwidthLimitsHost",get:function(){return this.protocol+"://wroom.video.globo.com/limits"}},{key:"webmediaApiHit",get:function(){return this.protocol+"://stats.video.globo.com"}},{key:"userProfileApiHost",get:function(){return this.protocol+"://api.user.video.globo.com"}},{key:"sentryHost",get:function(){return this.protocol+"://b27646b6f99a488b9fdc77005d01a2db@api.sentry.globoi.com/180"}},{key:"peer5Lib",get:function(){return this.protocol+"://api.peer5.com/peer5.js?id=azxztjbqw36b2p6k3ftq"}}],[{key:"get",value:function(e,n){return"qa1"===e&&(e="dev"),new t[e=t.isInternal?"dev"===e?"internalDev":"internal":e||"prod"](n)}}]),t}();e.default=a,a.local=r.Utils.extend(a,{get name(){return"local"},get securityHost(){return this.protocol+"://security.video.globo.com"},get CDNRouterHost(){return this.protocol+"://router.video.globo.com/cdn"},get hashTemplate(){return(0,r.template)(this.protocol+"://security.video.globo.com/videos/<%= videoId %>/"+a.hashQueryString)},get playlistTemplate(){return(0,r.template)(this.protocol+"://api.globovideos.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,r.template)(this.protocol+"://s0<%= domainNumber %>.video.glbimg.com/<%= size %>/<%= videoId %>.jpg")},get posterAdultTemplate(){return(0,r.template)(this.protocol+"://a0<%= domainNumber %>.video.glbimg.com/<%= size %>/<%= videoId %>.jpg")},get youboraScript(){return"j/vendor/youboralib-v5.5.4.js"}}),a.dev=r.Utils.extend(a,{get name(){return"dev"},get securityHost(){return this.protocol+"://security.video.dev.globoi.com"},get CDNRouterHost(){return this.protocol+"://router.video.dev.globoi.com/cdn"},get hashTemplate(){return(0,r.template)(this.protocol+"://security.video.dev.globoi.com/videos/<%= videoId %>/"+a.hashQueryString)},get playlistTemplate(){return(0,r.template)(this.protocol+"://api.globovideos.dev.globoi.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,r.template)(this.protocol+"://s0<%= domainNumber %>.video.glbimg.dev.globoi.com/<%= size %>/<%= videoId %>.jpg")},get posterAdultTemplate(){return(0,r.template)(this.protocol+"://a0<%= domainNumber %>.video.glbimg.dev.globoi.com/<%= size %>/<%= videoId %>.jpg")},get waitingRoomHost(){return this.protocol+"://wroom.video.dev.globoi.com/try"},get webmediaApiHit(){return this.protocol+"://stats.video.dev.globoi.com"},get thumbsHost(){return this.protocol+"://live-thumbs.video.dev.globoi.com/"}}),a.internalDev=r.Utils.extend(a,{get name(){return"internalDev"},get securityHost(){return this.protocol+"://api.video.dev.globoi.com"},get CDNRouterHost(){return this.protocol+"://router.video.dev.globoi.com/cdn"},get hashTemplate(){return(0,r.template)(this.protocol+"://api.video.dev.globoi.com/videos/<%= videoId %>/"+a.hashQueryString)},get playlistTemplate(){return(0,r.template)(this.protocol+"://api.video.dev.globoi.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,r.template)(this.protocol+"://s0<%= domainNumber %>.video.glbimg.dev.globoi.com/<%= size %>/<%= videoId %>.jpg")},get posterAdultTemplate(){return(0,r.template)(this.protocol+"://a0<%= domainNumber %>.video.glbimg.dev.globoi.com/<%= size %>/<%= videoId %>.jpg")},get waitingRoomHost(){return this.protocol+"://wroom.video.dev.globoi.com/try"},get webmediaApiHit(){return this.protocol+"://stats.video.dev.globoi.com"},get thumbsHost(){return this.protocol+"://live-thumbs.video.dev.globoi.com/"}}),a.internal=r.Utils.extend(a,{get name(){return"internal"},get securityHost(){return this.protocol+"://api.video.globoi.com"},get CDNRouterHost(){return this.protocol+"://router.video.globo.com/cdn"},get hashTemplate(){return(0,r.template)(this.protocol+"://api.video.globoi.com/videos/<%= videoId %>/"+a.hashQueryString)},get playlistTemplate(){return(0,r.template)(this.protocol+"://api.video.globoi.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,r.template)(this.protocol+"://s0<%= domainNumber %>.video.glbimg.com/<%= size %>/<%= videoId %>.jpg")},get posterAdultTemplate(){return(0,r.template)(this.protocol+"://a0<%= domainNumber %>.video.glbimg.com/<%= size %>/<%= videoId %>.jpg")}}),a.prod=r.Utils.extend(a,{get name(){return"prod"},get securityHost(){return this.protocol+"://security.video.globo.com"},get CDNRouterHost(){return this.protocol+"://router.video.globo.com/cdn"},get hashTemplate(){return(0,r.template)(this.protocol+"://security.video.globo.com/videos/<%= videoId %>/"+a.hashQueryString)},get playlistTemplate(){return(0,r.template)(this.protocol+"://api.globovideos.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,r.template)(this.protocol+"://s0<%= domainNumber %>.video.glbimg.com/<%= size %>/<%= videoId %>.jpg")},get posterAdultTemplate(){return(0,r.template)(this.protocol+"://a0<%= domainNumber %>.video.glbimg.com/<%= size %>/<%= videoId %>.jpg")}}),t.exports=e.default},function(t,e,n){"use strict";var i=n(127);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var i=n(33);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,n){"use strict";t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},function(t,e,n){"use strict";var i=n(62)("keys"),r=n(45);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){"use strict";var i=n(21),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,n){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";t.exports={default:n(131),__esModule:!0}},function(t,e,n){"use strict";t.exports=!0},function(t,e,n){"use strict";var i=n(32),r=n(137),o=n(63),a=n(61)("IE_PROTO"),s=function(){},l=function(){var t,e=n(80)("iframe"),i=o.length;for(e.style.display="none",n(138).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){"use strict";var i=n(22).f,r=n(25),o=n(17)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";e.f=n(17)},function(t,e,n){"use strict";var i=n(21),r=n(14),o=n(66),a=n(69),s=n(22).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){"use strict";var i=n(46),r=n(39),o=n(26),a=n(57),s=n(25),l=n(79),u=Object.getOwnPropertyDescriptor;e.f=n(24)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M1.425.35L14.575 8l-13.15 7.65V.35z"></path></svg>'},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(101),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(210),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"s4",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generate",value:function(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()}}]),t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(117),r=a(n(118)),o=a(n(314));function a(t){return t&&t.__esModule?t:{default:t}}e.default={BaseYouboraPlugin:i.BaseYouboraPlugin,BaseYouboraAdnalyzers:i.BaseYouboraAdnalyzers,YouboraGenericPlugin:r.default,Youbora:o.default},t.exports=e.default},function(t,e){var n,i;n=this,i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=8)}([function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(){}var o={trace:r,debug:r,log:r,warn:r,info:r,error:r},a=o;function s(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(e){a[e]=t[e]?t[e].bind(t):function(t){var e=self.console[t];return e?function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];i[0]&&(i[0]=function(t,e){return e="["+t+"] > "+e}(t,i[0])),e.apply(self.console,i)}:r}(e)})}var l=function(t){if(!0===t||"object"===(void 0===t?"undefined":i(t))){s(t,"debug","log","info","warn","error");try{a.log()}catch(t){a=o}}else a=o},u=o},function(t,e,n){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){for(var i=n,r=0;t.isHeader(e,n);){r+=10,r+=t._readSize(e,n+6),t.isFooter(e,n+10)&&(r+=10),n+=r}if(r>0)return e.subarray(i,i+r)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3]},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),i=0;i<n.length;i++){var r=n[i];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4);return{type:n,size:i,data:e.subarray(10,10+i)}},t.getID3Frames=function(e){for(var n=0,i=[];t.isHeader(e,n);){for(var r=t._readSize(e,n+6),o=(n+=10)+r;n+8<o;){var a=t._getFrameData(e.subarray(n)),s=t._decodeFrame(a);s&&i.push(s),n+=a.size+10}t.isFooter(e,n)&&(n+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,i=t._utf8ArrayToStr(e.data.subarray(n));n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var o=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,i=t._utf8ArrayToStr(e.data.subarray(n));n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var o=t._utf8ArrayToStr(e.data);return{key:e.type,data:o}},t._utf8ArrayToStr=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.length,i=void 0,r=void 0,o=void 0,a="",s=0;s<n;){if(0===(i=t[s++])&&e)return a;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:r=t[s++],a+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=t[s++],o=t[s++],a+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&o)<<0)}}return a},t}(),r=i._utf8ArrayToStr;e.a=i},function(t,e,n){"use strict";var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subtle=e,this.aesIV=n}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}();var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subtle=e,this.key=n}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}();var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),i=0;i<4;i++)n[i]=e.getUint32(4*i);return n},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],r=n[1],o=n[2],a=n[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],h=new Uint32Array(256),p=0,f=0,y=0;for(y=0;y<256;y++)h[y]=y<128?y<<1:y<<1^283;for(y=0;y<256;y++){var v=f^f<<1^f<<2^f<<3^f<<4;v=v>>>8^255&v^99,t[p]=v,e[v]=p;var g=h[p],m=h[g],b=h[m],_=257*h[v]^16843008*v;i[p]=_<<24|_>>>8,r[p]=_<<16|_>>>16,o[p]=_<<8|_>>>24,a[p]=_,_=16843009*b^65537*m^257*g^16843008*p,l[v]=_<<24|_>>>8,u[v]=_<<16|_>>>16,c[v]=_<<8|_>>>24,d[v]=_,p?(p=g^h[h[h[b^g]]],f^=h[h[f]]):p=f=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,i=0;i<e.length&&n;)n=e[i]===this.key[i],i++;if(!n){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var o=this.ksRows=4*(r+6+1),a=void 0,s=void 0,l=this.keySchedule=new Uint32Array(o),u=this.invKeySchedule=new Uint32Array(o),c=this.sBox,d=this.rcon,h=this.invSubMix,p=h[0],f=h[1],y=h[2],v=h[3],g=void 0,m=void 0;for(a=0;a<o;a++)a<r?g=l[a]=e[a]:(m=g,a%r==0?(m=c[(m=m<<8|m>>>24)>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[255&m],m^=d[a/r|0]<<24):r>6&&a%r==4&&(m=c[m>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[255&m]),l[a]=g=(l[a-r]^m)>>>0);for(s=0;s<o;s++)a=o-s,m=3&s?l[a]:l[a-4],u[s]=s<4||a<=4?m:p[c[m>>>24]]^f[c[m>>>16&255]]^y[c[m>>>8&255]]^v[c[255&m]],u[s]=u[s]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,n){for(var i,r,o=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,l=this.invSubMix,u=l[0],c=l[1],d=l[2],h=l[3],p=this.uint8ArrayToUint32Array_(n),f=p[0],y=p[1],v=p[2],g=p[3],m=new Int32Array(t),b=new Int32Array(m.length),_=void 0,A=void 0,E=void 0,w=void 0,T=void 0,k=void 0,S=void 0,C=void 0,O=void 0,P=void 0,R=void 0,I=void 0,x=this.networkToHostOrderSwap;e<m.length;){for(O=x(m[e]),P=x(m[e+1]),R=x(m[e+2]),I=x(m[e+3]),T=O^a[0],k=I^a[1],S=R^a[2],C=P^a[3],i=4,r=1;r<o;r++)_=u[T>>>24]^c[k>>16&255]^d[S>>8&255]^h[255&C]^a[i],A=u[k>>>24]^c[S>>16&255]^d[C>>8&255]^h[255&T]^a[i+1],E=u[S>>>24]^c[C>>16&255]^d[T>>8&255]^h[255&k]^a[i+2],w=u[C>>>24]^c[T>>16&255]^d[k>>8&255]^h[255&S]^a[i+3],T=_,k=A,S=E,C=w,i+=4;_=s[T>>>24]<<24^s[k>>16&255]<<16^s[S>>8&255]<<8^s[255&C]^a[i],A=s[k>>>24]<<24^s[S>>16&255]<<16^s[C>>8&255]<<8^s[255&T]^a[i+1],E=s[S>>>24]<<24^s[C>>16&255]<<16^s[T>>8&255]<<8^s[255&k]^a[i+2],w=s[C>>>24]<<24^s[T>>16&255]<<16^s[k>>8&255]<<8^s[255&S]^a[i+3],i+=3,b[e]=x(_^f),b[e+1]=x(w^y),b[e+2]=x(E^v),b[e+3]=x(A^g),f=O,y=P,v=R,g=I,e+=4}return b.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),a=n(2),s=n(0);var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=n,this.logEnabled=!0;try{var i=crypto||self.crypto;this.subtle=i.subtle||i.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,n,a){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.b.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new o),u.expandKey(e),a(u.decrypt(t,0,n))}else{this.logEnabled&&(s.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new r(c,e)),this.fastAesKey.expandKey().then(function(r){new i(c,n).decrypt(t,r).catch(function(i){l.onWebCryptoError(i,t,e,n,a)}).then(function(t){a(t)})}).catch(function(i){l.onWebCryptoError(i,t,e,n,a)})}},t.prototype.onWebCryptoError=function(t,e,n,i,r){this.config.enableSoftwareAES?(s.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,i,r)):(s.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=l},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),a=(u=n.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var i,r,o,a,s;i=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/;?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=this.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var o=this.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):e;var a=this.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=r.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=s.normalizePath(d)}else u.path=a.path,o.params||(u.params=a.params,o.query||(u.query=a.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(u)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(o,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s},function(t,e,n){"use strict";var i=n(1),r=n(2),o=n(4),a=n(0);function s(t,e){return 255===t[e]&&240==(246&t[e+1])}function l(t,e){return 1&t[e+1]?7:9}function u(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function c(t,e){return!!(e+1<t.length&&s(t,e))}function d(t,e){if(e+1<t.length&&s(t,e)){var n=l(t,e);e+5<t.length&&(n=u(t,e));var i=e+n;if(i===t.length||i+1<t.length&&s(t,i))return!0}return!1}function h(t,e,n,i,o){if(!t.samplerate){var s=function(t,e,n,i){var o,s,l,u,c,d=navigator.userAgent.toLowerCase(),h=i,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&e[n+2])>>>6),!((s=(60&e[n+2])>>>2)>p.length-1))return u=(1&e[n+2])<<2,u|=(192&e[n+3])>>>6,a.b.log("manifest codec:"+i+",ADTS data:type:"+o+",sampleingIndex:"+s+"["+p[s]+"Hz],channelConfig:"+u),/firefox/i.test(d)?s>=6?(o=5,c=new Array(4),l=s-3):(o=2,c=new Array(2),l=s):-1!==d.indexOf("android")?(o=2,c=new Array(2),l=s):(o=5,c=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&s>=6?l=s-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(s>=6&&1===u||/vivaldi/i.test(d))||!i&&1===u)&&(o=2,c=new Array(2)),l=s)),c[0]=o<<3,c[0]|=(14&s)>>1,c[1]|=(1&s)<<7,c[1]|=u<<3,5===o&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:p[s],channelCount:u,codec:"mp4a.40."+o,manifestCodec:h};t.trigger(Event.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s})}(e,n,i,o);t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,a.b.log("parsed codec:"+t.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}}function p(t){return 9216e4/t}function f(t,e,n,i,r){var o=function(t,e,n,i,r){var o,a,s=t.length;if(o=l(t,e),a=u(t,e),(a-=o)>0&&e+o+a<=s)return{headerLength:o,frameLength:a,stamp:n+i*r}}(e,n,i,r,p(t.samplerate));if(o){var a=o.stamp,s=o.headerLength,c=o.frameLength,d={unit:e.subarray(n+s,n+s+c),pts:a,dts:a};return t.samples.push(d),t.len+=c,{sample:d,length:c+s}}}var y=n(3);var v=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=i,this.remuxer=n}return t.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=(y.a.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(d(t,e))return a.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,n,i){for(var r=this._audioTrack,o=y.a.getID3Data(t,0)||[],s=y.a.getTimeStamp(o),l=s?90*s:9e4*e,u=0,d=l,p=t.length,v=o.length,g=[{pts:d,dts:d,data:o}];v<p-1;)if(c(t,v)&&v+5<p){h(r,this.observer,t,v,r.manifestCodec);var m=f(r,t,v,l,u);if(!m){a.b.log("Unable to parse AAC frame");break}v+=m.length,d=m.sample.pts,u++}else y.a.isHeader(t,v)?(o=y.a.getID3Data(t,v),g.push({pts:d,dts:d,data:o}),v+=o.length):v++;this.remuxer.remux(r,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},e,n,i)},t.prototype.destroy=function(){},t}();var g=Math.pow(2,32)-1,m=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.remuxer=n}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,n,r,o){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==n&&(n="mp4a.40.5"),null==r&&(r="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:o?e:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:o?e:null}),a.video&&(s.video={container:"video/mp4",codec:r,initSegment:o?e:null})),this.observer.trigger(i.a.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),r&&(this.videoCodec=r)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var i,r,o,a,s,l,u,c=[];if(e.data?(l=e.start,a=e.end,e=e.data):(l=0,a=e.byteLength),!n.length)return null;for(i=l;i<a;)r=t.readUint32(e,i),o=t.bin2str(e.subarray(i+4,i+8)),u=r>1?i+r:a,o===n[0]&&(1===n.length?c.push({data:e,start:i+8,end:u}):(s=t.findBox({data:e,start:i+8,end:u},n.slice(1))).length&&(c=c.concat(s))),i=u;return c},t.parseInitSegment=function(e){var n=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var i=t.findBox(e,["tkhd"])[0];if(i){var r=i.data[i.start],o=0===r?12:20,s=t.readUint32(i,o),l=t.findBox(e,["mdia","mdhd"])[0];if(l){o=0===(r=l.data[l.start])?12:20;var u=t.readUint32(l,o),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var d={soun:"audio",vide:"video"}[t.bin2str(c.data.subarray(c.start+8,c.start+12))];if(d){var h=t.findBox(e,["mdia","minf","stbl","stsd"]);if(h.length){h=h[0];var p=t.bin2str(h.data.subarray(h.start+12,h.start+16));a.b.log("MP4Demuxer:"+d+":"+p+" found")}n[s]={timescale:u,type:d},n[d]={timescale:u,id:s}}}}}}),n},t.getStartDTS=function(e,n){var i,r,o;return i=t.findBox(n,["moof","traf"]),r=[].concat.apply([],i.map(function(n){return t.findBox(n,["tfhd"]).map(function(i){var r,o;return r=t.readUint32(i,4),o=e[r].timescale||9e4,t.findBox(n,["tfdt"]).map(function(e){var n,i;return n=e.data[e.start],i=t.readUint32(e,4),1===n&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i})[0]/o})})),o=Math.min.apply(null,r),isFinite(o)?o:0},t.offsetStartDTS=function(e,n,i){t.findBox(n,["moof","traf"]).map(function(n){return t.findBox(n,["tfhd"]).map(function(r){var o=t.readUint32(r,4),a=e[o].timescale||9e4;t.findBox(n,["tfdt"]).map(function(e){var n=e.data[e.start],r=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,r-i*a);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=i*a,r=Math.max(r,0);var o=Math.floor(r/(g+1)),s=Math.floor(r%(g+1));t.writeUint32(e,4,o),t.writeUint32(e,8,s)}})})})},t.prototype.append=function(e,n,r,o){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec),a=this.initData);var s,l=this.initPTS;if(void 0===l){var u=t.getStartDTS(a,e);this.initPTS=l=u-n,this.observer.trigger(i.a.INIT_PTS_FOUND,{initPTS:l})}t.offsetStartDTS(a,e,l),s=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,s,r,o,e)},t.prototype.destroy=function(){},t}(),b={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,i,r){if(!(n+24>e.length)){var o=this.parseHeader(e,n);if(o&&n+o.frameLength<=e.length){var a=i+r*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),t.len+=o.frameLength,{sample:s,length:o.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,o=t[e+2]>>2&3,a=t[e+2]>>1&1;if(1!==n&&0!==r&&15!==r&&3!==o){var s=3===n?3-i:3===i?3:4,l=1e3*b.BitratesMap[14*s+r-1],u=3===n?0:2===n?1:2,c=b.SamplingRateMap[3*u+o],d=t[e+3]>>6==3?1:2,h=b.SamplesCoefficients[n][i],p=b.BytesInSlot[i],f=8*h*p;return{sampleRate:c,channelCount:d,frameLength:parseInt(h*l/c+a,10)*p,samplesPerFrame:f}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),i=4;n&&n.frameLength&&(i=n.frameLength);var r=e+i;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}},_=b;var A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");i.set(t.subarray(n,n+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&a.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,n=8,i=8;for(e=0;e<t;e++)0!==i&&(i=(n+this.readEG()+256)%256),n=0===i?n:i},t.prototype.readSPS=function(){var t,e,n,i,r,o,a,s=0,l=0,u=0,c=0,d=this.readUByte.bind(this),h=this.readBits.bind(this),p=this.readUEG.bind(this),f=this.readBoolean.bind(this),y=this.skipBits.bind(this),v=this.skipEG.bind(this),g=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(d(),t=d(),h(5),y(3),d(),g(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=p();if(3===b&&y(1),g(),g(),y(1),f())for(o=3!==b?8:12,a=0;a<o;a++)f()&&m(a<6?16:64)}g();var _=p();if(0===_)p();else if(1===_)for(y(1),v(),v(),e=p(),a=0;a<e;a++)v();g(),y(1),n=p(),i=p(),0===(r=h(1))&&y(1),y(1),f()&&(s=p(),l=p(),u=p(),c=p());var A=[1,1];if(f()&&f())switch(d()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-r)*(i+1)*16-(r?2:4)*(u+c),pixelRatio:A}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();var E=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.decryptdata=i,this.discardEPB=r,this.decrypter=new o.a(e,n)}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,n,i){var r=t[e].unit,o=r.subarray(16,r.length-r.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,function(o){o=new Uint8Array(o),r.set(o,16),i||s.decryptAacSamples(t,e+1,n)})},t.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,i),!i)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),i=0,r=32;r<=t.length-16;r+=160,i+=16)n.set(t.subarray(r,r+16),i);return n},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,i=32;i<=t.length-16;i+=160,n+=16)t.set(e.subarray(n,n+16),i);return t},t.prototype.decryptAvcSample=function(t,e,n,i,r,o){var a=this.discardEPB(r.data),s=this.getAvcEncryptedData(a),l=this;this.decryptBuffer(s.buffer,function(s){r.data=l.getAvcDecryptedUnit(a,s),o||l.decryptAvcSamples(t,e,n+1,i)})},t.prototype.decryptAvcSamples=function(t,e,n,i){for(;;e++,n=0){if(e>=t.length)return void i();for(var r=t[e].units;!(n>=r.length);n++){var o=r[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,i,o,a),!a)return}}}},t}();var w={video:0,audio:1,id3:2,text:3},T=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=i,this.typeSupported=r,this.remuxer=n,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new E(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var n=t._syncOffset(e);return!(n<0)&&(n&&a.b.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),!0)},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:w[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,n,i,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=i,this._duration=r},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,n,o,s){var l,u,c,d,h,p=e.length,f=!1;this.contiguous=o;var y=this.pmtParsed,v=this._avcTrack,g=this._audioTrack,m=this._id3Track,b=v.pid,_=g.pid,A=m.pid,E=this._pmtId,w=v.pesData,T=g.pesData,k=m.pesData,S=this._parsePAT,C=this._parsePMT,O=this._parsePES,P=this._parseAVCPES.bind(this),R=this._parseAACPES.bind(this),I=this._parseMPEGPES.bind(this),x=this._parseID3PES.bind(this),L=t._syncOffset(e);for(p-=(p+L)%188,l=L;l<p;l+=188)if(71===e[l]){if(u=!!(64&e[l+1]),c=((31&e[l+1])<<8)+e[l+2],(48&e[l+3])>>4>1){if((d=l+5+e[l+4])===l+188)continue}else d=l+4;switch(c){case b:u&&(w&&(h=O(w))&&P(h,!1),w={data:[],size:0}),w&&(w.data.push(e.subarray(d,l+188)),w.size+=l+188-d);break;case _:u&&(T&&(h=O(T))&&(g.isAAC?R(h):I(h)),T={data:[],size:0}),T&&(T.data.push(e.subarray(d,l+188)),T.size+=l+188-d);break;case A:u&&(k&&(h=O(k))&&x(h),k={data:[],size:0}),k&&(k.data.push(e.subarray(d,l+188)),k.size+=l+188-d);break;case 0:u&&(d+=e[d]+1),E=this._pmtId=S(e,d);break;case E:u&&(d+=e[d]+1);var D=C(e,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=D.avc)>0&&(v.pid=b),(_=D.audio)>0&&(g.pid=_,g.isAAC=D.isAAC),(A=D.id3)>0&&(m.pid=A),f&&!y&&(a.b.log("reparse from beginning"),f=!1,l=L-188),y=this.pmtParsed=!0;break;case 17:case 8191:break;default:f=!0}}else this.observer.trigger(i.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});w&&(h=O(w))?(P(h,!0),v.pesData=null):v.pesData=w,T&&(h=O(T))?(g.isAAC?R(h):I(h),g.pesData=null):(T&&T.size&&a.b.log("last AAC PES packet truncated,might overlap between fragments"),g.pesData=T),k&&(h=O(k))?(x(h),m.pesData=null):m.pesData=k,null==this.sampleAes?this.remuxer.remux(g,v,m,this._txtTrack,n,o,s):this.decryptAndRemux(g,v,m,this._txtTrack,n,o,s)},t.prototype.decryptAndRemux=function(t,e,n,i,r,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,n,i,r,o,a)})}else this.decryptAndRemuxAvc(t,e,n,i,r,o,a)},t.prototype.decryptAndRemuxAvc=function(t,e,n,i,r,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,n,i,r,o,a)})}else this.remuxer.remux(t,e,n,i,r,o,a)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,n,i){var r,o,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<r;){switch(o=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){a.b.log("unkown stream type:"+t[e]);break}case 15:-1===s.audio&&(s.audio=o);break;case 21:-1===s.id3&&(s.id3=o);break;case 219:if(!i){a.b.log("unkown stream type:"+t[e]);break}case 27:-1===s.avc&&(s.avc=o);break;case 3:case 4:n?-1===s.audio&&(s.audio=o,s.isAAC=!1):a.b.log("MPEG audio found, not supported in this browser for now");break;case 36:a.b.warn("HEVC stream type found, not supported for now");break;default:a.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return s},t.prototype._parsePES=function(t){var e,n,i,r,o,s,l,u,c=0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var h=new Uint8Array(d[0].length+d[1].length);h.set(d[0]),h.set(d[1],d[0].length),d[0]=h,d.splice(1,1)}if(1===((e=d[0])[0]<<16)+(e[1]<<8)+e[2]){if((i=(e[4]<<8)+e[5])&&i>t.size-6)return null;192&(n=e[7])&&((s=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2)>4294967295&&(s-=8589934592),64&n?((l=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>4294967295&&(l-=8589934592),s-l>54e5&&(a.b.warn(Math.round((s-l)/9e4)+"s delta between PTS and DTS, align them"),s=l)):l=s),u=(r=e[8])+9,t.size-=u,o=new Uint8Array(t.size);for(var p=0,f=d.length;p<f;p++){var y=(e=d[p]).byteLength;if(u){if(u>y){u-=y;continue}e=e.subarray(u),y-=u,u=0}o.set(e,c),c+=y}return i&&(i-=r+3),{data:o,pts:s,dts:l,len:i}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,i=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,n.push(t)):e.dropped++}t.debug.length&&a.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var n,i,r,o=this,a=this._avcTrack,s=this._parseAVCNALu(t.data),l=this.avcSample,u=!1,c=this.pushAccesUnit.bind(this),d=function(t,e,n,i){return{key:t,pts:e,dts:n,units:[],debug:i}};t.data=null,l&&s.length&&!a.audFound&&(c(l,a),l=this.avcSample=d(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:i=!0,l||(l=o.avcSample=d(!0,t.pts,t.dts,"")),l.frame=!0;var s=e.data;if(u&&s.length>4){var h=new A(s).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(l.key=!0)}break;case 5:i=!0,l||(l=o.avcSample=d(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:i=!0,(n=new A(o.discardEPB(e.data))).readUByte();for(var p=0,f=0,y=!1,v=0;!y&&n.bytesAvailable>1;){p=0;do{p+=v=n.readUByte()}while(255===v);f=0;do{f+=v=n.readUByte()}while(255===v);if(4===p&&0!==n.bytesAvailable){if(y=!0,181===n.readUByte())if(49===n.readUShort())if(1195456820===n.readUInt())if(3===n.readUByte()){var g=n.readUByte(),m=31&g,b=[g,n.readUByte()];for(r=0;r<m;r++)b.push(n.readUByte()),b.push(n.readUByte()),b.push(n.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}else if(f<n.bytesAvailable)for(r=0;r<f;r++)n.readUByte()}break;case 7:if(i=!0,u=!0,!a.sps){var _=(n=new A(e.data)).readSPS();a.width=_.width,a.height=_.height,a.pixelRatio=_.pixelRatio,a.sps=[e.data],a.duration=o._duration;var E=e.data.subarray(1,4),w="avc1.";for(r=0;r<3;r++){var T=E[r].toString(16);T.length<2&&(T="0"+T),w+=T}a.codec=w}break;case 8:i=!0,a.pps||(a.pps=[e.data]);break;case 9:i=!1,a.audFound=!0,l&&c(l,a),l=o.avcSample=d(!1,t.pts,t.dts,"");break;case 12:i=!1;break;default:i=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}l&&i&&l.units.push(e)}),e&&l&&(c(l,a),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var i=n-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var n=this._avcTrack.samples;t=n[n.length-1]}if(t){var i=t.units;e=i[i.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e,n,i,r,o=0,a=t.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,c=[],d=-1;for(-1===l&&(d=0,r=31&t[0],l=0,o=1);o<a;)if(e=t[o++],l)if(1!==l)if(e)if(1===e){if(d>=0)i={data:t.subarray(d,o-l-1),type:r},c.push(i);else{var h=this._getLastNalUnit();if(h&&(u&&o<=4-u&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-u)),(n=o-l-1)>0)){var p=new Uint8Array(h.data.byteLength+n);p.set(h.data,0),p.set(t.subarray(0,n),h.data.byteLength),h.data=p}}o<a?(d=o,r=31&t[o],l=0):l=-1}else l=0;else l=3;else l=e?0:2;else l=e?0:1;if(d>=0&&l>=0&&(i={data:t.subarray(d,a),type:r,state:l},c.push(i)),0===c.length){var f=this._getLastNalUnit();if(f){var y=new Uint8Array(f.data.byteLength+t.byteLength);y.set(f.data,0),y.set(t,f.data.byteLength),f.data=y}}return s.naluState=l,c},t.prototype.discardEPB=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},t.prototype._parseAACPES=function(t){var e,n,o,s,l,u,d,y=this._audioTrack,v=t.data,g=t.pts,m=this.aacOverFlow,b=this.aacLastPTS;if(m){var _=new Uint8Array(m.byteLength+v.byteLength);_.set(m,0),_.set(v,m.byteLength),v=_}for(o=0,l=v.length;o<l-1&&!c(v,o);o++);if(o&&(o<l-1?(u="AAC PES did not start with ADTS header,offset:"+o,d=!1):(u="no ADTS header found in AAC PES",d=!0),a.b.warn("parsing error:"+u),this.observer.trigger(i.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:d,reason:u}),d))return;if(h(y,this.observer,v,o,this.audioCodec),n=0,e=p(y.samplerate),m&&b){var A=b+e;Math.abs(A-g)>1&&(a.b.log("AAC: align PTS for overlapping frames by "+Math.round((A-g)/90)),g=A)}for(;o<l;)if(c(v,o)&&o+5<l){var E=f(y,v,o,g,n);if(!E)break;o+=E.length,s=E.sample.pts,n++}else o++;m=o<l?v.subarray(o,l):null,this.aacOverFlow=m,this.aacLastPTS=s},t.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,i=0,r=0,o=t.pts;r<n;)if(_.isHeader(e,r)){var a=_.appendFrame(this._audioTrack,e,r,o,i);if(!a)break;r+=a.length,i++}else r++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}();var k=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=i,this.remuxer=n}return t.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,n,i=y.a.getID3Data(t,0);if(i&&void 0!==y.a.getTimeStamp(i))for(e=i.length,n=Math.min(t.length-1,e+100);e<n;e++)if(_.probe(t,e))return a.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,n,i){for(var r=y.a.getID3Data(t,0),o=y.a.getTimeStamp(r),a=o?90*o:9e4*e,s=r.length,l=t.length,u=0,c=0,d=this._audioTrack,h=[{pts:a,dts:a,data:r}];s<l;)if(_.isHeader(t,s)){var p=_.appendFrame(d,t,s,a,u);if(!p)break;s+=p.length,c=p.sample.pts,u++}else y.a.isHeader(t,s)?(r=y.a.getID3Data(t,s),h.push({pts:c,dts:c,data:r}),s+=r.length):s++;this.remuxer.remux(d,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},e,n,i)},t.prototype.destroy=function(){},t}();var S=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}();var C=Math.pow(2,32)-1,O=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:i};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,l,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=8,r=n.length,o=r;r--;)i+=n[r].byteLength;for((e=new Uint8Array(i))[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),r=0,i=8;r<o;r++)e.set(n[r],i),i+=n[r].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var i=Math.floor(n/(C+1)),r=Math.floor(n%(C+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,n))},t.moov=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,n){n*=e;var i=Math.floor(n/(C+1)),r=Math.floor(n%(C+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,o)},t.sdtp=function(e){var n,i,r=e.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,o[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,o)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,i,r,o=[],a=[];for(n=0;n<e.sps.length;n++)r=(i=e.sps[n]).byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(i));for(n=0;n<e.pps.length;n++)r=(i=e.pps[n]).byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(i));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),l=e.width,u=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,i=e.duration*e.timescale,r=e.width,o=e.height,a=Math.floor(i/(C+1)),s=Math.floor(i%(C+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,o>>8&255,255&o,0,0]))},t.traf=function(e,n){var i=t.sdtp(e),r=e.id,o=Math.floor(n/(C+1)),a=Math.floor(n%(C+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var i,r,o,a,s,l,u=e.samples||[],c=u.length,d=12+16*c,h=new Uint8Array(d);for(n+=8+d,h.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),i=0;i<c;i++)o=(r=u[i]).duration,a=r.size,s=r.flags,l=r.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,h)},t.initSegment=function(e){t.types||t.init();var n,i=t.moov(e);return(n=new Uint8Array(t.FTYP.byteLength+i.byteLength)).set(t.FTYP),n.set(i,t.FTYP.byteLength),n},t}();var P=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=n,this.typeSupported=i;var o=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&o&&!o.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,n,r,o,s,l){if(this.ISGenerated||this.generateIS(t,e,o),this.ISGenerated){var u=t.samples.length,c=e.samples.length,d=o,h=o;if(u&&c){var p=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;d+=Math.max(0,p),h+=Math.max(0,-p)}if(u){t.timescale||(a.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,o));var f=this.remuxAudio(t,d,s,l);if(c){var y=void 0;f&&(y=f.endPTS-f.startPTS),e.timescale||(a.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,o)),this.remuxVideo(e,h,s,y,l)}}else{var v=void 0;c&&(v=this.remuxVideo(e,h,s,l)),v&&t.codec&&this.remuxEmptyAudio(t,d,s,v)}}n.samples.length&&this.remuxID3(n,o),r.samples.length&&this.remuxText(r,o),this.observer.trigger(i.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,n){var o,s,l=this.observer,u=t.samples,c=e.samples,d=this.typeSupported,h="audio/mp4",p={},f={tracks:p},y=void 0===this._initPTS;if(y&&(o=s=1/0),t.config&&u.length&&(t.timescale=t.samplerate,a.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(d.mpeg?(h="audio/mpeg",t.codec=""):d.mp3&&(t.codec="mp3")),p.audio={container:h,codec:t.codec,initSegment:!t.isAAC&&d.mpeg?new Uint8Array:O.initSegment([t]),metadata:{channelCount:t.channelCount}},y&&(o=s=u[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&c.length){var v=e.inputTimeScale;e.timescale=v,p.video={container:"video/mp4",codec:e.codec,initSegment:O.initSegment([e]),metadata:{width:e.width,height:e.height}},y&&(o=Math.min(o,c[0].pts-v*n),s=Math.min(s,c[0].dts-v*n),this.observer.trigger(i.a.INIT_PTS_FOUND,{initPTS:o}))}Object.keys(p).length?(l.trigger(i.a.FRAG_PARSING_INIT_SEGMENT,f),this.ISGenerated=!0,y&&(this._initPTS=o,this._initDTS=s)):l.trigger(i.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,n,o,s){var l,u,c,d,h,p,f,y=8,v=t.timescale,g=t.samples,m=[],b=g.length,_=this._PTSNormalize,A=this._initDTS,E=this.nextAvcDts,w=this.isSafari;w&&(n|=g.length&&E&&(s&&Math.abs(e-E/v)<.1||Math.abs(g[0].pts-E-A)<v/5)),n||(E=e*v),g.forEach(function(t){t.pts=_(t.pts-A,E),t.dts=_(t.dts-A,E)}),g.sort(function(t,e){var n=t.dts-e.dts,i=t.pts-e.pts;return n||(i||t.id-e.id)});var T=g.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(T<0){a.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(T/90)+" ms to overcome this issue");for(var k=0;k<g.length;k++)g[k].dts+=T}var S=g[0];h=Math.max(S.dts,0),d=Math.max(S.pts,0);var C=Math.round((h-E)/90);n&&C&&(C>1?a.b.log("AVC:"+C+" ms hole between fragments detected,filling it"):C<-1&&a.b.log("AVC:"+-C+" ms overlapping between fragments detected"),h=E,g[0].dts=h,d=Math.max(d-C,E),g[0].pts=d,a.b.log("Video/PTS/DTS adjusted: "+Math.round(d/90)+"/"+Math.round(h/90)+",delta:"+C+" ms")),S=g[g.length-1],f=Math.max(S.dts,0),p=Math.max(S.pts,0,f),w&&(l=Math.round((f-h)/(g.length-1)));for(var P=0,R=0,I=0;I<b;I++){for(var x=g[I],L=x.units,D=L.length,M=0,N=0;N<D;N++)M+=L[N].data.length;R+=M,P+=D,x.length=M,x.dts=w?h+I*l:Math.max(x.dts,h),x.pts=Math.max(x.pts,x.dts)}var B=R+4*P+8;try{u=new Uint8Array(B)}catch(t){return void this.observer.trigger(i.a.ERROR,{type:r.b.MUX_ERROR,details:r.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating video mdat "+B})}var U=new DataView(u.buffer);U.setUint32(0,B),u.set(O.types.mdat,4);for(var F=0;F<b;F++){for(var j=g[F],V=j.units,H=0,G=void 0,z=0,Y=V.length;z<Y;z++){var $=V[z],K=$.data,W=$.data.byteLength;U.setUint32(y,W),y+=4,u.set(K,y),y+=W,H+=4+W}if(w)G=Math.max(0,l*Math.round((j.pts-j.dts)/l));else{if(F<b-1)l=g[F+1].dts-j.dts;else{var q=this.config,X=j.dts-g[F>0?F-1:F].dts;if(q.stretchShortVideoTrack){var Z=q.maxBufferHole,Q=q.maxSeekHole,J=Math.floor(Math.min(Z,Q)*v),tt=(o?d+o*v:this.nextAudioPts)-j.pts;tt>J?((l=tt-X)<0&&(l=X),a.b.log("It is approximately "+tt/90+" ms to the next segment; using duration "+l/90+" ms for the last video frame.")):l=X}else l=X}G=Math.round(j.pts-j.dts)}m.push({size:H,duration:l,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:j.key?2:1,isNonSync:j.key?0:1}})}this.nextAvcDts=f+l;var et=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,m.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var nt=m[0].flags;nt.dependsOn=2,nt.isNonSync=0}t.samples=m,c=O.moof(t.sequenceNumber++,h,t),t.samples=[];var it={data1:c,data2:u,startPTS:d/v,endPTS:(p+l)/v,startDTS:h/v,endDTS:this.nextAvcDts/v,type:"video",nb:m.length,dropped:et};return this.observer.trigger(i.a.FRAG_PARSING_DATA,it),it},t.prototype.remuxAudio=function(t,e,n,o){var s,l,u,c,d,h,p,f=t.inputTimeScale,y=t.timescale,v=f/y,g=(t.isAAC?1024:1152)*v,m=this._PTSNormalize,b=this._initDTS,_=!t.isAAC&&this.typeSupported.mpeg,A=t.samples,E=[],w=this.nextAudioPts;if(n|=A.length&&w&&(o&&Math.abs(e-w/f)<.1||Math.abs(A[0].pts-w-b)<20*g),A.forEach(function(t){t.pts=t.dts=m(t.pts-b,e*f)}),0!==(A=A.filter(function(t){return t.pts>=0})).length){if(n||(w=o?e*f:A[0].pts),t.isAAC)for(var T=this.config.maxAudioFramesDrift,k=0,C=w;k<A.length;){var P,R=A[k];P=R.pts-C;var I=Math.abs(1e3*P/f);if(P<=-T*g)a.b.warn("Dropping 1 audio frame @ "+(C/f).toFixed(3)+"s due to "+Math.round(I)+" ms overlap."),A.splice(k,1),t.len-=R.unit.length;else if(P>=T*g&&I<1e4&&C){var x=Math.round(P/g);a.b.warn("Injecting "+x+" audio frame @ "+(C/f).toFixed(3)+"s due to "+Math.round(1e3*P/f)+" ms gap.");for(var L=0;L<x;L++){var D=Math.max(C,0);(u=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(a.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),u=R.unit.subarray()),A.splice(k,0,{unit:u,pts:D,dts:D}),t.len+=u.length,C+=g,k++}R.pts=R.dts=C,C+=g,k++}else Math.abs(P),R.pts=R.dts=C,C+=g,k++}for(var M=0,N=A.length;M<N;M++){var B=A[M],U=B.unit,F=B.pts;if(void 0!==p)l.duration=Math.round((F-p)/v);else{var j=Math.round(1e3*(F-w)/f),V=0;if(n&&t.isAAC&&j){if(j>0&&j<1e4)V=Math.round((F-w)/g),a.b.log(j+" ms hole between AAC samples detected,filling it"),V>0&&((u=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(u=U.subarray()),t.len+=V*u.length);else if(j<-12){a.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(w/f).toFixed(3)+"s/"+(F/f).toFixed(3)+"s/"+-j+"ms"),t.len-=U.byteLength;continue}F=w}if(h=F,!(t.len>0))return;var H=_?t.len:t.len+8;s=_?0:8;try{c=new Uint8Array(H)}catch(t){return void this.observer.trigger(i.a.ERROR,{type:r.b.MUX_ERROR,details:r.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}_||(new DataView(c.buffer).setUint32(0,H),c.set(O.types.mdat,4));for(var G=0;G<V;G++)(u=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(a.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),u=U.subarray()),c.set(u,s),s+=u.byteLength,l={size:u.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(l)}c.set(U,s);var z=U.byteLength;s+=z,l={size:z,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(l),p=F}var Y=0,$=E.length;if($>=2&&(Y=E[$-2].duration,l.duration=Y),$){this.nextAudioPts=w=p+v*Y,t.len=0,t.samples=E,d=_?new Uint8Array:O.moof(t.sequenceNumber++,h/v,t),t.samples=[];var K=h/f,W=w/f,q={data1:d,data2:c,startPTS:K,endPTS:W,startDTS:K,endDTS:W,type:"audio",nb:$};return this.observer.trigger(i.a.FRAG_PARSING_DATA,q),q}return null}},t.prototype.remuxEmptyAudio=function(t,e,n,i){var r=t.inputTimeScale,o=r/(t.samplerate?t.samplerate:r),s=this.nextAudioPts,l=(void 0!==s?s:i.startDTS*r)+this._initDTS,u=i.endDTS*r+this._initDTS,c=1024*o,d=Math.ceil((u-l)/c),h=S.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(a.b.warn("remux empty Audio"),h){for(var p=[],f=0;f<d;f++){var y=l+f*c;p.push({unit:h,pts:y,dts:y}),t.len+=h.length}t.samples=p,this.remuxAudio(t,e,n)}else a.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t,e){var n,r=t.samples.length,o=t.inputTimeScale,a=this._initPTS,s=this._initDTS;if(r){for(var l=0;l<r;l++)(n=t.samples[l]).pts=(n.pts-a)/o,n.dts=(n.dts-s)/o;this.observer.trigger(i.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var n,r=t.samples.length,o=t.inputTimeScale,a=this._initPTS;if(r){for(var s=0;s<r;s++)(n=t.samples[s]).pts=(n.pts-a)/o;this.observer.trigger(i.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t},t}();var R=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,n,r,o,a,s,l){var u=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),u.trigger(i.a.FRAG_PARSING_DATA,{data1:l,startPTS:o,startDTS:o,type:c,nb:1,dropped:0}),u.trigger(i.a.FRAG_PARSED)},t}();var I=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.typeSupported=n,this.config=i,this.vendor=r}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,n,r,a,s,l,u,c,d,h,p){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var f=this.decrypter;null==f&&(f=this.decrypter=new o.a(this.observer,this.config));var y,v=this;try{y=performance.now()}catch(t){y=Date.now()}f.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var o;try{o=performance.now()}catch(t){o=Date.now()}v.observer.trigger(i.a.FRAG_DECRYPTED,{stats:{tstart:y,tdecrypt:o}}),v.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,a,s,l,u,c,d,h,p)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,a,s,l,u,c,d,h,p)},t.prototype.pushDecrypted=function(t,e,n,o,a,s,l,u,c,d,h,p){var f=this.demuxer;if(!f||l&&!this.probe(t)){for(var y=this.observer,g=this.typeSupported,b=this.config,_=[{demux:T,remux:P},{demux:m,remux:R},{demux:v,remux:P},{demux:k,remux:P}],A=0,E=_.length;A<E;A++){var w=_[A],S=w.demux.probe;if(S(t)){var C=this.remuxer=new w.remux(y,b,g,this.vendor);f=new w.demux(y,C,b,g),this.probe=S;break}}if(!f)return void y.trigger(i.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=f}var O=this.remuxer;(l||u)&&(f.resetInitSegment(n,o,a,d),O.resetInitSegment()),l&&(f.resetTimeStamp(p),O.resetTimeStamp(p)),"function"==typeof f.setDecryptData&&f.setDecryptData(e),f.append(t,s,c,h)},t}();e.a=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};n.d(i,"newCue",function(){return Et});var r=n(6),o=n.n(r),a=n(1),s=n(2),l=n(0),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.unregisterListeners()},t.prototype.isEventHandler=function(){return"object"===u(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)},this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(e){l.b.error("internal error happened while processing "+t+":"+e.message),this.hls.trigger(a.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}();var d=/^(\d+)x(\d+)$/,h=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,p=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)n[i]=parseInt(e.slice(2*i,2*i+2),16);return n}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=d.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,n={};for(h.lastIndex=0;null!==(e=h.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},t}(),f={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function y(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var v=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,b=/#EXT-X-MEDIA:(.*)/g,_=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),A=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,E=function(){function t(){g(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return v(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=o.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}(),w=function(){function t(){g(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new E).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},t.prototype.cloneObj=function(t){return JSON.parse(JSON.stringify(t))},v(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=o.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var t=this._byteRange=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var n=this.lastByteRangeEndOffset;t[0]=n||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),t}();function T(t,e){if(!t)return null;for(var n=null,i=0;i<t.length;i++){var r=t[i];r.id===e&&(n=r)}return n}var k=function(t){function e(n){g(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MANIFEST_LOADING,a.a.LEVEL_LOADING,a.a.AUDIO_TRACK_LOADING,a.a.SUBTITLE_TRACK_LOADING));return i.loaders={},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},c.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:"manifest"})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:"audioTrack",id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:"subtitleTrack",id:t.id})},e.prototype.load=function(t,e){var n=this.loaders[e.type];if(void 0!==n){var i=n.context;if(i&&i.url===t)return void l.b.trace("playlist request ongoing");l.b.warn("abort previous loader for type:"+e.type),n.abort()}var r=this.hls.config,o=void 0,a=void 0,s=void 0,u=void 0;"manifest"===e.type?(o=r.manifestLoadingMaxRetry,a=r.manifestLoadingTimeOut,s=r.manifestLoadingRetryDelay,u=r.manifestLoadingMaxRetryTimeout):"level"===e.type?(o=0,a=r.levelLoadingTimeOut):(o=r.levelLoadingMaxRetry,a=r.levelLoadingTimeOut,s=r.levelLoadingRetryDelay,u=r.levelLoadingMaxRetryTimeout,l.b.log("loading playlist for "+e.type+" "+(e.level||e.id))),n=this.loaders[e.type]=e.loader=void 0!==r.pLoader?new r.pLoader(r):new r.loader(r),e.url=t,e.responseType="";var c,d;c={timeout:a,maxRetry:o,retryDelay:s,maxRetryDelay:u},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(e,c,d)},e.prototype.resolve=function(t,e){return o.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.prototype.parseMasterPlaylist=function(t,e){var n=[],i=void 0;function r(t,e){["video","audio"].forEach(function(n){var i=t.filter(function(t){return function(t,e){var n=f[e];return!!n&&!0===n[t.slice(0,4)]}(t,n)});if(i.length){var r=i.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[n+"Codec"]=r.length>0?r[0]:i[0],t=t.filter(function(t){return-1===i.indexOf(t)})}}),e.unknownCodecs=t}for(m.lastIndex=0;null!=(i=m.exec(t));){var o={},a=o.attrs=new p(i[1]);o.url=this.resolve(i[2],e);var s=a.decimalResolution("RESOLUTION");s&&(o.width=s.width,o.height=s.height),o.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),o.name=a.NAME,r([].concat((a.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=this.avc1toavcoti(o.videoCodec)),n.push(o)}return n},e.prototype.parseMasterPlaylistMedia=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=void 0,o=[],a=0;for(b.lastIndex=0;null!==(r=b.exec(t));){var s={},l=new p(r[1]);if(l.TYPE===n){if(s.groupId=l["GROUP-ID"],s.name=l.NAME,s.type=n,s.default="YES"===l.DEFAULT,s.autoselect="YES"===l.AUTOSELECT,s.forced="YES"===l.FORCED,l.URI&&(s.url=this.resolve(l.URI,e)),s.lang=l.LANGUAGE,s.name||(s.name=s.lang),i.length){var u=T(i,s.groupId);s.audioCodec=u?u.codec:i[0].codec}s.id=a++,o.push(s)}}return o},e.prototype.avc1toavcoti=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},e.prototype.parseLevelPlaylist=function(t,e,n,i){var r,o,a=0,s=0,u={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},c=new E,d=0,h=null,f=new w;for(_.lastIndex=0;null!==(r=_.exec(t));){var y=r[1];if(y){f.duration=parseFloat(y);var v=(" "+r[2]).slice(1);f.title=v||null,f.tagList.push(v?["INF",y,v]:["INF",y])}else if(r[3]){if(!isNaN(f.duration)){var g=a++;f.type=i,f.start=s,f.levelkey=c,f.sn=g,f.level=n,f.cc=d,f.baseurl=e,f.relurl=(" "+r[3]).slice(1),u.fragments.push(f),h=f,s+=f.duration,f=new w}}else if(r[4]){if(f.rawByteRange=(" "+r[4]).slice(1),h){var m=h.byteRangeEndOffset;m&&(f.lastByteRangeEndOffset=m)}}else if(r[5])f.rawProgramDateTime=(" "+r[5]).slice(1),f.tagList.push(["PROGRAM-DATE-TIME",f.rawProgramDateTime]),void 0===u.programDateTime&&(u.programDateTime=new Date(new Date(Date.parse(r[5]))-1e3*s));else{for(r=r[0].match(A),o=1;o<r.length&&void 0===r[o];o++);var b=(" "+r[o+1]).slice(1),T=(" "+r[o+2]).slice(1);switch(r[o]){case"#":f.tagList.push(T?[b,T]:[b]);break;case"PLAYLIST-TYPE":u.type=b.toUpperCase();break;case"MEDIA-SEQUENCE":a=u.startSN=parseInt(b);break;case"TARGETDURATION":u.targetduration=parseFloat(b);break;case"VERSION":u.version=parseInt(b);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":d++,f.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":d=parseInt(b);break;case"KEY":var k=new p(b),S=k.enumeratedString("METHOD"),C=k.URI,O=k.hexadecimalInteger("IV");S&&(c=new E,C&&["AES-128","SAMPLE-AES"].indexOf(S)>=0&&(c.method=S,c.baseuri=e,c.reluri=C,c.key=null,c.iv=O));break;case"START":var P=new p(b).decimalFloatingPoint("TIME-OFFSET");isNaN(P)||(u.startTimeOffset=P);break;case"MAP":var R=new p(b);f.relurl=R.URI,f.rawByteRange=R.BYTERANGE,f.baseurl=e,f.level=n,f.type=i,f.sn="initSegment",u.initSegment=f,f=new w;break;default:l.b.warn("line parsed but not handled: "+r)}}}return(f=h)&&!f.relurl&&(u.fragments.pop(),s-=f.duration),u.totalduration=s,u.averagetargetduration=s/u.fragments.length,u.endSN=a-1,u.startCC=u.fragments[0]?u.fragments[0].cc:0,u.endCC=d,u},e.prototype.loadsuccess=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.data,o=t.url,u=n.type,c=n.id,d=n.level,h=this.hls;if(this.loaders[u]=void 0,void 0!==o&&0!==o.indexOf("data:")||(o=n.url),e.tload=performance.now(),0===r.indexOf("#EXTM3U"))if(r.indexOf("#EXTINF:")>0){var p="audioTrack"!==u&&"subtitleTrack"!==u,f=isNaN(d)?isNaN(c)?0:c:d,y=this.parseLevelPlaylist(r,o,f,"audioTrack"===u?"audio":"subtitleTrack"===u?"subtitle":"main");y.tload=e.tload,"manifest"===u&&h.trigger(a.a.MANIFEST_LOADED,{levels:[{url:o,details:y}],audioTracks:[],url:o,stats:e,networkDetails:i}),e.tparsed=performance.now(),y.targetduration?p?h.trigger(a.a.LEVEL_LOADED,{details:y,level:d||0,id:c||0,stats:e,networkDetails:i}):"audioTrack"===u?h.trigger(a.a.AUDIO_TRACK_LOADED,{details:y,id:c,stats:e,networkDetails:i}):"subtitleTrack"===u&&h.trigger(a.a.SUBTITLE_TRACK_LOADED,{details:y,id:c,stats:e,networkDetails:i}):h.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"invalid targetduration",networkDetails:i})}else{var v=this.parseMasterPlaylist(r,o);if(v.length){var g=v.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),m=this.parseMasterPlaylistMedia(r,o,"AUDIO",g),b=this.parseMasterPlaylistMedia(r,o,"SUBTITLES");if(m.length){var _=!1;m.forEach(function(t){t.url||(_=!0)}),!1===_&&v[0].audioCodec&&!v[0].attrs.AUDIO&&(l.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main"}))}h.trigger(a.a.MANIFEST_LOADED,{levels:v,audioTracks:m,subtitles:b,url:o,stats:e,networkDetails:i})}else h.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no level found in manifest",networkDetails:i})}else h.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.MANIFEST_PARSING_ERROR,fatal:!0,url:o,reason:"no EXTM3U delimiter",networkDetails:i})},e.prototype.loaderror=function(t,e){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e.loader;switch(e.type){case"manifest":n=s.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":n=s.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":n=s.a.AUDIO_TRACK_LOAD_ERROR,i=!1}o&&(o.abort(),this.loaders[e.type]=void 0),this.hls.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:n,fatal:i,url:o.url,loader:o,response:t,context:e,networkDetails:r})},e.prototype.loadtimeout=function(t,e){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e.loader;switch(e.type){case"manifest":n=s.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":n=s.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":n=s.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}o&&(o.abort(),this.loaders[e.type]=void 0),this.hls.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:n,fatal:i,url:o.url,loader:o,context:e,networkDetails:r})},e}(c);var S=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.FRAG_LOADING));return i.loaders={},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){var t=this.loaders;for(var e in t){var n=t[e];n&&n.destroy()}this.loaders={},c.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,n=e.type,i=this.loaders[n],r=this.hls.config;e.loaded=0,i&&(l.b.warn("abort previous fragment loader for type:"+n),i.abort()),i=this.loaders[n]=e.loader=void 0!==r.fLoader?new r.fLoader(r):new r.loader(r);var o,a,s=void 0;s={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var u=e.byteRangeStartOffset,c=e.byteRangeEndOffset;isNaN(u)||isNaN(c)||(s.rangeStart=u,s.rangeEnd=c),o={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},a={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},i.load(s,o,a)},e.prototype.loadsuccess=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.data,o=n.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(a.a.FRAG_LOADED,{payload:r,frag:o,stats:e,networkDetails:i})},e.prototype.loaderror=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},e.prototype.loadtimeout=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},e.prototype.loadprogress=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.frag;r.loaded=t.loaded,this.hls.trigger(a.a.FRAG_LOAD_PROGRESS,{frag:r,stats:t,networkDetails:i})},e}(c);var C=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},c.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,n=e.type,i=this.loaders[n],r=e.decryptdata,o=r.uri;if(o!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;i&&(l.b.warn("abort previous key loader for type:"+n),i.abort()),e.loader=this.loaders[n]=new s.loader(s),this.decrypturl=o,this.decryptkey=null;var u,c,d;u={url:o,frag:e,responseType:"arraybuffer"},c={timeout:s.fragLoadingTimeOut,maxRetry:s.fragLoadingMaxRetry,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(u,c,d)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(a.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,n){var i=n.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(a.a.KEY_LOADED,{frag:i})},e.prototype.loaderror=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},e.prototype.loadtimeout=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}(c),O={search:function(t,e){for(var n=0,i=t.length-1,r=null,o=null;n<=i;){var a=e(o=t[r=(n+i)/2|0]);if(a>0)n=r+1;else{if(!(a<0))return o;i=r-1}}return null}},P={isBuffered:function(t,e){try{if(t)for(var n=t.buffered,i=0;i<n.length;i++)if(e>=n.start(i)&&e<=n.end(i))return!0}catch(t){}return!1},bufferInfo:function(t,e,n){try{if(t){var i,r=t.buffered,o=[];for(i=0;i<r.length;i++)o.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(o,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,n){var i,r,o,a,s,l=[];for(t.sort(function(t,e){var n=t.start-e.start;return n||e.end-t.end}),s=0;s<t.length;s++){var u=l.length;if(u){var c=l[u-1].end;t[s].start-c<n?t[s].end>c&&(l[u-1].end=t[s].end):l.push(t[s])}else l.push(t[s])}for(s=0,i=0,r=o=e;s<l.length;s++){var d=l[s].start,h=l[s].end;if(e+n>=d&&e<h)r=d,i=(o=h)-e;else if(e+n<d){a=d;break}}return{len:i,start:r,end:o,nextStart:a}}},R=n(7),I=n(5),x=n.n(I),L=n(9),D=n.n(L);function M(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}var N=M(),B=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=e,this.id=n;var i=this.observer=new x.a,r=e.config;i.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t,t].concat(n))},i.off=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[t].concat(n))};var o=function(t,n){(n=n||{}).frag=this.frag,n.id=this.id,e.trigger(t,n)}.bind(this);i.on(a.a.FRAG_DECRYPTED,o),i.on(a.a.FRAG_PARSING_INIT_SEGMENT,o),i.on(a.a.FRAG_PARSING_DATA,o),i.on(a.a.FRAG_PARSED,o),i.on(a.a.ERROR,o),i.on(a.a.FRAG_PARSING_METADATA,o),i.on(a.a.FRAG_PARSING_USERDATA,o),i.on(a.a.INIT_PTS_FOUND,o);var u={mp4:N.isTypeSupported("video/mp4"),mpeg:N.isTypeSupported("audio/mpeg"),mp3:N.isTypeSupported('audio/mp4; codecs="mp3"')},c=navigator.vendor;if(r.enableWorker&&"undefined"!=typeof Worker){l.b.log("demuxing in webworker");var d=void 0;try{d=this.w=D()(10),this.onwmsg=this.onWorkerMessage.bind(this),d.addEventListener("message",this.onwmsg),d.onerror=function(t){e.trigger(a.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},d.postMessage({cmd:"init",typeSupported:u,vendor:c,id:n,config:JSON.stringify(r)})}catch(t){l.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),d&&URL.revokeObjectURL(d.objectURL),this.demuxer=new R.a(i,u,r,c),this.w=void 0}}else this.demuxer=new R.a(i,u,r,c)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,n,i,r,o,a,s){var u=this.w,c=isNaN(r.startDTS)?r.start:r.startDTS,d=r.decryptdata,h=this.frag,p=!(h&&r.cc===h.cc),f=!(h&&r.level===h.level),y=h&&r.sn===h.sn+1,v=!f&&y;if(p&&l.b.log(this.id+":discontinuity detected"),f&&l.b.log(this.id+":switch detected"),this.frag=r,u)u.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:e,audioCodec:n,videoCodec:i,timeOffset:c,discontinuity:p,trackSwitch:f,contiguous:v,duration:o,accurateTimeOffset:a,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var g=this.demuxer;g&&g.push(t,d,e,n,i,c,p,f,v,o,a,s)}},t.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case a.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},t}();function U(t,e,n){var i=t[e],r=t[n],o=r.startPTS;isNaN(o)?r.start=n>e?i.start+i.duration:Math.max(i.start-r.duration,0):n>e?(i.duration=o-i.start,i.duration<0&&l.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(r.duration=i.start-o,r.duration<0&&l.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"))}function F(t,e,n,i,r,o){var a=n;if(!isNaN(e.startPTS)){var s=Math.abs(e.startPTS-n);isNaN(e.deltaPTS)?e.deltaPTS=s:e.deltaPTS=Math.max(s,e.deltaPTS),a=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),i=Math.max(i,e.endPTS),r=Math.min(r,e.startDTS),o=Math.max(o,e.endDTS)}var l=n-e.start;e.start=e.startPTS=n,e.maxStartPTS=a,e.endPTS=i,e.startDTS=r,e.endDTS=o,e.duration=i-n;var u,c,d,h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;for(u=h-t.startSN,(c=t.fragments)[u]=e,d=u;d>0;d--)U(c,d,d-1);for(d=u;d<c.length-1;d++)U(c,d,d+1);return t.PTSKnown=!0,l}function j(t,e){var n,i=Math.max(t.startSN,e.startSN)-e.startSN,r=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,a=t.fragments,s=e.fragments,u=0;if(r<i)e.PTSKnown=!1;else{for(var c=i;c<=r;c++){var d=a[o+c],h=s[c];h&&d&&(u=d.cc-h.cc,isNaN(d.startPTS)||(h.start=h.startPTS=d.startPTS,h.endPTS=d.endPTS,h.duration=d.duration,h.backtracked=d.backtracked,h.dropped=d.dropped,n=h))}if(u)for(l.b.log("discontinuity sliding from playlist, take drift into account"),c=0;c<s.length;c++)s[c].cc+=u;if(n)F(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(o>=0&&o<a.length){var p=a[o].start;for(c=0;c<s.length;c++)s[c].start+=p}e.PTSKnown=t.PTSKnown}}var V={toString:function(t){for(var e="",n=t.length,i=0;i<n;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}};function H(t,e){e.fragments.forEach(function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}),e.PTSKnown=!0}function G(t,e,n){if(function(t,e,n){var i=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(i=!0),i}(t,e,n)){var i=function(t,e){var n=t.fragments,i=e.fragments;if(i.length&&n.length){var r=function(t,e){for(var n=null,i=0;i<t.length;i+=1){var r=t[i];if(r&&r.cc===e){n=r;break}}return n}(n,i[0].cc);if(r&&(!r||r.startPTS))return r;l.b.log("No frag in previous level to align on")}else l.b.log("No fragments to align")}(e.details,n);i&&(l.b.log("Adjusting PTS using last level due to CC increase within current level"),H(i.start,n))}if(!1===n.PTSKnown&&e&&e.details){var r=e.details.programDateTime,o=(n.programDateTime-r)/1e3+e.details.fragments[0].start;isNaN(o)||(l.b.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),H(o,n))}}var z=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var Y={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},$=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.MANIFEST_LOADING,a.a.MANIFEST_PARSED,a.a.LEVEL_LOADED,a.a.KEY_LOADED,a.a.FRAG_LOADED,a.a.FRAG_LOAD_EMERGENCY_ABORTED,a.a.FRAG_PARSING_INIT_SEGMENT,a.a.FRAG_PARSING_DATA,a.a.FRAG_PARSED,a.a.ERROR,a.a.AUDIO_TRACK_SWITCHING,a.a.AUDIO_TRACK_SWITCHED,a.a.BUFFER_CREATED,a.a.BUFFER_APPENDED,a.a.BUFFER_FLUSHED));return i.config=n.config,i.audioCodecSwap=!1,i.ticks=0,i._state=Y.STOPPED,i.ontick=i.tick.bind(i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),c.prototype.destroy.call(this),this.state=Y.STOPPED},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(l.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=Y.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=Y.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Y.STOPPED,this.forceStartLoad=!1},e.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){switch(this.state){case Y.ERROR:break;case Y.BUFFER_FLUSHING:this.fragLoadError=0;break;case Y.IDLE:this._doTickIdle();break;case Y.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=Y.IDLE);break;case Y.FRAG_LOADING_WAITING_RETRY:var e=performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(l.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=Y.IDLE);break;case Y.ERROR:case Y.STOPPED:case Y.FRAG_LOADING:case Y.PARSING:case Y.PARSED:case Y.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch)){var i=void 0;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var r=t.nextLoadLevel,o=this.levels[r];if(o){var s=o.bitrate,u=void 0;u=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,u=Math.min(u,e.maxMaxBufferLength);var c=P.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,e.maxBufferHole),d=c.len;if(!(d>=u)){l.b.trace("buffer length of "+d.toFixed(3)+" is below max of "+u.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;var h=o.details;if(void 0===h||!0===h.live&&this.levelLastLoaded!==r)this.state=Y.WAITING_LEVEL;else{var p=this.fragPrevious;if(!h.live&&p&&!p.backtracked&&p.sn===h.endSN&&!c.nextStart)if(Math.min(n.duration,p.start+p.duration)-Math.max(c.end,p.start)<=Math.max(.2,p.duration)){var f={};return this.altAudio&&(f.type="video"),this.hls.trigger(a.a.BUFFER_EOS,f),void(this.state=Y.ENDED)}this._fetchPayloadOrEos(i,c,h)}}}}},e.prototype._fetchPayloadOrEos=function(t,e,n){var i=this.fragPrevious,r=this.level,o=n.fragments,a=o.length;if(0!==a){var s=o[0].start,u=o[a-1].start+o[a-1].duration,c=e.end,d=void 0;if(n.initSegment&&!n.initSegment.data)d=n.initSegment;else if(n.live){var h=this.config.initialLiveManifestSize;if(a<h)return void l.b.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+h);if(null===(d=this._ensureFragmentAtLivePoint(n,c,s,u,i,o,a)))return}else c<s&&(d=o[0]);d||(d=this._findFragment(s,i,a,o,c,u,n)),d&&this._loadFragmentOrKey(d,r,n,t,c)}},e.prototype._ensureFragmentAtLivePoint=function(t,e,n,i,r,o,a){var s=this.hls.config,u=this.media,c=void 0,d=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(n-s.maxFragLookUpTolerance,i-d)){var h=this.liveSyncPosition=this.computeLivePosition(n,t);l.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),e=h,u&&u.readyState&&u.duration>h&&(u.currentTime=h),this.nextLoadPosition=h}if(t.PTSKnown&&e>i&&u&&u.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(r){var p=r.sn+1;if(p>=t.startSN&&p<=t.endSN){var f=o[p-t.startSN];r.cc===f.cc&&(c=f,l.b.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=O.search(o,function(t){return r.cc-t.cc}))&&l.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=o[Math.min(a-1,Math.round(a/2))],l.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c},e.prototype._findFragment=function(t,e,n,i,r,o,a){var s=this.hls.config,u=void 0,c=void 0,d=s.maxFragLookUpTolerance,h=e?i[e.sn-i[0].sn+1]:void 0,p=function(t){var e=Math.min(d,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-e<=r?1:t.start-e>r&&t.start?-1:0};if(r<o?(r>o-d&&(d=0),c=h&&!p(h)?h:O.search(i,p)):c=i[n-1],c){var f=(u=c).sn-a.startSN,y=e&&u.level===e.level,v=i[f-1],g=i[f+1];if(e&&u.sn===e.sn)if(y&&!u.backtracked)if(u.sn<a.endSN){var m=e.deltaPTS;m&&m>s.maxBufferHole&&e.dropped&&f?(u=v,l.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):(u=g,l.b.log("SN just loaded, load next one: "+u.sn))}else u=null;else u.backtracked&&(g&&g.backtracked?(l.b.warn("Already backtracked from fragment "+g.sn+", will not backtrack to fragment "+u.sn+". Loading fragment "+g.sn),u=g):(l.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),u.dropped=0,v?(v.loadCounter&&v.loadCounter--,(u=v).backtracked=!0):f&&(u=null)))}return u},e.prototype._loadFragmentOrKey=function(t,e,n,i,r){var o=this.hls,u=o.config;if(!t.decryptdata||null==t.decryptdata.uri||null!=t.decryptdata.key){if(l.b.log("Loading "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e+", currentTime:"+i.toFixed(3)+",bufferEnd:"+r.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var c=u.fragLoadingLoopThreshold;if(t.loadCounter>c&&Math.abs(this.fragLoadIdx-t.loadIdx)<c)return void o.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t})}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,t.autoLevel=o.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),o.trigger(a.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new B(o,"main")),void(this.state=Y.FRAG_LOADING)}l.b.log("Loading key for "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e),this.state=Y.KEY_LOADING,o.trigger(a.a.KEY_LOADING,{frag:t})},e.prototype.getBufferedFrag=function(t){return O.search(this._bufferedFrags,function(e){return t<e.startPTS?-1:t>e.endPTS?1:0})},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),P.isBuffered(n,e)?t=this.getBufferedFrag(e):P.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(a.a.FRAG_CHANGED,{frag:i});var r=i.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(a.a.LEVEL_SWITCHED,{level:r}),this.fragPlaying=i}}},e.prototype.immediateLevelSwitch=function(){if(l.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,P.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,n=void 0,i=void 0;if(void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),(e=this.getBufferedFrag(t.currentTime))&&e.startPTS>1&&this.flushMainBuffer(0,e.startPTS-1),t.paused)n=0;else{var r=this.hls.nextLoadLevel,o=this.levels[r],a=this.fragLastKbps;n=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if((i=this.getBufferedFrag(t.currentTime+n))&&(i=this.followingBufferedFrag(i))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=Y.BUFFER_FLUSHING;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(a.a.BUFFER_FLUSHING,n)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(l.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0,t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,n=this.config;isNaN(e)||l.b.log("media seeking to "+e.toFixed(3));var i=this.mediaBuffer?this.mediaBuffer:t,r=P.bufferInfo(i,e,this.config.maxBufferHole);if(this.state===Y.FRAG_LOADING){var o=this.fragCurrent;if(0===r.len&&o){var a=n.maxFragLookUpTolerance,s=o.start-a,u=o.start+o.duration+a;e<s||e>u?(o.loader&&(l.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=Y.IDLE):l.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===Y.ENDED&&(0===r.len&&(this.fragPrevious=0),this.state=Y.IDLE);t&&(this.lastCurrentTime=e),this.state!==Y.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||l.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){l.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){l.b.log("trigger BUFFER_RESET"),this.hls.trigger(a.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e,n=!1,i=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&l.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,n=t.level,i=this.levels[this.levelLastLoaded],r=this.levels[n],o=e.totalduration,s=0;if(l.b.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+o),e.live){var u=r.details;u&&e.fragments.length>0?(j(u,e),s=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,u),e.PTSKnown&&!isNaN(s)?l.b.log("live playlist sliding:"+s.toFixed(3)):(l.b.log("live playlist - outdated PTS, unknown sliding"),G(this.fragPrevious,i,e))):(l.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,G(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=n,this.hls.trigger(a.a.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=e.startTimeOffset;isNaN(c)?e.live?(this.startPosition=this.computeLivePosition(s,e),l.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(c<0&&(l.b.log("negative start time offset "+c+", count from end of last fragment"),c=s+o+c),l.b.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===Y.WAITING_LEVEL&&(this.state=Y.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===Y.KEY_LOADING&&(this.state=Y.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===Y.FRAG_LOADING&&e&&"main"===n.type&&n.level===e.level&&n.sn===e.sn){var i=t.stats,r=this.levels[e.level],o=r.details;if(l.b.log("Loaded  "+e.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=i,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=Y.IDLE,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(a.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=Y.IDLE,i.tparsed=i.tbuffered=performance.now(),o.initSegment.data=t.payload,this.hls.trigger(a.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else{this.state=Y.PARSING;var s=o.totalduration,u=e.level,c=e.sn,d=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(l.b.log("swapping playlist audio codec"),void 0===d&&(d=this.lastAudioCodec),d&&(d=-1!==d.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,l.b.log("Parsing "+c+" of ["+o.startSN+" ,"+o.endSN+"],level "+u+", cc "+e.cc);var h=this.demuxer;h||(h=this.demuxer=new B(this.hls,"main"));var p=this.media,f=!(p&&p.seeking)&&(o.PTSKnown||!o.live),y=o.initSegment?o.initSegment.data:[];h.push(t.payload,y,d,r.videoCodec,e,s,f,void 0)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===Y.PARSING){var i,r,o=t.tracks;if(o.audio&&this.altAudio&&delete o.audio,r=o.audio){var s=this.levels[this.level].audioCodec,u=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(l.b.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===u.indexOf("firefox")&&(s="mp4a.40.5"),-1!==u.indexOf("android")&&"audio/mpeg"!==r.container&&(s="mp4a.40.2",l.b.log("Android: force audio codec to "+s)),r.levelCodec=s,r.id=t.id}for(i in(r=o.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),this.hls.trigger(a.a.BUFFER_CODECS,o),o){r=o[i],l.b.log("main track:"+i+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var c=r.initSegment;c&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.a.BUFFER_APPENDING,{type:i,data:c,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"main"===t.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==t.type||!this.altAudio)&&this.state===Y.PARSING){var r=this.levels[this.level],o=n;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),l.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)l.b.warn("Already backtracked on this fragment, appending with the gap");else{var s=r.details;if(!s||o.sn!==s.startSN)return l.b.warn("missing video frame(s), backtracking fragment"),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=Y.IDLE,this.fragPrevious=o,void this.tick();l.b.warn("missing video frame(s) on first frag, appending with gap")}else o.backtracked=!1;var u=F(r.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),c=this.hls;c.trigger(a.a.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:u,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(n){n&&n.length&&e.state===Y.PARSING&&(e.appended=!0,e.pendingBuffering=!0,c.trigger(a.a.BUFFER_APPENDING,{type:t.type,data:n,parent:"main",content:"data"}))}),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===Y.PARSING&&(this.stats.tparsed=performance.now(),this.state=Y.PARSED,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,n=t.id;if(!e){if(this.mediaBuffer!==this.media){l.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(l.b.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Y.IDLE}var r=this.hls;r.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(l.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,n=void 0,i=void 0,r=!1;for(var o in e){var a=e[o];"main"===a.id?(i=o,n=a,"video"===o&&(this.videoBuffer=e[o].buffer)):r=!0}r&&n?(l.b.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==Y.PARSING&&e!==Y.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==Y.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;l.b.log("main buffered : "+V.toString(e.buffered));var n=this._bufferedFrags.filter(function(t){return P.isBuffered(e,(t.startPTS+t.endPTS)/2)});n.push(t),this._bufferedFrags=n.sort(function(t,e){return t.startPTS-e.startPTS}),this.fragPrevious=t;var i=this.stats;i.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(a.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.state=Y.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=!!this.media&&P.isBuffered(this.media,this.media.currentTime)&&P.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:case s.a.KEY_LOAD_ERROR:case s.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);e.loadCounter=0,l.b.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=Y.FRAG_LOADING_WAITING_RETRY}else l.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Y.ERROR;break;case s.a.FRAG_LOOP_LOADING_ERROR:t.fatal||(n?(this._reduceMaxBufferLength(e.duration),this.state=Y.IDLE):e.autoLevel&&0!==e.level||(t.fatal=!0,this.state=Y.ERROR));break;case s.a.LEVEL_LOAD_ERROR:case s.a.LEVEL_LOAD_TIMEOUT:this.state!==Y.ERROR&&(t.fatal?(this.state=Y.ERROR,l.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==Y.WAITING_LEVEL||(this.state=Y.IDLE));break;case s.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==Y.PARSING&&this.state!==Y.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=Y.IDLE):(l.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,l.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold))},e.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var n=t.currentTime,i=this.mediaBuffer?this.mediaBuffer:t,r=i.buffered;if(!this.loadedmetadata&&r.length){this.loadedmetadata=!0;var o=t.seeking?n:this.startPosition,u=P.isBuffered(i,o),c=r.start(0),d=!u&&Math.abs(o-c)<e.maxSeekHole;(n!==o||d)&&(l.b.log("target start position:"+o),d&&(o=c,l.b.log("target start position not buffered, seek to buffered.start(0) "+o)),l.b.log("adjust currentTime from "+n+" to "+o),t.currentTime=o)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var h=P.bufferInfo(t,n,0),p=!(t.paused||t.ended||0===t.buffered.length);if(n!==this.lastCurrentTime)this.stallReported&&(l.b.warn("playback not stuck anymore @"+n+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(p){var f=performance.now(),y=this.hls;if(this.stalled){var v=f-this.stalled,g=h.len,m=this.nudgeRetry||0;if(g<=.5&&v>1e3*e.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,l.b.warn("playback stalling in low buffer @"+n),y.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g}));var b=h.nextStart,_=b-n;if(b&&_<e.maxSeekHole&&_>0){this.nudgeRetry=++m;var A=m*e.nudgeOffset;l.b.log("adjust currentTime from "+t.currentTime+" to next buffered @ "+b+" + nudge "+A),t.currentTime=b+A,this.stalled=void 0,y.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:b+A-n})}}else if(g>.5&&v>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,l.b.warn("playback stalling in high buffer @"+n),y.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g})),this.stalled=void 0,this.nudgeRetry=++m,m<e.nudgeMaxRetry){var E=t.currentTime,w=E+m*e.nudgeOffset;l.b.log("adjust currentTime from "+E+" to "+w),t.currentTime=w,y.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else l.b.error("still stuck in high buffer @"+n+" after "+e.nudgeMaxRetry+", raise fatal error"),y.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=f,this.stallReported=!1}}}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=Y.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(e){return P.isBuffered(t,(e.startPTS+e.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=Y.IDLE,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},z(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,l.b.log("main stream:"+e+"->"+t),this.hls.trigger(a.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(c),K=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var W=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MANIFEST_LOADED,a.a.LEVEL_LOADED,a.a.FRAG_LOADED,a.a.ERROR));return i.canload=!1,i.currentLevelIndex=null,i.manualLevelIndex=-1,i.timer=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},e.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e=[],n=void 0,i={},r=null,o=!1,u=!1,c=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),d=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,o=o||!!t.videoCodec,u=u||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===c&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),void 0===(r=i[t.bitrate])?(t.url=[t.url],t.urlId=0,i[t.bitrate]=t,e.push(t)):r.url.push(t.url)}),!0===o&&!0===u&&(e=e.filter(function(t){return!!t.videoCodec})),e=e.filter(function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||y(e))&&(!n||y(n))}),t.audioTracks&&(d=t.audioTracks.filter(function(t){return!t.audioCodec||y(t.audioCodec,"audio")})),e.length>0){n=e[0].bitrate,e.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=e;for(var h=0;h<e.length;h++)if(e[h].bitrate===n){this._firstLevel=h,l.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+n);break}this.hls.trigger(a.a.MANIFEST_PARSED,{levels:e,audioTracks:d,firstLevel:this._firstLevel,stats:t.stats,audio:u,video:o,altAudio:d.length>0})}else this.hls.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.cleanTimer(),this.currentLevelIndex!==t){l.b.log("switching to level "+t),this.currentLevelIndex=t;var i=e[t];i.level=t,n.trigger(a.a.LEVEL_SWITCH,i),n.trigger(a.a.LEVEL_SWITCHING,i)}var r=e[t],o=r.details;if(!o||!0===o.live){var u=r.urlId;n.trigger(a.a.LEVEL_LOADING,{url:r.url[u],level:t,id:u})}}else n.trigger(a.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){if(!0!==t.fatal){var e=!1,n=!1,i=void 0;switch(t.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:case s.a.FRAG_LOOP_LOADING_ERROR:case s.a.KEY_LOAD_ERROR:case s.a.KEY_LOAD_TIMEOUT:i=t.frag.level,n=!0;break;case s.a.LEVEL_LOAD_ERROR:case s.a.LEVEL_LOAD_TIMEOUT:i=t.context.level,e=!0;break;case s.a.REMUX_ALLOC_ERROR:i=t.level,e=!0}void 0!==i&&this.recoverLevel(t,i,e,n)}else t.type===s.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.recoverLevel=function(t,e,n,i){var r=this,o=this.hls.config,a=t.details,s=this._levels[e],u=void 0,c=void 0,d=void 0;if(s.loadError++,s.fragmentError=i,!0===n){if(!(this.levelRetryCount+1<=o.levelLoadingMaxRetry))return l.b.error("level controller, cannot recover from "+a+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);c=Math.min(Math.pow(2,this.levelRetryCount)*o.levelLoadingRetryDelay,o.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return r.loadLevel()},c),t.levelRetry=!0,this.levelRetryCount++,l.b.warn("level controller, "+a+", retry in "+c+" ms, current retry count is "+this.levelRetryCount)}!0!==n&&!0!==i||((u=s.url.length)>1&&s.loadError<u?(l.b.warn("level controller, "+a+" for level "+e+": switching to redundant stream id "+s.urlId),s.urlId=(s.urlId+1)%u,s.details=void 0):-1===this.manualLevelIndex?(d=0===e?this._levels.length-1:e-1,l.b.warn("level controller, "+a+": switch to "+d),this.hls.nextAutoLevel=this.currentLevelIndex=d):!0===i&&(l.b.warn("level controller, "+a+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,n=t.level;if(n===this.currentLevelIndex){var i=this._levels[n];!1===i.fragmentError&&(i.loadError=0,this.levelRetryCount=0);var r=t.details;if(r.live){var o=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),a=i.details;a&&r.endSN===a.endSN&&(o/=2,l.b.log("same live playlist, reload twice faster")),o-=performance.now()-t.stats.trequest,o=Math.max(1e3,Math.round(o)),l.b.log("live playlist, reload in "+o+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},o)}else this.cleanTimer()}},e.prototype.loadLevel=function(){var t=void 0,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(t=this._levels[this.currentLevelIndex])&&t.url.length>0&&(e=t.urlId,this.hls.trigger(a.a.LEVEL_LOADING,{url:t.url[e],level:this.currentLevelIndex,id:e}))},K(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(c),q=n(3);var X=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.FRAG_PARSING_METADATA));return i.id3Track=void 0,i.media=void 0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){c.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){this.media=void 0},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<n.length;r++){var o=q.a.getID3Frames(n[r].data);if(o){var a=n[r].pts,s=r<n.length-1?n[r+1].pts:e.endPTS;a===s&&(s+=1e-4);for(var l=0;l<o.length;l++){var u=o[l];if(!q.a.isTimeStampFrame(u)){var c=new i(a,s,"");c.value=u,this.id3Track.addCue(c)}}}}},e}(c);var Z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}();var Q=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=e,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Z(n),this.fast_=new Z(i)}return t.prototype.sample=function(t,e){var n=8e3*e/(t=Math.max(t,this.minDelayMs_)),i=t/1e3;this.fast_.sample(i,n),this.slow_.sample(i,n)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}(),J=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var tt=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.FRAG_LOADING,a.a.FRAG_LOADED,a.a.FRAG_BUFFERED,a.a.ERROR));return i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=n,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.clearTimer(),c.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var n=this.hls,i=t.frag.level,r=n.levels[i].details.live,o=n.config,a=void 0,s=void 0;r?(a=o.abrEwmaFastLive,s=o.abrEwmaSlowLive):(a=o.abrEwmaFastVoD,s=o.abrEwmaSlowVoD),this._bwEstimator=new Q(n,s,a,o.abrEwmaDefaultEstimate)}this.fragCurrent=e}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent,i=n.loader,r=t.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return l.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=i.stats;if(e&&o&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var s=performance.now()-o.trequest,u=Math.abs(e.playbackRate);if(s>500*n.duration/u){var c=t.levels,d=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/s),h=c[n.level],p=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,f=o.total?o.total:Math.max(o.loaded,Math.round(n.duration*p/8)),y=e.currentTime,v=(f-o.loaded)/d,g=(P.bufferInfo(e,y,t.config.maxBufferHole).end-y)/u;if(g<2*n.duration/u&&v>g){var m=void 0,b=void 0;for(b=n.level-1;b>r;b--){var _=c[b].realBitrate?Math.max(c[b].realBitrate,c[b].bitrate):c[b].bitrate;if((m=n.duration*_/(6.4*d))<g)break}m<v&&(l.b.warn("loading too slow, abort fragment loading and switch to level "+b+":fragLoadedDelay["+b+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+m.toFixed(1)+"<"+v.toFixed(1)+":"+g.toFixed(1)),t.nextLoadLevel=b,this._bwEstimator.sample(s,o.loaded),i.abort(),this.clearTimer(),t.trigger(a.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:o}))}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[e.level],i=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,r=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:i,duration:r},n.realBitrate=Math.round(8*i/r)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,n=t.frag;if(!(!0===e.aborted||1!==n.loadCounter||"main"!==n.type||isNaN(n.sn)||n.bitrateTest&&e.tload!==e.tbuffered)){var i=e.tparsed-e.trequest;l.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,n,i,r,o,a,s,u){for(var c=r;c>=i;c--){var d=u[c].details,h=d?d.totalduration/d.fragments.length:e,p=!!d&&d.live,f=void 0;f=c<=t?a*n:s*n;var y=u[c].realBitrate?Math.max(u[c].realBitrate,u[c].bitrate):u[c].bitrate,v=y*h/f;if(l.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(f)+"/"+y+"/"+h+"/"+o+"/"+v),f>y&&(!v||p&&!this.bitrateTestDelay||v<o))return c}return-1},J(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,i=t.config,r=t.minAutoLevel,o=t.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=o?o.currentTime:0,c=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(P.bufferInfo(o,u,i.maxBufferHole).end-u)/c,p=this._findBestLevel(a,s,d,r,e,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(p>=0)return p;l.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var f=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,y=i.abrBandWidthFactor,v=i.abrBandWidthUpFactor;if(0===h){var g=this.bitrateTestDelay;if(g)f=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-g,l.b.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),y=v=1}return p=this._findBestLevel(a,s,d,r,e,h+f,y,v,n),Math.max(p,0)}}]),e}(c);var et=M(),nt=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHING,a.a.MEDIA_DETACHING,a.a.MANIFEST_PARSED,a.a.BUFFER_RESET,a.a.BUFFER_APPENDING,a.a.BUFFER_CODECS,a.a.BUFFER_EOS,a.a.BUFFER_FLUSHING,a.a.LEVEL_PTS_UPDATED,a.a.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i._live=null,i._objectUrl=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){c.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-t.start)>.1){var r=i.updating;try{i.abort()}catch(t){r=!0,l.b.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(l.b.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,n=t.video||t.levels.length&&t.audio,i=0;t.altAudio&&(e||n)&&(i=(e?1:0)+(n?1:0),l.b.log(i+" sourceBuffer(s) expected")),this.sourceBufferNb=i},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var n=this.mediaSource=new et;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(n),this._objectUrl=e.src}},e.prototype.onMediaDetaching=function(){l.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){l.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):l.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(a.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){l.b.log("media source opened"),this.hls.trigger(a.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){l.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){l.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;l.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,n=this.segments.reduce(function(t,n){return n.parent===e?t+1:t},0);this.hls.trigger(a.a.BUFFER_APPENDED,{parent:e,pending:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){l.b.error("sourceBuffer error:",t),this.hls.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;for(var i in t)if(!e[i]){var r=t[i],o=r.levelCodec||r.codec,u=r.container+";codecs="+o;l.b.log("creating sourceBuffer("+u+")");try{var c=e[i]=n.addSourceBuffer(u);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[i]={codec:o,container:r.container},r.buffer=c}catch(t){l.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:u})}}this.hls.trigger(a.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){l.b.error("sourceBuffer error:",t.event),this.hls.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,n=t.type;for(var i in e)n&&i!==n||e[i].ended||(e[i].ended=!0,l.b.log(i+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var i=t[n];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}l.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){l.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t,e=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(l.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||t===1/0||isNaN(t))&&(l.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var i in n)e+=n[i].buffered.length}catch(t){l.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(a.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,n=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void l.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var i=n.shift();try{var r=e[i.type];r?r.updating?n.unshift(i):(r.ended=!1,this.parent=i.parent,r.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){l.b.error("error while trying to append buffer:"+e.message),n.unshift(i);var o={type:s.b.MEDIA_ERROR,parent:i.parent};if(22===e.code)return this.segments=[],o.details=s.a.BUFFER_FULL_ERROR,o.fatal=!1,void t.trigger(a.a.ERROR,o);if(this.appendError?this.appendError++:this.appendError=1,o.details=s.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry)return l.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],o.fatal=!0,void t.trigger(a.a.ERROR,o);o.fatal=!1,t.trigger(a.a.ERROR,o)}}}},e.prototype.flushBuffer=function(t,e,n){var i,r,o,a,s,u,c=this.sourceBuffer;if(Object.keys(c).length){if(l.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var d in c)if(!n||d===n){if((i=c[d]).ended=!1,i.updating)return l.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<i.buffered.length;r++)if(o=i.buffered.start(r),a=i.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(s=t,u=e):(s=Math.max(o,t),u=Math.min(a,e)),Math.min(u,a)-s>.5)return this.flushBufferCounter++,l.b.log("flush "+d+" ["+s+","+u+"], of ["+o+","+a+"], pos:"+this.media.currentTime),i.remove(s,u),!1}catch(t){l.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else l.b.warn("abort flushing too many retries");l.b.log("buffer flushed")}return!0},e}(c),it=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var rt=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.FPS_DROP_LEVEL_CAPPING,a.a.MEDIA_ATTACHING,a.a.MANIFEST_PARSED))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var n=this;if(!this.levels)return-1;var i=this.levels.filter(function(i,r){return e.isLevelAllowed(r,n.restrictedLevels)&&r<=t});return e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var i,r,o=t.length-1,a=0;a<t.length;a+=1){var s=t[a];if((s.width>=e||s.height>=n)&&(i=s,!(r=t[a+1])||i.width!==r.width||i.height!==r.height)){o=a;break}}return o},it(e,[{key:"mediaWidth",get:function(){var t=void 0,n=this.media;return n&&(t=n.width||n.clientWidth||n.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,n=this.media;return n&&(t=n.height||n.clientHeight||n.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(c);var ot=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHING))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,n){var i=performance.now();if(e){if(this.lastTime){var r=i-this.lastTime,o=n-this.lastDroppedFrames,s=e-this.lastDecodedFrames,u=1e3*o/r,c=this.hls;if(c.trigger(a.a.FPS_DROP,{currentDropped:o,currentDecoded:s,totalDroppedFrames:n}),u>0&&o>c.config.fpsDroppedMonitoringThreshold*s){var d=c.currentLevel;l.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(a.a.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,c.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(c);var at=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(n){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,i=this.stats,r=this.context,o=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest)),4===n){var a=e.status;if(a>=200&&a<300){i.tload=Math.max(i.tfirst,performance.now());var s=void 0,u=void 0;u="arraybuffer"===r.responseType?(s=e.response).byteLength:(s=e.responseText).length,i.loaded=i.total=u;var c={url:e.responseURL,data:s};this.callbacks.onSuccess(c,i,r,e)}else i.retry>=o.maxRetry||a>=400&&a<499?(l.b.error(a+" while loading "+r.url),this.callbacks.onError({code:a,text:e.statusText},r,e)):(l.b.warn(a+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},t.prototype.loadtimeout=function(){l.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,e)},t}(),st=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var lt=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MANIFEST_LOADING,a.a.MANIFEST_PARSED,a.a.AUDIO_TRACK_LOADED,a.a.ERROR));return i.ticks=0,i.ontick=i.tick.bind(i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.cleanTimer(),c.prototype.destroy.call(this)},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){this.updateTrack(this.trackId)},e.prototype.onError=function(t){t.fatal&&t.type===s.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestParsed=function(t){var e=this,n=t.audioTracks||[],i=!1;this.tracks=n,this.hls.trigger(a.a.AUDIO_TRACKS_UPDATED,{audioTracks:n});var r=0;n.forEach(function(t){if(t.default&&!i)return e.audioTrack=r,void(i=!0);r++}),!1===i&&n.length&&(l.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},e.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(l.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},e.prototype.setAudioTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,l.b.log("switching to audioTrack "+t);var e=this.tracks[t],n=this.hls,i=e.type,r=e.url,o={id:t,type:i,url:r};n.trigger(a.a.AUDIO_TRACK_SWITCH,o),n.trigger(a.a.AUDIO_TRACK_SWITCHING,o);var s=e.details;!r||void 0!==s&&!0!==s.live||(l.b.log("(re)loading playlist for audioTrack "+t),n.trigger(a.a.AUDIO_TRACK_LOADING,{url:r,id:t}))}},e.prototype.updateTrack=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,l.b.log("updating audioTrack "+t);var e=this.tracks[t],n=e.url,i=e.details;!n||void 0!==i&&!0!==i.live||(l.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(a.a.AUDIO_TRACK_LOADING,{url:n,id:t}))}},st(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}(c),ut=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var ct={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},dt=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.AUDIO_TRACKS_UPDATED,a.a.AUDIO_TRACK_SWITCHING,a.a.AUDIO_TRACK_LOADED,a.a.KEY_LOADED,a.a.FRAG_LOADED,a.a.FRAG_PARSING_INIT_SEGMENT,a.a.FRAG_PARSING_DATA,a.a.FRAG_PARSED,a.a.ERROR,a.a.BUFFER_RESET,a.a.BUFFER_CREATED,a.a.BUFFER_APPENDED,a.a.BUFFER_FLUSHED,a.a.INIT_PTS_FOUND));return i.config=n.config,i.audioCodecSwap=!1,i.ticks=0,i._state=ct.STOPPED,i.ontick=i.tick.bind(i),i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),c.prototype.destroy.call(this),this.state=ct.STOPPED},e.prototype.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,i=t.initPTS;"main"===e&&(this.initPTS[n]=i,this.videoTrackCC=n,l.b.log("InitPTS for cc:"+n+" found from video track:"+i),this.state===ct.WAITING_INIT_PTS&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,e>0&&-1===t?(l.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=ct.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=ct.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=ct.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ct.STOPPED},e.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){var t,e,n,i=this.hls,r=i.config;switch(this.state){case ct.ERROR:case ct.PAUSED:case ct.BUFFER_FLUSHING:break;case ct.STARTING:this.state=ct.WAITING_TRACK,this.loadedmetadata=!1;break;case ct.IDLE:var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var u=this.mediaBuffer?this.mediaBuffer:this.media,c=this.videoBuffer?this.videoBuffer:this.media,d=P.bufferInfo(u,t,r.maxBufferHole),h=P.bufferInfo(c,t,r.maxBufferHole),p=d.len,f=d.end,y=this.fragPrevious,v=Math.max(r.maxBufferLength,h.len),g=this.audioSwitch,m=this.trackId;if((p<v||g)&&m<o.length){if(void 0===(n=o[m].details)){this.state=ct.WAITING_TRACK;break}if(!g&&!n.live&&y&&y.sn===n.endSN&&!d.nextStart&&(!this.media.seeking||this.media.duration-f<y.duration/2)){this.hls.trigger(a.a.BUFFER_EOS,{type:"audio"}),this.state=ct.ENDED;break}var b=n.fragments,_=b.length,A=b[0].start,E=b[_-1].start+b[_-1].duration,w=void 0;if(g)if(n.live&&!n.PTSKnown)l.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),f=0;else if(f=t,n.PTSKnown&&t<A){if(!(d.end>A||d.nextStart))return;l.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=A+.05}if(n.initSegment&&!n.initSegment.data)w=n.initSegment;else if(f<=A){if(w=b[0],null!==this.videoTrackCC&&w.cc!==this.videoTrackCC&&(w=function(t,e){return O.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}(b,this.videoTrackCC)),n.live&&w.loadIdx&&w.loadIdx===this.fragLoadIdx){var T=d.nextStart?d.nextStart:A;return l.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(T+.05)),void(this.media.currentTime=T+.05)}}else{var k=void 0,S=r.maxFragLookUpTolerance,C=y?b[y.sn-b[0].sn+1]:void 0,R=function(t){var e=Math.min(S,t.duration);return t.start+t.duration-e<=f?1:t.start-e>f&&t.start?-1:0};f<E?(f>E-S&&(S=0),k=C&&!R(C)?C:O.search(b,R)):k=b[_-1],k&&(w=k,A=k.start,y&&w.level===y.level&&w.sn===y.sn&&(w.sn<n.endSN?(w=b[w.sn+1-n.startSN],l.b.log("SN just loaded, load next one: "+w.sn)):w=null))}if(w)if(w.decryptdata&&null!=w.decryptdata.uri&&null==w.decryptdata.key)l.b.log("Loading key for "+w.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+m),this.state=ct.KEY_LOADING,i.trigger(a.a.KEY_LOADING,{frag:w});else{if(l.b.log("Loading "+w.sn+", cc: "+w.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+m+", currentTime:"+t+",bufferEnd:"+f.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,w.loadCounter){w.loadCounter++;var I=r.fragLoadingLoopThreshold;if(w.loadCounter>I&&Math.abs(this.fragLoadIdx-w.loadIdx)<I)return void i.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:w})}else w.loadCounter=1;w.loadIdx=this.fragLoadIdx,this.fragCurrent=w,this.startFragRequested=!0,isNaN(w.sn)||(this.nextLoadPosition=w.start+w.duration),i.trigger(a.a.FRAG_LOADING,{frag:w}),this.state=ct.FRAG_LOADING}}break;case ct.WAITING_TRACK:(e=this.tracks[this.trackId])&&e.details&&(this.state=ct.IDLE);break;case ct.FRAG_LOADING_WAITING_RETRY:var x=performance.now(),L=this.retryDate,D=(u=this.media)&&u.seeking;(!L||x>=L||D)&&(l.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=ct.IDLE);break;case ct.WAITING_INIT_PTS:var M=this.videoTrackCC;if(void 0===this.initPTS[M])break;var N=this.waitingFragment;if(N){var B=N.frag.cc;M!==B?(e=this.tracks[this.trackId]).details&&e.details.live&&(l.b.warn("Waiting fragment CC ("+B+") does not match video track CC ("+M+")"),this.waitingFragment=null,this.state=ct.IDLE):(this.state=ct.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=ct.IDLE;break;case ct.STOPPED:case ct.FRAG_LOADING:case ct.PARSING:case ct.PARSED:case ct.ENDED:}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(l.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.tracks;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===ct.ENDED&&(this.state=ct.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){l.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=ct.PAUSED,this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=ct.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,i=this.tracks[n],r=e.totalduration,o=0;if(l.b.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+r),e.live){var a=i.details;a&&e.fragments.length>0?(j(a,e),o=e.fragments[0].start,e.PTSKnown?l.b.log("live audio playlist sliding:"+o.toFixed(3)):l.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,l.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(i.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;isNaN(s)?this.startPosition=0:(l.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===ct.WAITING_TRACK&&(this.state=ct.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===ct.KEY_LOADING&&(this.state=ct.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===ct.FRAG_LOADING&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var i=this.tracks[this.trackId],r=i.details,o=r.totalduration,s=e.level,u=e.sn,c=e.cc,d=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",h=this.stats=t.stats;if("initSegment"===u)this.state=ct.IDLE,h.tparsed=h.tbuffered=performance.now(),r.initSegment.data=t.payload,this.hls.trigger(a.a.FRAG_BUFFERED,{stats:h,frag:e,id:"audio"}),this.tick();else{this.state=ct.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new B(this.hls,"audio"));var p=this.initPTS[c],f=r.initSegment?r.initSegment.data:[];if(r.initSegment||void 0!==p){this.pendingBuffering=!0,l.b.log("Demuxing "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+s);this.demuxer.push(t.payload,f,d,null,e,o,!1,p)}else l.b.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+s),this.waitingFragment=t,this.state=ct.WAITING_INIT_PTS}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ct.PARSING){var i=t.tracks,r=void 0;if(i.video&&delete i.video,r=i.audio){r.levelCodec=r.codec,r.id=t.id,this.hls.trigger(a.a.BUFFER_CODECS,i),l.b.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var o=r.initSegment;if(o){var s={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.a.BUFFER_APPENDING,s))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"audio"===t.id&&"audio"===t.type&&i.sn===n.sn&&i.level===n.level&&this.state===ct.PARSING){var r=this.trackId,o=this.tracks[r],s=this.hls;isNaN(t.endPTS)&&(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),l.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),F(o.details,n,t.startPTS,t.endPTS);var u=this.audioSwitch,c=this.media,d=!1;if(u&&c)if(c.readyState){var h=c.currentTime;l.b.log("switching audio track : currentTime:"+h),h>=t.startPTS&&(l.b.log("switching audio track : flushing all audio"),this.state=ct.BUFFER_FLUSHING,s.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),d=!0,this.audioSwitch=!1,s.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,s.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:r});var p=this.pendingData;this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&p.push({type:t.type,data:e,parent:"audio",content:"data"})}),!d&&p.length&&(p.forEach(function(t){e.state===ct.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(a.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ct.PARSING&&(this.stats.tparsed=performance.now(),this.state=ct.PARSED,this._checkAppendedParsed())},e.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==ct.PARSING&&e!==ct.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==ct.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),n.trigger(a.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;l.b.log("audio buffered : "+V.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=ct.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var n=this.fragLoadError;n?n++:n=1;var i=this.config;if(n<=i.fragLoadingMaxRetry){this.fragLoadError=n,e.loadCounter=0;var r=Math.min(Math.pow(2,n-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);l.b.warn("audioStreamController: frag loading failed, retry in "+r+" ms"),this.retryDate=performance.now()+r,this.state=ct.FRAG_LOADING_WAITING_RETRY}else l.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=ct.ERROR}break;case s.a.FRAG_LOOP_LOADING_ERROR:case s.a.AUDIO_TRACK_LOAD_ERROR:case s.a.AUDIO_TRACK_LOAD_TIMEOUT:case s.a.KEY_LOAD_ERROR:case s.a.KEY_LOAD_TIMEOUT:this.state!==ct.ERROR&&(this.state=t.fatal?ct.ERROR:ct.IDLE,l.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case s.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===ct.PARSING||this.state===ct.PARSED)){var o=this.mediaBuffer,u=this.media.currentTime;if(o&&P.isBuffered(o,u)&&P.isBuffered(o,u+.5)){var c=this.config;c.maxMaxBufferLength>=c.maxBufferLength&&(c.maxMaxBufferLength/=2,l.b.warn("audio:reduce max buffer length to "+c.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*c.fragLoadingLoopThreshold),this.state=ct.IDLE}else l.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=ct.BUFFER_FLUSHING,this.hls.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(l.b.log("appending pending audio data on Buffer Flushed"),e.forEach(function(e){t.hls.trigger(a.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=ct.PARSED):(this.state=ct.IDLE,this.fragPrevious=null,this.tick())},ut(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,l.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(c),ht=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var t="auto",e={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(t){return"string"==typeof t&&(!!n[t.toLowerCase()]&&t.toLowerCase())}function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function o(n,o,a){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,h=n,p=o,f=a,y=null,v="",g=!0,m="auto",b="start",_=50,A="middle",E=50,w="middle";if(Object.defineProperty(s,"id",r({},u,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",r({},u,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",r({},u,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},u,{get:function(){return p},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},u,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},u,{get:function(){return y},set:function(t){y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},u,{get:function(){return v},set:function(t){var n=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");v=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},u,{get:function(){return g},set:function(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},u,{get:function(){return m},set:function(e){if("number"!=typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},u,{get:function(){return b},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},u,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},u,{get:function(){return A},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");A=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},u,{get:function(){return E},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},u,{get:function(){return w},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}return o.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},o}(),pt=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function ft(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new pt,this.regionList=[]}function yt(){this.values=Object.create(null)}function vt(t,e,n,i){var r=i?t.split(i):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);if(2===a.length)e(a[0],a[1])}}yt.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var gt=new ht(0,0,0),mt="middle"===gt.align?"middle":"center";function bt(t,e,n){var i=t;function r(){var e=function(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),o(),e.endTime=r(),o(),function(t,e){var i=new yt;vt(t,function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start",mt,"end"]);break;case"position":o=e.split(","),i.percent(t,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start",mt,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",mt,"end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var r=i.get("line","auto");"auto"===r&&-1===gt.line&&(r=-1),e.line=r,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",mt);var o=i.get("position","auto");"auto"===o&&50===gt.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}(t,e)}function _t(t){return t.replace(/<br(?: \/)?>/gi,"\n")}ft.prototype={parse:function(t){var e=this;function n(){var t=e.buffer,n=0;for(t=_t(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var i;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var r=(i=n()).match(/^()?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var o=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(o?o=!1:i=n(),e.state){case"HEADER":/:/.test(i)?vt(i,function(t,e){switch(t){case"Region":console.log("parse region",e)}},/:/):i||(e.state="ID");continue;case"NOTE":i||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){e.state="NOTE";break}if(!i)continue;if(e.cue=new ht(0,0,""),e.state="CUE",-1===i.indexOf("--\x3e")){e.cue.id=i;continue}case"CUE":try{bt(i,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var a=-1!==i.indexOf("--\x3e");if(!i||a&&(o=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=i;continue;case"BADCUE":i||(e.state="ID");continue}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var At=ft;function Et(t,e,n,i){for(var r,o,a,s,l,u=window.VTTCue||window.TextTrackCue,c=0;c<i.rows.length;c++)if(a=!0,s=0,l="",!(r=i.rows[c]).isEmpty()){for(var d=0;d<r.chars.length;d++)r.chars[d].uchar.match(/\s/)&&a?s++:(l+=r.chars[d].uchar,a=!1);r.cueStartTime=e,e===n&&(n+=1e-4),o=new u(e,n,_t(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?o.line=c+1:o.line=c>7?c-2:c+1,o.align="left",o.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(o)}}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Tt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},kt=function(t){var e=t;return Tt.hasOwnProperty(t)&&(e=Tt[t]),String.fromCharCode(e)},St=15,Ct=100,Ot={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Pt={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Rt={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},It={25:2,26:4,29:6,30:8,31:10,27:13,28:15},xt=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Lt={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var n=this.verboseFilter[t];this.verboseLevel>=n&&console.log(this.time+" ["+t+"] "+e)}},Dt=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},Mt=function(){function t(e,n,i,r,o){wt(this,t),this.foreground=e||"white",this.underline=n||!1,this.italics=i||!1,this.background=r||"black",this.flash=o||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var i=e[n];t.hasOwnProperty(i)&&(this[i]=t[i])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),Nt=function(){function t(e,n,i,r,o,a){wt(this,t),this.uchar=e||" ",this.penState=new Mt(n,i,r,o,a)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),Bt=function(){function t(){wt(this,t),this.chars=[];for(var e=0;e<Ct;e++)this.chars.push(new Nt);this.pos=0,this.currPenState=new Mt}return t.prototype.equals=function(t){for(var e=!0,n=0;n<Ct;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<Ct;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<Ct;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(Lt.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>Ct&&(Lt.log("ERROR","Too large cursor position "+this.pos),this.pos=Ct)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=kt(t);this.pos>=Ct?Lt.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},t.prototype.clearFromPos=function(t){var e;for(e=t;e<Ct;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,n=0;n<Ct;n++){var i=this.chars[n].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),Ut=function(){function t(){wt(this,t),this.rows=[];for(var e=0;e<St;e++)this.rows.push(new Bt);this.currRow=St-1,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<St;t++)this.rows[t].clear();this.currRow=St-1},t.prototype.equals=function(t){for(var e=!0,n=0;n<St;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<St;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<St;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){Lt.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){Lt.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<St;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var o=r.rows[i].cueStartTime;if(o&&o<Lt.time)for(var a=0;a<this.nrRollUpRows;a++)this.rows[e-this.nrRollUpRows+a+1].copy(r.rows[i+a])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,u=Math.max(l-1,0);s.setCursor(t.indent),t.color=s.chars[u].penState.foreground}var c={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(c)},t.prototype.setBkgData=function(t){Lt.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null!==this.nrRollUpRows){Lt.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),Lt.log("INFO","Rolling up")}else Lt.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],n="",i=-1,r=0;r<St;r++){var o=this.rows[r].getTextString();o&&(i=r+1,t?e.push("Row "+i+": '"+o+"'"):e.push(o.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},t.prototype.getTextAndFormat=function(){return this.rows},t}(),Ft=function(){function t(e,n){wt(this,t),this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Ut,this.nonDisplayedMemory=new Ut,this.lastOutputScreen=new Ut,this.currRollUpRow=this.displayedMemory.rows[St-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[St-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,Lt.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";Lt.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(Lt.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){Lt.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){Lt.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){Lt.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){Lt.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){Lt.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){Lt.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){Lt.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){Lt.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){Lt.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){Lt.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){Lt.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(Lt.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,Lt.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){Lt.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}Lt.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Lt.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),jt=function(){function t(e,n,i){wt(this,t),this.field=e||1,this.outputs=[n,i],this.channels=[new Ft(1,n),new Ft(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var n,i,r,o=!1;this.lastTime=t,Lt.setTime(t);for(var a=0;a<e.length;a+=2)if(i=127&e[a],r=127&e[a+1],0!==i||0!==r){if(Lt.log("DATA","["+Dt([e[a],e[a+1]])+"] -> ("+Dt([i,r])+")"),(n=this.parseCmd(i,r))||(n=this.parseMidrow(i,r)),n||(n=this.parsePAC(i,r)),n||(n=this.parseBackgroundAttributes(i,r)),!n)if(o=this.parseChars(i,r))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(o);else Lt.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,Lt.log("WARNING","Couldn't parse cleaned data "+Dt([i,r])+" orig: "+Dt([e[a],e[a+1]])))}else this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var n=null;if(!((20===t||28===t)&&32<=e&&e<=47)&&!((23===t||31===t)&&33<=e&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,Lt.log("DEBUG","Repeated command ("+Dt([t,e])+") is dropped"),!0;n=20===t||23===t?1:2;var i=this.channels[n-1];return 20===t||28===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.parseMidrow=function(t,e){var n=null;return(17===t||25===t)&&32<=e&&e<=47&&((n=17===t?1:2)!==this.currChNr?(Lt.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(e),Lt.log("DEBUG","MIDROW ("+Dt([t,e])+")"),!0))},t.prototype.parsePAC=function(t,e){var n,i=null;if(!((17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127)&&!((16===t||24===t)&&64<=e&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=t<=23?1:2,i=64<=e&&e<=95?1===n?Ot[t]:Rt[t]:1===n?Pt[t]:It[t];var r=this.interpretPAC(i,e);return this.channels[n-1].setPAC(r),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},t.prototype.interpretPAC=function(t,e){var n=e,i={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,i.underline=1==(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},t.prototype.parseChars=function(t,e){var n=null,i=null,r=null;if(t>=25?(n=2,r=t-8):(n=1,r=t),17<=r&&r<=19){var o=e;o=17===r?e+80:18===r?e+112:e+144,Lt.log("INFO","Special char '"+kt(o)+"' in channel "+n),i=[o]}else 32<=t&&t<=127&&(i=0===e?[t]:[t,e]);if(i){var a=Dt(i);Lt.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},t.prototype.parseBackgroundAttributes=function(t,e){var n,i,r;return((16===t||24===t)&&32<=e&&e<=47||(23===t||31===t)&&45<=e&&e<=47)&&(n={},16===t||24===t?(i=Math.floor((e-32)/2),n.background=xt[i],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),r=t<24?1:2,this.channels[r-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}();var Vt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timelineController=e,this.track=n,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.track)},t}(),Ht=function(t,e,n){return t.substr(n||0,e.length)===e},Gt=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()},zt={parse:function(t,e,n,i,r,o){var a=Object(q.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),s="00:00.000",l=0,u=0,c=0,d=[],h=void 0,p=!0,f=new At;f.oncue=function(t){var e=n[i],r=n.ccOffset;e&&e.new&&(void 0!==u?r=n.ccOffset=e.start:function(t,e,n){var i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;r&&r.new;)t.ccOffset+=i.start-r.start,i.new=!1,r=t[(i=r).prevCC];t.presentationOffset=n}(n,i,c)),c&&(r=c+n.ccOffset-n.presentationOffset),t.startTime+=r-u,t.endTime+=r-u,t.id=Gt(t.startTime.toString())+Gt(t.endTime.toString())+Gt(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&d.push(t)},f.onparsingerror=function(t){h=t},f.onflush=function(){h&&o?o(h):r(d)},a.forEach(function(t){if(p){if(Ht(t,"X-TIMESTAMP-MAP=")){p=!1,t.substr(16).split(",").forEach(function(t){Ht(t,"LOCAL:")?s=t.substr(6):Ht(t,"MPEGTS:")&&(l=parseInt(t.substr(7)))});try{l-=e=e<0?e+8589934592:e,n=s,i=parseInt(n.substr(-3)),r=parseInt(n.substr(-6,2)),o=parseInt(n.substr(-9,2)),a=n.length>9?parseInt(n.substr(0,n.indexOf(":"))):0,u=(isNaN(i)||isNaN(r)||isNaN(o)||isNaN(a)?-1:(i+=1e3*r,i+=6e4*o,i+=36e5*a))/1e3,c=l/9e4,-1===u&&(h=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){h=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(p=!1)}var n,i,r,o,a;f.parse(t+"\n")}),f.flush()}};function Yt(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}var $t=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHING,a.a.MEDIA_DETACHING,a.a.FRAG_PARSING_USERDATA,a.a.FRAG_DECRYPTED,a.a.MANIFEST_LOADING,a.a.MANIFEST_LOADED,a.a.FRAG_LOADED,a.a.LEVEL_SWITCHING,a.a.INIT_PTS_FOUND));if(i.hls=n,i.config=n.config,i.enabled=!0,i.Cues=n.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=void 0,i.cueRanges=[],i.config.enableCEA708Captions){var r=new Vt(i,1),o=new Vt(i,2);i.cea608Parser=new jt(0,r,o)}return i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.addCues=function(t,e,n,i){for(var r,o,a,s,l=this.cueRanges,u=!1,c=l.length;c--;){var d=l[c],h=(r=d[0],o=d[1],a=e,s=n,Math.min(o,s)-Math.max(r,a));if(h>=0&&(d[0]=Math.min(d[0],e),d[1]=Math.max(d[1],n),u=!0,h/(n-e)>.5))return}u||l.push([e,n]),this.Cues.newCue(this[t],e,n,i)},e.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var i=e.textTracks[n];if(!0===i["textTrack"+t])return i}return null},e.prototype.sendAddTrackEvent=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},e.prototype.createCaptionsTrack=function(t){var e="textTrack"+t;if(!this[e]){var n=this.getExistingTrack(t);if(n)this[e]=n,Yt(this[e]),this.sendAddTrackEvent(this[e],this.media);else{var i=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config.captionsTextTrack1LanguageCode);i&&(i[e]=!0,this[e]=i)}}},e.prototype.createTextTrack=function(t,e,n){var i=this.media;if(i)return i.addTextTrack(t,e,n)},e.prototype.destroy=function(){c.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},e.prototype.onMediaDetaching=function(){Yt(this.textTrack1),Yt(this.textTrack2)},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},e.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)Yt(e[n])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,i){var r=void 0;if(i<n.length){var o=n[i];(function(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)})(o,t)&&(r=o)}r||(r=e.createTextTrack("subtitles",t.name,t.lang)),r.mode=t.default?"showing":"hidden",e.textTracks.push(r)})}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,n=t.payload;if("main"===e.type){var i=e.sn;if(i!==this.lastSn+1){var r=this.cea608Parser;r&&r.reset()}this.lastSn=i}else if("subtitle"===e.type)if(n.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var o=e.decryptdata;null!=o&&null!=o.key&&"AES-128"===o.method||this._parseVTTs(e,n)}else this.hls.trigger(a.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype._parseVTTs=function(t,e){var n=this.vttCCs;n[t.cc]||(n[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var i=this.textTracks,r=this.hls;zt.parse(e,this.initPTS,n,t.cc,function(e){var n=i[t.trackId];e.forEach(function(t){if(!n.cues.getCueById(t.id))try{n.addCue(t)}catch(i){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,n.addCue(e)}}),r.trigger(a.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){l.b.log("Failed to parse VTT cue: "+e),r.trigger(a.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},e.prototype.onFragDecrypted=function(t){var e=t.payload,n=t.frag;if("subtitle"===n.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(n,e)}},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}},e.prototype.extractCea608Data=function(t){for(var e,n,i,r=31&t[0],o=2,a=[],s=0;s<r;s++)e=t[o++],n=127&t[o++],i=127&t[o++],0===n&&0===i||0!=(4&e)&&0===(3&e)&&(a.push(n),a.push(i));return a},e}(c),Kt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function Wt(t){for(var e=[],n=0;n<t.length;n++)"subtitles"===t[n].kind&&e.push(t[n]);return e}var qt=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.MANIFEST_LOADING,a.a.MANIFEST_LOADED,a.a.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=void 0,i.subtitleDisplay=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=Wt(this.media.textTracks),n=0;n<e.length;n++)"showing"===e[n].mode&&(t=n);this.subtitleTrack=t}},e.prototype.destroy=function(){c.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.trackId=-1,this.hls.trigger(a.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var n=e.details;void 0!==n&&!0!==n.live||(l.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(a.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(l.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},e.prototype.setSubtitleTrackInternal=function(t){if(!(t<-1||t>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var e=Wt(this.media.textTracks);if(-1!==this.trackId&&this.subtitleDisplay&&(e[this.trackId].mode="hidden"),this.trackId=t,l.b.log("switching to subtitle track "+t),this.hls.trigger(a.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t){var n=this.tracks[t];this.subtitleDisplay&&(e[t].mode="showing");var i=n.details;void 0!==i&&!0!==i.live||(l.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(a.a.SUBTITLE_TRACK_LOADING,{url:n.url,id:t}))}}},Kt(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),e}(c),Xt=n(4);var Zt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"},Qt=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,a.a.MEDIA_ATTACHED,a.a.ERROR,a.a.KEY_LOADED,a.a.FRAG_LOADED,a.a.SUBTITLE_TRACKS_UPDATED,a.a.SUBTITLE_TRACK_SWITCH,a.a.SUBTITLE_TRACK_LOADED,a.a.SUBTITLE_FRAG_PROCESSED));return i.config=n.config,i.vttFragSNsProcessed={},i.vttFragQueues=void 0,i.currentlyProcessing=null,i.state=Zt.STOPPED,i.currentTrackId=-1,i.ticks=0,i.decrypter=new Xt.a(n.observer,n.config),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){c.prototype.destroy.call(this),this.state=Zt.STOPPED},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach(function(e){t.vttFragQueues[e.id]=[]})},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(a.a.FRAG_LOADING,{frag:t}),this.state=Zt.FRAG_LOADING}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=Zt.IDLE,this.nextFrag()},e.prototype.onMediaAttached=function(){this.state=Zt.IDLE},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.tick=function(){var t=this;this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(function(){t.tick()},1),this.ticks=0)},e.prototype.doTick=function(){var t=this;switch(this.state){case Zt.IDLE:var e,n=this.tracks,i=this.currentTrackId,r=this.vttFragSNsProcessed[i],o=this.vttFragQueues[i],s=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!n)break;if(i<n.length&&(e=n[i].details),void 0===e)break;e.fragments.forEach(function(e){(function(t){return r.indexOf(t.sn)>-1})(e)||e.sn===s||function(t){return o.some(function(e){return e.sn===t.sn})}(e)||(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key?(l.b.log("Loading key for "+e.sn),t.state=Zt.KEY_LOADING,t.hls.trigger(a.a.KEY_LOADING,{frag:e})):(e.trackId=i,o.push(e),t.nextFrag()))})}},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;l.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},e.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,this.clearVttFragQueues()},e.prototype.onSubtitleTrackLoaded=function(){this.tick()},e.prototype.onKeyLoaded=function(){this.state===Zt.KEY_LOADING&&(this.state=Zt.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,i=t.frag,r=this.hls;if(this.state===Zt.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&null!=n&&null!=n.key&&"AES-128"===n.method){var o;try{o=performance.now()}catch(t){o=Date.now()}this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}r.trigger(a.a.FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:o,tdecrypt:e}})})}},e}(c),Jt={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:at,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:tt,bufferController:nt,capLevelController:rt,fpsController:ot,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};Jt.subtitleStreamController=Qt,Jt.subtitleTrackController=qt,Jt.timelineController=$t,Jt.cueHandler=i,Jt.enableCEA708Captions=!0,Jt.enableWebVTT=!0,Jt.captionsTextTrack1Label="English",Jt.captionsTextTrack1LanguageCode="en",Jt.captionsTextTrack2Label="Spanish",Jt.captionsTextTrack2LanguageCode="es",Jt.audioStreamController=dt,Jt.audioTrackController=lt;var te=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var ee=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=t.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in i)r in n||(n[r]=i[r]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(l.a)(n.debug),this.config=n,this._autoLevelCapping=-1;var o=this.observer=new x.a;o.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];o.emit.apply(o,[t,t].concat(n))},o.off=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];o.removeListener.apply(o,[t].concat(n))},this.on=o.on.bind(o),this.off=o.off.bind(o),this.trigger=o.trigger.bind(o);var a=this.abrController=new n.abrController(this),s=new n.bufferController(this),u=new n.capLevelController(this),c=new n.fpsController(this),d=new k(this),h=new S(this),p=new C(this),f=new X(this),y=[this.levelController=new W(this),this.streamController=new $(this)],v=n.audioStreamController;v&&y.push(new v(this)),this.networkControllers=y;var g=[d,h,p,a,s,u,c,f];if(v=n.audioTrackController){var m=new v(this);this.audioTrackController=m,g.push(m)}if(v=n.subtitleTrackController){var b=new v(this);this.subtitleTrackController=b,g.push(b)}[n.subtitleStreamController,n.timelineController].forEach(function(t){t&&g.push(new t(e))}),this.coreComponents=g}return t.isSupported=function(){return t=M(),e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove,!!n&&!!i;var t,e,n,i},te(t,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return a.a}},{key:"ErrorTypes",get:function(){return s.b}},{key:"ErrorDetails",get:function(){return s.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Jt},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){l.b.log("destroy"),this.trigger(a.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){l.b.log("attachMedia"),this.media=t,this.trigger(a.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){l.b.log("detachMedia"),this.trigger(a.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=o.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),l.b.log("loadSource:"+t),this.url=t,this.trigger(a.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;l.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},t.prototype.stopLoad=function(){l.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},t.prototype.swapAudioCodec=function(){l.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){l.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},te(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){l.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){l.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){l.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){l.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){l.b.log("set startLevel:"+t);-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){l.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,i=0;i<n;i++){if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>e)return i}return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),t}();e.default=ee},function(t,e,n){function i(t){var e=[],n=t.toString(),i=n.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!i)return e;for(var r,o=i[1],a=new RegExp("(\\\\n|\\W)"+(o+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");r=a.exec(n);)e.push(r[3]);return e}t.exports=function(t,e){e=e||{};var r=n.m,o=e.all?Object.keys(r):function(t,e){for(var n=[e],r=[],o={};n.length;){var a=n.pop();if(!o[a]&&t[a]){o[a]=!0,r.push(a);var s=i(t[a]);n=n.concat(s)}}return r}(r,t),a="("+function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var i=n(n.s=ENTRY_MODULE);return i.default||i}.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.map(function(t){return JSON.stringify(t)+": "+r[t].toString()}).join(",")+"})(self);",s=new window.Blob([a],{type:"text/javascript"});if(e.bare)return s;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(s),u=new window.Worker(l);return u.objectURL=l,u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(1),o=n(0),a=n(5),s=n.n(a);e.default=function(t){var e=new s.a;e.trigger=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(i))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",function(r){var a=r.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new i.a(e,a.typeSupported,s,a.vendor);try{Object(o.a)(!0===s.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}}),e.on(r.a.FRAG_DECRYPTED,n),e.on(r.a.FRAG_PARSING_INIT_SEGMENT,n),e.on(r.a.FRAG_PARSED,n),e.on(r.a.ERROR,n),e.on(r.a.FRAG_PARSING_METADATA,n),e.on(r.a.FRAG_PARSING_USERDATA,n),e.on(r.a.INIT_PTS_FOUND,n),e.on(r.a.FRAG_PARSING_DATA,function(e,n){var i=[],r={event:e,data:n};n.data1&&(r.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(r.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),t.postMessage(r,i)})}}]).default},"object"==typeof e&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof e?e.Hls=i():n.Hls=i()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=d(n(277)),o=d(n(278)),a=d(n(279)),s=d(n(280)),l=d(n(281)),u=d(n(282)),c=d(n(283));function d(t){return t&&t.__esModule?t:{default:t}}var h={DEFAULT_ERROR:{UI:{title:"N&#227;o foi poss&#237;vel exibir o v&#237;deo.",message:'Ocorreu um problema ao tentar carregar o v&#237;deo. <a class="player-error__link"  href="" onclick="window.location.reload(); return false;">Atualize</a> a sua p&#225;gina para tentar novamente.',className:"default-error",icon:r.default},code:"default-error",description:"There was a problem trying to load the video.",reportAs:"ERROR",internalError:!0}};h=i({},h,{AUTH_REQUIRED:i({},h.DEFAULT_ERROR,{UI:{title:"Faa seu login para assistir aos contedos exclusivos.",message:"Alguns vdeos podem ser restritos a assinantes.",className:"auth-required",icon:a.default},code:"auth-required",description:"Authentication required.",reportAs:"INFO"}),DEVICE_NOT_AUTHORIZED:i({},h.DEFAULT_ERROR,{UI:{title:"Dispositivo n&#227;o autorizado.",message:"Voc&#234; precisa cadastrar seu dispositivo para ter acesso ao conte&#250;do exclusivo.",className:"unsupported-device",icon:o.default},code:"DEV",description:"Device needs register to play content.",reportAs:"INFO"}),DEVICE_NOT_SUPPORTED:i({},h.DEFAULT_ERROR,{UI:{title:"Dispositivo n&#227;o suportado.",message:"Infelizmente, n&#227;o foi poss&#237;vel encontrar um v&#237;deo compat&#237;vel com o seu dispositivo.",className:"unsupported-device",icon:o.default},code:"DNS",description:"Device not supported",reportAs:"INFO"}),GEOFENCING:i({},h.DEFAULT_ERROR,{UI:i({},h.DEFAULT_ERROR.UI,{title:"O vdeo no est disponvel nesta localidade",icon:s.default}),code:"geofencing",description:"This video cannot be played in the current location.",reportAs:"INFO"}),GEO_BLOCKED:i({},h.DEFAULT_ERROR,{UI:{title:"V&#237;deo indispon&#237;vel nessa regi&#227;o",message:"Este v&#237;deo n&#227;o est&#225; dispon&#237;vel para ser exibido na sua regi&#227;o. Desculpe-nos pelo inconveniente.",className:"geoblocking",icon:s.default},code:"GB",description:"This video cannot be played in the current region.",reportAs:"INFO"}),HASH_LOAD_ERROR:i({},h.DEFAULT_ERROR,{code:"security-load-error",description:"Error loading hash."}),LOCATION_UNAVAILABLE:i({},h.DEFAULT_ERROR,{UI:i({},h.DEFAULT_ERROR.UI,{title:"Contedo disponvel apenas com informao de localizao.",icon:s.default}),code:"location-unavailable",description:"Could not play content. Location is unavailable.",reportAs:"INFO"}),NOT_ALLOWED_DOMAIN:i({},h.DEFAULT_ERROR,{code:"not-allowed-domain",description:"The video cannot be played on the current domain.",reportAs:"INFO"}),NOT_FOUND:i({},h.DEFAULT_ERROR,{UI:{title:"Conte&#250;do n&#227;o dispon&#237;vel.",message:"Infelizmente este v&#237;deo n&#227;o est&#225; mais dispon&#237;vel. Desculpe-nos pelo inconveniente.",className:"default-error",icon:r.default},code:"NF",description:"Content not available.",reportAs:"INFO"}),PLAYLIST_LOAD_ERROR:i({},h.DEFAULT_ERROR,{UI:i({},h.DEFAULT_ERROR.UI,{title:"Erro ao carregar o recurso de v&#237;deo."}),code:"playlist-load-error",description:"Error loading video resources."}),RESTRICTED_CONTENT:i({},h.DEFAULT_ERROR,{UI:{title:"Contedo restrito.",message:"O vdeo no est autorizado a ser exibido.",className:"default-error",icon:r.default},code:"restricted-content-error",description:"Restricted content.",reportAs:"INFO"}),SIMULTANEOUS_ACCESS:i({},h.DEFAULT_ERROR,{UI:{title:"Acesso Simult&#226;neo.",message:"Existem muitas sess&#245;es ativas utilizando esta conta. Por favor, pare de assistir em algum dispositivo para continuar.",className:"simultaneous-access",icon:u.default},code:"LCK",description:"There are too much sessions currently active on the same account.",reportAs:"INFO"}),STREAMING_PAUSE_TIME_EXPIRED:i({},h.DEFAULT_ERROR,{UI:{title:"Sess&#227;o expirada.",message:'O v&#237;deo ficou pausado por muito tempo. Para voltar a assistir, <a class="player-error__link" href="" onclick="window.location.reload(); return false;">atualize</a> a p&#225;gina.',className:"time-expired",icon:l.default},code:"streaming-pause-time-expired",description:"The video was paused for a long time.",reportAs:"INFO"}),SUBSCRIBERS_ONLY:i({},h.DEFAULT_ERROR,{UI:{title:"Conte&#250;do exclusivo para assinantes.",message:"Voc&#234; precisa ser assinante para ter acesso ao conte&#250;do.",className:"subscriber-only",icon:a.default},code:"AUT",description:"Exclusive content for subscribers.",reportAs:"INFO"}),UNSUPPORTED_BROWSER:i({},h.DEFAULT_ERROR,{UI:{title:"Seu navegador est&#225; velhinho.",message:"Para assistir aos nossos v&#237;deos, por favor, atualize-o para uma vers&#227;o mais nova.",className:"unsupported-browser",icon:c.default},code:"unsupported-browser",description:"Browser not supported.",reportAs:"INFO"}),UNSUPPORTED_MOBILE_DEVICE:i({},h.DEFAULT_ERROR,{UI:{title:"Dispositivo n&#227;o suportado.",message:"Infelizmente, n&#227;o foi poss&#237;vel encontrar um v&#237;deo compat&#237;vel com o seu dispositivo.",className:"unsupported-device",icon:o.default},code:"unsupported-mobile-device",description:"Mobile device not supported.",reportAs:"INFO"})}),e.default=h,t.exports=e.default},function(t,e,n){"use strict";t.exports=!n(24)&&!n(34)(function(){return 7!=Object.defineProperty(n(80)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var i=n(33),r=n(21).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){"use strict";var i=n(25),r=n(26),o=n(129)(!1),a=n(61)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){"use strict";var i=n(58);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var i=n(60),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){"use strict";var i=n(20),r=n(14),o=n(34);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";var i=n(135)(!0);n(86)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(66),r=n(20),o=n(87),a=n(31),s=n(25),l=n(41),u=n(136),c=n(68),d=n(139),h=n(17)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,y,v,g,m){u(n,e,y);var b,_,A,E=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",T="values"==v,k=!1,S=t.prototype,C=S[h]||S["@@iterator"]||v&&S[v],O=!p&&C||E(v),P=v?T?E("entries"):O:void 0,R="Array"==e&&S.entries||C;if(R&&(A=d(R.call(new t)))!==Object.prototype&&A.next&&(c(A,w,!0),i||s(A,h)||a(A,h,f)),T&&C&&"values"!==C.name&&(k=!0,O=function(){return C.call(this)}),i&&!m||!p&&!k&&S[h]||a(S,h,O),l[e]=O,l[w]=f,v)if(b={values:T?O:E("values"),keys:g?O:E("keys"),entries:P},m)for(_ in b)_ in S||o(S,_,b[_]);else r(r.P+r.F*(p||k),e,b);return b}},function(t,e,n){"use strict";t.exports=n(31)},function(t,e,n){"use strict";var i=n(81),r=n(63).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){"use strict";t.exports={default:n(154),__esModule:!0}},function(t,e,n){"use strict";t.exports={default:n(160),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(174),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(177),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(1)),r=c(n(2)),o=c(n(4)),a=c(n(3)),s=c(n(7)),l=c(n(19)),u=c(n(35));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];(0,i.default)(this,e);var a=(0,r.default)(this,t.call(this,n));return a.core=o,a}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"error"}}],[{key:"Levels",get:function(){return{FATAL:"FATAL",WARN:"WARN",INFO:"INFO"}}}]),e.prototype.createError=function(t){this.core?this.core.trigger(s.default.ERROR,t):u.default.warn(this.name,"Core is not set. Error: ",t)},e}(l.default);e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(181),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";t.exports={default:n(182),__esModule:!0}},function(t,e,n){"use strict";t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){t.exports=n.p+"7c53e167936dada8cf28d3e853d27b66.cur"},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M1.712 14.76H6.43V1.24H1.71v13.52zm7.86-13.52v13.52h4.716V1.24H9.573z"></path></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(5)),r=o(n(11));function o(t){return t&&t.__esModule?t:{default:t}}var a={getStyleFor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{baseUrl:""};return(0,i.default)('<style class="clappr-style"></style>').html((0,r.default)(t.toString())(e))}};e.default=a,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(196),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";t.exports={default:n(197),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(209),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(215),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(216),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(219),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(220),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(223),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(227),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(233),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(237),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(243),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(244),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(254),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"keyspaceFor",value:function(t){return"wm.player."+t}},{key:"load",value:function(t,e){return this.loadRaw(this.keyspaceFor(t),e)}},{key:"loadRaw",value:function(t,e){if(r.Browser.hasLocalstorage&&localStorage[t])return e?e(localStorage[t]):localStorage[t]}},{key:"store",value:function(t,e){return this.storeRaw(this.keyspaceFor(t),e)}},{key:"storeRaw",value:function(t,e){if(r.Browser.hasLocalstorage)try{return localStorage[t]=e,!0}catch(t){return!1}return!1}}]),t}();e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Video=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=n(116),a=n(37);e.Video=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=i,this.id=e.id,this.title=e.title,this.kind=e.kind,this.program=e.program,this.channel=e.channel,this.category=e.category,this.createdAt=e.created_at,this.exhibitedAt=e.exhibited_at,this.programId=e.program_id,this.channelId=e.channel_id,this.duration=e.duration,this.serviceId=e.service_id,this.providerId=e.provider_id,this.providerUrl=e.provider_url,this.type=e.type,this.affiliate=e.affiliate,this.geofencing=!!e.geofencing,this.isSubscriberOnly=!!e.subscriber_only,this.encrypted=!!e.encrypted,this.isArchived=e.archived,this.urlForConsumption=e.url_for_consumption,this.adult=e.adult,this.contentRating=e.content_rating,this.contentRatingCriteria=e.content_rating_criteria,this.adUnit=e.ad_unit,this.adCustomData=e.ad_custom_data,this.adAccountId=e.ad_account_id,this.adCmsId=e.ad_cms_id,this.cuepoints=e.cuepoints;var r=i.getPlayerType;this.playerType="function"==typeof r&&r(this,i.isLimited),this.playerType||(this.playerType=t.getPlayerType(this,i.isLimited)),this.resources=e.resources&&e.resources.map(function(t){return new o.MediaResource(t,i)}).filter(function(t){return t.players&&t.players.length&&-1!==t.players.indexOf(n.playerType)}).sort(function(t,e){return t.height>e.height})||[],this.encrypted&&(this.resources=this.resources.filter(this.encryptedFilter)),this.thumbResource=e.resources.find(function(t){return"thumbs-preview"===t.type});var a=e.resources&&e.resources.find(function(t){return"subtitle"===t.type});this.subtitleResource=a&&new o.SubtitleResource(a,i),this.rawData=e,this.rawData.videos=[e],this.selectedLevel=i.selectedLevel,this.preferredLevel=i.preferredLevel,this.preferredCDN=i.preferredCDN,this.selectResource()}return i(t,[{key:"isLive",get:function(){return"Live"==this.type}},{key:"queryStringTemplate",get:function(){return this.selectedResource?this.selectedResource.queryStringTemplate:null}}]),i(t,[{key:"encryptedFilter",value:function(t){return r.Browser.isSafari&&!r.Browser.isSmartTvEnvironment?!!t.contentProtection.fairplay:!!t.contentProtection.playready||!!t.contentProtection.widevine}},{key:"selectLevel",value:function(t){this.selectedLevel=t,this.selectResource()}},{key:"selectResource",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.geofencing&&!e||(this.selectedLevel?this.selectedResource=this.resources.find(function(e){return e.height==t.selectedLevel}):this.preferredLevel&&(this.selectedResource=this.resources.find(function(e){return e.height==t.preferredLevel})),this.selectedResource||this.resources&&(this.selectedResource=this.resources[0]),this.isLive&&(this.transmission=new o.Transmission(this.selectedResource.rawData)),this.selectedResource&&this.thumbResource&&(this.selectedResource.thumbUrl=this.thumbResource.url))}},{key:"setCDN",value:function(t){this.cdn=this.options.preferredCDN||t||a.DEFAULT_CDN,this.selectedResource&&(this.selectedResource.selectedCDN=this.cdn),this.subtitleResource&&(this.subtitleResource.selectedCDN=this.cdn)}},{key:"setHashData",value:function(t){this.geofencing&&!this.selectedResource&&(this.selectedResource=new o.MediaResource(t,this.options),this.transmission=new o.Transmission(t)),this.thumbUri=t.thumbUri,this.selectedResource.hash=t.hash,this.selectedResource.token=t.token,this.selectedResource.hashData=t}}],[{key:"getPlayerType",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.Browser.isMobile?r.Browser.isAndroid?t?"android_limited":"android":r.Browser.isiOS?"ios":r.Browser.isWindowsPhone?"windows_phone":"html5":r.Browser.isChromecast?"chromecast":"desktop"}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(298)),r=s(n(299)),o=s(n(300)),a=s(n(301));function s(t){return t&&t.__esModule?t:{default:t}}e.default={MediaResource:i.default,SubtitleResource:r.default,Transmission:o.default,UserInfo:a.default},t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.BaseYouboraPlugin=function t(){i(this,t),Object.assign(t.prototype,$YB.plugins.Generic.prototype)},e.BaseYouboraAdnalyzers=function t(){i(this,t),Object.assign(t.prototype,$YB.adnalyzers.Generic.prototype)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(117);var a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));try{i.pluginName="clappr",i.pluginVersion="6.0.0-clappr-5.5.4-lib",i.container=t,i.playback=i.container.playback,i.tag=i.playback.$el&&i.playback.$el.find("video")[0]||i.playback.el,i.startMonitoring(t,n)}catch(t){$YB.error(t)}return i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.BaseYouboraPlugin),r(e,[{key:"getPlayhead",value:function(){return this.viewManager.isShowingAds||(this.playhead=this.playback.getStartTimeOffset()+this.container.getCurrentTime()),this.playhead}},{key:"getMediaDuration",value:function(){return this.container.getDuration()}},{key:"getIsLive",value:function(){return"live"===this.container.getPlaybackType()}},{key:"getResource",value:function(){var t=this.playback.options.sources;return"object"===(void 0===t?"undefined":i(t))?t.source:t}},{key:"getPlayerVersion",value:function(){return"Clappr"+Clappr.version}},{key:"getBitrate",value:function(){return this.bitrate||-1}},{key:"getThroughput",value:function(){return this.throughput||-1}},{key:"getRendition",value:function(){return this.rendition||""}}]),e}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=window.WM&&window.WM.Settings||{},o=e.hasExperiments=function(t){return"object"===i(t.playerExperiments)},a=(e.getExperimentsList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t)&&(Object.keys(t.playerExperiments)||[]).map(function(e){var n=t.playerExperiments[e];return n&&n.alternative||""})||[]},e.getExperimentAlternative=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(!o(t))return"";var n=t.playerExperiments,i=n&&n[e];return i&&i.alternative||""},e.isP2PEnabled=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a())return!1;var e=t.source,n=r.p2pConfig||{},i=n.medias,o=void 0===i?[]:i,s=n.domains,l=void 0===s?[]:s,u=o.find(function(t){return t===e}),c=l.find(function(t){return t.test(window.location.hostname)});return!(!u||!c)},function(){return document.cookie.split(";").filter(function(t){return t.includes("wm.cdnp2p.disabled=1")}).length})},function(t,e,n){(function(i){var r;(function(){var o={};(function(t){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=void 0!==t&&t===this?this:void 0!==i&&null!=i?i:this;function o(){o=function(){},r.Symbol||(r.Symbol=s)}var a,s=(a=0,function(t){return"jscomp_symbol_"+(t||"")+a++});function l(){o();var t=r.Symbol.iterator;t||(t=r.Symbol.iterator=r.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&n(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return u(this)}}),l=function(){}}function u(t){var e=0;return function(t){return l(),(t={next:t})[r.Symbol.iterator]=function(){return this},t}(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}function c(t){l();var e=t[Symbol.iterator];return e?e.call(t):u(t)}function d(t,e){if(e){for(var i=r,o=t.split("."),a=0;a<o.length-1;a++){var s=o[a];s in i||(i[s]={}),i=i[s]}(s=e(a=i[o=o[o.length-1]]))!=a&&null!=s&&n(i,o,{configurable:!0,writable:!0,value:s})}}function h(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise(function(i,r){!function t(o){o.done?i(o.value):Promise.resolve(o.value).then(e,n).then(t,r)}(t.next())})}function p(){this.f=!1,this.b=null,this.P=void 0,this.D=1,this.c=this.Ja=0,this.h=this.a=null}function f(t){if(t.f)throw new TypeError("Generator is already running");t.f=!0}function y(t,e){t.a={rc:e,zc:!0},t.D=t.Ja||t.c}function v(t,e,n){return t.D=n,{value:e}}function g(t,e,n,i){try{var r=e.call(t.a.b,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return t.a.f=!1,r;var o=r.value}catch(e){return t.a.b=null,y(t.a,e),m(t)}return t.a.b=null,i.call(t.a,o),m(t)}function m(t){for(;t.a.D;)try{var e=t.b(t.a);if(e)return t.a.f=!1,{value:e.value,done:!1}}catch(e){t.a.P=void 0,y(t.a,e)}if(t.a.f=!1,t.a.a){if(e=t.a.a,t.a.a=null,e.zc)throw e.rc;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function b(t){this.next=function(e){return f(t.a),t.a.b?e=g(t,t.a.b.next,e,t.a.g):(t.a.g(e),e=m(t)),e},this.throw=function(e){return f(t.a),t.a.b?e=g(t,t.a.b.throw,e,t.a.g):(y(t.a,e),e=m(t)),e},this.return=function(e){return function(t,e){f(t.a);var n=t.a.b;return n?g(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),m(t))}(t,e)},l(),this[Symbol.iterator]=function(){return this}}function _(t,e){return b.prototype=t.prototype,new b(new function(t){this.a=new p,this.b=t}(e))}d("Promise",function(t){function e(t){this.W=0,this.f=void 0,this.a=[];var e=this.c();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){null==this.a&&(this.a=[],this.f()),this.a.push(t)},n.prototype.f=function(){var t=this;this.c(function(){t.h()})};var o=r.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.g(t)}}}this.a=null},n.prototype.g=function(t){this.c(function(){throw t})},e.prototype.c=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.l),reject:t(this.b)}},e.prototype.l=function(t){if(t===this)this.b(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.m(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.j(t):this.g(t)}},e.prototype.j=function(t){var e=void 0;try{e=t.then}catch(t){return void this.b(t)}"function"==typeof e?this.s(e,t):this.g(t)},e.prototype.b=function(t){this.h(2,t)},e.prototype.g=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.W)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.W);this.W=t,this.f=e,this.i()},e.prototype.i=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.m=function(t){var e=this.c();t.ub(e.resolve,e.reject)},e.prototype.s=function(t,e){var n=this.c();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(t){o(t)}}:e}var r,o,a=new e(function(t,e){r=t,o=e});return this.ub(i(t,r),i(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.ub=function(t,e){function n(){switch(i.W){case 1:t(i.f);break;case 2:e(i.f);break;default:throw Error("Unexpected state: "+i.W)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=c(t),o=r.next();!o.done;o=r.next())i(o.value).ub(e,n)})},e.all=function(t){var n=c(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).ub(o(a.length-1),e),r=n.next()}while(!r.done)})},e}),p.prototype.g=function(t){this.P=t},p.prototype.return=function(t){this.a={return:t},this.D=this.c},p.prototype.ha=function(t){this.D=t},d("Array.prototype.find",function(t){return t||function(t,e){t:{var n=this;n instanceof String&&(n=String(n));for(var i=n.length,r=0;r<i;r++){var o=n[r];if(t.call(e,o,r,n)){n=o;break t}}n=void 0}return n}});var A=this;function E(t,e){var n,i=t.split("."),r=A;i[0]in r||!r.execScript||r.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)i.length||void 0===e?r=r[n]?r[n]:r[n]={}:r[n]=e}function w(t,e){function n(){}n.prototype=e.prototype,t.ef=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.cf=function(t,n,i){return e.prototype[n].apply(t,Array.prototype.slice.call(arguments,2))}}function T(t){this.c=Math.exp(Math.log(.5)/t),this.b=this.a=0}function k(t,e,n){var i=Math.pow(t.c,e);n=n*(1-i)+i*t.a,isNaN(n)||(t.a=n,t.b+=e)}function S(t){return t.a/(1-Math.pow(t.c,t.b))}function C(){this.b=new T(2),this.c=new T(5),this.a=0}function O(){}function P(){}function R(t,e,n,i){this.severity=t,this.category=e,this.code=n,this.data=Array.prototype.slice.call(arguments,3),this.handled=!1}A.a=!0,C.prototype.getBandwidthEstimate=function(t){return 128e3>this.a?t:Math.min(S(this.b),S(this.c))},t.console&&t.console.log.bind&&(O=console.warn.bind(console)),E("shaka.util.Error",R),R.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},R.Severity={RECOVERABLE:1,CRITICAL:2},R.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},R.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013};var I=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function x(t){var e;t instanceof x?(L(this,t.ia),this.Ha=t.Ha,this.la=t.la,D(this,t.Sa),this.$=t.$,M(this,Y(t.a)),this.Ba=t.Ba):t&&(e=String(t).match(I))?(L(this,e[1]||"",!0),this.Ha=N(e[2]||""),this.la=N(e[3]||"",!0),D(this,e[4]),this.$=N(e[5]||"",!0),M(this,e[6]||"",!0),this.Ba=N(e[7]||"")):this.a=new z(null)}function L(t,e,n){t.ia=n?N(e,!0):e,t.ia&&(t.ia=t.ia.replace(/:$/,""))}function D(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Sa=e}else t.Sa=null}function M(t,e,n){e instanceof z?t.a=e:(n||(e=B(e,H)),t.a=new z(e))}function N(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function B(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,U),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function U(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(e=x.prototype).ia="",e.Ha="",e.la="",e.Sa=null,e.$="",e.Ba="",e.toString=function(){var t=[],e=this.ia;if(e&&t.push(B(e,F,!0),":"),e=this.la){t.push("//");var n=this.Ha;n&&t.push(B(n,F,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.Sa)&&t.push(":",String(e))}return(e=this.$)&&(this.la&&"/"!=e.charAt(0)&&t.push("/"),t.push(B(e,"/"==e.charAt(0)?V:j,!0))),(e=this.a.toString())&&t.push("?",e),(e=this.Ba)&&t.push("#",B(e,G)),t.join("")},e.resolve=function(t){var e=new x(this);"data"===e.ia&&(e=new x);var n=!!t.ia;n?L(e,t.ia):n=!!t.Ha,n?e.Ha=t.Ha:n=!!t.la,n?e.la=t.la:n=null!=t.Sa;var i=t.$;if(n)D(e,t.Sa);else if(n=!!t.$){if("/"!=i.charAt(0))if(this.la&&!this.$)i="/"+i;else{var r=e.$.lastIndexOf("/");-1!=r&&(i=e.$.substr(0,r+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}i=o.join("/")}}return n?e.$=i:n=""!==t.a.toString(),n?M(e,Y(t.a)):n=!!t.Ba,n&&(e.Ba=t.Ba),e};var F=/[#\/\?@]/g,j=/[#\?:]/g,V=/[#\?]/g,H=/[#\?@]/g,G=/#/g;function z(t){this.b=t||null}function Y(t){var e=new z;if(e.b=t.b,t.a){var n,i={};for(n in t.a)i[n]=t.a[n].concat();e.a=i,e.c=t.c}return e}function $(){var t,e,n=new Promise(function(n,i){t=n,e=i});return n.resolve=t,n.reject=e,n}function K(t,e,n){var i={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.j=null==t.maxAttempts?i.maxAttempts:t.maxAttempts,this.f=null==t.baseDelay?i.baseDelay:t.baseDelay,this.i=null==t.fuzzFactor?i.fuzzFactor:t.fuzzFactor,this.h=null==t.backoffFactor?i.backoffFactor:t.backoffFactor,this.a=0,this.b=this.f,this.c=e||!1,this.g=n||null,this.c&&(this.a=1)}function W(t){if(t.a>=t.j){if(!t.c)return Promise.reject();t.a=1,t.b=t.f}var e=new $;return t.a?(function t(e,n,i){if(e.g)if(e.g()||0==i)n();else{var r=Math.min(200,i);q(function(){t(this,n,i-r)}.bind(e),r)}else q(n,i)}(t,e.resolve,t.b*(1+(2*Math.random()-1)*t.i)),t.b*=t.h):e.resolve(),t.a++,e}function q(e,n){t.setTimeout(e,n)}function X(t,e,n,i,r){var o,a=r in i;for(o in e){var s=r+"."+o,l=a?i[r]:n[o];(a||o in t)&&(void 0===e[o]?void 0===l||a?delete t[o]:t[o]=l:l.constructor==Object&&e[o]&&e[o].constructor==Object?(t[o]||(t[o]=l),X(t[o],e[o],l,i,s)):typeof e[o]==typeof l&&null!=e[o]&&e[o].constructor==l.constructor&&(t[o]=e[o]))}}function Z(t){var e=[];return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n)return n;if(0<=e.indexOf(n))return null;var i=n.constructor==Array;if(n.constructor!=Object&&!i)return null;e.push(n);var r,o=i?[]:{};for(r in n)o[r]=t(n[r]);return i&&(o.length=n.length),o}}(t)}function Q(t,e){return t.concat(e)}function J(){}function tt(t){return null!=t}function et(t,e,n){return n.indexOf(t)==e}function nt(t,e){function n(){return Promise.all(t.map(function(t){return t.destroy()}))}return Promise.resolve(e()).then(function(t){return n().then(function(){return t})},function(t){return n().then(function(){throw t})})}function it(t){this.f=!1,this.a=[],this.b=[],this.c=[],this.g=t||null}z.prototype.a=null,z.prototype.c=null,z.prototype.add=function(t,e){if(!this.a&&(this.a={},this.c=0,this.b))for(var n=this.b.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("="),o=null;if(0<=r){var a=n[i].substring(0,r);o=n[i].substring(r+1)}else a=n[i];a=decodeURIComponent(a.replace(/\+/g," ")),o=o||"",this.add(a,decodeURIComponent(o.replace(/\+/g," ")))}return this.b=null,(n=this.a.hasOwnProperty(t)&&this.a[t])||(this.a[t]=n=[]),n.push(e),this.c++,this},z.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var t,e=[];for(t in this.a)for(var n=encodeURIComponent(t),i=this.a[t],r=0;r<i.length;r++){var o=n;""!==i[r]&&(o+="="+encodeURIComponent(i[r])),e.push(o)}return this.b=e.join("&")},$.prototype.resolve=function(){},$.prototype.reject=function(){},E("shaka.net.NetworkingEngine",it),it.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3},it.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var rt={};function ot(t,e,n){n=n||3;var i=rt[t];(!i||n>=i.priority)&&(rt[t]={priority:n,ne:e})}function at(t,e){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e}}function st(t,e){for(var n=[],i=0;i<t.length;++i){for(var r=!1,o=0;o<n.length&&!(r=e?e(t[i],n[o]):t[i]===n[o]);++o);r||n.push(t[i])}return n}function lt(t,e,n){for(var i=0;i<t.length;++i)if(n(t[i],e))return i;return-1}function ut(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function ct(){this.a={}}function dt(){this.a=new ct}function ht(t,e,n,i){t.a&&(e=new yt(e,n,i),t.a.push(n,e))}function pt(t,e,n,i){ht(t,e,n,function(t){this.oa(e,n),i(t)}.bind(t))}function ft(t){if(t.a){var e,n=t.a,i=[];for(e in n.a)i.push.apply(i,n.a[e]);for(n=0;n<i.length;++n)i[n].oa();t.a.a={}}}function yt(t,e,n){this.target=t,this.type=e,this.a=n,this.target.addEventListener(e,n,!1)}function vt(e,n){var i,r=n||{};for(i in r)this[i]=r[i];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function gt(t,e){if(0==e.length)return t;var n=e.map(function(t){return new x(t)});return t.map(function(t){return new x(t)}).map(function(t){return n.map(t.resolve.bind(t))}).reduce(Q,[]).map(function(t){return t.toString()})}function mt(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:e||[],keyIds:[]}}it.registerScheme=ot,it.unregisterScheme=function(t){delete rt[t]},it.prototype.qe=function(t){this.b.push(t)},it.prototype.registerRequestFilter=it.prototype.qe,it.prototype.Ue=function(t){var e=this.b;0<=(t=e.indexOf(t))&&e.splice(t,1)},it.prototype.unregisterRequestFilter=it.prototype.Ue,it.prototype.jd=function(){this.b=[]},it.prototype.clearAllRequestFilters=it.prototype.jd,it.prototype.re=function(t){this.c.push(t)},it.prototype.registerResponseFilter=it.prototype.re,it.prototype.Ve=function(t){var e=this.c;0<=(t=e.indexOf(t))&&e.splice(t,1)},it.prototype.unregisterResponseFilter=it.prototype.Ve,it.prototype.kd=function(){this.c=[]},it.prototype.clearAllResponseFilters=it.prototype.kd,it.prototype.destroy=function(){this.f=!0,this.b=[],this.c=[];for(var t=[],e=0;e<this.a.length;++e)t.push(this.a[e].catch(J));return Promise.all(t)},it.prototype.destroy=it.prototype.destroy,it.prototype.request=function(t,e,n){var i=n||function(){return!1};if(this.f)return Promise.reject();e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?Z(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},e.uris=Z(e.uris);var r=Date.now(),o=Promise.resolve();return this.b.forEach(function(n){o=o.then(n.bind(null,t,e))}),o=(o=o.catch(function(t){throw new R(2,1,1006,t)})).then(function(){var o=Date.now()-r,a=new K(e.retryParameters,!1,n);return W(a).then(function(){return function t(e,n,i,r,o,a,s){if(e.f||s())return Promise.reject();var l=new x(i.uris[o]),u=l.ia;u||(u=location.protocol,u=u.slice(0,-1),L(l,u),i.uris[o]=l.toString());u=(u=rt[u])?u.ne:null;if(!u)return Promise.reject(new R(2,1,1e3,l));var c=Date.now();return u(i.uris[o],i,n).then(function(t){void 0==t.timeMs&&(t.timeMs=Date.now()-c);var e=Date.now(),i=Promise.resolve();return this.c.forEach(function(e){i=i.then(function(){return Promise.resolve(e(n,t))}.bind(this))}.bind(this)),(i=i.catch(function(t){var e=2;throw t instanceof R&&(e=t.severity),new R(e,1,1007,t)})).then(function(){return t.timeMs+=Date.now()-e,t.timeMs+=a,t})}.bind(e)).catch(function(e){if(e&&1==e.severity)return o=(o+1)%i.uris.length,s()?Promise.reject():W(r).then(function(){return t(this,n,i,r,o,a,s)}.bind(this),function(){throw e});throw e}.bind(e))}(this,t,e,a,0,o,i)}.bind(this))}.bind(this)),this.a.push(o),o.then(function(e){return 0<=this.a.indexOf(o)&&this.a.splice(this.a.indexOf(o),1),this.g&&!e.fromCache&&1==t&&this.g(e.timeMs,e.data.byteLength),e}.bind(this)).catch(function(t){return t&&(t.severity=2),0<=this.a.indexOf(o)&&this.a.splice(this.a.indexOf(o),1),Promise.reject(t)}.bind(this))},it.prototype.request=it.prototype.request,ct.prototype.push=function(t,e){this.a.hasOwnProperty(t)?this.a[t].push(e):this.a[t]=[e]},ct.prototype.get=function(t){return(t=this.a[t])?t.slice():null},ct.prototype.remove=function(t,e){var n=this.a[t];if(n)for(var i=0;i<n.length;++i)n[i]==e&&(n.splice(i,1),--i)},dt.prototype.destroy=function(){return ft(this),this.a=null,Promise.resolve()},dt.prototype.oa=function(t,e){if(this.a)for(var n=this.a.get(e)||[],i=0;i<n.length;++i){var r=n[i];r.target==t&&(r.oa(),this.a.remove(e,r))}},yt.prototype.oa=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null},vt.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},vt.prototype.stopImmediatePropagation=function(){this.a=!0},vt.prototype.stopPropagation=function(){};var bt=1/15;function _t(t){return!t||0==Object.keys(t).length}function At(t){return Object.keys(t).map(function(e){return t[e]})}function Et(t,e){Object.keys(t).forEach(function(n){e(n,t[n])})}function wt(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}var Tt={codecs:"codecs",frameRate:"framerate",bandwidth:"bitrate",width:"width",height:"height",channelsCount:"channels"};function kt(t){if(!t)return"";239==(t=new Uint8Array(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),t=escape(Pt(t));try{return decodeURIComponent(t)}catch(t){throw new R(2,2,2004)}}function St(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw new R(2,2,2004);if(t instanceof ArrayBuffer)var i=t;else(n=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),i=n.buffer;t=Math.floor(t.byteLength/2),n=new Uint16Array(t),i=new DataView(i);for(var r=0;r<t;r++)n[r]=i.getUint16(2*r,e);return Pt(n)}function Ct(t){var e=new Uint8Array(t);if(239==e[0]&&187==e[1]&&191==e[2])return kt(e);if(254==e[0]&&255==e[1])return St(e.subarray(2),!1);if(255==e[0]&&254==e[1])return St(e.subarray(2),!0);var n=function(t,e){return t.byteLength<=e||32<=t[e]&&126>=t[e]}.bind(null,e);if(0==e[0]&&0==e[2])return St(t,!1);if(0==e[1]&&0==e[3])return St(t,!0);if(n(0)&&n(1)&&n(2)&&n(3))return kt(t);throw new R(2,2,2003)}function Ot(t){t=encodeURIComponent(t),t=unescape(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e.buffer}function Pt(t){for(var e="",n=0;n<t.length;n+=16e3)e+=String.fromCharCode.apply(null,t.subarray(n,n+16e3));return e}function Rt(t){this.a=null,this.b=function(){this.a=null,t()}.bind(this)}function It(t,e){t.cancel();var n=function(){this.b(),this.a=setTimeout(n,1e3*e)}.bind(t);t.a=setTimeout(n,1e3*e)}function xt(e,n){var i=void 0==n||n,r=t.btoa(Pt(e)).replace(/\+/g,"-").replace(/\//g,"_");return i?r:r.replace(/=*$/,"")}function Lt(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),i=0;i<e.length;++i)n[i]=e.charCodeAt(i);return n}function Dt(e){for(var n=new Uint8Array(e.length/2),i=0;i<e.length;i+=2)n[i/2]=t.parseInt(e.substr(i,2),16);return n}function Mt(t){for(var e="",n=0;n<t.length;++n){var i=t[n].toString(16);1==i.length&&(i="0"+i),e+=i}return e}function Nt(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!=e[n])return!1;return!0}function Bt(t){for(var e=0,n=0;n<arguments.length;++n)e+=arguments[n].length;e=new Uint8Array(e);var i=0;for(n=0;n<arguments.length;++n)e.set(arguments[n],i),i+=arguments[n].length;return e}function Ut(t){this.s=t,this.l=this.j=this.u=null,this.M=!1,this.b=null,this.g=new dt,this.a=[],this.m=[],this.i=new $,this.f=null,this.h=function(e){this.i.reject(e),t.onError(e)}.bind(this),this.A={},this.J=new Rt(this.pe.bind(this)),this.fa=this.c=!1,this.L=[],this.ea=!1,this.w=new Rt(this.oe.bind(this)),It(this.w,1),this.i.catch(function(){})}function Ft(t,e){return Promise.all(e.map(function(t){return Vt(this,t).then(function(t){if(t){for(var e=new $,n=0;n<this.a.length;n++)if(this.a[n].ja==t){this.a[n].pa=e;break}return Promise.all([t.remove(),e])}}.bind(this))}.bind(t)))}function jt(t){var e=t.b?t.b.initData:[];return e.forEach(function(t){Ht(this,t.initDataType,t.initData)}.bind(t)),t.m.forEach(function(t){Vt(this,t)}.bind(t)),e.length||t.m.length||t.i.resolve(),t.i}function Vt(t,e){try{var n=t.j.createSession("persistent-license")}catch(e){var i=new R(2,6,6005,e.message);return t.h(i),Promise.reject(i)}ht(t.g,n,"message",t.Jc.bind(t)),ht(t.g,n,"keystatuseschange",t.Fc.bind(t));var r={initData:null,ja:n,loaded:!1,Xb:1/0,pa:null};return t.a.push(r),n.load(e).then(function(t){if(!this.c){if(t)return r.loaded=!0,this.a.every(function(t){return t.loaded})&&this.i.resolve(),n;this.a.splice(this.a.indexOf(r),1),this.h(new R(2,6,6013))}}.bind(t),function(t){this.c||(this.a.splice(this.a.indexOf(r),1),this.h(new R(2,6,6005,t.message)))}.bind(t))}function Ht(t,e,n){try{var i=t.fa?t.j.createSession("persistent-license"):t.j.createSession()}catch(e){return void t.h(new R(2,6,6005,e.message))}ht(t.g,i,"message",t.Jc.bind(t)),ht(t.g,i,"keystatuseschange",t.Fc.bind(t)),t.a.push({initData:n,ja:i,loaded:!1,Xb:1/0,pa:null}),i.generateRequest(e,n.buffer).catch(function(t){if(!this.c){for(var e=0;e<this.a.length;++e)if(this.a[e].ja==i){this.a.splice(e,1);break}this.h(new R(2,6,6006,t.message))}}.bind(t))}function Gt(t,e){for(var n,i=e.target,r=0;r<t.a.length;r++)if(t.a[r].ja==i){n=t.a[r];break}(r=at([t.b.licenseServerUri],t.f.retryParameters)).body=e.message,r.method="POST","com.microsoft.playready"!=t.b.keySystem&&"com.chromecast.playready"!=t.b.keySystem||function(t){var e=St(t.body,!0,!0);if(-1==e.indexOf("PlayReadyKeyMessage"))t.headers["Content-Type"]="text/xml; charset=utf-8";else{for(var n=(e=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("HttpHeader"),i=0;i<n.length;++i)t.headers[n[i].querySelector("name").textContent]=n[i].querySelector("value").textContent;t.body=Lt(e.querySelector("Challenge").textContent).buffer}}(r),t.s.Pa.request(2,r).then(function(t){return this.c?Promise.reject():i.update(t.data).then(function(){this.s.onEvent(new vt("drmsessionupdate")),n&&(n.pa&&n.pa.resolve(),setTimeout(function(){n.loaded=!0,this.a.every(function(t){return t.loaded})&&this.i.resolve()}.bind(this),5e3))}.bind(this))}.bind(t),function(t){if(this.c)return Promise.resolve();t=new R(2,6,6007,t),this.h(t),n&&n.pa&&n.pa.reject(t)}.bind(t)).catch(function(t){if(this.c)return Promise.resolve();t=new R(2,6,6008,t.message),this.h(t),n&&n.pa&&n.pa.reject(t)}.bind(t))}function zt(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],i=0;i<t.length;i++)for(var r=0;r<e.length;r++)if(t[i].keySystem==e[r].keySystem){var o=t[i];r=e[r];var a=[];a=(a=a.concat(o.initData||[])).concat(r.initData||[]);var s=[];s=(s=s.concat(o.keyIds)).concat(r.keyIds),n.push({keySystem:o.keySystem,licenseServerUri:o.licenseServerUri||r.licenseServerUri,distinctiveIdentifierRequired:o.distinctiveIdentifierRequired||r.distinctiveIdentifierRequired,persistentStateRequired:o.persistentStateRequired||r.persistentStateRequired,videoRobustness:o.videoRobustness||r.videoRobustness,audioRobustness:o.audioRobustness||r.audioRobustness,serverCertificate:o.serverCertificate||r.serverCertificate,initData:a,keyIds:s});break}return n}function Yt(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function $t(t,e){return!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))&&(e>=t.start(0)&&e<=t.end(t.length-1))}function Kt(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,i=t.length-1;0<=i&&t.end(i)>e;--i)n+=t.end(i)-Math.max(t.start(i),e);return n}function Wt(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}function qt(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.c=[],this.a.on("data",this.g.bind(this)),this.a.on("done",this.f.bind(this))}function Xt(e,n){return!(!t.muxjs||"mp2t"!=e.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(Zt(n,e)):MediaSource.isTypeSupported(Zt("audio",e))||MediaSource.isTypeSupported(Zt("video",e)))}function Zt(t,e){var n=e.replace("mp2t","mp4");"audio"==t&&(n=n.replace("video","audio"));var i=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(i){var r="avc1.",o=i[1],a=Number(i[2]);r=("66"==o?r+"4200":"77"==o?r+"4d00":r+"6400")+(a>>4).toString(16),r+=(15&a).toString(16),n=n.replace(i[0],r)}return n}function Qt(t){this.c=null,this.f=t,this.i=this.g=0,this.h=1/0,this.b=this.a=null}E("shaka.util.StringUtils.fromUTF8",kt),E("shaka.util.StringUtils.fromUTF16",St),E("shaka.util.StringUtils.fromBytesAutoDetect",Ct),E("shaka.util.StringUtils.toUTF8",Ot),Rt.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)},E("shaka.util.Uint8ArrayUtils.toBase64",xt),E("shaka.util.Uint8ArrayUtils.fromBase64",Lt),E("shaka.util.Uint8ArrayUtils.fromHex",Dt),E("shaka.util.Uint8ArrayUtils.toHex",Mt),E("shaka.util.Uint8ArrayUtils.equal",Nt),E("shaka.util.Uint8ArrayUtils.concat",Bt),(e=Ut.prototype).destroy=function(){this.c=!0;var t=[];return this.a.forEach(function(e){e=e.ja.close().catch(J);var n=new Promise(function(t){setTimeout(t,1e3)});t.push(Promise.race([e,n]))}),this.i.reject(),this.g&&t.push(this.g.destroy()),this.l&&t.push(this.l.setMediaKeys(null).catch(J)),this.w&&(this.w.cancel(),this.w=null),this.J&&(this.J.cancel(),this.J=null),this.g=this.l=this.j=this.u=this.b=null,this.a=[],this.m=[],this.s=this.h=this.f=null,Promise.all(t)},e.configure=function(t){this.f=t},e.init=function(e,n){var i={},r=[];return this.fa=n,this.m=e.offlineSessionIds,function(e,n,i,r,o){var a=function(e){if(_t(e.f.clearKeys))return null;var n,i=[],r=[];for(n in e.f.clearKeys){var o=e.f.clearKeys[n],a=Dt(n);o=Dt(o),a={kty:"oct",kid:xt(a,!1),k:xt(o,!1)},i.push(a),r.push(a.kid)}return e=JSON.stringify({keys:i}),r=JSON.stringify({kids:r}),r=[{initData:new Uint8Array(Ot(r)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:r,keyIds:[]}}(e),s=function(t,e){var n=t.f,i=Object.keys(n.servers);return!i.length||e.periods.some(function(t){return t.variants.some(function(t){return t.drmInfos.length})})?null:i.map(function(t){return{keySystem:t,licenseServerUri:n.servers[t],distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]}})}(e,n);n.periods.forEach(function(e){e.variants.forEach(function(e){a&&(e.drmInfos=[a]),s&&(e.drmInfos=s),e.drmInfos.forEach(function(n){!function(t,e){var n=e.keySystem;if(n){if(!e.licenseServerUri){var i=t.f.servers[n];i&&(e.licenseServerUri=i)}e.keyIds||(e.keyIds=[]),(n=t.f.advanced[n])&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.videoRobustness||(e.videoRobustness=n.videoRobustness),e.audioRobustness||(e.audioRobustness=n.audioRobustness),e.serverCertificate||(e.serverCertificate=n.serverCertificate))}}(this,n),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==n.keySystem&&(n.keySystem="com.chromecast.playready");var a=r[n.keySystem];a||(a={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:i?"required":"optional",sessionTypes:[i?"persistent-license":"temporary"],label:n.keySystem,drmInfos:[]},r[n.keySystem]=a,o.push(n.keySystem)),a.drmInfos.push(n),n.distinctiveIdentifierRequired&&(a.distinctiveIdentifier="required"),n.persistentStateRequired&&(a.persistentState="required");var s=[];e.video&&s.push(e.video),e.audio&&s.push(e.audio),s.forEach(function(t){("video"==t.type?a.videoCapabilities:a.audioCapabilities).push({robustness:("video"==t.type?n.videoRobustness:n.audioRobustness)||"",contentType:wt(t.mimeType,t.codecs)})}.bind(this))}.bind(this))}.bind(this))}.bind(e))}(this,e,n||0<e.offlineSessionIds.length,i,r),r.length?function(t,e,n){if(1==n.length&&""==n[0])return Promise.reject(new R(2,6,6e3));var i=new $,r=i;return[!0,!1].forEach(function(t){n.forEach(function(n){var i=e[n];i.drmInfos.some(function(t){return!!t.licenseServerUri})==t&&(0==i.audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities,r=r.catch(function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(n,[i])}.bind(this)))}.bind(this))}.bind(t)),r=(r=r.catch(function(){return Promise.reject(new R(2,6,6001))})).then(function(t){if(this.c)return Promise.reject();var n=0<=navigator.userAgent.indexOf("Edge/"),i=t.getConfiguration();return this.u=(i.audioCapabilities||[]).concat(i.videoCapabilities||[]).map(function(t){return t.contentType}),n&&(this.u=null),n=e[t.keySystem],function(t,e,n,i){var r=[],o=[],a=[],s=[];(function(t,e,n,i,r){function o(t,e){return!(!t.keyId||t.keyId!=e.keyId)||t.initDataType==e.initDataType&&Nt(t.initData,e.initData)}t.forEach(function(t){if(-1==e.indexOf(t.licenseServerUri)&&e.push(t.licenseServerUri),t.serverCertificate&&-1==lt(n,t.serverCertificate,Nt)&&n.push(t.serverCertificate),t.initData&&t.initData.forEach(function(t){-1==lt(i,t,o)&&i.push(t)}),t.keyIds)for(var a=0;a<t.keyIds.length;++a)-1==r.indexOf(t.keyIds[a])&&r.push(t.keyIds[a])})})(i,r,o,a,s),t.b={keySystem:e,licenseServerUri:r[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:o[0],initData:a,keyIds:s}}(this,t.keySystem,n,n.drmInfos),this.b.licenseServerUri?t.createMediaKeys():Promise.reject(new R(2,6,6012))}.bind(t)).then(function(t){if(this.c)return Promise.reject();this.j=t,this.M=!0}.bind(t)).catch(function(t){return this.c?Promise.resolve():(this.u=this.b=null,t instanceof R?Promise.reject(t):Promise.reject(new R(2,6,6002,t.message)))}.bind(t)),i.reject(),r}(this,i,r):(this.M=!0,Promise.resolve())},e.keySystem=function(){return this.b?this.b.keySystem:""},e.xb=function(){var t=this.a.map(function(t){return t=t.ja.expiration,isNaN(t)?1/0:t});return Math.min.apply(Math,t)},e.Jd=function(t){for(var e=new Uint8Array(t.initData),n=0;n<this.a.length;++n)if(Nt(e,this.a[n].initData))return;Ht(this,t.initDataType,e)},e.Jc=function(t){this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.ea?this.L.push(t):Gt(this,t)},e.Fc=function(t){var e;for(t=t.target,e=0;e<this.a.length&&this.a[e].ja!=t;++e);if(e!=this.a.length){var n=!1;t.keyStatuses.forEach(function(t,i){if("string"==typeof i){var r=i;i=t,t=r}if("com.microsoft.playready"==this.b.keySystem&&16==i.byteLength){var o=(r=new DataView(i)).getUint32(0,!0),a=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,o,!1),r.setUint16(4,a,!1),r.setUint16(6,s,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(this.a[e].loaded=!0,this.a.every(function(t){return t.loaded})&&this.i.resolve()),"expired"==t&&(n=!0),r=Mt(new Uint8Array(i)),this.A[r]=t}.bind(this));var i=t.expiration-Date.now();(0>i||n&&1e3>i)&&!this.a[e].pa&&(this.a.splice(e,1),t.close().catch(function(){})),function(t){t.cancel(),t.a=setTimeout(t.b,500)}(this.J)}},e.pe=function(){!_t(this.A)&&function(t,e){return Object.keys(t).every(function(n){return e(n,t[n])})}(this.A,function(t,e){return"expired"==e})&&this.h(new R(2,6,6014)),this.s.Ab(this.A)},e.Ud=function(){for(var t=0;t<this.L.length;t++)Gt(this,this.L[t]);this.ea=!0,this.L=[]},e.oe=function(){this.a.forEach(function(t){var e=t.Xb,n=t.ja.expiration;isNaN(n)&&(n=1/0),n!=e&&(this.s.onExpirationUpdated(t.ja.sessionId,n),t.Xb=n)}.bind(this))},qt.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},qt.prototype.g=function(t){var e=new Uint8Array(t.data.byteLength+t.initSegment.byteLength);e.set(t.initSegment,0),e.set(t.data,t.initSegment.byteLength),this.c.push(e)},qt.prototype.f=function(){var t=Bt.apply(null,this.c);this.b.resolve(t)};var Jt={};function te(t,e,n){this.g=t,this.f=e,this.l=n,this.b={},this.a=null,this.c={},this.i=new dt,this.j=!1,this.h={}}function ee(t,e){t.a||(t.a=new Qt(t.l)),t.a.c=new Jt[e]}function ne(t,e){if("text"==e)var n=t.a.a;else n=!(n=ie(t,e))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function ie(t,e){try{return t.b[e].buffered}catch(t){return null}}function re(t,e,n,i,r){return"text"==e?function(t,e,n,i){return Promise.resolve().then(function(){if(this.c&&this.f)if(null==n||null==i)this.c.parseInit(new Uint8Array(e));else{var t={periodStart:this.g,segmentStart:this.g+n,segmentEnd:this.g+i};t=this.c.parseMedia(new Uint8Array(e),t).filter(function(t){return t.startTime>=this.i&&t.startTime<this.h}.bind(this)),this.f.append(t),null==this.a&&(this.a=Math.max(n,this.i)),this.b=Math.min(i,this.h)}}.bind(t))}(t.a,n,i,r):t.h[e]?function(t,e){t.b=new $,t.c=[];var n=new Uint8Array(e);return t.a.push(n),t.a.flush(),t.b}(t.h[e],n).then(function(t){return ae(this,e,this.Yc.bind(this,e,t.buffer))}.bind(t)):ae(t,e,t.Yc.bind(t,e,n))}function oe(t,e){return"text"==e?t.a?t.a.remove(0,1/0):Promise.resolve():ae(t,e,t.Zc.bind(t,e,0,t.f.duration))}function ae(t,e,n){if(t.j)return Promise.reject();if(n={start:n,p:new $},t.c[e].push(n),1==t.c[e].length)try{n.start()}catch(i){"QuotaExceededError"==i.name?n.p.reject(new R(2,3,3017,e)):n.p.reject(new R(2,3,3015,i)),le(t,e)}return n.p}function se(t,e){if(t.j)return Promise.reject();var n,i=[];for(n in t.b){var r=new $,o={start:function(t){t.resolve()}.bind(null,r),p:r};t.c[n].push(o),i.push(r),1==t.c[n].length&&o.start()}return Promise.all(i).then(function(){var t;try{e()}catch(t){var n=Promise.reject(new R(2,3,3015,t))}for(t in this.b)le(this,t);return n}.bind(t),function(){return Promise.reject()}.bind(t))}function le(t,e){t.c[e].shift();var n=t.c[e][0];if(n)try{n.start()}catch(i){n.p.reject(new R(2,3,3015,i)),le(t,e)}}function ue(t,e,n){return n==e||t>=ce&&n==e.split("-")[0]||t>=de&&n.split("-")[0]==e.split("-")[0]}E("shaka.text.TextEngine.registerParser",function(t,e){Jt[t]=e}),E("shaka.text.TextEngine.unregisterParser",function(t){delete Jt[t]}),Qt.prototype.destroy=function(){return this.f=this.c=null,Promise.resolve()},Qt.prototype.Ee=function(t){this.f=t},Qt.prototype.setDisplayer=Qt.prototype.Ee,Qt.prototype.Pb=function(t){try{return this.c.parseMedia(new Uint8Array(t),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new R(2,2,2009,t)}},Qt.prototype.remove=function(t,e){return Promise.resolve().then(function(){!this.f||!this.f.remove(t,e)||null==this.a||e<=this.a||t>=this.b||(t<=this.a&&e>=this.b?this.a=this.b=null:t<=this.a&&e<this.b?this.a=e:t>this.a&&e>=this.b&&(this.b=t))}.bind(this))},(e=te.prototype).destroy=function(){this.j=!0;var t,e=[];for(t in this.c){var n=this.c[t],i=n[0];for(this.c[t]=n.slice(0,1),i&&e.push(i.p.catch(J)),i=1;i<n.length;++i)n[i].p.catch(J),n[i].p.reject()}for(t in this.a&&e.push(this.a.destroy()),this.h)e.push(this.h[t].destroy());return Promise.all(e).then(function(){this.i.destroy(),this.l=this.a=this.f=this.g=this.i=null,this.b={},this.h={},this.c={}}.bind(this))},e.init=function(t){for(var e in t){var n=t[e];n=wt(n.mimeType,n.codecs),"text"==e?ee(this,n):(!MediaSource.isTypeSupported(n)&&Xt(n,e)&&(this.h[e]=new qt,n=Zt(e,n)),n=this.f.addSourceBuffer(n),ht(this.i,n,"error",this.Qe.bind(this,e)),ht(this.i,n,"updateend",this.Qa.bind(this,e)),this.b[e]=n,this.c[e]=[])}},e.Lb=function(){var t=this.a&&null!=this.a.a?[{start:this.a.a,end:this.a.b}]:[];return{total:Wt(this.g.buffered),audio:Wt(ie(this,"audio")),video:Wt(ie(this,"video")),text:t}},e.remove=function(t,e,n){return"text"==t?this.a.remove(e,n):ae(this,t,this.Zc.bind(this,t,e,n))},e.flush=function(t){return"text"==t?Promise.resolve():ae(this,t,this.nd.bind(this,t))},e.endOfStream=function(t){return se(this,function(){t?this.f.endOfStream(t):this.f.endOfStream()}.bind(this))},e.ka=function(t){return se(this,function(){this.f.duration=t}.bind(this))},e.T=function(){return this.f.duration},e.Yc=function(t,e){this.b[t].appendBuffer(e)},e.Zc=function(t,e,n){n<=e?this.Qa(t):this.b[t].remove(e,n)},e.ed=function(t){var e=this.b[t].appendWindowStart,n=this.b[t].appendWindowEnd;this.b[t].abort(),this.b[t].appendWindowStart=e,this.b[t].appendWindowEnd=n,this.Qa(t)},e.nd=function(t){this.g.currentTime-=.001,this.Qa(t)},e.Ge=function(t,e){0>e&&(e+=.001),this.b[t].timestampOffset=e,this.Qa(t)},e.De=function(t,e,n){this.b[t].appendWindowStart=0,this.b[t].appendWindowEnd=n,this.b[t].appendWindowStart=e,this.Qa(t)},e.Qe=function(t){this.c[t][0].p.reject(new R(2,3,3014,this.g.error?this.g.error.code:0))},e.Qa=function(t){var e=this.c[t][0];e&&(e.p.resolve(),le(this,t))};var ce=1,de=2;function he(t){t=t.toLowerCase().split("-");var e=pe[t[0]];return e&&(t[0]=e),t.join("-")}var pe={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};function fe(t,e,n){var i=t.video;return!(i&&(i.width<e.minWidth||i.width>e.maxWidth||i.width>n.width||i.height<e.minHeight||i.height>e.maxHeight||i.height>n.height||i.width*i.height<e.minPixels||i.width*i.height>e.maxPixels)||t.bandwidth<e.minBandwidth||t.bandwidth>e.maxBandwidth)}function ye(t,e,n){var i=!1;return t.variants.forEach(function(t){var r=t.allowedByApplication;t.allowedByApplication=fe(t,e,n),r!=t.allowedByApplication&&(i=!0)}),i}function ve(t,e,n,i){i.variants=i.variants.filter(function(i){return!(t&&t.M&&!function(t,e){var n=t.keySystem();return 0==e.drmInfos.length||e.drmInfos.some(function(t){return t.keySystem==n})}(t,i))&&(ge(i.audio,t,e)&&ge(i.video,t,n))}),i.textStreams=i.textStreams.filter(function(t){return!!Jt[wt(t.mimeType,t.codecs)]})}function ge(t,e,n){if(!t)return!0;var i=null;e&&e.M&&(i=e.u),e=wt(t.mimeType,t.codecs);var r,o=wt(t.mimeType,t.codecs),a=t.mimeType;for(r in Tt){var s=t[r],l=Tt[r];s&&(a+="; "+l+'="'+s+'"')}return!(!(Jt[o]||MediaSource.isTypeSupported(a)||Xt(o,t.type))||i&&t.encrypted&&0>i.indexOf(e)||n&&(t.mimeType!=n.mimeType||t.codecs.split(".")[0]!=n.codecs.split(".")[0]))}function me(t){var e=t.audio,n=t.video,i=e?e.codecs:null,r=n?n.codecs:null,o=[];r&&o.push(r),i&&o.push(i);var a=[];n&&a.push(n.mimeType),e&&a.push(e.mimeType),a=a[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var l=[];return e&&l.push.apply(l,e.roles),n&&l.push.apply(l,n.roles),l=st(l),t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:a,codecs:o.join(", "),audioCodec:i,videoCodec:r,primary:t.primary,roles:l,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null},n&&(t.videoId=n.id,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.channelsCount=e.channelsCount,t.audioBandwidth=e.bandwidth||null,t.label=e.label),t}function be(t){return{id:t.id,active:!1,type:"text",bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null}}function _e(t){var e=[],n=ke(t.variants);return t=t.textStreams,n.forEach(function(t){e.push(me(t))}),t.forEach(function(t){e.push(be(t))}),e}function Ae(t,e,n){return ke(t.variants).map(function(t){var i=me(t);return t.video&&t.audio?i.active=n==t.video.id&&e==t.audio.id:t.video?i.active=n==t.video.id:t.audio&&(i.active=e==t.audio.id),i})}function Ee(t,e){return t.textStreams.map(function(t){var n=be(t);return n.active=e==t.id,n})}function we(t,e){for(var n=0;n<t.variants.length;n++)if(t.variants[n].id==e.id)return t.variants[n];return null}function Te(t){return t.allowedByApplication&&t.allowedByKeySystem}function ke(t){return t.filter(function(t){return Te(t)})}function Se(t,e,n,i){var r=ke(t),o=r;(t=r.filter(function(t){return t.primary})).length&&(o=t);var a=o.length?o[0].language:"";if(o=o.filter(function(t){return t.language==a}),e){var s=he(e);[de,ce,0].forEach(function(t){var e=!1;r.forEach(function(n){s=he(s);var r=he(n.language);ue(t,s,r)&&(e?o.push(n):(o=[n],e=!0),i&&(i.audio=!0))})})}return n&&(e=Oe(o,n)).length?e:(e=o.map(function(t){return(t.audio?t.audio.roles:[]).concat(t.video?t.video.roles:[])}).reduce(Q,[])).length?Oe(o,e[0]):o}function Ce(t,e,n,i){var r=t,o=t.filter(function(t){return t.primary});o.length&&(r=o);var a=r.length?r[0].language:"";if(r=r.filter(function(t){return t.language==a}),e){var s=he(e);[de,ce,0].forEach(function(e){var n=!1;t.forEach(function(t){var o=he(t.language);ue(e,s,o)&&(n?r.push(t):(r=[t],n=!0),i&&(i.text=!0))})})}if(n){if((e=Pe(r,n)).length)return e}else if((e=r.filter(function(t){return 0==t.roles.length})).length)return e;return(e=r.map(function(t){return t.roles}).reduce(Q,[])).length?Pe(r,e[0]):r}function Oe(t,e){return t.filter(function(t){return t.audio&&0<=t.audio.roles.indexOf(e)||t.video&&0<=t.video.roles.indexOf(e)})}function Pe(t,e){return t.filter(function(t){return 0<=t.roles.indexOf(e)})}function Re(t,e,n){for(var i=0;i<n.length;i++)if(n[i].audio==t&&n[i].video==e)return n[i];return null}function Ie(t,e){for(var n=t.periods.length-1;0<n;--n)if(e+bt>=t.periods[n].startTime)return n;return 0}function xe(t,e){for(var n=0;n<t.periods.length;++n){var i=t.periods[n];if("text"==e.type){for(var r=0;r<i.textStreams.length;++r)if(i.textStreams[r]==e)return n}else for(r=0;r<i.variants.length;++r){var o=i.variants[r];if(o.audio==e||o.video==e||o.video&&o.video.trickModeVideo==e)return n}}return-1}function Le(){this.h=null,this.c=!1,this.b=new C,this.g=[],this.i=!1,this.a=this.f=null}E("shaka.abr.SimpleAbrManager",Le),Le.prototype.stop=function(){this.h=null,this.c=!1,this.g=[],this.f=null},Le.prototype.stop=Le.prototype.stop,Le.prototype.init=function(t){this.h=t},Le.prototype.init=Le.prototype.init,Le.prototype.chooseVariant=function(){var t=function(t,e){return e.filter(function(e){return fe(e,t,{width:1/0,height:1/0})}).sort(function(t,e){return t.bandwidth-e.bandwidth})}(this.a.restrictions,this.g),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);if(this.g.length&&!t.length)throw new R(2,4,4012);for(var n=t[0]||null,i=0;i<t.length;++i){var r=t[i],o=(t[i+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;e>=r.bandwidth/this.a.bandwidthDowngradeTarget&&e<=o&&(n=r)}return this.f=Date.now(),n},Le.prototype.chooseVariant=Le.prototype.chooseVariant,Le.prototype.enable=function(){this.c=!0},Le.prototype.enable=Le.prototype.enable,Le.prototype.disable=function(){this.c=!1},Le.prototype.disable=Le.prototype.disable,Le.prototype.segmentDownloaded=function(t,e){var n=this.b;if(!(16e3>e)){var i=8e3*e/t,r=t/1e3;n.a+=e,k(n.b,r,i),k(n.c,r,i)}if(null!=this.f&&this.c)t:{if(this.i){if(Date.now()-this.f<1e3*this.a.switchInterval)break t}else{if(!(128e3<=this.b.a))break t;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},Le.prototype.segmentDownloaded=Le.prototype.segmentDownloaded,Le.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Le.prototype.getBandwidthEstimate=Le.prototype.getBandwidthEstimate,Le.prototype.setVariants=function(t){this.g=t},Le.prototype.setVariants=Le.prototype.setVariants,Le.prototype.configure=function(t){this.a=t},Le.prototype.configure=Le.prototype.configure;var De="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Me="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Ne=["loop","playbackRate"],Be=["pause","play"],Ue="adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading".split(" "),Fe={drmInfo:20,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getManifestUri:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1},je={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Ve=[["getConfiguration","configure"]],He=[["isTextTrackVisible","setTextTrackVisibility"]],Ge="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),ze=["load","unload"];function Ye(t){return JSON.stringify(t,function(t,e){if("function"!=typeof e){if(e instanceof Event||e instanceof vt){var n,i={};for(n in e){var r=e[n];r&&"object"==typeof r?"detail"==n&&(i[n]=r):n in Event||(i[n]=r)}return i}if(e instanceof TimeRanges)for(i={__type__:"TimeRanges",length:e.length,start:[],end:[]},n=0;n<e.length;++n)i.start.push(e.start(n)),i.end.push(e.end(n));else i="number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:0>e?"-Infinity":"Infinity":e;return i}})}function $e(t){return JSON.parse(t,function(t,e){return"NaN"==e?NaN:"-Infinity"==e?-1/0:"Infinity"==e?1/0:e&&"object"==typeof e&&"TimeRanges"==e.__type__?function(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}(e):e})}function Ke(t,e,n,i,r,o){this.L=t,this.g=e,this.M=n,this.j=!1,this.A=i,this.J=r,this.u=o,this.b=this.h=!1,this.w="",this.i=null,this.l=this.Dc.bind(this),this.m=this.Qd.bind(this),this.a={video:{},player:{}},this.s=0,this.c={},this.f=null}var We=!1,qe=null;function Xe(t){var e=qe;e.removeUpdateListener(t.l),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.m)}function Ze(t){for(var e in t.c){var n=t.c[e];delete t.c[e],n.reject(new R(1,7,7e3))}}function Qe(t){t=Ye(t),qe.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},P)}function Je(){this.Fb=new ct,this.nb=this}function tn(t,e,n){Je.call(this),this.c=t,this.b=e,this.i=this.g=this.f=this.j=this.h=null,this.a=new Ke(n,this.Le.bind(this),this.Me.bind(this),this.Ne.bind(this),this.Oe.bind(this),this.tc.bind(this)),function(t){for(var e in t.a.init(),t.i=new dt,De.forEach(function(t){ht(this.i,this.c,t,this.Ze.bind(this))}.bind(t)),Ue.forEach(function(t){ht(this.i,this.b,t,this.me.bind(this))}.bind(t)),t.h={},t.c)Object.defineProperty(t.h,e,{configurable:!1,enumerable:!0,get:t.Ye.bind(t,e),set:t.$e.bind(t,e)});for(e in t.j={},t.b)Object.defineProperty(t.j,e,{configurable:!1,enumerable:!0,get:t.le.bind(t,e)});t.f=new Je,t.f.nb=t.h,t.g=new Je,t.g.nb=t.j}(this)}function en(e,n,i,r){Je.call(this),this.a=e,this.b=n,this.s={video:e,player:n},this.u=i||function(){},this.w=r||function(t){return t},this.m=!1,this.g=!0,this.f=0,this.l=!1,this.i=!0,this.j=this.h=this.c=null,function(e){var n=cast.receiver.CastReceiverManager.getInstance();n.onSenderConnected=e.Ic.bind(e),n.onSenderDisconnected=e.Ic.bind(e),n.onSystemVolumeChanged=e.md.bind(e),e.h=n.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.h.onMessage=e.Ld.bind(e),e.c=n.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.c.onMessage=e.$d.bind(e),n.start(),De.forEach(function(t){this.a.addEventListener(t,this.Mc.bind(this,"video"))}.bind(e)),Ue.forEach(function(t){this.b.addEventListener(t,this.Mc.bind(this,"player"))}.bind(e)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.b.ec(3840,2160):e.b.ec(1920,1080),e.a.addEventListener("loadeddata",function(){this.l=!0}.bind(e)),e.b.addEventListener("loading",function(){this.g=!1,nn(this)}.bind(e)),e.a.addEventListener("playing",function(){this.g=!1,nn(this)}.bind(e)),e.a.addEventListener("pause",function(){nn(this)}.bind(e)),e.b.addEventListener("unloading",function(){this.g=!0,nn(this)}.bind(e)),e.a.addEventListener("ended",function(){t.setTimeout(function(){this.a&&this.a.ended&&(this.g=!0,nn(this))}.bind(this),5e3)}.bind(e))}(this)}function nn(t){Promise.resolve().then(function(){this.dispatchEvent(new vt("caststatuschanged")),rn(this)||sn(this,0)}.bind(t))}function rn(t){return!(!t.i||!t.a.duration&&!t.b.R())&&(on(t),t.i=!1,!0)}function on(t){sn(t,0,{contentId:t.b.Nb(),streamType:t.b.R()?"LIVE":"BUFFERED",duration:t.a.duration,contentType:""})}function an(t,e,n,i){t.m&&(t=Ye(e),i?n.getCastChannel(i).send(t):n.broadcast(t))}function sn(t,e,n){var i=t.a.playbackRate,r=ln;i={mediaSessionId:0,playbackRate:i,playerState:r=t.g?r.IDLE:t.b.yc()?r.$c:t.a.paused?r.bd:r.cd,currentTime:t.a.currentTime,supportedMediaCommands:15,volume:{level:t.a.volume,muted:t.a.muted}},n&&(i.media=n),an(t,{requestId:e,type:"MEDIA_STATUS",status:[i]},t.h)}(e=Ke.prototype).destroy=function(){return Ze(this),qe&&Xe(this),this.J=this.A=this.g=null,this.b=this.h=!1,this.m=this.l=this.f=this.c=this.a=this.i=null,Promise.resolve()},e.Y=function(){return this.b},e.ac=function(){return this.w},e.init=function(){if(t.chrome&&chrome.cast&&chrome.cast.isAvailable){delete t.__onGCastApiAvailable,this.h=!0,this.g();var e=new chrome.cast.SessionRequest(this.L);e=new chrome.cast.ApiConfig(e,this.Ec.bind(this),this.Xd.bind(this),"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),We&&setTimeout(this.g.bind(this),20),(e=qe)&&e.status!=chrome.cast.SessionStatus.STOPPED?this.Ec(e):qe=null}else t.__onGCastApiAvailable=function(t){t&&this.init()}.bind(this)},e.dc=function(t){this.i=t,this.b&&Qe({type:"appData",appData:this.i})},e.cast=function(t){return this.h?We?this.b?Promise.reject(new R(1,8,8002)):(this.f=new $,chrome.cast.requestSession(this.Yb.bind(this,t),this.Cc.bind(this)),this.f):Promise.reject(new R(1,8,8001)):Promise.reject(new R(1,8,8e3))},e.wb=function(){this.b&&(Ze(this),qe&&(Xe(this),qe.stop(function(){},function(){}),qe=null))},e.get=function(t,e){if("video"==t){if(0<=Be.indexOf(e))return this.Oc.bind(this,t,e)}else if("player"==t){if(je[e]&&!this.get("player","isLive")())return function(){};if(0<=Ge.indexOf(e))return this.Oc.bind(this,t,e);if(0<=ze.indexOf(e))return this.te.bind(this,t,e);if(Fe[e])return this.Lc.bind(this,t,e)}return this.Lc(t,e)},e.set=function(t,e,n){this.a[t][e]=n,Qe({type:"set",targetName:t,property:e,value:n})},e.Yb=function(t,e){qe=e,e.addUpdateListener(this.l),e.addMessageListener("urn:x-cast:com.google.shaka.v2",this.m),this.Dc(),Qe({type:"init",initState:t,appData:this.i}),this.f.resolve()},e.Cc=function(t){var e=8003;switch(t.code){case"cancel":e=8004;break;case"timeout":e=8005;break;case"receiver_unavailable":e=8006}this.f.reject(new R(2,8,e,t))},e.Lc=function(t,e){return this.a[t][e]},e.Oc=function(t,e){Qe({type:"call",targetName:t,methodName:e,args:Array.prototype.slice.call(arguments,2)})},e.te=function(t,e){var n=Array.prototype.slice.call(arguments,2),i=new $,r=this.s.toString();return this.s++,this.c[r]=i,Qe({type:"asyncCall",targetName:t,methodName:e,args:n,id:r}),i},e.Ec=function(t){var e=this.u();this.f=new $,this.j=!0,this.Yb(e,t)},e.Xd=function(t){We="available"==t,this.g()},e.Dc=function(){var t=!!qe&&"connected"==qe.status;if(this.b&&!t){for(var e in this.J(),this.a)this.a[e]={};Ze(this)}this.w=(this.b=t)?qe.receiver.friendlyName:"",this.g()},e.Qd=function(t,e){var n=$e(e);switch(n.type){case"event":var i=n.targetName,r=n.event;this.A(i,new vt(r.type,r));break;case"update":for(i in r=n.update)for(var o in n=this.a[i]||{},r[i])n[o]=r[i][o];this.j&&(this.M(),this.j=!1);break;case"asyncComplete":if(i=n.id,o=n.error,n=this.c[i],delete this.c[i],n)if(o){for(r in i=new R(o.severity,o.category,o.code),o)i[r]=o[r];n.reject(i)}else n.resolve()}},Je.prototype.addEventListener=function(t,e){this.Fb.push(t,e)},Je.prototype.removeEventListener=function(t,e){this.Fb.remove(t,e)},Je.prototype.dispatchEvent=function(t){for(var e=this.Fb.get(t.type)||[],n=0;n<e.length;++n){t.target=this.nb,t.currentTarget=this.nb;var i=e[n];try{i.handleEvent?i.handleEvent(t):i.call(this,t)}catch(t){}if(t.a)break}return t.defaultPrevented},w(tn,Je),E("shaka.cast.CastProxy",tn),tn.prototype.destroy=function(t){return t&&this.a&&this.a.wb(),t=[this.i?this.i.destroy():null,this.b?this.b.destroy():null,this.a?this.a.destroy():null],this.a=this.i=this.j=this.h=this.b=this.c=null,Promise.all(t)},tn.prototype.destroy=tn.prototype.destroy,tn.prototype.Bd=function(){return this.h},tn.prototype.getVideo=tn.prototype.Bd,tn.prototype.td=function(){return this.j},tn.prototype.getPlayer=tn.prototype.td,tn.prototype.fd=function(){return!!this.a&&(this.a.h&&We)},tn.prototype.canCast=tn.prototype.fd,tn.prototype.Y=function(){return!!this.a&&this.a.Y()},tn.prototype.isCasting=tn.prototype.Y,tn.prototype.ac=function(){return this.a?this.a.ac():""},tn.prototype.receiverName=tn.prototype.ac,tn.prototype.cast=function(){var t=this.tc();return this.a.cast(t).then(function(){if(this.b)return this.b.Db()}.bind(this))},tn.prototype.cast=tn.prototype.cast,tn.prototype.dc=function(t){this.a.dc(t)},tn.prototype.setAppData=tn.prototype.dc,tn.prototype.Se=function(){var t=this.a;if(t.b){var e=t.u();chrome.cast.requestSession(t.Yb.bind(t,e),t.Cc.bind(t))}},tn.prototype.suggestDisconnect=tn.prototype.Se,tn.prototype.wb=function(){this.a.wb()},tn.prototype.forceDisconnect=tn.prototype.wb,(e=tn.prototype).tc=function(){var t={video:{},player:{},playerAfterLoad:{},manifest:this.b.Nb(),startTime:null};return this.c.pause(),Ne.forEach(function(e){t.video[e]=this.c[e]}.bind(this)),this.c.ended||(t.startTime=this.c.currentTime),Ve.forEach(function(e){var n=e[1];e=this.b[e[0]](),t.player[n]=e}.bind(this)),He.forEach(function(e){var n=e[1];e=this.b[e[0]](),t.playerAfterLoad[n]=e}.bind(this)),t},e.Le=function(){this.dispatchEvent(new vt("caststatuschanged"))},e.Me=function(){this.f.dispatchEvent(new vt(this.h.paused?"pause":"play"))},e.Oe=function(){Ve.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(this));var t=this.a.get("player","getManifestUri")(),e=this.a.get("video","ended"),n=Promise.resolve(),i=this.c.autoplay,r=null;e||(r=this.a.get("video","currentTime")),t&&(this.c.autoplay=!1,(n=this.b.load(t,r)).catch(function(t){this.b.dispatchEvent(new vt("error",{detail:t}))}.bind(this)));var o={};Ne.forEach(function(t){o[t]=this.a.get("video",t)}.bind(this)),n.then(function(){this.c&&(Ne.forEach(function(t){this.c[t]=o[t]}.bind(this)),He.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(this)),this.c.autoplay=i,t&&this.c.play())}.bind(this))},e.Ye=function(t){if("addEventListener"==t)return this.f.addEventListener.bind(this.f);if("removeEventListener"==t)return this.f.removeEventListener.bind(this.f);if(this.a.Y()&&0==Object.keys(this.a.a.video).length){var e=this.c[t];if("function"!=typeof e)return e}return this.a.Y()?this.a.get("video",t):("function"==typeof(e=this.c[t])&&(e=e.bind(this.c)),e)},e.$e=function(t,e){this.a.Y()?this.a.set("video",t,e):this.c[t]=e},e.Ze=function(t){this.a.Y()||this.f.dispatchEvent(new vt(t.type,t))},e.le=function(t){return"addEventListener"==t?this.g.addEventListener.bind(this.g):"removeEventListener"==t?this.g.removeEventListener.bind(this.g):"getMediaElement"==t?function(){return this.h}.bind(this):"getNetworkingEngine"==t?this.b.vc.bind(this.b):"getManifest"==t?this.a.Y()?function(){return null}:this.b.uc.bind(this.b):this.a.Y()&&0==Object.keys(this.a.a.video).length&&Fe[t]||!this.a.Y()?(t=this.b[t]).bind(this.b):this.a.get("player",t)},e.me=function(t){this.a.Y()||this.g.dispatchEvent(t)},e.Ne=function(t,e){this.a.Y()&&("video"==t?this.f.dispatchEvent(e):"player"==t&&this.g.dispatchEvent(e))},w(en,Je),E("shaka.cast.CastReceiver",en),en.prototype.isConnected=function(){return this.m},en.prototype.isConnected=en.prototype.isConnected,en.prototype.Ed=function(){return this.g},en.prototype.isIdle=en.prototype.Ed,en.prototype.destroy=function(){var e=this.b?this.b.destroy():Promise.resolve();return null!=this.j&&t.clearTimeout(this.j),this.u=this.s=this.b=this.a=null,this.m=!1,this.g=!0,this.j=this.h=this.c=null,e.then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},en.prototype.destroy=en.prototype.destroy,(e=en.prototype).Ic=function(){this.f=0,this.i=!0,this.m=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,nn(this)},e.Mc=function(t,e){this.b&&(this.Zb(),an(this,{type:"event",targetName:t,event:e},this.c))},e.Zb=function(){null!=this.j&&t.clearTimeout(this.j),this.j=t.setTimeout(this.Zb.bind(this),500);var e={video:{},player:{}};if(Me.forEach(function(t){e.video[t]=this.a[t]}.bind(this)),this.b.R())for(var n in je){var i=je[n];0==this.f%i&&(e.player[n]=this.b[n]())}for(n in Fe)i=Fe[n],0==this.f%i&&(e.player[n]=this.b[n]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),this.l&&(this.f+=1),an(this,{type:"update",update:e},this.c),rn(this)},e.md=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&an(this,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},this.c),an(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.c)},e.$d=function(t){var e=$e(t.data);switch(e.type){case"init":this.f=0,this.l=!1,this.i=!0,function(t,e,n){for(var i in e.player)t.b[i](e.player[i]);t.u(n),n=Promise.resolve();var r=t.a.autoplay;e.manifest&&(t.a.autoplay=!1,(n=t.b.load(e.manifest,e.startTime)).catch(function(t){this.b.dispatchEvent(new vt("error",{detail:t}))}.bind(t))),n.then(function(){for(var t in e.video){var n=e.video[t];this.a[t]=n}for(t in e.playerAfterLoad)n=e.playerAfterLoad[t],this.b[t](n);this.a.autoplay=r,e.manifest&&(this.a.play(),sn(this,0))}.bind(t))}(this,e.initState,e.appData),this.Zb();break;case"appData":this.u(e.appData);break;case"set":var n=e.targetName,i=e.property,r=e.value;if("video"==n){if(e=cast.receiver.CastReceiverManager.getInstance(),"volume"==i){e.setSystemVolumeLevel(r);break}if("muted"==i){e.setSystemVolumeMuted(r);break}}this.s[n][i]=r;break;case"call":n=e.targetName,i=e.methodName,r=e.args;var o=this.s[n];o[i].apply(o,r);break;case"asyncCall":n=e.targetName,i=e.methodName,"player"==n&&"load"==i&&(this.f=0,this.l=!1),r=e.args,e=e.id,t=t.senderId,r=(o=this.s[n])[i].apply(o,r),"player"==n&&"load"==i&&(r=r.then(function(){this.i=!0}.bind(this))),r.then(this.Tc.bind(this,t,e,null),this.Tc.bind(this,t,e))}},e.Ld=function(t){var e=$e(t.data);switch(e.type){case"PLAY":this.a.play(),sn(this,0);break;case"PAUSE":this.a.pause(),sn(this,0);break;case"SEEK":t=e.currentTime;var n=e.resumeState;null!=t&&(this.a.currentTime=Number(t)),n&&"PLAYBACK_START"==n?(this.a.play(),sn(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),sn(this,0));break;case"STOP":this.b.Db().then(function(){this.b&&sn(this,0)}.bind(this));break;case"GET_STATUS":sn(this,Number(e.requestId));break;case"VOLUME":t=(n=e.volume).level,n=n.muted;var i=this.a.volume,r=this.a.muted;null!=t&&(this.a.volume=Number(t)),null!=n&&(this.a.muted=n),i==this.a.volume&&r==this.a.muted||sn(this,0);break;case"LOAD":this.f=0,this.i=this.l=!1,n=e.media.contentId,t=e.currentTime,n=this.w(n),this.a.autoplay=!0,this.b.load(n,t).then(function(){this.b&&on(this)}.bind(this)).catch(function(t){var n="LOAD_FAILED";7==t.category&&7e3==t.code&&(n="LOAD_CANCELLED"),an(this,{requestId:Number(e.requestId),type:n},this.h)}.bind(this));break;default:an(this,{requestId:Number(e.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.h)}},e.Tc=function(t,e,n){this.b&&an(this,{type:"asyncComplete",id:e,error:n},this.c,t)};var ln={IDLE:"IDLE",cd:"PLAYING",$c:"BUFFERING",bd:"PAUSED"};function un(t,e){var n=cn(t,e);return 1!=n.length?null:n[0]}function cn(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return t instanceof Element&&t.tagName==e})}function dn(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function hn(t){var e=t.firstChild;return e&&e.nodeType==Node.TEXT_NODE?t.textContent.trim():null}function pn(t,e,n,i){var r=null;return null!=(t=t.getAttribute(e))&&(r=n(t)),null==r?void 0!=i?i:null:r}function fn(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null}function yn(t){return t&&(t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null}function vn(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null}function gn(t){return 0==(t=Number(t))%1?t:null}function mn(t){return 0==(t=Number(t))%1&&0<t?t:null}function bn(t){return 0==(t=Number(t))%1&&0<=t?t:null}function _n(t){var e;return t=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1]/e[2]):Number(t),isNaN(t)?null:t}var An={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};function En(t,e,n){t=function(t){return t.map(function(t){var e=t.getAttribute("schemeIdUri"),n=dn(t,"urn:mpeg:cenc:2013","default_KID"),i=function(t){return Array.prototype.filter.call(t.childNodes,function(t){return t instanceof Element&&"pssh"==t.localName&&"urn:mpeg:cenc:2013"==t.namespaceURI})}(t).map(hn);if(!e)return null;if(e=e.toLowerCase(),n&&0<=(n=n.replace(/-/g,"").toLowerCase()).indexOf(" "))throw new R(2,4,4009);var r=[];try{r=i.map(function(t){return{initDataType:"cenc",initData:Lt(t),keyId:null}})}catch(t){throw new R(2,4,4007)}return{node:t,Sc:e,keyId:n,init:0<r.length?r:null}}).filter(tt)}(t);var i=null,r=[],o=[],a=t.map(function(t){return t.keyId}).filter(tt);if(a.length&&1<a.filter(et).length)throw new R(2,4,4010);n||(o=t.filter(function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.Sc||(i=t.init||i,!1)})).length&&(0==(r=function(t,e,n){return n.map(function(n){var i=An[n.Sc];return i?[mt(i,n.init||t)]:e(n.node)||[]}).reduce(Q,[])}(i,e,o)).length&&(r=[mt("",i)])),!t.length||!n&&o.length||(r=At(An).map(function(t){return mt(t,i)}));var s=a[0]||null;return s&&r.forEach(function(t){t.initData.forEach(function(t){t.keyId=s})}),{nc:s,df:i,drmInfos:r,sc:!0}}function wn(e,n,i,r,o){null!=o&&(o=Math.round(o));var a={RepresentationID:n,Number:i,Bandwidth:r,Time:o};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(e,n,i,r){if("$$"==e)return"$";var o=a[n];if(null==o)return e;switch("RepresentationID"==n&&i&&(i=void 0),r){case void 0:case"d":case"i":case"u":e=o.toString();break;case"o":e=o.toString(8);break;case"x":e=o.toString(16);break;case"X":e=o.toString(16).toUpperCase();break;default:e=o.toString()}return i=t.parseInt(i,10)||1,Array(Math.max(0,i-e.length)+1).join("0")+e})}function Tn(t,e){var n=kn(t,e,"timescale"),i=1;n&&(i=mn(n)||1),(n=mn((n=kn(t,e,"duration"))||""))&&(n/=i);var r=kn(t,e,"startNumber"),o=Number(kn(t,e,"presentationTimeOffset"))||0,a=bn(r||"");null!=r&&null!=a||(a=1);var s=Sn(t,e,"SegmentTimeline");if(r=null,s){r=i;var l=t.N.duration||1/0;s=cn(s,"S");for(var u=[],c=0,d=0;d<s.length;++d){var h=s[d],p=pn(h,"t",bn),f=pn(h,"d",bn);if(h=pn(h,"r",gn),null!=p&&(p-=o),!f)break;if(p=null!=p?p:c,0>(h=h||0))if(d+1<s.length){if(null==(h=pn(s[d+1],"t",bn)))break;if(p>=h)break;h=Math.ceil((h-p)/f)-1}else{if(1/0==l)break;if(p/r>=l)break;h=Math.ceil((l*r-p)/f)-1}0<u.length&&p!=c&&(u[u.length-1].end=p/r);for(var y=0;y<=h;++y)c=p+f,u.push({start:p/r,end:c/r,We:p}),p=c}r=u}return{timescale:i,S:n,Ga:a,ca:o/i||0,kc:o,I:r}}function kn(t,e,n){return[e(t.v),e(t.U),e(t.aa)].filter(tt).map(function(t){return t.getAttribute(n)}).reduce(function(t,e){return t||e})}function Sn(t,e,n){return[e(t.v),e(t.U),e(t.aa)].filter(tt).map(function(t){return un(t,n)}).reduce(function(t,e){return t||e})}function Cn(t,e){var n=new DOMParser;try{var i=kt(t),r=n.parseFromString(i,"text/xml")}catch(t){}if(r&&r.documentElement.tagName==e)var o=r.documentElement;return o&&0<o.getElementsByTagName("parsererror").length?null:o}function On(t,e,n,i,r,o){if(o=o||0,dn(t,"http://www.w3.org/1999/xlink","href")){var a=function(t,e,n,i,r,o){for(var a=dn(t,"http://www.w3.org/1999/xlink","href"),s=dn(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=0;l<t.attributes.length;l++){var u=t.attributes[l];"http://www.w3.org/1999/xlink"==u.namespaceURI&&(t.removeAttributeNS(u.namespaceURI,u.localName),--l)}if(5<=o)return Promise.reject(new R(2,4,4028));if("onLoad"!=s)return Promise.reject(new R(2,4,4027));var c=gt([i],[a]);return r.request(0,at(c,e)).then(function(i){if(!(i=Cn(i.data,t.tagName)))return Promise.reject(new R(2,4,4001,a));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;i.childNodes.length;){var s=i.childNodes[0];i.removeChild(s),t.appendChild(s)}for(s=0;s<i.attributes.length;s++){var l=i.attributes[s].nodeName,u=i.getAttribute(l);t.setAttribute(l,u)}return On(t,e,n,c[0],r,o+1)}.bind(t))}(t,e,n,i,r,o);return n&&(a=a.catch(function(){return On(t,e,n,i,r,o)})),a}for(a=0;a<t.childNodes.length;a++){var s=t.childNodes[a];s instanceof Element&&"urn:mpeg:dash:resolve-to-zero:2013"==dn(s,"http://www.w3.org/1999/xlink","href")&&(t.removeChild(s),--a)}var l=[];for(a=0;a<t.childNodes.length;a++)(s=t.childNodes[a]).nodeType==Node.ELEMENT_NODE&&(s=On(s,e,n,i,r,o),l.push(s));return Promise.all(l).then(function(){return t})}function Pn(t,e,n){this.c=t,this.b=e,this.a=n}function Rn(t,e,n,i,r,o){this.position=t,this.startTime=e,this.endTime=n,this.c=i,this.b=r,this.a=o}function In(t,e){this.H=t,this.b=e==Ln,this.a=0}E("shaka.media.InitSegmentReference",Pn),Pn.prototype.Ib=function(){return this.c()},Pn.prototype.createUris=Pn.prototype.Ib,Pn.prototype.Ob=function(){return this.b},Pn.prototype.getStartByte=Pn.prototype.Ob,Pn.prototype.Mb=function(){return this.a},Pn.prototype.getEndByte=Pn.prototype.Mb,E("shaka.media.SegmentReference",Rn),Rn.prototype.V=function(){return this.position},Rn.prototype.getPosition=Rn.prototype.V,Rn.prototype.Pb=function(){return this.startTime},Rn.prototype.getStartTime=Rn.prototype.Pb,Rn.prototype.qd=function(){return this.endTime},Rn.prototype.getEndTime=Rn.prototype.qd,Rn.prototype.Ib=function(){return this.c()},Rn.prototype.createUris=Rn.prototype.Ib,Rn.prototype.Ob=function(){return this.b},Rn.prototype.getStartByte=Rn.prototype.Ob,Rn.prototype.Mb=function(){return this.a},Rn.prototype.getEndByte=Rn.prototype.Mb,E("shaka.util.DataViewReader",In);var xn,Ln=1;function Dn(){throw new R(2,3,3e3)}function Mn(){this.c=[],this.b=[],this.a=!1}function Nn(t){for(;t.o.ga()&&!t.sa.a;)t.sa.Bb(t.start,t.o,t.Kc)}function Bn(t){for(var e=t.o.B();0<e&&!t.sa.a;--e)t.sa.Bb(t.start,t.o,t.Kc)}function Un(t){return function(e){t(e.o.Fa(e.o.H.byteLength-e.o.V()))}}function Fn(t){for(var e=0,n=0;n<t.length;n++)e=e<<8|t.charCodeAt(n);return e}function jn(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function Vn(t,e,n,i){var r,o=(new Mn).X("sidx",function(t){r=function(t,e,n,i){var r=[];i.o.F(4);var o=i.o.B();if(0==o)throw new R(2,3,3005);if(0==i.version)var a=i.o.B(),s=i.o.B();else a=i.o.Ta(),s=i.o.Ta();i.o.F(2);var l=i.o.hb();for(t=t+i.size+s,s=0;s<l;s++){var u=i.o.B(),c=(2147483648&u)>>>31;u&=2147483647;var d=i.o.B();if(i.o.F(4),1==c)throw new R(2,3,3006);r.push(new Rn(r.length,a/o-e,(a+d)/o-e,function(){return n},t,t+u-1)),a+=d,t+=u}return i.sa.stop(),r}(e,i,n,t)});if(t&&o.parse(t),r)return r;throw new R(2,3,3004)}function Hn(t){this.a=t}function Gn(t,e){for(;t.a.length;){var n=t.a[t.a.length-1];if(!(n.startTime>=e))break;t.a.pop()}for(;t.a.length&&0>=(n=t.a[0]).endTime;)t.a.shift();0!=t.a.length&&((n=t.a[0]).startTime<bt&&(t.a[0]=new Rn(n.position,0,n.endTime,n.c,n.b,n.a)),n=t.a[t.a.length-1],t.a[t.a.length-1]=new Rn(n.position,n.startTime,e,n.c,n.b,n.a))}function zn(t){this.b=t,this.a=new In(t,0),xn||(xn=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function Yn(t){var e=$n(t);if(7<e.length)throw new R(2,3,3002);for(var n=0,i=0;i<e.length;i++)n=256*n+e[i];e=n,n=$n(t);t:{for(i=0;i<xn.length;i++)if(Nt(n,xn[i])){i=!0;break t}i=!1}if(i)n=t.b.byteLength-t.a.V();else{if(8==n.length&&224&n[1])throw new R(2,3,3001);i=n[0]&(1<<8-n.length)-1;for(var r=1;r<n.length;r++)i=256*i+n[r];n=i}return n=t.a.V()+n<=t.b.byteLength?n:t.b.byteLength-t.a.V(),i=new DataView(t.b.buffer,t.b.byteOffset+t.a.V(),n),t.a.F(n),new function(t,e){this.id=t,this.a=e}(e,i)}function $n(t){var e,n=t.a.ba();for(e=1;8>=e&&!(n&1<<8-e);e++);if(8<e)throw new R(2,3,3002);var i=new Uint8Array(e);for(i[0]=n,n=1;n<e;n++)i[n]=t.a.ba();return i}function Kn(t){if(8<t.a.byteLength)throw new R(2,3,3002);if(8==t.a.byteLength&&224&t.a.getUint8(0))throw new R(2,3,3001);for(var e=0,n=0;n<t.a.byteLength;n++){e=256*e+t.a.getUint8(n)}return e}function Wn(){}function qn(t){var e=new zn(t.a);if(179!=(t=Yn(e)).id)throw new R(2,3,3013);if(t=Kn(t),183!=(e=Yn(e)).id)throw new R(2,3,3012);e=new zn(e.a);for(var n=0;e.ga();){var i=Yn(e);if(241==i.id){n=Kn(i);break}}return{Xe:t,se:n}}function Xn(t,e){var n=Sn(t,e,"Initialization");if(!n)return null;var i=t.v.da,r=n.getAttribute("sourceURL");r&&(i=gt(t.v.da,[r])),r=0;var o=null;return(n=pn(n,"range",vn))&&(r=n.start,o=n.end),new Pn(function(){return i},r,o)}function Zn(t,e,n,i,r,o,a,s){var l=t.presentationTimeline,u=!t.Ka||!t.N.Qb,c=t.N.index,d=t.N.duration,h=e,p=null;return{createSegmentIndex:function(){var t=[h(i,r,o),"webm"==a?h(n.c(),n.b,n.a):null];return h=null,Promise.all(t).then(function(t){var e=t[0];t=t[1]||null,e="mp4"==a?Vn(e,r,i,s):(new Wn).parse(e,t,i,s),l.fb(e,0==c),p=new Hn(e),u&&Gn(p,d)})},findSegmentPosition:function(t){return p.find(t)},getSegmentReference:function(t){return p.get(t)}}}function Qn(t){return t.ib}function Jn(t,e){var n=Xn(t,ti),i=function(t){return[t.v.ua,t.U.ua,t.aa.ua].filter(tt).map(function(t){return cn(t,"SegmentURL")}).reduce(function(t,e){return 0<t.length?t:e}).map(function(e){e.getAttribute("indexRange")&&!t.xc&&(t.xc=!0);var n=e.getAttribute("media");return e=pn(e,"mediaRange",vn,{start:0,end:null}),{Gd:n,start:e.start,end:e.end}})}(t),r=Tn(t,ti),o=r.Ga;0==o&&(o=1);var a=0;if(r.S?a=r.S*(o-1):r.I&&0<r.I.length&&(a=r.I[0].start),!(i={S:r.S,startTime:a,Ga:o,ca:r.ca,I:r.I,Oa:i}).S&&!i.I&&1<i.Oa.length)throw new R(2,4,4002);if(!i.S&&!t.N.duration&&!i.I&&1==i.Oa.length)throw new R(2,4,4002);if(i.I&&0==i.I.length)throw new R(2,4,4002);return o=r=null,t.aa.id&&t.v.id&&(r=e[o=t.aa.id+","+t.v.id]),a=function(t,e,n,i){var r=i.Oa.length;i.I&&i.I.length!=i.Oa.length&&(r=Math.min(i.I.length,i.Oa.length));for(var o=[],a=i.startTime,s=0;s<r;s++){var l=i.Oa[s],u=gt(n,[l.Gd]),c=null!=i.S?a+i.S:i.I?i.I[s].end:a+t;o.push(new Rn(s+e,a,c,function(t){return t}.bind(null,u),l.start,l.end)),a=c}return o}(t.N.duration,i.Ga,t.v.da,i),r?(r.Ub(a),o=t.presentationTimeline.bb(),r.Kb(o-t.N.start)):(t.presentationTimeline.fb(a,0==t.N.index),r=new Hn(a),o&&t.Ka&&(e[o]=r)),t.Ka&&t.N.Qb||Gn(r,t.N.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:r.find.bind(r),getSegmentReference:r.get.bind(r),initSegmentReference:n,ca:i.ca}}function ti(t){return t.ua}function ei(t,e,n,i){var r=function(t){var e=kn(t,ni,"initialization");if(!e)return null;var n=t.v.id,i=t.bandwidth||null,r=t.v.da;return new Pn(function(){var t=wn(e,n,null,i,null);return gt(r,[t])},0,null)}(t),o=Tn(t,ni),a=kn(t,ni,"media"),s=kn(t,ni,"index");if(a=(o={S:o.S,timescale:o.timescale,Ga:o.Ga,ca:o.ca,kc:o.kc,I:o.I,Tb:a,eb:s}).eb?1:0,a+=o.I?1:0,0==(a+=o.S?1:0))throw new R(2,4,4002);if(1!=a&&(o.eb&&(o.I=null),o.S=null),!o.eb&&!o.Tb)throw new R(2,4,4002);if(o.eb){if("mp4"!=(n=t.v.mimeType.split("/")[1])&&"webm"!=n)throw new R(2,4,4006);if("webm"==n&&!r)throw new R(2,4,4005);i=wn(o.eb,t.v.id,null,t.bandwidth||null,null),t=Zn(t,e,r,i=gt(t.v.da,[i]),0,null,n,o.ca)}else o.S?(i||t.presentationTimeline.zb(o.S),t=function(t,e){var n=t.N.duration,i=e.S,r=e.Ga,o=e.timescale,a=e.Tb,s=t.bandwidth||null,l=t.v.id,u=t.v.da;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0>t||n&&t>=n?null:Math.floor(t/i)},getSegmentReference:function(t){var e=t*i,c=e+i;return n&&(c=Math.min(c,n)),0>c||n&&e>=n?null:new Rn(t,e,c,function(){var n=wn(a,l,t+r,s,e*o);return gt(u,[n])},0,null)}}}(t,o)):(i=e=null,t.aa.id&&t.v.id&&(e=n[i=t.aa.id+","+t.v.id]),a=function(t,e){for(var n=[],i=0;i<e.I.length;i++){var r=i+e.Ga;n.push(new Rn(r,e.I[i].start,e.I[i].end,function(t,e,n,i,r,o){return t=wn(t,e,r,n,o),gt(i,[t]).map(function(t){return t.toString()})}.bind(null,e.Tb,t.v.id,t.bandwidth||null,t.v.da,r,e.I[i].We+e.kc),0,null))}return n}(t,o),e?(e.Ub(a),n=t.presentationTimeline.bb(),e.Kb(n-t.N.start)):(t.presentationTimeline.fb(a,0==t.N.index),e=new Hn(a),i&&t.Ka&&(n[i]=e)),t.Ka&&t.N.Qb||Gn(e,t.N.duration),t={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e)});return{createSegmentIndex:t.createSegmentIndex,findSegmentPosition:t.findSegmentPosition,getSegmentReference:t.getSegmentReference,initSegmentReference:r,ca:o.ca}}function ni(t){return t.kb}In.Endianness={af:0,bf:Ln},In.prototype.ga=function(){return this.a<this.H.byteLength},In.prototype.hasMoreData=In.prototype.ga,In.prototype.V=function(){return this.a},In.prototype.getPosition=In.prototype.V,In.prototype.rd=function(){return this.H.byteLength},In.prototype.getLength=In.prototype.rd,In.prototype.ba=function(){try{var t=this.H.getUint8(this.a);return this.a+=1,t}catch(t){Dn()}},In.prototype.readUint8=In.prototype.ba,In.prototype.hb=function(){try{var t=this.H.getUint16(this.a,this.b);return this.a+=2,t}catch(t){Dn()}},In.prototype.readUint16=In.prototype.hb,In.prototype.B=function(){try{var t=this.H.getUint32(this.a,this.b);return this.a+=4,t}catch(t){Dn()}},In.prototype.readUint32=In.prototype.B,In.prototype.Nc=function(){try{var t=this.H.getInt32(this.a,this.b);return this.a+=4,t}catch(t){Dn()}},In.prototype.readInt32=In.prototype.Nc,In.prototype.Ta=function(){try{if(this.b)var t=this.H.getUint32(this.a,!0),e=this.H.getUint32(this.a+4,!0);else e=this.H.getUint32(this.a,!1),t=this.H.getUint32(this.a+4,!1)}catch(t){Dn()}if(2097151<e)throw new R(2,3,3001);return this.a+=8,e*Math.pow(2,32)+t},In.prototype.readUint64=In.prototype.Ta,In.prototype.Fa=function(t){this.a+t>this.H.byteLength&&Dn();var e=new Uint8Array(this.H.buffer,this.H.byteOffset+this.a,t);return this.a+=t,new Uint8Array(e)},In.prototype.readBytes=In.prototype.Fa,In.prototype.F=function(t){this.a+t>this.H.byteLength&&Dn(),this.a+=t},In.prototype.skip=In.prototype.F,In.prototype.Rc=function(t){this.a<t&&Dn(),this.a-=t},In.prototype.rewind=In.prototype.Rc,In.prototype.seek=function(t){(0>t||t>this.H.byteLength)&&Dn(),this.a=t},In.prototype.seek=In.prototype.seek,In.prototype.$b=function(){for(var t=this.a;this.ga()&&0!=this.H.getUint8(this.a);)this.a+=1;return t=new Uint8Array(this.H.buffer,this.H.byteOffset+t,this.a-t),this.a+=1,kt(t)},In.prototype.readTerminatedString=In.prototype.$b,E("shaka.util.Mp4Parser",Mn),Mn.prototype.C=function(t,e){var n=Fn(t);return this.c[n]=0,this.b[n]=e,this},Mn.prototype.box=Mn.prototype.C,Mn.prototype.X=function(t,e){var n=Fn(t);return this.c[n]=1,this.b[n]=e,this},Mn.prototype.fullBox=Mn.prototype.X,Mn.prototype.stop=function(){this.a=!0},Mn.prototype.stop=Mn.prototype.stop,Mn.prototype.parse=function(t,e){var n=new Uint8Array(t);for(n=new In(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.ga()&&!this.a;)this.Bb(0,n,e)},Mn.prototype.parse=Mn.prototype.parse,Mn.prototype.Bb=function(t,e,n){var i=e.V(),r=e.B(),o=e.B();switch(r){case 0:r=e.H.byteLength-i;break;case 1:r=e.Ta()}var a=this.b[o];if(a){var s=null,l=null;1==this.c[o]&&(s=(l=e.B())>>>24,l&=16777215),o=i+r,n&&o>e.H.byteLength&&(o=e.H.byteLength),e=0<(o-=e.V())?e.Fa(o):new Uint8Array(0),e=new In(new DataView(e.buffer,e.byteOffset,e.byteLength),0),a({sa:this,Kc:n||!1,version:s,flags:l,o:e,size:r,start:i+t})}else e.F(i+r-e.V())},Mn.prototype.parseNext=Mn.prototype.Bb,Mn.children=Nn,Mn.sampleDescription=Bn,Mn.allData=Un,Mn.typeToString=jn,E("shaka.media.SegmentIndex",Hn),Hn.prototype.destroy=function(){return this.a=null,Promise.resolve()},Hn.prototype.destroy=Hn.prototype.destroy,Hn.prototype.find=function(t){for(var e=this.a.length-1;0<=e;--e){var n=this.a[e];if(t>=n.startTime&&t<n.endTime)return n.position}return this.a.length&&t<this.a[0].startTime?this.a[0].position:null},Hn.prototype.find=Hn.prototype.find,Hn.prototype.get=function(t){return 0==this.a.length?null:0>(t-=this.a[0].position)||t>=this.a.length?null:this.a[t]},Hn.prototype.get=Hn.prototype.get,Hn.prototype.offset=function(t){for(var e=0;e<this.a.length;++e)this.a[e].startTime+=t,this.a[e].endTime+=t},Hn.prototype.offset=Hn.prototype.offset,Hn.prototype.Ub=function(t){for(var e=[],n=0,i=0;n<this.a.length&&i<t.length;){var r=this.a[n],o=t[i];r.startTime<o.startTime?(e.push(r),n++):(r.startTime>o.startTime?0==n&&e.push(o):(.1<Math.abs(r.endTime-o.endTime)?(o=new Rn(r.position,o.startTime,o.endTime,o.c,o.b,o.a),e.push(o)):e.push(r),n++),i++)}for(;n<this.a.length;)e.push(this.a[n++]);if(e.length)for(n=e[e.length-1].position+1;i<t.length;)o=new Rn(n++,(o=t[i++]).startTime,o.endTime,o.c,o.b,o.a),e.push(o);else e=t;this.a=e},Hn.prototype.merge=Hn.prototype.Ub,Hn.prototype.Kb=function(t){for(var e=0;e<this.a.length;++e)if(this.a[e].endTime>t)return void this.a.splice(0,e);this.a=[]},Hn.prototype.evict=Hn.prototype.Kb,zn.prototype.ga=function(){return this.a.ga()},Wn.prototype.parse=function(t,e,n,i){var r;if(440786851!=Yn(e=new zn(new DataView(e))).id)throw new R(2,3,3008);var o=Yn(e);if(408125543!=o.id)throw new R(2,3,3009);for(e=o.a.byteOffset,o=new zn(o.a),r=null;o.ga();){var a=Yn(o);if(357149030==a.id){r=a;break}}if(!r)throw new R(2,3,3010);for(o=new zn(r.a),r=1e6,a=null;o.ga();){var s=Yn(o);if(2807729==s.id)r=Kn(s);else if(17545==s.id)if(4==(a=s).a.byteLength)a=a.a.getFloat32(0);else{if(8!=a.a.byteLength)throw new R(2,3,3003);a=a.a.getFloat64(0)}}if(null==a)throw new R(2,3,3011);if(r=a*(o=r/1e9),475249515!=(t=Yn(new zn(new DataView(t)))).id)throw new R(2,3,3007);return function(t,e,n,i,r,o){function a(){return r}var s=[];t=new zn(t.a);for(var l=null,u=null;t.ga();){var c=Yn(t);if(187==c.id){var d=qn(c);d&&(c=n*d.Xe,d=e+d.se,null!=l&&s.push(new Rn(s.length,l-o,c-o,a,u,d-1)),l=c,u=d)}}return null!=l&&s.push(new Rn(s.length,l-o,i-o,a,u,null)),s}(t,e,o,r,n,i)};var ii={},ri={};function oi(t,e,n,i){var r=i;return r||1<(i=new x(t).$.split("/").pop().split(".")).length&&(i=i.pop().toLowerCase(),r=ri[i]),r?Promise.resolve(r):((n=at([t],n)).method="HEAD",e.request(0,n).then(function(e){return(e=e.headers["content-type"])&&(e=e.toLowerCase()),(r=ii[e])?r:Promise.reject(new R(2,4,4e3,t))},function(t){return t.severity=2,Promise.reject(t)}))}function ai(t,e){this.f=t,this.l=e,this.c=this.b=1/0,this.a=1,this.j=this.h=0,this.i=!0,this.g=0}function si(){this.a=this.b=null,this.g=[],this.c=null,this.i=[],this.h=1,this.j={},this.l=0,this.m=new T(5),this.f=null}function li(t){var e=Date.now();return t.a.networkingEngine.request(0,at(t.g,t.b.retryParameters),function(){return!this.a}.bind(t)).then(function(e){if(t.a)return function(t,e,n){if(!(e=Cn(e,"MPD")))throw new R(2,4,4001,n);return On(e,t.b.retryParameters,t.b.dash.xlinkFailGracefully,n,t.a.networkingEngine).then(function(t){return function(t,e,n){n=[n];var i=cn(e,"Location").map(hn).filter(tt);0<i.length&&(n=t.g=i),i=cn(e,"BaseURL").map(hn),n=gt(n,i);var r=pn(e,"minBufferTime",yn);t.l=pn(e,"minimumUpdatePeriod",yn,-1);var o=pn(e,"availabilityStartTime",fn);i=pn(e,"timeShiftBufferDepth",yn);var a=pn(e,"suggestedPresentationDelay",yn),s=pn(e,"maxSegmentDuration",yn),l=e.getAttribute("type")||"static";if(t.c)var u=t.c.presentationTimeline;else{var c=Math.max(t.b.dash.defaultPresentationDelay,1.5*r);u=new ai(o,null!=a?a:c)}o=function(t,e,n,i){var r=pn(i,"mediaPresentationDuration",yn),o=[],a=0;i=cn(i,"Period");for(var s=0;s<i.length;s++){var l=i[s];a=pn(l,"start",yn,a);var u=pn(l,"duration",yn),c=null;if(s!=i.length-1){var d=pn(i[s+1],"start",yn);null!=d&&(c=d-a)}else null!=r&&(c=r-a);if(null==c&&(c=u),l=ui(t,e,n,{start:a,duration:c,node:l,index:s,Qb:null==c||s==i.length-1}),o.push(l),u=e.aa.id,-1==t.i.indexOf(u)&&(t.i.push(u),t.c&&(t.a.filterNewPeriod(l),t.c.periods.push(l))),null==c){a=null;break}a+=c}return null==t.c&&t.a.filterAllPeriods(o),null!=r?{periods:o,duration:r,oc:!1}:{periods:o,duration:a,oc:!0}}(t,{Ka:"static"!=l,presentationTimeline:u,aa:null,N:null,U:null,v:null,bandwidth:0,xc:!1},n,e),a=o.duration;var d=o.periods;return u.Cb("static"==l),"static"!=l&&o.oc||u.ka(a||1/0),u.fc(null!=i?i:1/0),u.zb(s||1),t.c?Promise.resolve():(e=cn(e,"UTCTiming"),i=u.R(),function(t,e,n,i){n=n.map(function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}});var r=t.b.dash.clockSyncUri;return i&&!n.length&&r&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),function(t,e){return t.reduce(function(t,e,n){return e.catch(t.bind(null,n))}.bind(null,e),Promise.reject())}(n,function(t){var n=t.value;switch(t.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return fi(this,e,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return fi(this,e,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return t=Date.parse(n),isNaN(t)?0:t-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:return Promise.reject()}}.bind(t)).catch(function(){return 0})}(t,n,e,i).then(function(t){this.a&&(u.Vc(t),this.c={presentationTimeline:u,periods:d,offlineSessionIds:[],minBufferTime:r||0})}.bind(t)))}(this,t,n)}.bind(t))}(t,e.data,e.uri)}).then(function(){var n=(Date.now()-e)/1e3;return k(t.m,1,n),n})}function ui(t,e,n,i){e.aa=pi(i.node,null,n),e.N=i,e.aa.id||(e.aa.id="__shaka_period_"+i.start),cn(i.node,"EventStream").forEach(t.je.bind(t,i.start,i.duration));var r=(n=cn(i.node,"AdaptationSet").map(t.he.bind(t,e)).filter(tt)).map(function(t){return t.ue}).reduce(Q,[]),o=r.filter(et);if(e.Ka&&r.length!=o.length)throw new R(2,4,4018);var a=n.filter(function(t){return!t.jc});if(n.filter(function(t){return t.jc}).forEach(function(t){var e=t.streams[0],n=t.jc;a.forEach(function(t){t.id==n&&t.streams.forEach(function(t){t.trickModeVideo=e})})}),r=ci(a,"video"),o=ci(a,"audio"),!r.length&&!o.length)throw new R(2,4,4004);for(o.length||(o=[null]),r.length||(r=[null]),e=[],n=0;n<o.length;n++)for(var s=0;s<r.length;s++)di(t,o[n],r[s],e);for(t=ci(a,"text"),r=[],n=0;n<t.length;n++)r.push.apply(r,t[n].streams);return{startTime:i.start,textStreams:r,variants:e}}function ci(t,e){return t.filter(function(t){return t.contentType==e})}function di(t,e,n,i){if(e||n)if(e&&n){var r=e.drmInfos,o=n.drmInfos;if(!r.length||!o.length||0<zt(r,o).length){var a=zt(e.drmInfos,n.drmInfos);for(r=0;r<e.streams.length;r++)for(var s=0;s<n.streams.length;s++)o=(n.streams[s].bandwidth||0)+(e.streams[r].bandwidth||0),o={id:t.h++,language:e.language,primary:e.Sb||n.Sb,audio:e.streams[r],video:n.streams[s],bandwidth:o,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},i.push(o)}}else for(a=e||n,r=0;r<a.streams.length;r++)o=a.streams[r].bandwidth||0,o={id:t.h++,language:a.language||"und",primary:a.Sb,audio:e?a.streams[r]:null,video:n?a.streams[r]:null,bandwidth:o,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},i.push(o)}function hi(e,n){0>e.l||(e.f=t.setTimeout(e.Pe.bind(e),1e3*Math.max(3,e.l-n,S(e.m))))}function pi(t,e,n){e=e||{contentType:"",mimeType:"",codecs:"",containsEmsgBoxes:!1,frameRate:void 0,Wb:null},n=n||e.da;var i=cn(t,"BaseURL").map(hn),r=t.getAttribute("contentType")||e.contentType,o=t.getAttribute("mimeType")||e.mimeType,a=t.getAttribute("codecs")||e.codecs,s=pn(t,"frameRate",_n)||e.frameRate,l=!!cn(t,"InbandEventStream").length,u=cn(t,"AudioChannelConfiguration");return u=function(t){for(var e=0;e<t.length;++e){var n=t[e],i=n.getAttribute("schemeIdUri");if(i&&(n=n.getAttribute("value")))switch(i){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(i=parseInt(n,10)))continue;return i;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(i=parseInt(n,16)){for(t=0;i;)1&i&&++t,i>>=1;return t}}}return null}(u)||e.Wb,r||(r=yi(o,a)),{da:gt(n,i),ib:un(t,"SegmentBase")||e.ib,ua:un(t,"SegmentList")||e.ua,kb:un(t,"SegmentTemplate")||e.kb,width:pn(t,"width",bn)||e.width,height:pn(t,"height",bn)||e.height,contentType:r,mimeType:o,codecs:a,frameRate:s,containsEmsgBoxes:l||e.containsEmsgBoxes,id:t.getAttribute("id"),Wb:u}}function fi(t,e,n,i){return(e=at(e=gt(e,[n]),t.b.retryParameters)).method=i,t.a.networkingEngine.request(0,e).then(function(t){if("HEAD"==i){if(!t.headers||!t.headers.date)return 0;t=t.headers.date}else t=kt(t.data);return t=Date.parse(t),isNaN(t)?0:t-Date.now()})}function yi(t,e){return Jt[wt(t,e)]?"text":t.split("/")[0]}function vi(t,e,n,i){this.uri=t,this.type=e,this.a=n,this.segments=i||null}function gi(t,e,n,i){this.id=t,this.name=e,this.a=n,this.value=i||null}function mi(t,e){this.name=t,this.value=e}function bi(t,e,n){return n=n||null,(t=t.getAttribute(e))?t.value:n}function _i(t,e){return t.filter(function(t){return t.name==e})}function Ai(t,e){var n=_i(t,e);return n.length?n[0]:null}function Ei(t,e,n){return t.filter(function(t){var i=t.getAttribute("TYPE");return t=t.getAttribute("GROUP-ID"),i.value==e&&t.value==n})}function wi(t,e){return gt([t],[e])[0]}function Ti(t){this.b=t,this.a=0}function ki(t,e){e.lastIndex=t.a;var n=e.exec(t.b);return n=null==n?null:{position:n.index,length:n[0].length,xe:n},t.a==t.b.length||null==n||n.position!=t.a?null:(t.a+=n.length,n.xe)}function Si(t){return t.a==t.b.length?null:(t=ki(t,/[^ \t\n]*/gm))?t[0]:null}function Ci(t,e,n){var i=(e=(e=kt(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(i[0]))throw new R(2,4,4015);e=0;for(var r=1;r<i.length;r++)if(!/^#(?!EXT)/m.test(i[r])){var o=Pi(t,i[r]);if(--t.a,0<=Ri.indexOf(o.name)){e=1;break}"EXT-X-STREAM-INF"==o.name&&(r+=1)}for(r=[],o=1;o<i.length;)if(/^#(?!EXT)/m.test(i[o]))o+=1;else{var a=Pi(t,i[o]);if(0<=Ii.indexOf(a.name)){if(1!=e)throw new R(2,4,4017);return new vi(n,e,r,t=Oi(t,i=i.splice(o,i.length-o),r))}r.push(a),o+=1,"EXT-X-STREAM-INF"==a.name&&(a.a.push(new mi("URI",i[o])),o+=1)}return new vi(n,e,r)}function Oi(t,e,n){var i=[],r=[];return e.forEach(function(e){if(/^(#EXT)/.test(e))e=Pi(t,e),0<=Ri.indexOf(e.name)?n.push(e):r.push(e);else{if(/^#(?!EXT)/m.test(e))return[];i.push(new function(t,e){this.a=e,this.uri=t}(e.trim(),r)),r=[]}}),i}function Pi(t,e){t:{var n=t.a++,i=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!i)throw new R(2,4,4016,e);var r=i[1],o=i[2];if(i=[],o&&0<=o.indexOf("=")){o=new Ti(o);for(var a,s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=ki(o,s);)i.push(new mi(a[1],a[2]||a[3]))}else if(o){n=new gi(n,r,i,o);break t}n=new gi(n,r,i)}return n}E("shaka.media.ManifestParser.registerParserByExtension",function(t,e){ri[t]=e}),E("shaka.media.ManifestParser.registerParserByMime",function(t,e){ii[t]=e}),E("shaka.media.PresentationTimeline",ai),ai.prototype.T=function(){return this.b},ai.prototype.getDuration=ai.prototype.T,ai.prototype.ka=function(t){this.b=t},ai.prototype.setDuration=ai.prototype.ka,ai.prototype.vd=function(){return this.f},ai.prototype.getPresentationStartTime=ai.prototype.vd,ai.prototype.Vc=function(t){this.j=t},ai.prototype.setClockOffset=ai.prototype.Vc,ai.prototype.Cb=function(t){this.i=t},ai.prototype.setStatic=ai.prototype.Cb,ai.prototype.fc=function(t){this.c=t},ai.prototype.setSegmentAvailabilityDuration=ai.prototype.fc,ai.prototype.Wc=function(t){this.l=t},ai.prototype.setDelay=ai.prototype.Wc,ai.prototype.fb=function(t,e){0!=t.length&&(e&&(this.h=Math.max(this.h,t[0].startTime)),this.a=t.reduce(function(t,e){return Math.max(t,e.endTime-e.startTime)},this.a))},ai.prototype.notifySegments=ai.prototype.fb,ai.prototype.zb=function(t){this.a=Math.max(this.a,t)},ai.prototype.notifyMaxSegmentDuration=ai.prototype.zb,ai.prototype.R=function(){return 1/0==this.b&&!this.i},ai.prototype.isLive=ai.prototype.R,ai.prototype.Ca=function(){return 1/0!=this.b&&!this.i},ai.prototype.isInProgress=ai.prototype.Ca,ai.prototype.bb=function(){if(1/0==this.c)return this.g;var t=this.Ma()-this.c;return Math.max(this.g,t)},ai.prototype.getSegmentAvailabilityStart=ai.prototype.bb,ai.prototype.Uc=function(t){this.g=t},ai.prototype.setAvailabilityStart=ai.prototype.Uc,ai.prototype.Ma=function(){return this.R()||this.Ca()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.f),this.b):this.b},ai.prototype.getSegmentAvailabilityEnd=ai.prototype.Ma,ai.prototype.ab=function(t){var e=Math.max(this.h,this.g);if(1/0==this.c)return e;var n=this.Ma()-this.c;return t=Math.min(n+t,this.ra()),Math.max(e,t)},ai.prototype.getSafeSeekRangeStart=ai.prototype.ab,ai.prototype.La=function(){return this.ab(0)},ai.prototype.getSeekRangeStart=ai.prototype.La,ai.prototype.ra=function(){var t=this.R()||this.Ca()?this.l:0;return Math.max(0,this.Ma()-t)},ai.prototype.getSeekRangeEnd=ai.prototype.ra,E("shaka.dash.DashParser",si),(e=si.prototype).configure=function(t){this.b=t},e.start=function(t,e){return this.g=[t],this.a=e,li(this).then(function(t){return this.a&&hi(this,t),this.c}.bind(this))},e.stop=function(){return this.b=this.a=null,this.g=[],this.c=null,this.i=[],this.j={},null!=this.f&&(t.clearTimeout(this.f),this.f=null),Promise.resolve()},e.update=function(){li(this).catch(function(t){this.a&&this.a.onError(t)}.bind(this))},e.onExpirationUpdated=function(){},e.he=function(t,e){t.U=pi(e,t.aa,null);var n=!1,i=cn(e,"Role"),r=i.map(function(t){return t.getAttribute("value")}).filter(tt),o=void 0;"text"==t.U.contentType&&(o="subtitle");for(var a=0;a<i.length;a++){var s=i[a].getAttribute("schemeIdUri");if(null==s||"urn:mpeg:dash:role:2011"==s)switch(s=i[a].getAttribute("value"),s){case"main":n=!0;break;case"caption":case"subtitle":o=s}}var l=null,u=!1;if(cn(e,"EssentialProperty").forEach(function(t){"http://dashif.org/guidelines/trickmode"==t.getAttribute("schemeIdUri")?l=t.getAttribute("value"):u=!0}),u)return null;var c=En(i=cn(e,"ContentProtection"),this.b.dash.customScheme,this.b.dash.ignoreDrmInfo);if(i=he(e.getAttribute("lang")||"und"),s=e.getAttribute("label"),0==(r=(a=cn(e,"Representation")).map(this.ke.bind(this,t,c,o,i,s,n,r)).filter(function(t){return!!t})).length)throw new R(2,4,4003);return t.U.contentType&&"application"!=t.U.contentType||(t.U.contentType=yi(r[0].mimeType,r[0].codecs),r.forEach(function(e){e.type=t.U.contentType})),r.forEach(function(t){c.drmInfos.forEach(function(e){t.keyId&&e.keyIds.push(t.keyId)})}),o=a.map(function(t){return t.getAttribute("id")}).filter(tt),{id:t.U.id||"__fake__"+this.h++,contentType:t.U.contentType,language:i,Sb:n,streams:r,drmInfos:c.drmInfos,jc:l,ue:o}},e.ke=function(t,e,n,i,r,o,a,s){if(t.v=pi(s,t.U,null),!function(t){var e=t.ib?1:0;return e+=t.ua?1:0,0==(e+=t.kb?1:0)?"text"==t.contentType||"application"==t.contentType:(1!=e&&(t.ib&&(t.ua=null),t.kb=null),!0)}(t.v))return null;t.bandwidth=pn(s,"bandwidth",mn)||0;var l=this.ve.bind(this);if(t.v.ib)l=function(t,e){var n=Number(kn(t,Qn,"presentationTimeOffset"))||0,i=kn(t,Qn,"timescale"),r=1;i&&(r=mn(i)||1),n=n/r||0,i=Xn(t,Qn);var o=t.v.contentType;if(r=t.v.mimeType.split("/")[1],"text"!=o&&"mp4"!=r&&"webm"!=r)throw new R(2,4,4006);if("webm"==r&&!i)throw new R(2,4,4005);o=Sn(t,Qn,"RepresentationIndex");var a=kn(t,Qn,"indexRange"),s=t.v.da;if(a=vn(a||""),o){var l=o.getAttribute("sourceURL");l&&(s=gt(t.v.da,[l])),a=pn(o,"range",vn,a)}if(!a)throw new R(2,4,4002);return{createSegmentIndex:(r=Zn(t,e,i,s,a.start,a.end,r,n)).createSegmentIndex,findSegmentPosition:r.findSegmentPosition,getSegmentReference:r.getSegmentReference,initSegmentReference:i,ca:n}}(t,l);else if(t.v.ua)l=Jn(t,this.j);else if(t.v.kb)l=ei(t,l,this.j,!!this.c);else{var u=t.v.da,c=t.N.duration||0;l={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0<=t&&t<c?1:null},getSegmentReference:function(t){return 1!=t?null:new Rn(1,0,c,function(){return u},0,null)},initSegmentReference:null,ca:0}}return s=function(t,e,n,i){var r=En(t,e,i);if(n.sc)t=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,e=0==r.drmInfos.length,(0==n.drmInfos.length||t&&!e)&&(n.drmInfos=r.drmInfos),n.sc=!1;else if(0<r.drmInfos.length&&(n.drmInfos=n.drmInfos.filter(function(t){return r.drmInfos.some(function(e){return e.keySystem==t.keySystem})}),0==n.drmInfos.length))throw new R(2,4,4008);return r.nc||n.nc}(s=cn(s,"ContentProtection"),this.b.dash.customScheme,e,this.b.dash.ignoreDrmInfo),{id:this.h++,createSegmentIndex:l.createSegmentIndex,findSegmentPosition:l.findSegmentPosition,getSegmentReference:l.getSegmentReference,initSegmentReference:l.initSegmentReference,presentationTimeOffset:l.ca,mimeType:t.v.mimeType,codecs:t.v.codecs,frameRate:t.v.frameRate,bandwidth:t.bandwidth,width:t.v.width,height:t.v.height,kind:n,encrypted:0<e.drmInfos.length,keyId:s,language:i,label:r,type:t.U.contentType,primary:o,trickModeVideo:null,containsEmsgBoxes:t.v.containsEmsgBoxes,roles:a,channelsCount:t.v.Wb}},e.Pe=function(){this.f=null,li(this).then(function(t){this.a&&hi(this,t)}.bind(this)).catch(function(t){this.a&&(t.severity=1,this.a.onError(t),hi(this,0))}.bind(this))},e.je=function(t,e,n){var i=n.getAttribute("schemeIdUri")||"",r=n.getAttribute("value")||"",o=pn(n,"timescale",bn)||1;cn(n,"Event").forEach(function(n){var a=pn(n,"presentationTime",bn)||0,s=pn(n,"duration",bn)||0;s=(a=a/o+t)+s/o,null!=e&&(a=Math.min(a,t+e),s=Math.min(s,t+e)),n={schemeIdUri:i,value:r,startTime:a,endTime:s,id:n.getAttribute("id")||"",eventElement:n},this.a.onTimelineRegionAdded(n)}.bind(this))},e.ve=function(t,e,n){return t=at(t,this.b.retryParameters),null!=e&&(t.headers.Range="bytes="+e+"-"+(null!=n?n:"")),this.a.networkingEngine.request(1,t).then(function(t){return t.data})},ri.mpd=si,ii["application/dash+xml"]=si,gi.prototype.toString=function(){return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(function(t){return t.name+'="'+t.value+'"'}).join(","):"#"+this.name},gi.prototype.getAttribute=function(t){var e=this.a.filter(function(e){return e.name==t});return e.length?e[0]:null};var Ri="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Ii="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function xi(t){return new Promise(function(e){var n=xi.parse(t);e({uri:t,data:n.data,headers:{"content-type":n.contentType}})})}function Li(){this.h=this.c=null,this.J=1,this.u={},this.A={},this.M={},this.a={},this.b=null,this.l="",this.s=new function(){this.a=0},this.j=this.i=null,this.f=Qi,this.m=null,this.g=0,this.w=1/0}function Di(t,e,n){$i(t,n).then(function(t){var i=Ji,r=Ci(this.s,t.data,n);if(1!=r.type)throw new R(2,4,4017);t=Ai(r.a,"EXT-X-MEDIA-SEQUENCE");var o=e.stream;Vi(this,r,t?Number(t.value):0,o.mimeType,o.codecs).then(function(t){e.jb.a=t,t=t[t.length-1],Ai(r.a,"EXT-X-ENDLIST")&&(Xi(this,i.qa),this.b.ka(t.endTime))}.bind(this))}.bind(t))}function Mi(t){t.forEach(function(t){var e=t.stream.codecs.split(",");e=e.filter(function(t){return"mp4a.40.34"!=t}),t.stream.codecs=e.join(",")})}function Ni(t,e,n,i,r){return{id:t.J++,language:e?e.language:"und",primary:!!e&&e.primary||!!n&&n.primary,audio:e,video:n,bandwidth:i,drmInfos:r,allowedByApplication:!0,allowedByKeySystem:!0}}function Bi(t,e,n){var i=zi(e,"URI");if(i=wi(t.l,i),t.a[i])return Promise.resolve(t.a[i]);var r=zi(e,"TYPE").toLowerCase();"subtitles"==r&&(r="text");var o=he(bi(e,"LANGUAGE","und")),a=bi(e,"NAME"),s=e.getAttribute("DEFAULT"),l=e.getAttribute("AUTOSELECT"),u=bi(e,"CHANNELS");return Ui(t,i,n,r,o,!!s||!!l,a,"audio"==r?function(t){return t?(t=t.split("/")[0],parseInt(t,10)):null}(u):null).then(function(t){return this.a[i]?this.a[i]:(this.u[e.id]=t,this.a[i]=t)}.bind(t))}function Ui(t,e,n,i,r,o,a,s){var l,u,c=e,d="";return $i(t,e=wi(t.l,e)).then(function(t){if(1!=(l=Ci(this.s,t.data,e)).type)throw new R(2,4,4017);var r=Ji,o=Ai((t=l).a,"EXT-X-PLAYLIST-TYPE"),a=Ai(t.a,"EXT-X-ENDLIST");if(a=o&&"VOD"==o.value||a,o=o&&"EVENT"==o.value&&!a,o=!a&&!o,a?Xi(this,r.qa):(Xi(this,o?r.lc:r.ad),t=Yi(t.a,"EXT-X-TARGETDURATION"),t=Number(t.value),this.g=Math.max(t,this.g),this.w=Math.min(t,this.w)),1==n.length)d=n[0];else{if(null==(t=Gi(i,n)))throw new R(2,4,4025,n);d=t}return function(t,e,n,i){var r=new x(i=wi(i.uri,i.segments[0].uri)).$.split(".").pop(),o=Wi[e][r];return o?Promise.resolve(o):"text"==e?n&&"vtt"!=n?Promise.resolve("application/mp4"):Promise.resolve("text/vtt"):((e=at([i],t.h.retryParameters)).method="HEAD",t.c.networkingEngine.request(1,e).then(function(t){if(!(t=t.headers["content-type"]))throw new R(2,4,4021,r);return t.split(";")[0]}))}(this,i,d,l)}.bind(t)).then(function(t){return u=t,t=Ai(l.a,"EXT-X-MEDIA-SEQUENCE"),Vi(this,l,t?Number(t.value):0,u,d)}.bind(t)).then(function(t){var e=t[0].startTime,n=t[t.length-1].endTime,h=n-e;t=new Hn(t);var p=Fi(l),f=void 0;"text"==i&&(f="subtitle");var y=[];l.segments.forEach(function(t){t=_i(t.a,"EXT-X-KEY"),y.push.apply(y,t)});var v=!1,g=[],m=null;if(y.forEach(function(t){if("NONE"!=zi(t,"METHOD")){v=!0;var e=zi(t,"KEYFORMAT");(t=(e=Zi[e])?e(t):null)&&(t.keyIds.length&&(m=t.keyIds[0]),g.push(t))}}),v&&!g.length)throw new R(2,4,4026);return p={id:this.J++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t),initSegmentReference:p,presentationTimeOffset:0,mimeType:u,codecs:d,kind:f,encrypted:v,keyId:m,language:r,label:a||null,type:i,primary:o,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s},this.M[p.id]=t,{stream:p,jb:t,drmInfos:g,cc:c,Vb:e,Fd:n,duration:h}}.bind(t))}function Fi(t){var e=_i(t.a,"EXT-X-MAP");if(!e.length)return null;if(1<e.length)throw new R(2,4,4020);var n=zi(e=e[0],"URI"),i=wi(t.uri,n);return t=0,n=null,(e=bi(e,"BYTERANGE"))&&(t=e.split("@"),e=Number(t[0]),n=(t=Number(t[1]))+e-1),new Pn(function(){return[i]},t,n)}function ji(t,e,n,i,r){var o=n.a,a=wi(t.uri,n.uri);t=Yi(o,"EXTINF").value.split(","),t=r+Number(t[0]),n=0;var s=null;return(o=Ai(o,"EXT-X-BYTERANGE"))&&(n=o.value.split("@"),o=Number(n[0]),s=(n=n[1]?Number(n[1]):e.a+1)+o-1),new Rn(i,r,t,function(){return[a]},n,s)}function Vi(t,e,n,i,r){var o=e.segments,a=[],s=wi(e.uri,o[0].uri),l=ji(e,null,o[0],n,0),u=Fi(e);return function(t,e,n,i,r,o){if(t.m&&(e=t.a[e].jb.get(i.position)))return Promise.resolve(e.startTime);i=[Hi(t,i)],("video/mp4"==r||"audio/mp4"==r)&&(n?i.push(Hi(t,n)):i.push(i[0]));return Promise.all(i).then(function(t){if("video/mp4"==r||"audio/mp4"==r)return function(t,e){var n=0;if((new Mn).C("moov",Nn).C("trak",Nn).C("mdia",Nn).X("mdhd",function(t){t.o.F(0==t.version?8:16),n=t.o.B(),t.sa.stop()}).parse(e,!0),!n)throw new R(2,4,4030);var i=0,r=!1;if((new Mn).C("moof",Nn).C("traf",Nn).X("tfdt",function(t){i=(0==t.version?t.o.B():t.o.Ta())/n,r=!0,t.sa.stop()}).parse(t,!0),!r)throw new R(2,4,4030);return i}(t[0].data,t[1].data);if("audio/mpeg"==r)return 0;if("video/mp2t"==r)return function(t){function e(){throw new R(2,4,4030)}t=new In(new DataView(t),0);for(var n=0,i=0;;){if(n=t.V(),71!=(i=t.ba())&&e(),16384&t.hb()||e(),0!=(i=(48&t.ba())>>4)&&2!=i||e(),3==i&&(i=t.ba(),t.F(i)),1==t.B()>>8)return t.F(3),0!=(n=t.ba()>>6)&&1!=n||e(),0==t.ba()&&e(),n=t.ba(),i=t.hb(),t=t.hb(),(1073741824*((14&n)>>1)+((65534&i)<<14|(65534&t)>>1))/9e4;t.seek(n+188),71!=(i=t.ba())&&(t.seek(n+192),i=t.ba()),71!=i&&(t.seek(n+204),i=t.ba()),71!=i&&e(),t.Rc(1)}}(t[0].data);if("application/mp4"==r||0==r.indexOf("text/")){t=t[0].data;var e=wt(r,o);if(Jt[e]){var n=new Qt(null);n.c=new Jt[e],t=n.Pb(t)}else t=0;return t}throw new R(2,4,4030)}.bind(t))}(t,e.uri,u,l,i,r).then(function(t){s.split("/").pop();for(var i=0;i<o.length;++i){var r=a[a.length-1];r=ji(e,r,o[i],n+i,0==i?t:r.endTime),a.push(r)}return a}.bind(t))}function Hi(t,e){var n=t.c.networkingEngine,i=at(e.c(),t.h.retryParameters),r={},o=e.b;r.Range="bytes="+o+"-"+(o+2048-1);var a={};return 0==o&&null==e.a||(o="bytes="+o+"-",null!=e.a&&(o+=e.a),a.Range=o),i.headers=r,n.request(1,i).catch(function(){return O("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),i.headers=a,n.request(1,i)})}function Gi(t,e){for(var n=Ki[t],i=0;i<n.length;i++)for(var r=0;r<e.length;r++)if(n[i].test(e[r].trim()))return e[r].trim();return"text"==t?"":null}function zi(t,e){var n=t.getAttribute(e);if(!n)throw new R(2,4,4023,e);return n.value}function Yi(t,e){var n=Ai(t,e);if(!n)throw new R(2,4,4024,e);return n}function $i(t,e){return t.c.networkingEngine.request(0,at([e],t.h.retryParameters),function(){return!this.c}.bind(t))}E("shaka.net.DataUriPlugin",xi),xi.parse=function(e){var n=e.split(":");if(2>n.length||"data"!=n[0])throw new R(2,1,1004,e);if(2>(n=n.slice(1).join(":").split(",")).length)throw new R(2,1,1004,e);var i=n[0];n=t.decodeURIComponent(n.slice(1).join(","));var r=null;if(1<(i=i.split(";")).length&&(r=i[1]),"base64"==r)e=Lt(n).buffer;else{if(r)throw new R(2,1,1005,e);e=Ot(n)}return{data:e,contentType:i[0]}},ot("data",xi),E("shaka.hls.HlsParser",Li),(e=Li.prototype).configure=function(t){this.h=t},e.start=function(t,e){return this.c=e,this.l=t,$i(this,t).then(function(e){return function(t,e,n){if(0!=(e=Ci(t.s,e,n)).type)throw new R(2,4,4022);return function(t,e){var n=e.a,i=_i(e.a,"EXT-X-MEDIA").filter(function(t){return"SUBTITLES"==zi(t,"TYPE")}.bind(t)).map(function(t){return function(t,e){return zi(e,"TYPE"),Bi(t,e,[]).then(function(t){return t.stream})}(this,t)}.bind(t));return Promise.all(i).then(function(t){var i=_i(n,"EXT-X-STREAM-INF").map(function(t){return function(t,e,n){var i=bi(e,"CODECS","avc1.42E01E,mp4a.40.2").split(","),r=e.getAttribute("RESOLUTION"),o=null,a=null,s=bi(e,"FRAME-RATE"),l=Number(zi(e,"BANDWIDTH"));if(r){var u=r.value.split("x");o=u[0],a=u[1]}n=_i(n.a,"EXT-X-MEDIA");var c=bi(e,"AUDIO"),d=bi(e,"VIDEO");if(c?n=Ei(n,"AUDIO",c):d&&(n=Ei(n,"VIDEO",d)),u=Gi("text",i)){var h=bi(e,"SUBTITLES");h&&((h=Ei(n,"SUBTITLES",h)).length&&(t.u[h[0].id].stream.codecs=u)),i.splice(i.indexOf(u),1)}n=n.map(function(t){return Bi(this,t,i)}.bind(t));var p=[],f=[];return Promise.all(n).then(function(t){if(c?p=t:d&&(f=t),t=!1,p.length||f.length)if(p.length)if(zi(e,"URI")==p[0].cc){var n="audio";t=!0}else n="video";else n="audio";else 1==i.length?(n=Gi("video",i),n=r||s||n?"video":"audio"):(n="video",i=[i.join(",")]);return t?Promise.resolve():function(t,e,n,i){var r=zi(e,"URI");return r=wi(t.l,r),t.a[r]?Promise.resolve(t.a[r]):Ui(t,r,n,i,"und",!1,null,null).then(function(t){return this.a[r]?this.a[r]:this.a[r]=t}.bind(t))}(this,e,i,n)}.bind(t)).then(function(t){return t&&("audio"==t.stream.type?p=[t]:f=[t]),f&&Mi(f),p&&Mi(p),function(t,e,n,i,r,o,a){n.forEach(function(t){(t=t.stream)&&(t.width=Number(r)||void 0,t.height=Number(o)||void 0,t.frameRate=Number(a)||void 0)}.bind(t)),e.length||(e=[null]),n.length||(n=[null]);for(var s=[],l=0;l<e.length;l++)for(var u=0;u<n.length;u++){var c=e[l]?e[l].stream:null,d=n[u]?n[u].stream:null,h=e[l]?e[l].drmInfos:null,p=n[u]?n[u].drmInfos:null;if(c&&d){if(h.length&&p.length&&!(0<zt(h,p).length))continue;var f=zt(h,p)}else c?f=h:d&&(f=p);h=(n[l]?n[l].cc:"")+" - "+(e[l]?e[l].cc:""),t.A[h]||(c=Ni(t,c,d,i,f),s.push(c),t.A[h]=c)}return s}(this,p,f,l,o,a,s)}.bind(t))}(this,t,e)}.bind(this));return Promise.all(i).then(function(e){return{startTime:0,variants:e.reduce(Q,[]),textStreams:t}}.bind(this))}.bind(t))}(t,e).then(function(t){this.c.filterAllPeriods([t]);var e,n=1/0,i=0,r=0,o=1/0;for(e in this.a){var a=this.a[e];n=Math.min(n,a.Vb),i=Math.max(i,a.Vb),r=Math.max(r,a.Fd),"text"!=a.stream.type&&(o=Math.min(o,a.duration))}a=null;var s=0;if(this.f!=Ji.qa&&(a=Date.now()/1e3-r,s=3*this.g),this.b=new ai(a,s),this.b.Cb(this.f==Ji.qa),this.b.zb(this.g),this.f!=Ji.qa){for(n=3*this.g,this.b.Wc(n),this.i=this.w,this.f==Ji.lc&&this.b.fc(n),n=0;95443.7176888889<=i;)n+=95443.7176888889,i-=95443.7176888889;if(n)for(e in this.a)95443.7176888889>(a=this.a[e]).Vb&&(a.stream.presentationTimeOffset=-n,a.jb.offset(n))}else for(e in this.b.ka(o),this.a)(a=this.a[e]).stream.presentationTimeOffset=n,a.jb.offset(-n),Gn(a.jb,o);this.m={presentationTimeline:this.b,periods:[t],offlineSessionIds:[],minBufferTime:0}}.bind(t))}(this,e.data,t).then(function(){return qi(this,this.i),this.m}.bind(this))}.bind(this))},e.stop=function(){return this.h=this.c=null,this.u={},this.A={},this.m=null,Promise.resolve()},e.update=function(){if(this.f!=Ji.qa){var t,e=[];for(t in this.a)e.push(Di(this,this.a[t],t));return Promise.all(e)}},e.onExpirationUpdated=function(){};var Ki={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Wi={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function qi(e,n){null!=e.i&&null!=n&&(e.j=t.setTimeout(e.L.bind(e),1e3*n))}function Xi(e,n){e.f=n,e.b&&e.b.Cb(e.f==Ji.qa),e.f==Ji.qa&&null!=e.j&&(t.clearTimeout(e.j),e.j=null,e.i=null)}Li.prototype.L=function(){this.c&&(this.j=null,this.update().then(function(){qi(this,this.i)}.bind(this)).catch(function(t){this.c&&(t.severity=1,this.c.onError(t),qi(this,0))}.bind(this)))};var Zi={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){var e=zi(t,"METHOD");return"SAMPLE-AES-CENC"!=e&&"SAMPLE-AES-CTR"!=e?null:(e=zi(t,"URI"),e=xi.parse(e),e=mt("com.widevine.alpha",[{initDataType:"cenc",initData:e=new Uint8Array(e.data)}]),(t=bi(t,"KEYID"))&&(e.keyIds=[t.substr(2).toLowerCase()]),e)}},Qi="VOD",Ji={qa:Qi,ad:"EVENT",lc:"LIVE"};function tr(t,e,n,i){this.a=t,this.u=e,this.s=n,this.w=i,this.h=new dt,this.b=null,this.g=!1,this.m=t.readyState,this.c=!1,this.j=this.A=-1,this.f=this.i=!1,e=this.l.bind(this),ht(this.h,t,"waiting",e),this.b=new Rt(e),It(this.b,.25)}function er(t,e,n){this.a=t,this.i=e,this.h=n,this.c=new dt,this.f=1,this.g=!1,this.b=null,0<t.readyState?this.Gc():pt(this.c,t,"loadedmetadata",this.Gc.bind(this)),ht(this.c,t,"ratechange",this.Wd.bind(this))}function nr(t){return 0<t.a.readyState?t.a.currentTime:t.h}function ir(t,e){0<t.a.readyState?function(t,e,n){t.a.currentTime=n;var i=0,r=function(){!this.a||10<=i++||this.a.currentTime!=e||(this.a.currentTime=n,setTimeout(r,100))}.bind(t);setTimeout(r,100)}(t,t.a.currentTime,e):(t.h=e,setTimeout(t.i,0))}function rr(t,e){null!=t.b&&(t.b.cancel(),t.b=null),t.f=e,t.a.playbackRate=t.g||0>e?0:e,!t.g&&0>e&&(t.b=new Rt(function(){this.a.currentTime+=e/4}.bind(t)),It(t.b,.25))}function or(t,e,n,i,r,o){this.c=t,this.b=e,this.h=n,this.i=r,this.f=null,this.g=new tr(t,e,n,o),e=this.Yd.bind(this),null==i&&(i=1/0>(i=this.b.presentationTimeline).T()?i.La():i.ra()),i=sr(this,ur(this,i)),this.a=new er(t,e,i),this.f=new Rt(this.Vd.bind(this)),It(this.f,.25)}function ar(t){var e=nr(t.a);return 0<t.c.readyState&&(t.c.paused||(e=ur(t,e))),e}function sr(t,e){var n=t.b.presentationTimeline.T();return e>=n?n-t.h.durationBackoff:e}function lr(t,e){var n=$t.bind(null,t.c.buffered),i=Math.max(t.b.minBufferTime||0,t.h.rebufferingGoal),r=t.b.presentationTimeline,o=r.La(),a=r.ra(),s=r.T();3>a-o&&(o=a-3);var l=r.ab(i),u=r.ab(5);return i=r.ab(i+5),e>=s?sr(t,e):e>a?a:e<o?n(u)?u:i:e>=l||n(e)?e:i}function ur(t,e){var n=t.b.presentationTimeline.La();return e<n?n:e>(n=t.b.presentationTimeline.ra())?n:e}function cr(t,e,n,i,r,o,a){this.a=t,this.w=e,this.g=n,this.u=i,this.l=r,this.h=o,this.A=a,this.c=[],this.j=new dt,this.b=!1,this.i=-1,this.f=null,hr(this)}function dr(t){var e=Z(t);return e.eventElement=t.eventElement,e}function hr(e){pr(e),e.f=t.setTimeout(e.J.bind(e),250)}function pr(e){e.f&&(t.clearTimeout(e.f),e.f=null)}function fr(t,e){this.a=e,this.b=t,this.h=null,this.i=1,this.m=Promise.resolve(),this.g=[],this.j={},this.c={},this.s=!1,this.A=null,this.w=this.f=this.l=!1,this.u=0}function yr(t){var e=ar(t.a.Ra);return t.b.periods[Ie(t.b,e)]}function vr(t){var e=t.c.video||t.c.audio;return e?t.b.periods[e.Da]:null}function gr(t){return br(t,"audio")}function mr(t){return br(t,"video")}function br(t,e){var n=t.c[e];return n?n.ta||n.stream:null}function _r(t,e,n){oe(t.a.K,"text"),t.u++,t.w=!1;var i=t.u;return t.a.K.init({text:e}),Or(t,[e]).then(function(){if(n&&this.u==i&&!this.c.text&&!this.w){var t=ar(this.a.Ra);this.c.text=Sr(e,Ie(this.b,t)),Dr(this,this.c.text,0)}}.bind(t))}function Ar(t,e){var n=t.c.video;if(n){var i=n.stream;if(i)if(e){var r=i.trickModeVideo;if(r){var o=n.ta;o||(wr(t,r,!1),n.ta=i)}}else(o=n.ta)&&(n.ta=null,wr(t,o,!0))}}function Er(t,e,n){e.video&&wr(t,e.video,n),e.audio&&wr(t,e.audio,n)}function wr(t,e,n){var i=t.c[e.type];if(!i&&"text"==e.type&&t.h.ignoreTextStreamFailures)_r(t,e,!0);else if(i){var r=xe(t.b,e);n&&r!=i.Da?Tr(t):(i.ta&&(e.trickModeVideo?(i.ta=e,e=e.trickModeVideo):i.ta=null),(r=t.g[r])&&r.Ua&&(r=t.j[e.id])&&r.Ua&&i.stream!=e&&("text"==e.type&&ee(t.a.K,wt(e.mimeType,e.codecs)),i.stream=e,i.yb=!0,n&&(i.Aa?i.Eb=!0:i.Ea?(i.wa=!0,i.Eb=!0):(Mr(i),Lr(t,i,!0)))))}}function Tr(t){for(var e in t.c){var n=t.c[e];n.Aa||n.wa||(n.Ea?n.wa=!0:null==ne(t.a.K,e)?null==n.va&&Dr(t,n,0):(Mr(n),Lr(t,n,!1)))}}function kr(t,e,n){var i=ar(t.a.Ra),r=Ie(t.b,i),o={};return i=[],e.variant&&e.variant.audio&&(o.audio=e.variant.audio,i.push(e.variant.audio)),e.variant&&e.variant.video&&(o.video=e.variant.video,i.push(e.variant.video)),e.text&&(o.text=e.text,i.push(e.text)),t.a.K.init(o),function(t){var e=t.b.presentationTimeline.T();1/0>e?t.a.K.ka(e):t.a.K.ka(Math.pow(2,32))}(t),Or(t,i).then(function(){if(!this.f)for(var t in o){var e=o[t];this.c[t]||(this.c[t]=Sr(e,r,n),Dr(this,this.c[t],0))}}.bind(t))}function Sr(t,e,n){return{stream:t,type:t.type,Na:null,ma:null,ta:null,yb:!0,Da:e,endOfStream:!1,Ea:!1,va:null,wa:!1,Eb:!1,Aa:!1,bc:!1,cb:!1,Pc:n||0}}function Cr(t,e){var n=t.g[e];if(n)return n.G;n={G:new $,Ua:!1},t.g[e]=n;var i=t.b.periods[e].variants.map(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),t.video&&t.video.trickModeVideo&&e.push(t.video.trickModeVideo),e}).reduce(Q,[]).filter(et);return i.push.apply(i,t.b.periods[e].textStreams),t.m=t.m.then(function(){if(!this.f)return Or(this,i)}.bind(t)).then(function(){this.f||(this.g[e].G.resolve(),this.g[e].Ua=!0)}.bind(t)).catch(function(t){this.f||(this.g[e].G.reject(),delete this.g[e],this.a.onError(t))}.bind(t)),n.G}function Or(t,e){e.map(function(t){return t.id}).filter(et);for(var n=[],i=0;i<e.length;++i){var r=e[i],o=t.j[r.id];o?n.push(o.G):(t.j[r.id]={G:new $,Ua:!1},n.push(r.createSegmentIndex()))}return Promise.all(n).then(function(){if(!this.f)for(var t=0;t<e.length;++t){var n=this.j[e[t].id];n.Ua||(n.G.resolve(),n.Ua=!0)}}.bind(t)).catch(function(t){if(!this.f){for(var n=0;n<e.length;n++)this.j[e[n].id].G.reject(),delete this.j[e[n].id];return Promise.reject(t)}}.bind(t))}function Pr(t,e,n){return e.Na&&e.ma?t.b.periods[xe(t.b,e.Na)].startTime+e.ma.endTime:Math.max(n,e.Pc)}function Rr(t,e,n,i){return n=t.b.periods[n],(e=e.stream.getSegmentReference(i))?(t=(i=t.b.presentationTimeline).bb(),i=i.Ma(),n.startTime+e.endTime<t||n.startTime+e.startTime>i?null:e):null}function Ir(t){return!t.Ea&&null==t.va&&!t.wa&&!t.Aa}function xr(t,e){var n=at(e.c(),t.h.retryParameters);if(0!=e.b||null!=e.a){var i="bytes="+e.b+"-";null!=e.a&&(i+=e.a),n.headers.Range=i}return t.a.Pa.request(1,n).then(function(t){return t.data})}function Lr(t,e,n){e.wa=!1,e.Eb=!1,e.Aa=!0,oe(t.a.K,e.type).then(function(){if(!this.f&&n)return this.a.K.flush(e.type)}.bind(t)).then(function(){this.f||(e.Na=null,e.ma=null,e.Aa=!1,e.endOfStream=!1,Dr(this,e,0))}.bind(t))}function Dr(e,n,i){n.va=t.setTimeout(e.Re.bind(e,n),1e3*i)}function Mr(e){null!=e.va&&(t.clearTimeout(e.va),e.va=null)}function Nr(t,e){W(t.A).then(function(){this.f||(this.a.onError(e),e.handled||this.h.failureCallback(e))}.bind(t))}function Br(t,e){return new Promise(function(n,i){var r=new Br.a;for(var o in r.open(e.method,t,!0),r.responseType="arraybuffer",r.timeout=e.retryParameters.timeout,r.withCredentials=e.allowCrossSiteCredentials,r.onload=function(e){var r=(e=e.target).getAllResponseHeaders().trim().split("\r\n").reduce(function(t,e){var n=e.split(": ");return t[n[0].toLowerCase()]=n.slice(1).join(": "),t},{});if(200<=e.status&&299>=e.status&&202!=e.status)e.responseURL&&(t=e.responseURL),n({uri:t,data:e.response,headers:r,fromCache:!!r["x-shaka-from-cache"]});else{var o=null;try{o=Ct(e.response)}catch(t){}i(new R(401==e.status||403==e.status?2:1,1,1001,t,e.status,o,r))}},r.onerror=function(){i(new R(1,1,1002,t))},r.ontimeout=function(){i(new R(1,1,1003,t))},e.headers)r.setRequestHeader(o,e.headers[o]);r.send(e.body)})}function Ur(t){this.b={},this.f=Promise.resolve(),this.i=!1,this.j=t,this.g=this.c=this.h=0}function Fr(t,e,n,i,r){t.b[e]=t.b[e]||[],t.b[e].push({request:n,pc:i,Id:r})}function jr(t,e){var n=At(t.b);t.b={},n.forEach(function(e){e.forEach(function(e){t.c+=e.pc})});var i=Promise.resolve().then(function(){return Vr(t),Promise.all(n.map(function(n){return function(t,e,n){var i=Promise.resolve();return n.forEach(function(n){i=i.then(function(){return Vr(t),function(t,e,n){return Promise.resolve().then(function(){return Vr(t),e.request(1,n.request)}).then(function(e){return Vr(t),t.h+=n.pc,t.g+=e.data.byteLength,t.j(t.c?t.h/t.c:0,t.g),n.Id(e.data)})}(t,e,n)})}),i}(t,e,n)}))});return t.f=t.f.then(function(){return i}),i}function Vr(t){if(t.i)throw new R(2,9,9002)}function Hr(t,e){var n=this;this.c=t,this.b=t.objectStore(e),this.a=new $,t.onabort=function(t){t.preventDefault(),n.a.reject()},t.onerror=function(t){t.preventDefault(),n.a.reject()},t.oncomplete=function(){n.a.resolve()}}function Gr(t){this.b=t,this.a=[]}function zr(t,e){return Yr(t,e,"readwrite")}function Yr(t,e,n){var i=new Hr(n=t.b.transaction([e],n),e);return t.a.push(i),i.G().then(function(){ut(t.a,i)},function(){ut(t.a,i)}),i}function $r(){this.a={}}function Kr(t,e){Et(t.a,function(t,n){Et(n.getCells(),function(n,i){e({Z:t,O:n},i)})})}function Wr(t,e,n){if(!(t=t.a[e]))throw new R(2,9,9013,"Could not find mechanism with name "+e);if(!(e=t.getCells()[n]))throw new R(2,9,9013,"Could not find cell with name "+n);return e}function qr(){return At(Xr).some(function(t){return!!(t=t())&&(t.destroy(),!0)})}ri.m3u8=Li,ii["application/x-mpegurl"]=Li,ii["application/vnd.apple.mpegurl"]=Li,tr.prototype.destroy=function(){var t=this.h.destroy();return this.w=this.u=this.a=this.h=null,null!=this.b&&(this.b.cancel(),this.b=null),t},tr.prototype.gb=function(){this.f=!0,this.l()},tr.prototype.l=function(){if(0!=this.a.readyState){if(this.a.seeking){if(!this.g)return}else this.g=!1;if(!this.a.paused){this.a.readyState!=this.m&&(this.c=!1,this.m=this.a.readyState);var t=this.s.smallGapLimit,e=this.a.currentTime,n=this.a.buffered;t:{if(n&&n.length&&!(1==n.length&&1e-6>n.end(0)-n.start(0))){var i=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(i=.5);for(var r=0;r<n.length;r++)if(n.start(r)>e&&(0==r||n.end(r-1)-e<=i)){i=r;break t}}i=null}if(null==i){if(n=this.a.currentTime,e=this.a.buffered,3>this.a.readyState&&0<this.a.playbackRate)if(this.j!=n)this.j=n,this.A=Date.now(),this.i=!1;else if(!this.i&&this.A<Date.now()-1e3)for(i=0;i<e.length;i++)if(n>=e.start(i)&&n<e.end(i)-.5){this.a.currentTime+=.1,this.j=this.a.currentTime,this.i=!0;break}}else if(0!=i||this.f){r=n.start(i);var o=this.u.presentationTimeline.ra();if(!(r>=o)){t=(o=r-e)<=t;var a=!1;.001>o||(t||this.c||(this.c=!0,(e=new vt("largegap",{currentTime:e,gapSize:o})).cancelable=!0,this.w(e),this.s.jumpLargeGaps&&!e.defaultPrevented&&(a=!0)),!t&&!a)||(0!=i&&n.end(i-1),this.a.currentTime=r)}}}}},(e=er.prototype).destroy=function(){var t=this.c.destroy();return this.c=null,null!=this.b&&(this.b.cancel(),this.b=null),this.i=this.a=null,t},e.$a=function(){return this.f},e.Wd=function(){var t=this.g||0>this.f?0:this.f;this.a.playbackRate&&this.a.playbackRate!=t&&rr(this,this.a.playbackRate)},e.Gc=function(){.001>Math.abs(this.a.currentTime-this.h)?this.Hc():(pt(this.c,this.a,"seeking",this.Hc.bind(this)),this.a.currentTime=0==this.a.currentTime?this.h:this.a.currentTime)},e.Hc=function(){ht(this.c,this.a,"seeking",this.i.bind(this))},(e=or.prototype).destroy=function(){var t=Promise.all([this.a.destroy(),this.g.destroy()]);return this.g=this.a=null,null!=this.f&&(this.f.cancel(),this.f=null),this.i=this.h=this.b=this.c=null,t},e.$a=function(){return this.a.$a()},e.gb=function(){this.g.gb()},e.Vd=function(){if(0!=this.c.readyState&&!this.c.paused){var t=this.c.currentTime,e=this.b.presentationTimeline,n=e.La();3>(e=e.ra())-n&&(n=e-3),t<n&&(t=lr(this,t),this.c.currentTime=t)}},e.Yd=function(){var t=this.g;t.g=!0,t.f=!1,t.c=!1;var e=lr(this,t=nr(this.a));.001<Math.abs(e-t)?ir(this.a,e):this.i()},cr.prototype.destroy=function(){var t=this.j?this.j.destroy():Promise.resolve();return this.j=null,pr(this),this.A=this.h=this.l=this.u=this.g=this.w=this.a=null,this.c=[],t},cr.prototype.s=function(t){if(!this.c.some(function(e){return e.info.schemeIdUri==t.schemeIdUri&&e.info.startTime==t.startTime&&e.info.endTime==t.endTime})){var e={info:t,status:1};this.c.push(e);var n=new vt("timelineregionadded",{detail:dr(t)});this.h(n),this.m(!0,e)}},cr.prototype.m=function(t,e){var n=e.info.startTime>this.a.currentTime?1:e.info.endTime<this.a.currentTime?3:2,i=2==e.status,r=2==n;n!=e.status&&((!t||i||r)&&(i||this.h(new vt("timelineregionenter",{detail:dr(e.info)})),r||this.h(new vt("timelineregionexit",{detail:dr(e.info)}))),e.status=n)},cr.prototype.J=function(){this.f=null,hr(this);var t=Ie(this.g,this.a.currentTime);t!=this.i&&(-1!=this.i&&this.A(),this.i=t),t=Kt(this.a.buffered,this.a.currentTime);var e=Yt(this.a.buffered),n=this.g.presentationTimeline,i=n.Ma();e=n.R()&&e>=i,n="ended"==this.w.readyState,e=e||this.a.ended||n,this.b?(n=Math.max(this.g.minBufferTime||0,this.u.rebufferingGoal),(e||t>=n)&&0!=this.b&&(this.b=!1,this.l(!1))):!e&&.5>t&&1!=this.b&&(this.b=!0,this.l(!0)),this.c.forEach(this.m.bind(this,!1))},(e=fr.prototype).destroy=function(){for(var t in this.c)Mr(this.c[t]);return this.h=this.c=this.j=this.g=this.m=this.b=this.a=null,this.f=!0,Promise.resolve()},e.configure=function(t){this.h=t,this.A=new K({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0},!0)},e.init=function(){var t=ar(this.a.Ra);return(t=this.a.Bc(this.b.periods[Ie(this.b,t)])).variant||t.text?kr(this,t).then(function(){!this.f&&this.a&&this.a.Md&&this.a.Md()}.bind(this)):Promise.reject(new R(2,5,5005))},e.Re=function(t){if(!this.f&&!t.Ea&&null!=t.va&&!t.Aa)if(t.va=null,t.wa)Lr(this,t,t.Eb);else{try{var e=function(t,e){var n=ar(t.a.Ra),i=Pr(t,e,n),r=xe(t.b,e.stream),o=Ie(t.b,i),a=function(t,e,n){return"text"==e?null==(t=t.a).b||t.b<n?0:t.b-Math.max(n,t.a):Kt(t=ie(t,e),n)}(t.a.K,e.type,n),s=Math.max(t.i*Math.max(t.b.minBufferTime||0,t.h.rebufferingGoal),t.i*t.h.bufferingGoal);if(i>=t.b.presentationTimeline.T())return e.endOfStream=!0,null;if(e.endOfStream=!1,e.Da=o,o!=r)return null;if(a>=s)return.5;if(o=function(t,e){return"text"==e?t.a.b:Yt(ie(t,e))}(t.a.K,e.type),!(o=function(t,e,n,i,r){if(e.ma&&e.stream==e.Na)return n=e.ma.position+1,Rr(t,e,r,n);if(null==(n=e.ma?e.stream.findSegmentPosition(Math.max(0,t.b.periods[xe(t.b,e.Na)].startTime+e.ma.endTime-t.b.periods[r].startTime)):e.stream.findSegmentPosition(Math.max(0,(i||n)-t.b.periods[r].startTime))))return null;var o=null;return null==i&&(o=Rr(t,e,r,Math.max(0,n-1))),o||Rr(t,e,r,n)}(t,e,n,o,r)))return 1;var l=1/0;return At(t.c).forEach(function(e){l=Math.min(l,Pr(t,e,n))}),i>=l+t.b.presentationTimeline.a?1:(e.Pc=0,function(t,e,n,i,r){var o=t.b.periods[i],a=e.stream,s=t.b.presentationTimeline.T(),l=t.b.periods[i+1];i=function(t,e,n,i,r){return e.yb?(n=function(t,e,n,i,r){return"text"==e?(t.a.g=n,(t=t.a).i=i,t.h=r,Promise.resolve()):Promise.all([ae(t,e,t.ed.bind(t,e)),ae(t,e,t.Ge.bind(t,e,n)),ae(t,e,t.De.bind(t,e,i,r))])}(t.a.K,e.type,t.b.periods[n].startTime-e.stream.presentationTimeOffset,i,r),e.stream.initSegmentReference?(t=xr(t,e.stream.initSegmentReference).then(function(t){if(!this.f)return re(this.a.K,e.type,t,null,null)}.bind(t)).catch(function(t){return e.yb=!0,Promise.reject(t)}),Promise.all([n,t])):n):Promise.resolve()}(t,e,i,Math.max(0,o.startTime-.1),l?l.startTime:s),e.Ea=!0,e.yb=!1,s=xr(t,r),Promise.all([i,s]).then(function(t){if(!this.f&&!this.l)return function(t,e,n,i,r,o,a){return r.containsEmsgBoxes&&(new Mn).X("emsg",t.ie.bind(t,i,o)).parse(a),function(t,e,n){var i=Math.max(t.h.bufferBehind,t.b.presentationTimeline.a),r=ne(t.a.K,e.type);return null==r?Promise.resolve():0>=(n=n-r-i)?Promise.resolve():t.a.K.remove(e.type,r,r+n).then(function(){}.bind(t))}(t,e,n).then(function(){if(!this.f)return re(this.a.K,e.type,a,o.startTime,o.endTime)}.bind(t)).then(function(){if(!this.f)return e.Na=r,e.ma=o,Promise.resolve()}.bind(t))}(this,e,n,o,a,r,t[1])}.bind(t)).then(function(){this.f||this.l||(e.Ea=!1,e.bc=!1,e.wa||this.a.gb(),Dr(this,e,0),function(t,e){if(!t.s&&(t.s=At(t.c).every(function(t){return"text"==t.type||!t.wa&&!t.Aa&&t.ma}),t.s)){var n=xe(t.b,e);for(t.g[n]||Cr(t,n).then(function(){this.f||this.a.Ac()}.bind(t)).catch(J),n=0;n<t.b.periods.length;++n)Cr(t,n).catch(J);t.a.ae&&t.a.ae()}}(this,a))}.bind(t)).catch(function(t){this.f||this.l||(e.Ea=!1,"text"==e.type&&this.h.ignoreTextStreamFailures?delete this.c.text:3017==t.code?function(t,e,n){if(!At(t.c).some(function(t){return t!=e&&t.bc})){var i=Math.round(100*t.i);if(20<i)t.i-=.2;else{if(!(4<i))return e.cb=!0,t.l=!0,void t.a.onError(n);t.i-=.04}e.bc=!0}Dr(t,e,4)}(this,e,t):(e.cb=!0,t.severity=2,Nr(this,t)))}.bind(t))}(t,e,n,r,o),null)}(this,t);null!=e&&(Dr(this,t,e),t.cb=!1)}catch(t){return void Nr(this,t)}e=At(this.c),function(t,e){if(e.Da!=xe(t.b,e.stream)){var n=e.Da,i=At(t.c);i.every(function(t){return t.Da==n})&&i.every(Ir)&&Cr(t,n).then(function(){if(!this.f&&i.every(function(t){var e=xe(this.b,t.stream);return Ir(t)&&t.Da==n&&e!=n}.bind(this))){var t=this.b.periods[n],e=this.a.Bc(t),r={};for(var o in e.variant&&e.variant.video&&(r.video=e.variant.video),e.variant&&e.variant.audio&&(r.audio=e.variant.audio),e.text&&(r.text=e.text),this.c)if(!r[o]&&"text"!=o)return void this.a.onError(new R(2,5,5005));for(o in r)if(!this.c[o]){if("text"!=o)return void this.a.onError(new R(2,5,5005));kr(this,{text:r.text},t.startTime),delete r[o]}for(o in this.c)(t=r[o])?(wr(this,t,!1),Dr(this,this.c[o],0)):delete this.c[o];this.a.Ac()}}.bind(t)).catch(J)}}(this,t),e.every(function(t){return t.endOfStream})&&this.a.K.endOfStream().then(function(){if(!this.f){var t=this.a.K.T();t<this.b.presentationTimeline.T()&&this.b.presentationTimeline.ka(t)}}.bind(this))}},e.ie=function(t,e,n){var i=n.o.$b(),r=n.o.$b(),o=n.o.B(),a=n.o.B(),s=n.o.B(),l=n.o.B();n=n.o.Fa(n.o.H.byteLength-n.o.V()),t=t.startTime+e.startTime+a/o,"urn:mpeg:dash:event:2012"==i?this.a.Od():this.a.onEvent(new vt("emsg",{detail:{startTime:t,endTime:t+s/o,schemeIdUri:i,value:r,timescale:o,presentationTimeDelta:a,eventDuration:s,id:l,messageData:n}}))},E("shaka.net.HttpPlugin",Br),Br.a=t.XMLHttpRequest,ot("http",Br,1),ot("https",Br,1),Ur.prototype.destroy=function(){this.i=!0;var t=this.f.catch(function(){});return this.f=Promise.resolve(),this.a=[],t},Hr.prototype.abort=function(){try{this.c.abort()}catch(t){}return this.a.catch(function(){})},Hr.prototype.store=function(){return this.b},Hr.prototype.G=function(){return this.a},Gr.prototype.destroy=function(){return Promise.all(this.a.map(function(t){return t.abort()}))},$r.prototype.destroy=function(){var t=At(this.a).map(function(t){return t.destroy()});return this.a={},Promise.all(t)},$r.prototype.init=function(){var t=this;Et(Xr,function(e,n){var i=n();i&&(t.a[e]=i)});var e=At(this.a).map(function(t){return t.init()});return Promise.all(e)},E("shaka.offline.StorageMuxer.register",function(t,e){Xr[t]=e}),E("shaka.offline.StorageMuxer.unregister",function(t){delete Xr[t]});var Xr={};function Zr(t){this.a=new Gr(t)}function Qr(t){return Promise.reject(new R(2,9,9011,"Cannot add new value to "+t))}function Jr(t,e,n,i){var r=(t=zr(t.a,e)).store();return n.forEach(function(t){r.delete(t).onsuccess=function(){return i(t)}}),t.G()}function to(t,e,n){var i=(t=Yr(t.a,e,"readonly")).store(),r={},o=[];return n.forEach(function(t){i.get(t).onsuccess=function(e){void 0==(e=e.target.result)&&o.push(t),r[t]=e}}),t.G().then(function(){return o.length?Promise.reject(new R(2,9,9012,"Could not find values for "+o)):n.map(function(t){return r[t]})})}function eo(t){return{originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,periods:t.periods.map(no),sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata}}function no(t){return function(t){var e=t.streams.filter(function(t){return"audio"==t.contentType}),n=t.streams.filter(function(t){return"video"==t.contentType});if(!e.every(function(t){return t.variantIds})||!n.every(function(t){return t.variantIds})){e.forEach(function(t){t.variantIds=[]}),n.forEach(function(t){t.variantIds=[]});var i=0;if(n.length&&!e.length){var r=i++;n.forEach(function(t){t.variantIds.push(r)})}if(!n.length&&e.length){var o=i++;e.forEach(function(t){t.variantIds.push(o)})}n.length&&e.length&&e.forEach(function(t){n.forEach(function(e){var n=i++;t.variantIds.push(n),e.variantIds.push(n)})})}}(t),t.streams.forEach(function(){}),{startTime:t.startTime,streams:t.streams.map(io)}}function io(t){var e=t.Cd?ao(t.Cd):null;return{id:t.id,primary:t.primary,presentationTimeOffset:t.presentationTimeOffset,contentType:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,initSegmentKey:e,encrypted:t.encrypted,keyId:t.keyId,segments:t.segments.map(ro),variantIds:t.variantIds}}function ro(t){var e=ao(t.uri);return{startTime:t.startTime,endTime:t.endTime,dataKey:e}}function oo(t){return{data:t.data}}function ao(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new R(2,9,9004,"Could not parse uri "+t)}function so(t,e,n,i){this.a=new Gr(t),this.c=e,this.b=n,this.f=i}function lo(t,e,n){if(t.f)return Promise.reject(new R(1,9,9011,"Cannot add new value to "+e));var i=(t=zr(t.a,e)).store(),r=[];return n.forEach(function(t){i.add(t).onsuccess=function(t){r.push(t.target.result)}}),t.G().then(function(){return r})}function uo(t,e,n,i){var r=(t=zr(t.a,e)).store();return n.forEach(function(t){r.delete(t).onsuccess=function(){return i(t)}}),t.G()}function co(t,e,n){var i=(t=Yr(t.a,e,"readonly")).store(),r={},o=[];return n.forEach(function(t){var e=i.get(t);e.onsuccess=function(){void 0==e.result&&o.push(t),r[t]=e.result}}),t.G().then(function(){return o.length?Promise.reject(new R(1,9,9012,"Could not find values for "+o)):n.map(function(t){return r[t]})})}function ho(){this.c=this.b=this.a=this.f=null}function po(t,e,n,i){this.a=t,this.g=e,this.f=n,this.c=i,this.b=["offline:",t,"/",e,"/",n,"/",i].join("")}function fo(t){if(null==(t=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if("manifest"!=e&&"segment"!=e)return null;var n=t[2];if(!n)return null;var i=t[3];return i&&null!=e?new po(e,n,i,Number(t[4])):null}function yo(t,e){this.b=t,this.a=e}function vo(t,e){var n=new ai(null,0);n.ka(e.duration);var i=e.periods.map(function(e){return go(t,e,n)}),r=e.drmInfo?[e.drmInfo]:[];return e.drmInfo&&i.forEach(function(t){t.variants.forEach(function(t){t.drmInfos=r})}),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:e.sessionIds,periods:i}}function go(t,e,n){var i=e.streams.filter(function(t){return"audio"==t.contentType}),r=e.streams.filter(function(t){return"video"==t.contentType});return i=function(t,e,n){var i={},r=[];return r.push.apply(r,e),r.push.apply(r,n),r.forEach(function(t){t.variantIds.forEach(function(t){i[t]=i[t]||{id:t,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0}})}),e.forEach(function(e){var n=mo(t,e);e.variantIds.forEach(function(t){(t=i[t]).language=n.language,t.primary=t.primary||n.primary,t.audio=n})}),n.forEach(function(e){var n=mo(t,e);e.variantIds.forEach(function(t){(t=i[t]).primary=t.primary||n.primary,t.video=n})}),At(i)}(t,i,r),r=e.streams.filter(function(t){return"text"==t.contentType}).map(function(e){return mo(t,e)}),e.streams.forEach(function(e,i){var r=e.segments.map(function(e,n){return bo(t,n,e)});n.fb(r,0==i)}),{startTime:e.startTime,variants:i,textStreams:r}}function mo(t,e){var n=e.segments.map(function(e,n){return bo(t,n,e)}),i=new Hn(n);return n={id:e.id,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(t){return i.find(t)},getSegmentReference:function(t){return i.get(t)},initSegmentReference:null,presentationTimeOffset:e.presentationTimeOffset,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate||void 0,kind:e.kind,encrypted:e.encrypted,keyId:e.keyId,language:e.language,label:e.label||null,type:e.contentType,primary:e.primary,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null},null!=e.initSegmentKey&&(n.initSegmentReference=function(t,e){var n=new po("segment",t.b,t.a,e);return new Pn(function(){return[n.toString()]},0,null)}(t,e.initSegmentKey)),n}function bo(t,e,n){var i=new po("segment",t.b,t.a,n.dataKey);return new Rn(e,n.startTime,n.endTime,function(){return[i.toString()]},0,null)}function _o(){this.a=null}function Ao(t){var e=fo(t);return e&&"manifest"==e.a?Ao.a(t):e&&"segment"==e.a?Ao.b(e.key(),e):Promise.reject(new R(2,1,9004,t))}function Eo(t,e,n){this.startTime=t,this.endTime=e,this.payload=n,this.region={x:0,y:0,width:100,height:100},this.position=null,this.positionAlign=wo,this.size=100,this.textAlign=To,this.writingDirection=Oo,this.lineInterpretation=Po,this.line=null,this.lineHeight="",this.lineAlign=Ro,this.displayAlign=So,this.fontSize=this.backgroundColor=this.color="",this.fontWeight=xo,this.fontStyle=Lo,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}(e=Zr.prototype).destroy=function(){return this.a.destroy()},e.hasFixedKeySpace=function(){return!0},e.addSegments=function(){return Qr("segment")},e.removeSegments=function(t,e){return Jr(this,"segment",t,e)},e.getSegments=function(t){return to(this,"segment",t).then(function(t){return t.map(oo)})},e.addManifests=function(){return Qr("manifest")},e.updateManifestExpiration=function(t,e){var n=zr(this.a,"manifest"),i=n.store(),r=new $;return i.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,i.put(n),r.resolve()):r.reject(new R(2,9,9012,"Could not find values for "+t))},n.G().then(function(){return r})},e.removeManifests=function(t,e){return Jr(this,"manifest",t,e)},e.getManifests=function(t){return to(this,"manifest",t).then(function(t){return t.map(eo)})},e.getAllManifests=function(){var t=Yr(this.a,"manifest","readonly"),e={};return t.store().openCursor().onsuccess=function(t){(t=t.target.result)&&(e[t.key]=eo(t.value),t.continue())},t.G().then(function(){return e})},(e=so.prototype).destroy=function(){return this.a.destroy()},e.hasFixedKeySpace=function(){return this.f},e.addSegments=function(t){return lo(this,this.c,t)},e.removeSegments=function(t,e){return uo(this,this.c,t,e)},e.getSegments=function(t){return co(this,this.c,t)},e.addManifests=function(t){return lo(this,this.b,t)},e.updateManifestExpiration=function(t,e){var n=zr(this.a,this.b),i=n.store();return i.get(t).onsuccess=function(n){(n=n.target.result)&&(n.expiration=e,i.put(n,t))},n.G()},e.removeManifests=function(t,e){return uo(this,this.b,t,e)},e.getManifests=function(t){return co(this,this.b,t)},e.getAllManifests=function(){var t=Yr(this.a,this.b,"readonly"),e={};return t.store().openCursor().onsuccess=function(t){(t=t.target.result)&&(e[t.key]=t.value,t.continue())},t.G().then(function(){return e})},ho.prototype.init=function(){var e=this,n=new $,i=t.indexedDB.open("shaka_offline_db",3);return i.onsuccess=function(t){t=t.target.result,e.f=t;var i=t.objectStoreNames;i=i.contains("manifest")&&i.contains("segment")?new Zr(t):null,e.a=i,i=(i=t.objectStoreNames).contains("manifest-v2")&&i.contains("segment-v2")?new so(t,"segment-v2","manifest-v2",!0):null,e.b=i,t=(i=t.objectStoreNames).contains("manifest-v3")&&i.contains("segment-v3")?new so(t,"segment-v3","manifest-v3",!1):null,e.c=t,n.resolve()},i.onupgradeneeded=function(t){var e={autoIncrement:!0};(t=t.target.result).createObjectStore("manifest-v3",e),t.createObjectStore("segment-v3",e)},i.onerror=function(t){n.reject(new R(2,9,9001,i.error)),t.preventDefault()},n},ho.prototype.destroy=function(){var t=this;return h(function e(){return _(e,function(e){switch(e.D){case 1:if(!t.a){e.ha(2);break}return v(e,t.a.destroy(),2);case 2:if(!t.b){e.ha(4);break}return v(e,t.b.destroy(),4);case 4:if(!t.c){e.ha(6);break}return v(e,t.c.destroy(),6);case 6:t.f&&t.f.close(),e.D=0}})}())},ho.prototype.getCells=function(){var t={};return this.a&&(t.v1=this.a),this.b&&(t.v2=this.b),this.c&&(t.v3=this.c),t},ho.prototype.erase=function(){var e=this;return h(function n(){return _(n,function(n){switch(n.D){case 1:if(!e.a){n.ha(2);break}return v(n,e.a.destroy(),2);case 2:if(!e.b){n.ha(4);break}return v(n,e.b.destroy(),4);case 4:if(!e.c){n.ha(6);break}return v(n,e.c.destroy(),6);case 6:return e.f&&e.f.close(),v(n,function(){var e=new $,n=t.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new R(2,9,9001,n.error)),t.preventDefault()},e}(),8);case 8:return e.f=null,e.a=null,e.b=null,e.c=null,v(n,e.init(),0)}})}())},Xr.idb=function(){return t.indexedDB?new ho:null},po.prototype.Z=function(){return this.g},po.prototype.O=function(){return this.f},po.prototype.key=function(){return this.c},po.prototype.toString=function(){return this.b},(e=_o.prototype).configure=function(){},e.start=function(t){var e=fo(t);if(this.a=e,null==e||"manifest"!=e.a)return Promise.reject(new R(2,1,9004,e));var n=new $r;return nt([n],function(){return h(function t(){var i,r,o;return _(t,function(t){switch(t.D){case 1:return v(t,n.init(),2);case 2:return v(t,Wr(n,e.Z(),e.O()),3);case 3:return v(t,t.P.getManifests([e.key()]),4);case 4:return i=t.P,r=i[0],o=new yo(e.Z(),e.O()),t.return(vo(o,r))}})}())})},e.stop=function(){return Promise.resolve()},e.update=function(){},e.onExpirationUpdated=function(t,e){var n=this.a,i=new $r;return nt([i],function(){return h(function r(){var o,a,s,l,u;return _(r,function(r){switch(r.D){case 1:return v(r,i.init(),2);case 2:return v(r,Wr(i,n.Z(),n.O()),3);case 3:return v(r,(o=r.P).getManifests([n.key()]),4);case 4:if(a=r.P,s=a[0],l=0<=s.sessionIds.indexOf(t),u=void 0==s.expiration||s.expiration>e,l&&u)return v(r,o.updateManifestExpiration(n.key(),e),0);r.ha(0)}})}())}).catch(function(){})},ii["application/x-offline-manifest"]=_o,E("shaka.offline.OfflineScheme",Ao),Ao.a=function(t){return t={uri:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},Promise.resolve(t)},Ao.b=function(t,e){var n=new $r;return nt([n],function(){return h(function t(){var i,r;return _(t,function(t){switch(t.D){case 1:return v(t,n.init(),2);case 2:return v(t,Wr(n,e.Z(),e.O()),3);case 3:return v(t,t.P.getSegments([e.key()]),4);case 4:return i=t.P,r=i[0],t.return({uri:e,data:r.data,headers:{}})}})}())})},ot("offline",Ao),E("shaka.text.Cue",Eo);var wo="auto";Eo.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:wo};var To="center",ko={LEFT:"left",RIGHT:"right",CENTER:To,START:"start",END:"end"};Eo.textAlign=ko;var So="before",Co={BEFORE:So,CENTER:"center",AFTER:"after"};Eo.displayAlign=Co;var Oo=0;Eo.writingDirection={HORIZONTAL_LEFT_TO_RIGHT:Oo,HORIZONTAL_RIGHT_TO_LEFT:1,VERTICAL_LEFT_TO_RIGHT:2,VERTICAL_RIGHT_TO_LEFT:3};var Po=0;Eo.lineInterpretation={LINE_NUMBER:Po,PERCENTAGE:1};var Ro="center",Io={CENTER:Ro,START:"start",END:"end"};Eo.lineAlign=Io;var xo=400;Eo.fontWeight={NORMAL:xo,BOLD:700};var Lo="normal",Do={NORMAL:Lo,ITALIC:"italic",OBLIQUE:"oblique"};function Mo(t){this.a=null;for(var e=0;e<t.textTracks.length;++e){var n=t.textTracks[e];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden",this.b=this.a.cues}function No(t){if(t.startTime>=t.endTime)return null;var e=new VTTCue(t.startTime,t.endTime,t.payload);e.lineAlign=t.lineAlign,e.positionAlign=t.positionAlign,e.size=t.size;try{e.align=t.textAlign}catch(t){}return"center"==t.textAlign&&"center"!=e.align&&(e.align="middle"),2==t.writingDirection?e.vertical="lr":3==t.writingDirection&&(e.vertical="rl"),1==t.lineInterpretation&&(e.snapToLines=!1),null!=t.line&&(e.line=t.line),null!=t.position&&(e.position=t.position),e}function Bo(t,e){for(var n=t.b,i=[],r=0;r<n.length;++r)e(n[r])&&i.push(n[r]);for(r=0;r<i.length;++r)t.a.removeCue(i[r])}function Uo(){this.a=Promise.resolve(),this.b=this.c=this.f=!1,this.i=new Promise(function(t){this.g=t}.bind(this)),this.l=[],this.j=[]}function Fo(t,e){Je.call(this),this.M=!1,this.f=t,this.Ya=!1,this.u=null,this.m=new dt,this.h=this.Gb=this.b=this.i=this.a=this.w=this.g=this.rb=this.xa=this.ya=this.l=this.s=null,this.dd=1e9,this.pb=[],this.tb=!1,this.za=!0,this.L=this.Za=this.Ia=null,this.mc=!1,this.A=null,this.sb=[],this.J={},this.c=Xo(this),this.qb={width:1/0,height:1/0},this.j=Zo(),this.ob=0,this.ea=this.c.preferredAudioLanguage,this.fa=this.c.preferredTextLanguage,this.Wa=this.Xa="",e&&e(this),this.s=new it(this.Je.bind(this)),this.rb=Ho(this),ht(this.m,this.f,"error",this.ce.bind(this))}function jo(t){if(!t.Ia)return Promise.resolve();var e=Promise.resolve();return t.i&&(e=t.i.stop(),t.i=null),t=t.Ia.cancel(new R(2,7,7e3)),Promise.all([e,t])}Eo.fontStyle=Do,Eo.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},E("shaka.text.SimpleTextDisplayer",Mo),Mo.prototype.remove=function(t,e){return!!this.a&&(Bo(this,function(n){return!(n.startTime>=e||n.endTime<=t)}),!0)},Mo.prototype.remove=Mo.prototype.remove,Mo.prototype.append=function(t){for(var e=[],n=0;n<t.length;n++){var i=No(t[n]);i&&e.push(i)}e.slice().sort(function(t,n){return t.startTime!=n.startTime?t.startTime-n.startTime:t.endTime!=n.endTime?t.endTime-n.startTime:e.indexOf(n)-e.indexOf(t)}).forEach(function(t){this.a.addCue(t)}.bind(this))},Mo.prototype.append=Mo.prototype.append,Mo.prototype.destroy=function(){return this.a&&Bo(this,function(){return!0}),this.a=null,Promise.resolve()},Mo.prototype.destroy=Mo.prototype.destroy,Mo.prototype.isTextVisible=function(){return"showing"==this.a.mode},Mo.prototype.isTextVisible=Mo.prototype.isTextVisible,Mo.prototype.setTextVisibility=function(t){this.a.mode=t?"showing":"hidden"},Mo.prototype.setTextVisibility=Mo.prototype.setTextVisibility,Uo.prototype.then=function(t){return this.a=this.a.then(t).then(function(t){return this.b?(this.g(),Promise.reject(this.h)):Promise.resolve(t)}.bind(this)),this},Uo.prototype.cancel=function(t){return this.c?Promise.resolve():(this.b=!0,this.h=t,this.j.forEach(function(t){t()}),this.i)},w(Fo,Je),E("shaka.Player",Fo),Fo.prototype.destroy=function(){return this.M=!0,jo(this).then(function(){var t=Promise.all([this.Za,Wo(this),this.m?this.m.destroy():null,this.s?this.s.destroy():null]);return this.f=null,this.Ya=!1,this.c=this.s=this.h=this.m=null,t}.bind(this))},Fo.prototype.destroy=Fo.prototype.destroy,Fo.version="v2.3.8";var Vo={};function Ho(e){e.ya=new MediaSource;var n=new $;return ht(e.m,e.ya,"sourceopen",n.resolve),e.f.src=t.URL.createObjectURL(e.ya),n}function Go(t){if(t.i&&t.i.configure(t.c.manifest),t.l&&t.l.configure(t.c.drm),t.a){t.a.configure(t.c.streaming);try{t.b.periods.forEach(t.vb.bind(t))}catch(e){t.Va(e)}var e=gr(t.a),n=mr(t.a),i=yr(t.a);(e=Re(e,n,i.variants))&&e.allowedByApplication&&e.allowedByKeySystem||ea(t,i)}t.h&&(t.h.configure(t.c.abr),t.c.abr.enabled&&!t.za?t.h.enable():t.h.disable())}function zo(t){var e=[];return t.forEach(function(t){if(t){var n=t.language;t.roles.length?t.roles.forEach(function(t){e.push({language:n,role:t})}):e.push({language:n,role:""})}else e.push({language:"und",role:""})}),st(e,function(t,e){return t.language==e.language&&t.role==e.role})}function Yo(t,e,n){e.video&&Ko(t,e.video),e.audio&&Ko(t,e.audio);var i=vr(t.a);e!=Re(gr(t.a),mr(t.a),i?i.variants:[])&&t.j.switchHistory.push({timestamp:Date.now()/1e3,id:e.id,type:"variant",fromAdaptation:n,bandwidth:e.bandwidth})}function $o(t,e,n){Ko(t,e),t.j.switchHistory.push({timestamp:Date.now()/1e3,id:e.id,type:"text",fromAdaptation:n,bandwidth:null})}function Ko(t,e){var n=xe(t.b,e);t.J[n]||(t.J[n]={}),t.J[n][e.type]=e.id}function Wo(t){t.m&&(t.m.oa(t.ya,"sourceopen"),t.m.oa(t.f,"loadeddata"),t.m.oa(t.f,"playing"),t.m.oa(t.f,"pause"),t.m.oa(t.f,"ended")),t.f&&(t.f.removeAttribute("src"),t.f.load());var e=Promise.all([t.h?t.h.stop():null,t.l?t.l.destroy():null,t.xa?t.xa.destroy():null,t.g?t.g.destroy():null,t.w?t.w.destroy():null,t.a?t.a.destroy():null,t.i?t.i.stop():null,t.u?t.u.destroy():null]);return t.za=!0,t.l=null,t.xa=null,t.g=null,t.w=null,t.a=null,t.i=null,t.u=null,t.b=null,t.Gb=null,t.rb=null,t.ya=null,t.sb=[],t.J={},t.j=Zo(),e}function qo(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0)}}}function Xo(t){var e=5e5;return navigator.connection&&navigator.connection.type&&(e=1e6*navigator.connection.downlink),{drm:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},dash:{customScheme:function(t){if(t)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10}},streaming:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:t.ld.bind(t),rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1},abrFactory:Le,textDisplayFactory:function(t){return new Mo(t)}.bind(null,t.f),abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0}}function Zo(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function Qo(t,e,n){t.za?(t.L=e,t.mc=n||!1):Er(t.a,e,n||!1)}function Jo(t){if(t.b){var e=Date.now()/1e3;t.tb?t.j.bufferingTime+=e-t.ob:t.j.playTime+=e-t.ob,t.ob=e}}function ta(t,e){return e&&e.length?(t.h.setVariants(e),t.h.chooseVariant()):(t.Va(new R(2,4,4012)),null)}function ea(t,e){var n=Se(e.variants,t.ea,t.Xa),i=Ce(e.textStreams,t.fa,t.Wa);(n=ta(t,n))&&(Yo(t,n,!0),Qo(t,n,!0)),(i=i[0])&&(t.c.streaming.alwaysStreamText||t.Rb())&&($o(t,i,!0),t.za?t.A=i:wr(t.a,i,!0)),na(t)}function na(t){Promise.resolve().then(function(){this.M||this.dispatchEvent(new vt("adaptation"))}.bind(t))}function ia(t){Promise.resolve().then(function(){this.M||this.dispatchEvent(new vt("trackschanged"))}.bind(t))}function ra(t){t.dispatchEvent(new vt("texttrackvisibility"))}function oa(t,e){var n=go(new yo(t.Z(),t.O()),e.periods[0],new ai(null,0)),i=e.appMetadata||{};return n=_e(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:i}}function aa(t,e){var n=t.a[e];return null==n&&(n=0),n}function sa(t){if(!t||t.constructor!=Fo)throw new R(2,9,9008);this.a=t,this.b=ua(this),this.g=!1,this.c=null,this.f=[]}function la(){return qr()}function ua(t){return{trackSelectionCallback:function(e){return function(t,e){var n=[],i=he(t),r=[0,ce,de],o=e.filter(function(t){return"variant"==t.type});r=r.map(function(t){return o.filter(function(e){return e=he(e.language),ue(t,i,e)})});for(var a,s=0;s<r.length;s++)if(r[s].length){a=r[s];break}a||(r=o.filter(function(t){return t.primary})).length&&(a=r),a||(a=o,o.map(function(t){return t.language}).filter(et));var l=a.filter(function(t){return t.height&&480>=t.height});return l.length&&(l.sort(function(t,e){return e.height-t.height}),a=l.filter(function(t){return t.height==l[0].height})),a.sort(function(t,e){return t.bandwidth-e.bandwidth}),a.length&&n.push(a[Math.floor(a.length/2)]),n.push.apply(n,e.filter(function(t){return"text"==t.type})),n}(t.a.getConfiguration().preferredAudioLanguage,e)},progressCallback:function(t,e){if(t||e)return null},usePersistentLicense:!0}}function ca(t,e,n){n.forEach(function(n){return da(t,e,n)})}function da(t,e,n){var i=null;if(t.c){var r=t.c.filter(function(t){return"variant"==t.type})[0];r&&(i=we(n,r))}var o=r=null;i&&(i.audio&&(r=i.audio),i.video&&(o=i.video)),ve(e,r,o,n),ye(n,t.a.getConfiguration().restrictions,{width:1/0,height:1/0})}function ha(t){if(!t.a)throw new R(2,9,9002)}function pa(){if(!qr())throw new R(2,9,9e3)}function fa(t,e){var n=t.a.getConfiguration().streaming.retryParameters;return n=at(e.c(),n),0==e.b&&null==e.a||(n.headers.Range="bytes="+e.b+"-"+(null==e.a?"":e.a)),n}Fo.registerSupportPlugin=function(t,e){Vo[t]=e},Fo.isBrowserSupported=function(){return!!(t.Promise&&t.Uint8Array&&Array.prototype.forEach&&t.MediaSource&&MediaSource.isTypeSupported&&t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration)},Fo.probeSupport=function(){return(t=[],e=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n=[{videoCapabilities:e,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:e}],i={},"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(e){var r=navigator.requestMediaKeySystemAccess(e,n).then(function(t){var n=t.getConfiguration().sessionTypes;return n=!!n&&0<=n.indexOf("persistent-license"),0<=navigator.userAgent.indexOf("Tizen 3")&&(n=!1),i[e]={persistentState:n},t.createMediaKeys()}).catch(function(){i[e]=null});t.push(r)}),Promise.all(t).then(function(){return i})).then(function(t){var e=function(){var t,e={};for(t in ii)e[t]=!0;for(t in ri)e[t]=!0;return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(t){e[t]=!!ii[t]}),["mpd","m3u8","ism"].forEach(function(t){e[t]=!!ri[t]}),e}(),n=function(){var t={};return'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="av1",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").forEach(function(e){t[e]=!!Jt[e]||MediaSource.isTypeSupported(e)||Xt(e);var n=e.split(";")[0];t[n]=t[n]||t[e]}),t}();for(var i in t={manifest:e,media:n,drm:t},Vo)t[i]=Vo[i]();return t});var t,e,n,i},Fo.prototype.load=function(t,e,n){var i=this.Db(),r=new Uo;this.Ia=r,this.dispatchEvent(new vt("loading"));var o=Date.now();return function(t){return t.f||(t.a=t.a.then(function(t){return this.c=!0,this.l.forEach(function(t){t()}),Promise.resolve(t)}.bind(t),function(t){return this.c=!0,this.b?(this.g(),Promise.reject(this.h)):Promise.reject(t)}.bind(t))),t.f=!0,t.a}(r.then(function(){return i}).then(function(){return this.j=Zo(),ht(this.m,this.f,"playing",this.mb.bind(this)),ht(this.m,this.f,"pause",this.mb.bind(this)),ht(this.m,this.f,"ended",this.mb.bind(this)),this.h=new this.c.abrFactory,this.h.configure(this.c.abr),this.u=new this.c.textDisplayFactory,this.u.setTextVisibility(this.Ya),oi(t,this.s,this.c.manifest.retryParameters,n)}.bind(this)).then(function(e){return this.i=new e,this.i.configure(this.c.manifest),this.i.start(t,{networkingEngine:this.s,filterNewPeriod:this.vb.bind(this),filterAllPeriods:this.gc.bind(this),onTimelineRegionAdded:this.be.bind(this),onEvent:this.lb.bind(this),onError:this.Va.bind(this)})}.bind(this)).then(function(e){if(e.periods.some(function(t){return t.variants.some(function(t){return t.video&&t.audio})})&&e.periods.forEach(function(t){t.variants=t.variants.filter(function(t){return t.video&&t.audio})}),0==e.periods.length)throw new R(2,4,4014);return this.b=e,this.Gb=t,this.l=new Ut({Pa:this.s,onError:this.Va.bind(this),Ab:this.Nd.bind(this),onExpirationUpdated:this.Kd.bind(this),onEvent:this.lb.bind(this)}),this.l.configure(this.c.drm),this.l.init(e,!1)}.bind(this)).then(function(){this.gc(this.b.periods),this.ob=Date.now()/1e3,this.ea=this.c.preferredAudioLanguage,this.fa=this.c.preferredTextLanguage;var t=this.b.presentationTimeline.T(),e=this.c.playRangeEnd,n=this.c.playRangeStart;return 0<n&&(this.R()||this.b.presentationTimeline.Uc(n)),e<t&&(this.R()||this.b.presentationTimeline.ka(e)),Promise.all([function(t,e){if(!t.j)return pt(t.g,e,"encrypted",function(){this.h(new R(2,6,6010))}.bind(t)),Promise.resolve();t.l=e,pt(t.g,t.l,"play",t.Ud.bind(t));var n=t.l.setMediaKeys(t.j);n=n.catch(function(t){return Promise.reject(new R(2,6,6003,t.message))});var i=null;return t.b.serverCertificate&&t.b.serverCertificate.length&&(i=t.j.setServerCertificate(t.b.serverCertificate).then(function(){}).catch(function(t){return Promise.reject(new R(2,6,6004,t.message))})),Promise.all([n,i]).then(function(){if(this.c)return Promise.reject();jt(this),this.b.initData.length||this.m.length||ht(this.g,this.l,"encrypted",this.Jd.bind(this))}.bind(t)).catch(function(t){return this.c?Promise.resolve():Promise.reject(t)}.bind(t))}(this.l,this.f),this.rb])}.bind(this)).then(function(){return this.h.init(this.Ke.bind(this)),this.g=new or(this.f,this.b,this.c.streaming,void 0==e?null:e,this.Ie.bind(this),this.lb.bind(this)),this.w=new cr(this.f,this.ya,this.b,this.c.streaming,this.Xc.bind(this),this.lb.bind(this),this.He.bind(this)),this.xa=new te(this.f,this.ya,this.u),this.a=new fr(this.b,{Ra:this.g,K:this.xa,Pa:this.s,Bc:this.Hd.bind(this),Ac:this.gd.bind(this),onError:this.Va.bind(this),onEvent:this.lb.bind(this),Od:this.Pd.bind(this),gb:this.Zd.bind(this),filterNewPeriod:this.vb.bind(this),filterAllPeriods:this.gc.bind(this)}),this.a.configure(this.c.streaming),function(t){function e(t){return(t.video?t.video.codecs.split(".")[0]:"")+"-"+(t.audio?t.audio.codecs.split(".")[0]:"")}var n={};t.b.periods.forEach(function(t){t.variants.forEach(function(t){var i=e(t);i in n||(n[i]=[]),n[i].push(t)})});var i=null,r=1/0;Et(n,function(t,e){var n=0,o=0;e.forEach(function(t){n+=t.bandwidth||0,++o});var a=n/o;a<r&&(i=t,r=a)}),t.b.periods.forEach(function(t){t.variants=t.variants.filter(function(t){return e(t)==i})})}(this),this.dispatchEvent(new vt("streaming")),this.a.init()}.bind(this)).then(function(){if(this.c.streaming.startAtSegmentBoundary){var t=function(t,e){function n(t,e){if(!t)return null;var n=t.findSegmentPosition(e-o.startTime);return null==n?null:(n=t.getSegmentReference(n))?n.startTime+o.startTime:null}var i=gr(t.a),r=mr(t.a),o=yr(t.a);return i=n(i,e),null!=(r=n(r,e))&&null!=i?Math.max(r,i):null!=r?r:null!=i?i:e}(this,ar(this.g));ir(this.g.a,t)}this.b.periods.forEach(this.vb.bind(this)),ia(this),na(this);var e=Se((t=yr(this.a)).variants,this.ea,this.Xa);this.h.setVariants(e),t.variants.some(function(t){return t.primary}),this.sb.forEach(this.w.s.bind(this.w)),this.sb=[],pt(this.m,this.f,"loadeddata",function(){this.j.loadLatency=(Date.now()-o)/1e3}.bind(this)),this.Ia=null}.bind(this))).catch(function(t){return this.Ia==r&&(this.Ia=null,this.dispatchEvent(new vt("unloading"))),Promise.reject(t)}.bind(this))},Fo.prototype.load=Fo.prototype.load,Fo.prototype.configure=function(t){X(this.c,t,Xo(this),qo(),""),Go(this)},Fo.prototype.configure=Fo.prototype.configure,Fo.prototype.getConfiguration=function(){var t=Xo(this);return X(t,this.c,Xo(this),qo(),""),t},Fo.prototype.getConfiguration=Fo.prototype.getConfiguration,Fo.prototype.we=function(){this.c=Xo(this),Go(this)},Fo.prototype.resetConfiguration=Fo.prototype.we,Fo.prototype.sd=function(){return this.f},Fo.prototype.getMediaElement=Fo.prototype.sd,Fo.prototype.vc=function(){return this.s},Fo.prototype.getNetworkingEngine=Fo.prototype.vc,Fo.prototype.Nb=function(){return this.Gb},Fo.prototype.getManifestUri=Fo.prototype.Nb,Fo.prototype.R=function(){return!!this.b&&this.b.presentationTimeline.R()},Fo.prototype.isLive=Fo.prototype.R,Fo.prototype.Ca=function(){return!!this.b&&this.b.presentationTimeline.Ca()},Fo.prototype.isInProgress=Fo.prototype.Ca,Fo.prototype.Dd=function(){if(!this.b||!this.b.periods.length)return!1;var t=this.b.periods[0].variants;return!!t.length&&!t[0].video},Fo.prototype.isAudioOnly=Fo.prototype.Dd,Fo.prototype.ye=function(){var t=0,e=0;return this.b&&(t=(e=this.b.presentationTimeline).La(),e=e.ra()),{start:t,end:e}},Fo.prototype.seekRange=Fo.prototype.ye,Fo.prototype.keySystem=function(){return this.l?this.l.keySystem():""},Fo.prototype.keySystem=Fo.prototype.keySystem,Fo.prototype.drmInfo=function(){return this.l?this.l.b:null},Fo.prototype.drmInfo=Fo.prototype.drmInfo,Fo.prototype.xb=function(){return this.l?this.l.xb():1/0},Fo.prototype.getExpiration=Fo.prototype.xb,Fo.prototype.yc=function(){return this.tb},Fo.prototype.isBuffering=Fo.prototype.yc,Fo.prototype.Db=function(){return this.M?Promise.resolve():(this.dispatchEvent(new vt("unloading")),jo(this).then(function(){var t;return this.Za||(this.Za=(t=this,t.i?Wo(t).then(function(){this.M||(this.Xc(!1),this.rb=Ho(this))}.bind(t)):Promise.resolve()).then(function(){this.Za=null}.bind(this))),this.Za}.bind(this)))},Fo.prototype.unload=Fo.prototype.Db,Fo.prototype.$a=function(){return this.g?this.g.$a():0},Fo.prototype.getPlaybackRate=Fo.prototype.$a,Fo.prototype.Te=function(t){this.g&&rr(this.g.a,t),this.a&&Ar(this.a,1!=t)},Fo.prototype.trickPlay=Fo.prototype.Te,Fo.prototype.hd=function(){this.g&&rr(this.g.a,1),this.a&&Ar(this.a,!1)},Fo.prototype.cancelTrickPlay=Fo.prototype.hd,Fo.prototype.Ad=function(){if(!this.b||!this.g)return[];var t=Ie(this.b,ar(this.g)),e=this.J[t]||{};return Ae(this.b.periods[t],e.audio,e.video)},Fo.prototype.getVariantTracks=Fo.prototype.Ad,Fo.prototype.zd=function(){if(!this.b||!this.g)return[];var t=Ie(this.b,ar(this.g)),e=this.J[t]||{};if(!e.text){var n=Ce(this.b.periods[t].textStreams,this.fa,this.Wa);n.length&&(e.text=n[0].id)}return Ee(this.b.periods[t],e.text).filter(function(t){return 0>this.pb.indexOf(t.id)}.bind(this))},Fo.prototype.getTextTracks=Fo.prototype.zd,Fo.prototype.Be=function(t){if(this.a){var e=yr(this.a);t:{for(var n=0;n<e.textStreams.length;n++)if(e.textStreams[n].id==t.id){t=e.textStreams[n];break t}t=null}t&&($o(this,t,!1),e=t,this.za?this.A=e:wr(this.a,e,!0),this.fa=t.language)}},Fo.prototype.selectTextTrack=Fo.prototype.Be,Fo.prototype.Ce=function(t,e){if(this.a){this.c.abr.enabled&&O("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var n=yr(this.a);(n=we(n,t))&&Te(n)&&(Yo(this,n,!1),Qo(this,n,e),this.ea=n.language)}},Fo.prototype.selectVariantTrack=Fo.prototype.Ce,Fo.prototype.pd=function(){if(!this.a)return[];var t=yr(this.a);return zo(t=ke(t.variants).map(function(t){return t.audio}).filter(et))},Fo.prototype.getAudioLanguagesAndRoles=Fo.prototype.pd,Fo.prototype.yd=function(){return this.a?zo(yr(this.a).textStreams):[]},Fo.prototype.getTextLanguagesAndRoles=Fo.prototype.yd,Fo.prototype.od=function(){return this.a?ke(yr(this.a).variants).map(function(t){return t.language}).filter(et):[]},Fo.prototype.getAudioLanguages=Fo.prototype.od,Fo.prototype.xd=function(){return this.a?yr(this.a).textStreams.map(function(t){return t.language}).filter(et):[]},Fo.prototype.getTextLanguages=Fo.prototype.xd,Fo.prototype.ze=function(t,e){if(this.a){var n=yr(this.a);this.ea=t,this.Xa=e||"",ea(this,n)}},Fo.prototype.selectAudioLanguage=Fo.prototype.ze,Fo.prototype.Ae=function(t,e){if(this.a){var n=yr(this.a);this.fa=t,this.Wa=e||"",ea(this,n)}},Fo.prototype.selectTextLanguage=Fo.prototype.Ae,Fo.prototype.Rb=function(){return this.u?this.u.isTextVisible():this.Ya},Fo.prototype.isTextTrackVisible=Fo.prototype.Rb,Fo.prototype.Fe=function(t){this.u&&this.u.setTextVisibility(t),this.Ya=t,ra(this),!this.c.streaming.alwaysStreamText&&this.a&&(t?(t=Ce((t=yr(this.a)).textStreams,this.fa,this.Wa)[0])&&_r(this.a,t,!0):((t=this.a).w=!0,t.c.text&&(Mr(t.c.text),delete t.c.text)))},Fo.prototype.setTextTrackVisibility=Fo.prototype.Fe,Fo.prototype.ud=function(){return this.b?new Date(1e3*this.b.presentationTimeline.f+1e3*this.f.currentTime):null},Fo.prototype.getPlayheadTimeAsDate=Fo.prototype.ud,Fo.prototype.wd=function(){return this.b?new Date(1e3*this.b.presentationTimeline.f):null},Fo.prototype.getPresentationStartTimeAsDate=Fo.prototype.wd,Fo.prototype.Lb=function(){return this.xa?this.xa.Lb():{total:[],audio:[],video:[],text:[]}},Fo.prototype.getBufferedInfo=Fo.prototype.Lb,Fo.prototype.getStats=function(){Jo(this),this.mb();var t=null,e=null,n=this.f;if(n=n&&n.getVideoPlaybackQuality?n.getVideoPlaybackQuality():{},this.g&&this.b){var i=Ie(this.b,ar(this.g)),r=this.b.periods[i];(i=this.J[i])&&(t=(e=function(t,e,n){function i(t,e){return null==t?null==e:e.id==t}for(var r=0;r<n.length;r++)if(i(t,n[r].audio)&&i(e,n[r].video))return n[r];return null}(i.audio,i.video,r.variants)).video||{})}return t||(t={}),e||(e={}),{width:t.width||0,height:t.height||0,streamBandwidth:e.bandwidth||0,decodedFrames:Number(n.totalVideoFrames),droppedFrames:Number(n.droppedVideoFrames),estimatedBandwidth:this.h?this.h.getBandwidthEstimate():NaN,loadLatency:this.j.loadLatency,playTime:this.j.playTime,bufferingTime:this.j.bufferingTime,switchHistory:Z(this.j.switchHistory),stateHistory:Z(this.j.stateHistory)}},Fo.prototype.getStats=Fo.prototype.getStats,Fo.prototype.addTextTrack=function(t,e,n,i,r,o){if(!this.a)return Promise.reject();for(var a,s=yr(this.a),l=0;l<this.b.periods.length;l++)if(this.b.periods[l]==s){if(l==this.b.periods.length-1){if(1/0==(a=this.b.presentationTimeline.T()-s.startTime))return Promise.reject()}else a=this.b.periods[l+1].startTime-s.startTime;break}var u={id:this.dd++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1!=e?null:new Rn(1,0,a,function(){return[t]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:i,codecs:r||"",kind:n,encrypted:!1,keyId:null,language:e,label:o||null,type:"text",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null};return this.pb.push(u.id),s.textStreams.push(u),_r(this.a,u,this.Ya).then(function(){if(!this.M){var t=this.b.periods.indexOf(s),i=br(this.a,"text");return i&&(this.J[t].text=i.id),this.pb.splice(this.pb.indexOf(u.id),1),ea(this,s),ia(this),{id:u.id,active:!1,type:"text",bandwidth:0,language:e,label:o||null,kind:n,width:null,height:null}}}.bind(this))},Fo.prototype.addTextTrack=Fo.prototype.addTextTrack,Fo.prototype.ec=function(t,e){this.qb.width=t,this.qb.height=e},Fo.prototype.setMaxHardwareResolution=Fo.prototype.ec,Fo.prototype.Qc=function(){if(this.a){var t=this.a;if(t.f)t=!1;else if(t.l)t=!1;else{for(var e in t.c){var n=t.c[e];n.cb&&(n.cb=!1,Dr(t,n,.1))}t=!0}}else t=!1;return t},Fo.prototype.retryStreaming=Fo.prototype.Qc,Fo.prototype.uc=function(){return this.b},Fo.prototype.getManifest=Fo.prototype.uc,(e=Fo.prototype).ld=function(t){this.R()&&0<=[1001,1002,1003].indexOf(t.code)&&(t.severity=1,this.Qc())},e.gc=function(t){t.forEach(ve.bind(null,this.l,this.a?gr(this.a):null,this.a?mr(this.a):null));var e=function(t,e){var n=0;return t.forEach(function(t){n+=e(t)?1:0}),n}(t,function(t){return t.variants.some(Te)});if(0==e)throw new R(2,4,4032);if(e<t.length)throw new R(2,4,4011);t.forEach(function(t){if(ye(t,this.c.restrictions,this.qb)&&this.a&&yr(this.a)==t&&ia(this),!t.variants.some(Te))throw new R(2,4,4012)}.bind(this))},e.vb=function(t){ve(this.l,this.a?gr(this.a):null,this.a?mr(this.a):null,t);var e=t.variants,n=e.some(Te);if(ye(t,this.c.restrictions,this.qb)&&this.a&&yr(this.a)==t&&ia(this),t=e.some(Te),!n)throw new R(2,4,4011);if(!t)throw new R(2,4,4012)},e.Je=function(t,e){this.h&&this.h.segmentDownloaded(t,e)},e.Xc=function(t){if(Jo(this),this.tb=t,this.mb(),this.g){var e=this.g.a;t!=e.g&&(e.g=t,rr(e,e.f))}this.dispatchEvent(new vt("buffering",{buffering:t}))},e.He=function(){ia(this)},e.mb=function(){if(!this.M){var t=this.tb?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing",e=Date.now()/1e3;if(this.j.stateHistory.length){var n=this.j.stateHistory[this.j.stateHistory.length-1];if(n.duration=e-n.timestamp,t==n.state)return}this.j.stateHistory.push({timestamp:e,state:t,duration:0})}},e.Ie=function(){if(this.w){var t=this.w;t.c.forEach(t.m.bind(t,!0))}this.a&&function(t){var e=ar(t.a.Ra);Object.keys(t.c).every(function(t){var n=this.a.K;return"text"==t?(t=n.a,t=e>=t.a&&e<t.b):t=$t(t=ie(n,t),e),t}.bind(t))||Tr(t)}(this.a)},e.Hd=function(t){this.za=!0,this.h.disable();var e={audio:!1,text:!1},n=Se(t.variants,this.ea,this.Xa,e),i=Ce(t.textStreams,this.fa,this.Wa,e);if(n=ta(this,n),i=i[0]||null,this.L){t:{for(var r=this.b,o=0;o<r.periods.length;++o)for(var a=r.periods[o],s=0;s<a.variants.length;++s)if(a.variants[s]==this.L){r=o;break t}r=-1}(r=this.b.periods[r])==t&&(n=this.L),this.L=null}return this.A&&(r=xe(this.b,this.A),(r=this.b.periods[r])==t&&(i=this.A),this.A=null),n&&Yo(this,n,!0),i&&($o(this,i,!0),!vr(this.a)&&n&&n.audio&&e.text&&i.language!=n.audio.language&&(this.u.setTextVisibility(!0),ra(this))),this.c.streaming.alwaysStreamText||this.Rb()?{variant:n,text:i}:{variant:n,text:null}},e.gd=function(){this.za=!1,this.c.abr.enabled&&this.h.enable(),this.L&&(Er(this.a,this.L,this.mc),this.L=null),this.A&&(wr(this.a,this.A,!0),this.A=null)},e.Pd=function(){this.i&&this.i.update&&this.i.update()},e.Zd=function(){this.g&&this.g.gb()},e.Ke=function(t,e){Yo(this,t,!0),this.a&&(Er(this.a,t,e||!1),na(this))},e.Va=function(t){if(!this.M){var e=new vt("error",{detail:t});this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)}},e.be=function(t){this.w?this.w.s(t):this.sb.push(t)},e.lb=function(t){this.dispatchEvent(t)},e.ce=function(){if(this.f.error){var t=this.f.error.code;if(1!=t){var e=this.f.error.msExtendedCode;e&&(0>e&&(e+=Math.pow(2,32)),e=e.toString(16)),this.Va(new R(2,3,3016,t,e,this.f.error.message))}}},e.Nd=function(t){var e=["output-restricted","internal-error"],n=yr(this.a),i=!1,r=Object.keys(t),o=1==r.length&&"00"==r[0];r.length&&n.variants.forEach(function(n){var r=[];n.audio&&r.push(n.audio),n.video&&r.push(n.video),r.forEach(function(r){var a=n.allowedByKeySystem;r.keyId&&(r=t[o?"00":r.keyId],n.allowedByKeySystem=!!r&&0>e.indexOf(r)),a!=n.allowedByKeySystem&&(i=!0)})}),(r=Re(gr(this.a),mr(this.a),n.variants))&&!r.allowedByKeySystem&&ea(this,n),i&&(ia(this),n=Se(n.variants,this.ea,this.Xa),this.h.setVariants(n))},e.Kd=function(t,e){this.i&&this.i.onExpirationUpdated&&this.i.onExpirationUpdated(t,e),this.dispatchEvent(new vt("expirationupdated"))},E("shaka.offline.Storage",sa),sa.support=la,sa.prototype.destroy=function(){return this.a=this.b=null,Promise.resolve()},sa.prototype.destroy=sa.prototype.destroy,sa.prototype.configure=function(t){X(this.b,t,ua(this),{},"")},sa.prototype.configure=sa.prototype.configure,sa.prototype.store=function(t,e,n){var i=this;return h(function r(){var o,a,s,l;return _(r,function(r){switch(r.D){case 1:return pa(),i.g?r.return(Promise.reject(new R(2,9,9006))):(i.g=!0,o=e||{},a=null,v(r,function(t,e,n,i){function r(){}var o,a,s,l=t.a.s,u=t.a.getConfiguration();return oi(e,l,u.manifest.retryParameters,i).then(function(t){var i=this;ha(this),(a=new Ut({Pa:l,onError:n,Ab:r,onExpirationUpdated:function(){},onEvent:function(){}})).configure(u.drm);var o={networkingEngine:l,filterAllPeriods:function(t){ca(i,a,t)},filterNewPeriod:function(t){da(i,a,t)},onTimelineRegionAdded:function(){},onEvent:function(){},onError:n};return(s=new t).configure(u.manifest),s.start(e,o)}.bind(t)).then(function(t){return ha(this),o=t,a.init(o,this.b.usePersistentLicense)}.bind(t)).then(function(){return ha(this),e=(t=o).periods.map(function(t){return t.variants}).reduce(Q,[]).map(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e}).reduce(Q,[]).filter(et),t=t.periods.map(function(t){return t.textStreams}).reduce(Q,[]),e.push.apply(e,t),Promise.all(e.map(function(t){return t.createSegmentIndex()}));var t,e}.bind(t)).then(function(){return ha(this),jt(a)}.bind(t)).then(function(){return ha(this),s.stop()}.bind(t)).then(function(){return ha(this),{manifest:o,Jb:a}}.bind(t)).catch(function(t){if(s)return s.stop().then(function(){throw t});throw t})}(i,t,function(t){a=a||t},n),2));case 2:if(s=r.P,!(!s.manifest.presentationTimeline.R()&&!s.manifest.presentationTimeline.Ca()))throw new R(2,9,9005,t);if(ha(i),a)throw a;return l=new $r,r.return(nt([l,s.Jb],function(){return h(function e(){var n,r,u,c,d,h,p;return _(e,function(e){switch(e.D){case 1:return function(t){t.Ja=0,t.c=2}(e),v(e,l.init(),4);case 4:return ha(i),ca(i,s.Jb,s.manifest.periods),v(e,function(t){var e=null;if(Et(t.a,function(t,n){Et(n.getCells(),function(n,i){i.hasFixedKeySpace()||e||(e={path:{Z:t,O:n},O:i})})}),e)return e;throw new R(2,9,9013,"Could not find a cell that supports add-operations")}(l),5);case 5:return n=e.P,ha(i),e.Ja=6,v(e,function(t,e,n,i,r,o){var a,s=function(t,e,n){var i=void 0==e.expiration?1/0:e.expiration;return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.T(),size:0,expiration:i,tracks:e=_e(e.periods[0]),appMetadata:n}}(r,i,o),l=new Ur(function(e,n){s.size=n,t.b.progressCallback(s,e)});return nt([l],function(){return a=function(t,e,n,i,r,o,a){var s=new function(){this.a={}},l=r.periods.map(function(o){return function(t,e,n,i,r,o,a){var s=Ae(a,null,null),l=Ee(a,null);s=t.b.trackSelectionCallback(s.concat(l)),null==t.c&&(t.c=s,ca(t,r,o.periods)),function(t){t.some(function(e){return t.some(function(t){return e!=t&&e.type==t.type&&e.kind==t.kind&&e.language==t.language})})}(s),o.periods.forEach(function(t){t.variants.forEach(function(t){var e=t.audio,n=t.video;if(e&&!n&&(i.a[e.id]=e.bandwidth||t.bandwidth),!e&&n&&(i.a[n.id]=n.bandwidth||t.bandwidth),e&&n){var r=e.bandwidth||393216,o=n.bandwidth||t.bandwidth-r;0>=o&&(o=t.bandwidth),i.a[e.id]=r,i.a[n.id]=o}}),t.textStreams.forEach(function(t){i.a[t.id]=52})});var u={};s.forEach(function(t){"variant"==t.type&&null!=t.audioId&&(u[t.audioId]=!0),"variant"==t.type&&null!=t.videoId&&(u[t.videoId]=!0),"text"==t.type&&(u[t.id]=!0)});var c={};return function(t){var e={};return t.periods.forEach(function(t){t.textStreams.forEach(function(t){e[t.id]=t}),t.variants.forEach(function(t){t.audio&&(e[t.audio.id]=t.audio),t.video&&(e[t.video.id]=t.video)})}),At(e)}(o).filter(function(t){return!!u[t.id]}).forEach(function(r){c[r.id]=function(t,e,n,i,r,o){var a={id:o.id,primary:o.primary,presentationTimeOffset:o.presentationTimeOffset||0,contentType:o.type,mimeType:o.mimeType,codecs:o.codecs,frameRate:o.frameRate,kind:o.kind,language:o.language,label:o.label,width:o.width||null,height:o.height||null,initSegmentKey:null,encrypted:o.encrypted,keyId:o.keyId,segments:[],variantIds:[]};r=r.presentationTimeline.bb();var s=o.id;return function(t,e,n){for(var i=null==(e=t.findSegmentPosition(e))?null:t.getSegmentReference(e);i;)n(i),i=t.getSegmentReference(++e)}(o,r,function(r){Fr(e,s,fa(t,r),function(t,e,n){return n=n.endTime-n.startTime,aa(t,e)*n}(i,o.id,r),function(e){return n.addSegments([{data:e}]).then(function(e){t.f.push(e[0]),a.segments.push({startTime:r.startTime,endTime:r.endTime,dataKey:e[0]})})})}),(r=o.initSegmentReference)&&Fr(e,s,fa(t,r),.5*aa(i,o.id),function(e){return n.addSegments([{data:e}]).then(function(e){t.f.push(e[0]),a.initSegmentKey=e[0]})}),a}(t,e,n,i,o,r)}),s.forEach(function(t){"variant"==t.type&&null!=t.audioId&&c[t.audioId].variantIds.push(t.id),"variant"==t.type&&null!=t.videoId&&c[t.videoId].variantIds.push(t.id)}),{startTime:a.startTime,streams:At(c)}}(t,e,n,s,i,r,o)}),u=i.b,c=function(t){return t.a.map(function(t){return t.ja.sessionId})}(i);if(u&&t.b.usePersistentLicense){if(!c.length)throw new R(2,9,9007,o);u.initData=[]}return{originalManifestUri:o,duration:r.presentationTimeline.T(),size:0,expiration:i.xb(),periods:l,sessionIds:t.b.usePersistentLicense?c:[],drmInfo:u,appMetadata:a}}(t,l,e,n,i,r,o),jr(l,t.a.s)}).then(function(){return a.size=s.size,a})}(i,n.O,s.Jb,s.manifest,t,o||{}),8);case 8:return r=e.P,ha(i),v(e,n.O.addManifests([r]),9);case 9:return u=e.P,ha(i),c=new po("manifest",n.path.Z,n.path.O,u[0]),e.return(oa(c,r));case 6:return d=function(t){t.Ja=0;var e=t.a.rc;return t.a=null,e}(e),h=i.f,p=function(){},v(e,n.O.removeSegments(h,p),10);case 10:throw a||d;case 2:(function(t){t.h=[t.a],t.Ja=0,t.c=0})(e),i.g=!1,i.c=null,i.f=[],function(t){var e=t.h.splice(0)[0];(e=t.a=t.a||e)?e.zc?t.D=t.Ja||t.c:void 0!=e.ha&&t.c<e.ha?(t.D=e.ha,t.a=null):t.D=t.c:t.D=0}(e)}})}())}))}})}())},sa.prototype.store=sa.prototype.store,sa.prototype.remove=function(t){var e=this;pa();var n=fo(t);if(null==n||"manifest"!=n.a)return Promise.reject(new R(2,9,9004,t));var i=new $r;return nt([i],function(){return h(function t(){var r,o,a;return _(t,function(t){switch(t.D){case 1:return v(t,i.init(),2);case 2:return v(t,Wr(i,n.Z(),n.O()),3);case 3:return v(t,(r=t.P).getManifests([n.key()]),4);case 4:return o=t.P,a=o[0],v(t,Promise.all([function(t,e,n){var i,r=new Ut({Pa:t.a.s,onError:function(t){6013!=t.code&&(i=t)},Ab:function(){},onExpirationUpdated:function(){},onEvent:function(){}});r.configure(t.a.getConfiguration().drm);var o=vo(new yo(e.Z(),e.O()),n);return nt([r],function(){return h(function e(){return _(e,function(e){switch(e.D){case 1:return v(e,r.init(o,t.b.usePersistentLicense),2);case 2:return v(e,Ft(r,n.sessionIds),0)}})}())}).then(function(){if(i)throw i})}(e,n,a),function(t,e,n,i){function r(){s+=1,t.b.progressCallback(l,s/a)}var o=function(t){var e=[];return t.periods.forEach(function(t){t.streams.forEach(function(t){null!=t.initSegmentKey&&e.push(t.initSegmentKey),t.segments.forEach(function(t){e.push(t.dataKey)})})}),e}(i),a=o.length+1,s=0,l=oa(n,i);return Promise.all([e.removeSegments(o,r),e.removeManifests([n.key()],r)])}(e,r,n,a)]),0)}})}())})},sa.prototype.remove=sa.prototype.remove,sa.prototype.list=function(){function t(t,n){return h(function i(){return _(i,function(i){switch(i.D){case 1:return v(i,n.getAllManifests(),2);case 2:Et(i.P,function(n,i){var r=oa(new po("manifest",t.Z,t.O,n),i);e.push(r)}),i.D=0}})}())}pa();var e=[],n=new $r;return nt([n],function(){return h(function e(){var i;return _(e,function(e){switch(e.D){case 1:return v(e,n.init(),2);case 2:return i=Promise.resolve(),Kr(n,function(e,n){i=i.then(function(){return t(e,n)})}),v(e,i,0)}})}())}).then(function(){return e})},sa.prototype.list=sa.prototype.list,sa.deleteAll=function(t){var e=t.s,n=t.getConfiguration().drm,i=new $r;return nt([i],function(){return h(function t(){var r,o;return _(t,function(t){switch(t.D){case 1:return v(t,i.init(),2);case 2:return v(t,function(t){var e=[],n=[];return Kr(t,function(t,i){var r=new yo(t.Z,t.O);n.push(i.getAllManifests().then(function(t){At(t).forEach(function(t){e.push(vo(r,t))})}))}),Promise.all(n).then(function(){return e})}(i),3);case 3:return r=t.P,o=Promise.resolve(),r.forEach(function(t){o=o.then(function(){return function(t,e,n){var i=new Ut({Pa:t,onError:function(){},Ab:function(){},onExpirationUpdated:function(){},onEvent:function(){}});return i.configure(e),nt([i],function(){return h(function t(){return _(t,function(t){switch(t.D){case 1:return v(t,i.init(n,!0),2);case 2:return v(t,Ft(i,n.offlineSessionIds),0)}})}())})}(e,n,t)})}),v(t,o,4);case 4:return v(t,function(t){return t=At(t.a).map(function(t){return t.erase()}),Promise.all(t)}(i),0)}})}())})},Vo.offline=la,E("shaka.polyfill.installAll",function(){for(var t=0;t<ga.length;++t)ga[t]()});var ya,va,ga=[];function ma(t){ga.push(t)}function ba(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(e,t);else(n=document.createEvent("Event")).initEvent(e,t.bubbles,t.cancelable);t.target.dispatchEvent(n)}function _a(t,e,n){if("input"==t)switch(this.type){case"range":t="change"}ya.call(this,t,e,n)}function Aa(t){this.f=[],this.b=[],this.a=[],(new Mn).X("pssh",this.c.bind(this)).parse(t.buffer)}function Ea(t,e){try{var n=new wa(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function wa(t,e){this.keySystem=t;for(var n=!1,i=0;i<e.length;++i){var r=e[i],o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label},a=!1;if(r.audioCapabilities)for(var s=0;s<r.audioCapabilities.length;++s){var l=r.audioCapabilities[s];if(l.contentType){a=!0;var u=l.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,u)&&(o.audioCapabilities.push(l),n=!0)}}if(r.videoCapabilities)for(s=0;s<r.videoCapabilities.length;++s)(l=r.videoCapabilities[s]).contentType&&(a=!0,u=l.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,u)&&(o.videoCapabilities.push(l),n=!0));if(a||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==r.persistentState&&(n=!1),n)return void(this.a=o)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ta(t){var e=this.mediaKeys;return e&&e!=t&&Sa(e,null),delete this.mediaKeys,(this.mediaKeys=t)?Sa(t,this):Promise.resolve()}function ka(t){this.a=new MSMediaKeys(t),this.b=new dt}function Sa(t,e){if(ft(t.b),!e)return Promise.resolve();ht(t.b,e,"msneedkey",Oa);var n=t;try{return 1<=e.readyState?e.msSetMediaKeys(t.a):e.addEventListener("loadedmetadata",function t(){e.msSetMediaKeys(n.a),e.removeEventListener("loadedmetadata",t)}),Promise.resolve()}catch(t){return Promise.reject(t)}}function Ca(t){Je.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new dt,this.sessionId="",this.expiration=NaN,this.closed=new $,this.keyStatuses=new Ia}function Oa(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="cenc";var n=t.initData;if(n){var i=new Aa(n);if(1>=i.a.length)t=n;else{var r=[];for(t=0;t<i.a.length;t++)r.push(n.subarray(i.a[t].start,i.a[t].end+1));for(n=st(r,Pa),t=i=0;t<n.length;t++)i+=n[t].length;for(i=new Uint8Array(i),t=r=0;t<n.length;t++)i.set(n[t],r),r+=n[t].length;t=i}}else t=n;e.initData=t,this.dispatchEvent(e)}function Pa(t,e){return Nt(t,e)}function Ra(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.a=e,t.dispatchEvent(new vt("keystatuseschange"))}function Ia(){this.size=0,this.a=void 0}function xa(){return Promise.reject(Error("The key system specified is not supported."))}function La(t){return null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Da(){throw new TypeError("Illegal constructor.")}function Ma(){throw new TypeError("Illegal constructor.")}E("shaka.polyfill.register",ma),ma(function(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",ba),document.addEventListener("webkitfullscreenerror",ba),document.addEventListener("mozfullscreenchange",ba),document.addEventListener("mozfullscreenerror",ba),document.addEventListener("MSFullscreenChange",ba),document.addEventListener("MSFullscreenError",ba)}}),ma(function(){var e=navigator.userAgent;e&&0<=e.indexOf("CrKey")&&delete t.indexedDB}),ma(function(){0>navigator.userAgent.indexOf("Trident/")||HTMLInputElement.prototype.addEventListener==_a||(ya=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=_a)}),ma(function(){}),Aa.prototype.c=function(t){if(!(1<t.version)){var e=Mt(t.o.Fa(16)),n=[];if(0<t.version)for(var i=t.o.B(),r=0;r<i;++r){var o=Mt(t.o.Fa(16));n.push(o)}i=t.o.B(),t.o.F(i),this.b.push.apply(this.b,n),this.f.push(e),this.a.push({start:t.start,end:t.start+t.size-1})}},wa.prototype.createMediaKeys=function(){var t=new ka(this.keySystem);return Promise.resolve(t)},wa.prototype.getConfiguration=function(){return this.a},ka.prototype.createSession=function(t){var e=t||"temporary";if("temporary"!=e)throw new TypeError("Session type "+t+" is unsupported on this platform.");return new Ca(this.a,e)},ka.prototype.setServerCertificate=function(){return Promise.resolve(!1)},w(Ca,Je),(e=Ca.prototype).generateRequest=function(t,e){this.a=new $;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e),null),ht(this.f,this.c,"mskeymessage",this.Td.bind(this)),ht(this.f,this.c,"mskeyadded",this.Rd.bind(this)),ht(this.f,this.c,"mskeyerror",this.Sd.bind(this)),Ra(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},e.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},e.update=function(t){this.b=new $;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},e.close=function(){try{this.c.close(),this.closed.resolve(),ft(this.f)}catch(t){this.closed.reject(t)}return this.closed},e.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},e.Td=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new vt("message",{messageType:void 0==this.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message.buffer}))},e.Rd=function(){this.a?(Ra(this,"usable"),this.a.resolve(),this.a=null):this.b&&(Ra(this,"usable"),this.b.resolve(),this.b=null)},e.Sd=function(){var t=Error("EME PatchedMediaKeysMs key error");if(t.errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Ra(this,"output-not-allowed");break;default:Ra(this,"internal-error")}},(e=Ia.prototype).forEach=function(t){this.a&&t(this.a,va)},e.get=function(t){if(this.has(t))return this.a},e.has=function(t){var e=va;return!(!this.a||!Nt(new Uint8Array(t),new Uint8Array(e)))},e.entries=function(){},e.keys=function(){},e.values=function(){},Da.prototype.createSession=function(){},Da.prototype.setServerCertificate=function(){},Ma.prototype.getConfiguration=function(){},Ma.prototype.createMediaKeys=function(){};var Na,Ba="";function Ua(e){Ba=e,Na=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=ja,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Va,t.MediaKeys=Ga,t.MediaKeySystemAccess=Ha}function Fa(t){return Ba?Ba+t.charAt(0).toUpperCase()+t.slice(1):t}function ja(t,e){try{var n=new Ha(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function Va(t){var e=this.mediaKeys;return e&&e!=t&&za(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&za(t,this),Promise.resolve()}function Ha(t,e){this.a=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.a="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video");for(var o=0;o<e.length;++o){var a=e[o],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:a.initDataTypes,sessionTypes:["temporary"],label:a.label},l=!1;if(a.audioCapabilities)for(var u=0;u<a.audioCapabilities.length;++u){var c=a.audioCapabilities[u];if(c.contentType){l=!0;var d=c.contentType.split(";")[0];r.canPlayType(d,this.a)&&(s.audioCapabilities.push(c),i=!0)}}if(a.videoCapabilities)for(u=0;u<a.videoCapabilities.length;++u)(c=a.videoCapabilities[u]).contentType&&(l=!0,r.canPlayType(c.contentType,this.a)&&(s.videoCapabilities.push(c),i=!0));if(l||(i=r.canPlayType("video/mp4",this.a)||r.canPlayType("video/webm",this.a)),"required"==a.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):i=!1),i)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ga(t){this.g=t,this.b=null,this.a=new dt,this.c=[],this.f={}}function za(t,e){t.b=e,ft(t.a);var n=Ba;e&&(ht(t.a,e,n+"needkey",t.ge.bind(t)),ht(t.a,e,n+"keymessage",t.fe.bind(t)),ht(t.a,e,n+"keyadded",t.de.bind(t)),ht(t.a,e,n+"keyerror",t.ee.bind(t)))}function Ya(t,e){var n=t.f[e];return n||((n=t.c.shift())?(n.sessionId=e,t.f[e]=n):null)}function $a(t,e,n){Je.call(this),this.f=t,this.h=!1,this.a=this.b=null,this.c=e,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new $,this.keyStatuses=new qa}function Ka(t,e,n){if(t.h)return Promise.reject(Error("The session is already initialized."));t.h=!0;try{if("persistent-license"==t.g)if(n)var i=new Uint8Array(Ot("LOAD_SESSION|"+n));else{var r=Ot("PERSISTENT|"),o=new Uint8Array(r.byteLength+e.byteLength);o.set(new Uint8Array(r),0),o.set(new Uint8Array(e),r.byteLength),i=o}else i=new Uint8Array(e)}catch(t){return Promise.reject(t)}t.b=new $;var a=Fa("generateKeyRequest");try{t.f[a](t.c,i)}catch(e){if("InvalidStateError"!=e.name)return t.b=null,Promise.reject(e);setTimeout(function(){try{this.f[a](this.c,i)}catch(t){this.b.reject(t),this.b=null}}.bind(t),10)}return t.b}function Wa(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.a=e,t.dispatchEvent(new vt("keystatuseschange"))}function qa(){this.size=0,this.a=void 0}function Xa(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var e=t.apply(this,arguments);return e.abort=function(){},e}}function Za(t){var e=t.target,n=e.mediaSource_;if(n.wc){for(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.qc=!0,t=0;t<n.sourceBuffers.length;++t)if(0==n.sourceBuffers[t].qc)return;n.wc=!1}}function Qa(t){t=t.target;for(var e=0;e<t.sourceBuffers.length;++e)t.sourceBuffers[e].removeEventListener("updateend",Za,!1);t.removeEventListener("sourceclose",Qa,!1)}function Ja(t){if(this.c=[],this.b=[],this.W=ts,t)try{t(this.na.bind(this),this.a.bind(this))}catch(t){this.a(t)}}Ha.prototype.createMediaKeys=function(){var t=new Ga(this.a);return Promise.resolve(t)},Ha.prototype.getConfiguration=function(){return this.b},(e=Ga.prototype).createSession=function(t){var e=t||"temporary";if("temporary"!=e&&"persistent-license"!=e)throw new TypeError("Session type "+t+" is unsupported on this platform.");return(t=this.b||document.createElement("video")).src||(t.src="about:blank"),e=new $a(t,this.g,e),this.c.push(e),e},e.setServerCertificate=function(){return Promise.resolve(!1)},e.ge=function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="webm",e.initData=t.initData,this.b.dispatchEvent(e)},e.fe=function(t){var e=Ya(this,t.sessionId);e&&(t=new vt("message",{messageType:void 0==e.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(t))},e.de=function(t){(t=Ya(this,t.sessionId))&&(Wa(t,"usable"),t.a&&t.a.resolve(),t.a=null)},e.ee=function(t){var e=Ya(this,t.sessionId);if(e){var n=Error("EME v0.1b key error");n.errorCode=t.errorCode,n.errorCode.systemCode=t.systemCode,!t.sessionId&&e.b?(n.method="generateRequest",45==t.systemCode&&(n.message="Unsupported session type."),e.b.reject(n),e.b=null):t.sessionId&&e.a?(n.method="update",e.a.reject(n),e.a=null):(n=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Wa(e,"output-restricted"):Wa(e,1==n?"expired":"internal-error"))}},w($a,Je),(e=$a.prototype).hc=function(t,e){if(this.a)this.a.then(this.hc.bind(this,t,e)).catch(this.hc.bind(this,t,e));else{if(this.a=t,"webkit-org.w3.clearkey"==this.c){var n=kt(e),i=JSON.parse(n);"oct"!=i.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=Lt(i.keys[0].k),i=Lt(i.keys[0].kid)}else n=new Uint8Array(e),i=null;var r=Fa("addKey");try{this.f[r](this.c,n,i,this.sessionId)}catch(t){this.a.reject(t),this.a=null}}},e.generateRequest=function(t,e){return Ka(this,e,null)},e.load=function(t){return"persistent-license"==this.g?Ka(this,null,t):Promise.reject(Error("Not a persistent session."))},e.update=function(t){var e=new $;return this.hc(e,t),e},e.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=Fa("cancelKeyRequest");try{this.f[t](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},e.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(e=qa.prototype).forEach=function(t){this.a&&t(this.a,Na)},e.get=function(t){if(this.has(t))return this.a},e.has=function(t){var e=Na;return!(!this.a||!Nt(new Uint8Array(t),new Uint8Array(e)))},e.entries=function(){},e.keys=function(){},e.values=function(){},ma(function(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(HTMLMediaElement.prototype.webkitGenerateKeyRequest?Ua("webkit"):HTMLMediaElement.prototype.generateKeyRequest?Ua(""):t.MSMediaKeys?(va=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ta,t.MediaKeys=ka,t.MediaKeySystemAccess=wa,navigator.requestMediaKeySystemAccess=Ea):(navigator.requestMediaKeySystemAccess=xa,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=La,t.MediaKeys=Da,t.MediaKeySystemAccess=Ma))}),ma(function(){if(t.MediaSource)if(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType)!function(){var t=MediaSource.isTypeSupported,e=/^dv(?:he|av)\./;MediaSource.isTypeSupported=function(n){for(var i=n.split(/ *; */),r=i[0],o={},a=1;a<i.length;++a){var s=i[a].split("="),l=s[0];s=s[1].replace(/"(.*)"/,"$1"),o[l]=s}if(!(i=o.codecs))return t(n);var u=!1,c=!1;for(l in n=i.split(",").filter(function(t){return e.test(t)?(c=!0,!1):(/^(hev|hvc)1\.2/.test(t)&&(u=!0),!0)}),c&&(u=!1),o.codecs=n.join(","),u&&(o.eotf="smpte2084"),o)r+="; "+l+'="'+(s=o[l])+'"';return cast.__platform__.canDisplayType(r)}}();else if(navigator.vendor&&0<=navigator.vendor.indexOf("Apple")){var e=navigator.appVersion;!function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1]&&t(e)}}(),0<=e.indexOf("Version/8")?t.MediaSource=null:0<=e.indexOf("Version/9")?Xa():0<=e.indexOf("Version/10")?(Xa(),function(){var t=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var e=0,n=0;n<this.sourceBuffers.length;++n){var i=this.sourceBuffers[n];i=i.buffered.end(i.buffered.length-1),e=Math.max(e,i)}if(!isNaN(this.duration)&&e<this.duration)for(this.wc=!0,n=0;n<this.sourceBuffers.length;++n)(i=this.sourceBuffers[n]).qc=!1;return t.apply(this,arguments)};var e=!1,n=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=n.apply(this,arguments);return t.mediaSource_=this,t.addEventListener("updateend",Za,!1),e||(this.addEventListener("sourceclose",Qa,!1),e=!0),t}}()):0<=e.indexOf("Version/11")&&(Xa(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}())}});var ts=0;function es(t){var e=new Ja;return e.na(void 0),e.then(function(){return t})}function ns(t){var e=new Ja;return e.a(t),e}function is(t){function e(t,e,n){t.W==ts&&(r[e]=n,++i==r.length&&t.na(r))}var n=new Ja;if(!t.length)return n.na([]),n;for(var i=0,r=Array(t.length),o=n.a.bind(n),a=0;a<t.length;++a)t[a]&&t[a].then?t[a].then(e.bind(null,n,a),o):e(n,a,t[a]);return n}function rs(t){for(var e=new Ja,n=e.na.bind(e),i=e.a.bind(e),r=0;r<t.length;++r)t[r]&&t[r].then?t[r].then(n,i):n(t[r]);return e}function os(t,e,n){cs.push(function(){if(n&&"function"==typeof n){try{var t=n(this.f)}catch(t){return void e.a(t)}try{var i=t&&t.then}catch(t){return void e.a(t)}t instanceof Ja?t==e?e.a(new TypeError("Chaining cycle detected")):t.then(e.na.bind(e),e.a.bind(e)):i?function t(e,n,i){try{var r=!1;n.call(e,function(e){if(!r){r=!0;try{var n=e&&e.then}catch(t){return void i.a(t)}n?t(e,n,i):i.na(e)}},i.a.bind(i))}catch(t){i.a(t)}}(t,i,e):e.na(t)}else 1==this.W?e.na(this.f):e.a(this.f)}.bind(t)),null==us&&(us=ss(as))}function as(){for(;cs.length;){null!=us&&(ls(us),us=null);var t=cs;cs=[];for(var e=0;e<t.length;++e)t[e]()}}function ss(){return 0}function ls(){}Ja.prototype.then=function(t,e){var n=new Ja;switch(this.W){case 1:os(this,n,t);break;case 2:os(this,n,e);break;case ts:this.c.push({G:n,Hb:t}),this.b.push({G:n,Hb:e})}return n},Ja.prototype.catch=function(t){return this.then(void 0,t)},Ja.prototype.na=function(t){if(this.W==ts){for(this.f=t,this.W=1,t=0;t<this.c.length;++t)os(this,this.c[t].G,this.c[t].Hb);this.c=[],this.b=[]}},Ja.prototype.a=function(t){if(this.W==ts){for(this.f=t,this.W=2,t=0;t<this.b.length;++t)os(this,this.b[t].G,this.b[t].Hb);this.c=[],this.b=[]}};var us=null,cs=[];function ds(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function hs(e,n,i){return new t.TextTrackCue(e,n,i)}function ps(e,n,i){return new t.TextTrackCue(e+"-"+n+"-"+i,e,n,i)}function fs(){}ma(function(e){t.setImmediate?(ss=function(e){return t.setImmediate(e)},ls=function(e){t.clearImmediate(e)}):(ss=function(e){return t.setTimeout(e,0)},ls=function(e){t.clearTimeout(e)}),t.Promise&&!e||(t.Promise=Ja,t.Promise.resolve=es,t.Promise.reject=ns,t.Promise.all=is,t.Promise.race=rs,t.Promise.prototype.then=Ja.prototype.then,t.Promise.prototype.catch=Ja.prototype.catch)}),ma(function(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this,arguments);return t&&t.catch(function(){}),t}}}),ma(function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=ds)}}),ma(function(){if(!t.VTTCue&&t.TextTrackCue){var e=TextTrackCue.length;if(3==e)t.VTTCue=hs;else if(6==e)t.VTTCue=ps;else{try{var n=!!hs(1,2,"")}catch(t){n=!1}n&&(t.VTTCue=hs)}}}),fs.prototype.parseInit=function(){},fs.prototype.parseMedia=function(t,e){var n=kt(t),i=[],r=new DOMParser,o=null;try{o=r.parseFromString(n,"text/xml")}catch(t){throw new R(2,2,2005)}if(o){var a=o.getElementsByTagName("tt")[0];if(!a)throw new R(2,2,2005);r=a.getAttribute("ttp:frameRate"),o=a.getAttribute("ttp:subFrameRate");var s=a.getAttribute("ttp:frameRateMultiplier"),l=a.getAttribute("ttp:tickRate");if("default"!=(n=a.getAttribute("xml:space")||"default")&&"preserve"!=n)throw new R(2,2,2005);for(n="default"==n,r=new function(t,e,n,i){this.frameRate=Number(t)||30,this.b=Number(e)||1,this.a=Number(i),0==this.a&&(this.a=t?this.frameRate*this.b:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=t[1]/t[2])}(r,o,s,l),o=ks(a.getElementsByTagName("styling")[0]),s=ks(a.getElementsByTagName("layout")[0]),a=ks(a.getElementsByTagName("body")[0]),l=0;l<a.length;l++){var u=a[l],c=e.periodStart,d=r,h=o,p=s,f=n;if(u.hasAttribute("begin")||u.hasAttribute("end")||!/^\s*$/.test(u.textContent)){Ss(u,f),f=xs(u.getAttribute("begin"),d);var y=xs(u.getAttribute("end"),d);d=xs(u.getAttribute("dur"),d);var v=u.textContent;if(null==y&&null!=d&&(y=f+d),null==f||null==y)throw new R(2,2,2001);c=new Eo(f+c,y+c,v),f=Is(u,"region",p),p=c,"rtl"==Os(u,f,h,"tts:direction")&&(p.writingDirection=1),"tb"==(y=Os(u,f,h,"tts:writingMode"))||"tblr"==y?p.writingDirection=2:"tbrl"==y?p.writingDirection=3:"rltb"==y||"rl"==y?p.writingDirection=1:y&&(p.writingDirection=Oo),(y=Os(u,f,h,"tts:origin"))&&(null!=(y=As.exec(y))&&(p.region.x=Number(y[1]),p.region.y=Number(y[2]))),(y=Os(u,f,h,"tts:extent"))&&(null!=(y=As.exec(y))&&(p.region.width=Number(y[1]),p.region.height=Number(y[2]))),(y=Os(u,f,h,"tts:textAlign"))&&(p.positionAlign=Ts[y],p.lineAlign=ws[y],p.textAlign=ko[y.toUpperCase()]),(y=Os(u,f,h,"tts:displayAlign"))&&(p.displayAlign=Co[y.toUpperCase()]),(y=Os(u,f,h,"tts:color"))&&(p.color=y),(y=Os(u,f,h,"tts:backgroundColor"))&&(p.backgroundColor=y),(y=Os(u,f,h,"tts:fontFamily"))&&(p.fontFamily=y),(y=Os(u,f,h,"tts:fontWeight"))&&"bold"==y&&(p.fontWeight=700),(y=Os(u,f,h,"tts:wrapOption"))&&"noWrap"==y&&(p.wrapLine=!1),(y=Os(u,f,h,"tts:lineHeight"))&&y.match(Es)&&(p.lineHeight=y),(y=Os(u,f,h,"tts:fontSize"))&&y.match(Es)&&(p.fontSize=y),(y=Os(u,f,h,"tts:fontStyle"))&&(p.fontStyle=Do[y.toUpperCase()]),(f=Ps(f,h,"tts:textDecoration"))&&Cs(p,f),(u=Rs(u,h,"tts:textDecoration"))&&Cs(p,u)}else c=null;c&&i.push(c)}}return i};var ys=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,vs=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,gs=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,ms=/^(\d*(?:\.\d*)?)f$/,bs=/^(\d*(?:\.\d*)?)t$/,_s=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,As=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Es=/^(\d+px|\d+em)$/,ws={left:"start",center:Ro,right:"end",start:"start",end:"end"},Ts={left:"line-left",center:"center",right:"line-right"};function ks(t){var e=[];if(!t)return e;for(var n=t.childNodes,i=0;i<n.length;i++){var r="span"==n[i].nodeName&&"p"==t.nodeName;n[i].nodeType!=Node.ELEMENT_NODE||"br"==n[i].nodeName||r||(r=ks(n[i]),e=e.concat(r))}return e.length||e.push(t),e}function Ss(t,e){for(var n=t.childNodes,i=0;i<n.length;i++)if("br"==n[i].nodeName&&0<i)n[i-1].textContent+="\n";else if(0<n[i].childNodes.length)Ss(n[i],e);else if(e){var r=n[i].textContent.trim();r=r.replace(/\s+/g," "),n[i].textContent=r}}function Cs(t,e){for(var n=e.split(" "),i=0;i<n.length;i++)switch(n[i]){case"underline":0>t.textDecoration.indexOf("underline")&&t.textDecoration.push("underline");break;case"noUnderline":0<=t.textDecoration.indexOf("underline")&&ut(t.textDecoration,"underline");break;case"lineThrough":0>t.textDecoration.indexOf("lineThrough")&&t.textDecoration.push("lineThrough");break;case"noLineThrough":0<=t.textDecoration.indexOf("lineThrough")&&ut(t.textDecoration,"lineThrough");break;case"overline":0>t.textDecoration.indexOf("overline")&&t.textDecoration.push("overline");break;case"noOverline":0<=t.textDecoration.indexOf("overline")&&ut(t.textDecoration,"overline")}}function Os(t,e,n,i){return(t=Rs(t,n,i))?t:Ps(e,n,i)}function Ps(t,e,n){for(var i=ks(t),r=0;r<i.length;r++){var o=i[r].getAttribute(n);if(o)return o}return(t=Is(t,"style",e))?t.getAttribute(n):null}function Rs(t,e,n){return(t=Is(t,"style",e))?t.getAttribute(n):null}function Is(t,e,n){if(!t||1>n.length)return null;var i=null,r=t;for(t=null;r&&!(t=r.getAttribute(e))&&(r=r.parentNode)instanceof Element;);if(e=t)for(t=0;t<n.length;t++)if(n[t].getAttribute("xml:id")==e){i=n[t];break}return i}function xs(t,e){var n=null;if(ys.test(t)){n=ys.exec(t);var i=Number(n[1]),r=Number(n[2]),o=Number(n[3]),a=Number(n[4]);n=(o+=(a+=(Number(n[5])||0)/e.b)/e.frameRate)+60*r+3600*i}else vs.test(t)?n=Ls(vs,t):gs.test(t)?n=Ls(gs,t):ms.test(t)?(n=ms.exec(t),n=Number(n[1])/e.frameRate):bs.test(t)?(n=bs.exec(t),n=Number(n[1])/e.a):_s.test(t)&&(n=Ls(_s,t));return n}function Ls(t,e){var n=t.exec(e);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function Ds(){this.a=new fs}function Ms(){}function Ns(t,e){var n;(n=/^align:(start|middle|center|end|left|right)$/.exec(e))?(n=n[1],t.textAlign="middle"==n?To:ko[n.toUpperCase()]):(n=/^vertical:(lr|rl)$/.exec(e))?t.writingDirection="lr"==n[1]?2:3:(n=/^size:([\d.]+)%$/.exec(e))?t.size=Number(n[1]):(n=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(n[1]),n[2]&&(n=n[2],t.positionAlign="line-left"==n||"start"==n?"line-left":"line-right"==n||"end"==n?"line-right":"center")):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=Io[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=Po,t.line=Number(n[1]),n[2]&&(t.lineAlign=Io[n[2].toUpperCase()]))}function Bs(t){if(null==(t=ki(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function Us(){this.a=null}function Fs(t,e,n){var i,r,o;return(new Mn).C("payl",Un(function(t){i=kt(t)})).C("iden",Un(function(t){r=kt(t)})).C("sttg",Un(function(t){o=kt(t)})).parse(t),i?function(t,e,n,i,r){if(t=new Eo(i,r,t),e&&(t.id=e),n)for(e=new Ti(n),n=Si(e);n;)Ns(t,n),ki(e,/[ \t]+/gm),n=Si(e);return t}(i,r,o,e,n):null}Jt["application/ttml+xml"]=fs,Ds.prototype.parseInit=function(t){var e=!1;if((new Mn).C("moov",Nn).C("trak",Nn).C("mdia",Nn).C("minf",Nn).C("stbl",Nn).X("stsd",Bn).C("stpp",function(t){e=!0,t.sa.stop()}).parse(t),!e)throw new R(2,2,2007)},Ds.prototype.parseMedia=function(t,e){var n=!1,i=[];if((new Mn).C("mdat",Un(function(t){n=!0,i=i.concat(this.a.parseMedia(t,e))}.bind(this))).parse(t),!n)throw new R(2,2,2007);return i},Jt['application/mp4; codecs="stpp"']=Ds,Jt['application/mp4; codecs="stpp.TTML.im1t"']=Ds,Ms.prototype.parseInit=function(){},Ms.prototype.parseMedia=function(t,e){var n=kt(t);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new R(2,2,2e3);var i=e.segmentStart;if(null==i&&(i=0,0<=n[0].indexOf("X-TIMESTAMP-MAP"))){var r=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=n[0].match(/MPEGTS:(\d+)/m);r&&o&&(i=Bs(new Ti(r[1])),i=e.periodStart+(Number(o[1])/9e4-i))}for(o=[],r=1;r<n.length;r++){var a=n[r].split("\n"),s=i;if(1==a.length&&!a[0]||/^NOTE($|[ \t])/.test(a[0])||"STYLE"==a[0])var l=null;else{l=null,0>a[0].indexOf("--\x3e")&&(l=a[0],a.splice(0,1));var u=new Ti(a[0]),c=Bs(u),d=ki(u,/[ \t]+--\x3e[ \t]+/g),h=Bs(u);if(null==c||null==d||null==h)throw new R(2,2,2001);for(a=new Eo(c+s,h+s,a.slice(1).join("\n").trim()),ki(u,/[ \t]+/gm),s=Si(u);s;)Ns(a,s),ki(u,/[ \t]+/gm),s=Si(u);null!=l&&(a.id=l),l=a}l&&o.push(l)}return o},Jt["text/vtt"]=Ms,Jt['text/vtt; codecs="vtt"']=Ms,Us.prototype.parseInit=function(t){var e=!1;if((new Mn).C("moov",Nn).C("trak",Nn).C("mdia",Nn).X("mdhd",function(t){0==t.version?(t.o.F(4),t.o.F(4),this.a=t.o.B(),t.o.F(4)):(t.o.F(8),t.o.F(8),this.a=t.o.B(),t.o.F(8)),t.o.F(4)}.bind(this)).C("minf",Nn).C("stbl",Nn).X("stsd",Bn).C("wvtt",function(){e=!0}).parse(t),!this.a)throw new R(2,2,2008);if(!e)throw new R(2,2,2008)},Us.prototype.parseMedia=function(t,e){var n=this;if(!this.a)throw new R(2,2,2008);var i,r=0,o=[],a=[],s=!1,l=!1,u=!1,c=null;if((new Mn).C("moof",Nn).C("traf",Nn).X("tfdt",function(t){s=!0,r=0==t.version?t.o.B():t.o.Ta()}).X("tfhd",function(t){var e=t.flags;(t=t.o).F(4),1&e&&t.F(8),2&e&&t.F(4),c=8&e?t.B():null}).X("trun",function(t){l=!0;var e=t.version,n=t.flags,i=(t=t.o).B();1&n&&t.F(4),4&n&&t.F(4);for(var r=[],a=0;a<i;a++){var s={duration:null,sampleSize:null,ic:null};256&n&&(s.duration=t.B()),512&n&&(s.sampleSize=t.B()),1024&n&&t.F(4),2048&n&&(s.ic=0==e?t.B():t.Nc()),r.push(s)}o=r}).C("mdat",Un(function(t){u=!0,i=t})).parse(t),!u&&!s&&!l)throw new R(2,2,2008);var d=r,h=new In(new DataView(i.buffer,i.byteOffset,i.byteLength),0);return o.forEach(function(t){var i=t.duration||c,o=t.ic?r+t.ic:d;d=o+(i||0);var s=0;do{var l=h.B();s+=l;var u=null;"vttc"==jn(h.B())?8<l&&(u=h.Fa(l-8)):h.F(l-8),i&&u&&a.push(Fs(u,e.periodStart+o/n.a,e.periodStart+d/n.a))}while(t.sampleSize&&s<t.sampleSize)}),a.filter(tt)},Jt['application/mp4; codecs="wvtt"']=Us}).call(o,this),void 0!==t&&t.exports?t.exports=o.shaka:void 0===(r=function(){return o.shaka}.call(e,n,e,t))||(t.exports=r)}).call(window)}).call(this,n(53))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(10),o=function(t){var e=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},n=function(t,n,i,r,o,a){return e((s=e(e(n,t),e(r,a)))<<(l=o)|s>>>32-l,i);var s,l},i=function(t,e,i,r,o,a,s){return n(e&i|~e&r,t,e,o,a,s)},r=function(t,e,i,r,o,a,s){return n(e&r|i&~r,t,e,o,a,s)},o=function(t,e,i,r,o,a,s){return n(e^i^r,t,e,o,a,s)},a=function(t,e,i,r,o,a,s){return n(i^(e|~r),t,e,o,a,s)};return function(t){return function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}(function(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;for(var s=1732584193,l=-271733879,u=-1732584194,c=271733878,d=0;d<t.length;d+=16){var h=s,p=l,f=u,y=c;s=i(s,l,u,c,t[d+0],7,-680876936),c=i(c,s,l,u,t[d+1],12,-389564586),u=i(u,c,s,l,t[d+2],17,606105819),l=i(l,u,c,s,t[d+3],22,-1044525330),s=i(s,l,u,c,t[d+4],7,-176418897),c=i(c,s,l,u,t[d+5],12,1200080426),u=i(u,c,s,l,t[d+6],17,-1473231341),l=i(l,u,c,s,t[d+7],22,-45705983),s=i(s,l,u,c,t[d+8],7,1770035416),c=i(c,s,l,u,t[d+9],12,-1958414417),u=i(u,c,s,l,t[d+10],17,-42063),l=i(l,u,c,s,t[d+11],22,-1990404162),s=i(s,l,u,c,t[d+12],7,1804603682),c=i(c,s,l,u,t[d+13],12,-40341101),u=i(u,c,s,l,t[d+14],17,-1502002290),l=i(l,u,c,s,t[d+15],22,1236535329),s=r(s,l,u,c,t[d+1],5,-165796510),c=r(c,s,l,u,t[d+6],9,-1069501632),u=r(u,c,s,l,t[d+11],14,643717713),l=r(l,u,c,s,t[d+0],20,-373897302),s=r(s,l,u,c,t[d+5],5,-701558691),c=r(c,s,l,u,t[d+10],9,38016083),u=r(u,c,s,l,t[d+15],14,-660478335),l=r(l,u,c,s,t[d+4],20,-405537848),s=r(s,l,u,c,t[d+9],5,568446438),c=r(c,s,l,u,t[d+14],9,-1019803690),u=r(u,c,s,l,t[d+3],14,-187363961),l=r(l,u,c,s,t[d+8],20,1163531501),s=r(s,l,u,c,t[d+13],5,-1444681467),c=r(c,s,l,u,t[d+2],9,-51403784),u=r(u,c,s,l,t[d+7],14,1735328473),l=r(l,u,c,s,t[d+12],20,-1926607734),s=o(s,l,u,c,t[d+5],4,-378558),c=o(c,s,l,u,t[d+8],11,-2022574463),u=o(u,c,s,l,t[d+11],16,1839030562),l=o(l,u,c,s,t[d+14],23,-35309556),s=o(s,l,u,c,t[d+1],4,-1530992060),c=o(c,s,l,u,t[d+4],11,1272893353),u=o(u,c,s,l,t[d+7],16,-155497632),l=o(l,u,c,s,t[d+10],23,-1094730640),s=o(s,l,u,c,t[d+13],4,681279174),c=o(c,s,l,u,t[d+0],11,-358537222),u=o(u,c,s,l,t[d+3],16,-722521979),l=o(l,u,c,s,t[d+6],23,76029189),s=o(s,l,u,c,t[d+9],4,-640364487),c=o(c,s,l,u,t[d+12],11,-421815835),u=o(u,c,s,l,t[d+15],16,530742520),l=o(l,u,c,s,t[d+2],23,-995338651),s=a(s,l,u,c,t[d+0],6,-198630844),c=a(c,s,l,u,t[d+7],10,1126891415),u=a(u,c,s,l,t[d+14],15,-1416354905),l=a(l,u,c,s,t[d+5],21,-57434055),s=a(s,l,u,c,t[d+12],6,1700485571),c=a(c,s,l,u,t[d+3],10,-1894986606),u=a(u,c,s,l,t[d+10],15,-1051523),l=a(l,u,c,s,t[d+1],21,-2054922799),s=a(s,l,u,c,t[d+8],6,1873313359),c=a(c,s,l,u,t[d+15],10,-30611744),u=a(u,c,s,l,t[d+6],15,-1560198380),l=a(l,u,c,s,t[d+13],21,1309151649),s=a(s,l,u,c,t[d+4],6,-145523070),c=a(c,s,l,u,t[d+11],10,-1120210379),u=a(u,c,s,l,t[d+2],15,718787259),l=a(l,u,c,s,t[d+9],21,-343485551),s=e(s,h),l=e(l,p),u=e(u,f),c=e(c,y)}return[s,l,u,c]}(function(t){var e=void 0,n=new Array(t.length>>2);for(e=0;e<n.length;e++)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}(t),8*t.length))}(function(t,e){var n="",i=-1,r=void 0,o=void 0;for(t+=e.substr(1,8);++i<t.length;)r=t.charCodeAt(i),o=i+1<t.length?t.charCodeAt(i+1):0,55296<=r&&r<=56319&&56320<=o&&o<=57343&&(r=65536+((1023&r)<<10)+(1023&o),i++),r<=127?n+=String.fromCharCode(r):r<=2047?n+=String.fromCharCode(192|r>>>6&31,128|63&r):r<=65535?n+=String.fromCharCode(224|r>>>12&15,128|r>>>6&63,128|63&r):r<=2097151&&(n+=String.fromCharCode(240|r>>>18&7,128|r>>>12&63,128|r>>>6&63,128|63&r));return n}(t,"=0xAC10FD"))},a=function(t){return(0,r.rstr2b64)(o(t))},s=function(){var t=Math.round(1e10*Math.random()).toString();return(0,r.zeroPad)(t,10)},l=function(t){var e=t.substr(0,2),n=t.substr(2,1),i=t.substr(3,10),o=t.substr(13,10),l=t.substr(24,22),u=(0,r.zeroPad)(parseInt((new Date).getTime()/1e3,10)+3600,10),c=s();return e+n+i+o+u+c+a(l+u+c)},u=function(t){var e=i.Browser.isMobile?3:1,n=t.substr(0,2),o=t.substr(2,10),l=t.substr(12,10),u=t.substr(22,22),c=(0,r.zeroPad)(Number(o)+3600,10),d=s();return"05"+n+o+l+c+d+e+a(u+c+d+e)};e.default={signedHash:function(t){var e=t.substr(0,2);return["04","14"].includes(e)?l(t):["03","13"].includes(e)||["02","12"].includes(e)?u(t):""},hexGrf:function(t){return(0,r.rstr2hex)(o(t))}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=(e.PREFERRED_AUDIO_LANGUAGE="por",e.AUDIO_LANGUAGES={por:{label:"Dublado",language:"por",keys:["pt","por"]},eng:{label:"Original",language:"eng",keys:["original","en","eng","und"]}});e.AUDIOS_LIST=[i({id:0},r.por),i({id:1},r.eng)]},function(t,e,n){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;for(var r=0|e,o=Math.max(r>=0?r:i-Math.abs(r),0);o<i;){if(n[o]===t)return!0;o++}return!1}}),Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)},String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.indexOf(t,e)===e})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=m(n(16)),r=m(n(65)),o=m(n(1)),a=m(n(2)),s=m(n(4)),l=m(n(3)),u=n(9),c=m(n(19)),d=m(n(7)),h=m(n(18)),p=m(n(172)),f=m(n(100)),y=m(n(49)),v=m(n(23)),g=m(n(5));function m(t){return t&&t.__esModule?t:{default:t}}var b=(0,u.currentScriptUrl)().replace(/\/[^/]+$/,""),_=function(t){function e(n){(0,o.default)(this,e);var i=(0,a.default)(this,t.call(this,n)),r={playerId:(0,u.uniqueId)(""),persistConfig:!0,width:640,height:360,baseUrl:b,allowUserInteraction:h.default.isMobile};return i._options=g.default.extend(r,n),i.options.sources=i._normalizeSources(n),i.options.chromeless||(i.options.allowUserInteraction=!0),i.options.allowUserInteraction||(i.options.disableKeyboardShortcuts=!0),i._registerOptionEventListeners(i.options.events),i._coreFactory=new p.default(i),i.playerInfo=y.default.getInstance(i.options.playerId),i.playerInfo.currentSize={width:n.width,height:n.height},i.playerInfo.options=i.options,i.options.parentId?i.setParentId(i.options.parentId):i.options.parent&&i.attachTo(i.options.parent),i}return(0,l.default)(e,t),(0,s.default)(e,[{key:"loader",set:function(t){this._loader=t},get:function(){return this._loader||(this._loader=new f.default(this.options.plugins||{},this.options.playerId)),this._loader}},{key:"ended",get:function(){return this.core.mediaControl.container.ended}},{key:"buffering",get:function(){return this.core.mediaControl.container.buffering}},{key:"isReady",get:function(){return!!this._ready}},{key:"eventsMapping",get:function(){return{onReady:d.default.PLAYER_READY,onResize:d.default.PLAYER_RESIZE,onPlay:d.default.PLAYER_PLAY,onPause:d.default.PLAYER_PAUSE,onStop:d.default.PLAYER_STOP,onEnded:d.default.PLAYER_ENDED,onSeek:d.default.PLAYER_SEEK,onError:d.default.PLAYER_ERROR,onTimeUpdate:d.default.PLAYER_TIMEUPDATE,onVolumeUpdate:d.default.PLAYER_VOLUMEUPDATE,onSubtitleAvailable:d.default.PLAYER_SUBTITLE_AVAILABLE}}}]),e.prototype.setParentId=function(t){var e=document.querySelector(t);return e&&this.attachTo(e),this},e.prototype.attachTo=function(t){return this.options.parentElement=t,this.core=this._coreFactory.create(),this._addEventListeners(),this},e.prototype._addEventListeners=function(){return this.core.isReady?this._onReady():this.listenToOnce(this.core,d.default.CORE_READY,this._onReady),this.listenTo(this.core.mediaControl,d.default.MEDIACONTROL_CONTAINERCHANGED,this._containerChanged),this.listenTo(this.core,d.default.CORE_FULLSCREEN,this._onFullscreenChange),this.listenTo(this.core,d.default.CORE_RESIZE,this._onResize),this},e.prototype._addContainerEventListeners=function(){var t=this.core.mediaControl.container;return t&&(this.listenTo(t,d.default.CONTAINER_PLAY,this._onPlay),this.listenTo(t,d.default.CONTAINER_PAUSE,this._onPause),this.listenTo(t,d.default.CONTAINER_STOP,this._onStop),this.listenTo(t,d.default.CONTAINER_ENDED,this._onEnded),this.listenTo(t,d.default.CONTAINER_SEEK,this._onSeek),this.listenTo(t,d.default.CONTAINER_ERROR,this._onError),this.listenTo(t,d.default.CONTAINER_TIMEUPDATE,this._onTimeUpdate),this.listenTo(t,d.default.CONTAINER_VOLUME,this._onVolumeUpdate),this.listenTo(t,d.default.CONTAINER_SUBTITLE_AVAILABLE,this._onSubtitleAvailable)),this},e.prototype._registerOptionEventListeners=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.default)(e).length>0&&(0,r.default)(n).forEach(function(e){var i=t.eventsMapping[e];i&&t.off(i,n[e])}),(0,r.default)(e).forEach(function(n){var i=t.eventsMapping[n];if(i){var r=e[n];(r="function"==typeof r&&r)&&t.on(i,r)}}),this},e.prototype._containerChanged=function(){this.stopListening(),this._addEventListeners()},e.prototype._onReady=function(){this._ready=!0,this._addContainerEventListeners(),this.trigger(d.default.PLAYER_READY)},e.prototype._onFullscreenChange=function(t){this.trigger(d.default.PLAYER_FULLSCREEN,t)},e.prototype._onVolumeUpdate=function(t){this.trigger(d.default.PLAYER_VOLUMEUPDATE,t)},e.prototype._onSubtitleAvailable=function(){this.trigger(d.default.PLAYER_SUBTITLE_AVAILABLE)},e.prototype._onResize=function(t){this.trigger(d.default.PLAYER_RESIZE,t)},e.prototype._onPlay=function(){this.trigger(d.default.PLAYER_PLAY)},e.prototype._onPause=function(){this.trigger(d.default.PLAYER_PAUSE)},e.prototype._onStop=function(){this.trigger(d.default.PLAYER_STOP,this.getCurrentTime())},e.prototype._onEnded=function(){this.trigger(d.default.PLAYER_ENDED)},e.prototype._onSeek=function(t){this.trigger(d.default.PLAYER_SEEK,t)},e.prototype._onTimeUpdate=function(t){this.trigger(d.default.PLAYER_TIMEUPDATE,t)},e.prototype._onError=function(t){this.trigger(d.default.PLAYER_ERROR,t)},e.prototype._normalizeSources=function(t){var e=t.sources||(void 0!==t.source?[t.source]:[]);return 0===e.length?[{source:"",mimeType:""}]:e},e.prototype.resize=function(t){return this.core.resize(t),this},e.prototype.load=function(t,e,n){return void 0!==n&&this.configure({autoPlay:!!n}),this.core.load(t,e),this},e.prototype.destroy=function(){return this.stopListening(),this.core.destroy(),this},e.prototype.consent=function(){return this.core.getCurrentPlayback().consent(),this},e.prototype.play=function(){return this.core.mediaControl.container.play(),this},e.prototype.pause=function(){return this.core.mediaControl.container.pause(),this},e.prototype.stop=function(){return this.core.mediaControl.container.stop(),this},e.prototype.seek=function(t){return this.core.mediaControl.container.seek(t),this},e.prototype.seekPercentage=function(t){return this.core.mediaControl.container.seekPercentage(t),this},e.prototype.setVolume=function(t){return this.core&&this.core.mediaControl&&this.core.mediaControl.setVolume(t),this},e.prototype.getVolume=function(){return this.core&&this.core.mediaControl?this.core.mediaControl.volume:0},e.prototype.mute=function(){return this._mutedVolume=this.getVolume(),this.setVolume(0),this},e.prototype.unmute=function(){return this.setVolume("number"==typeof this._mutedVolume?this._mutedVolume:100),this._mutedVolume=null,this},e.prototype.isPlaying=function(){return this.core.mediaControl.container.isPlaying()},e.prototype.isDvrEnabled=function(){return this.core.mediaControl.container.isDvrEnabled()},e.prototype.isDvrInUse=function(){return this.core.mediaControl.container.isDvrInUse()},e.prototype.configure=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._registerOptionEventListeners(t.events,this.options.events),this.core.configure(t),this},e.prototype.getPlugin=function(t){return this.core.plugins.concat(this.core.mediaControl.container.plugins).filter(function(e){return e.name===t})[0]},e.prototype.getCurrentTime=function(){return this.core.mediaControl.container.getCurrentTime()},e.prototype.getStartTimeOffset=function(){return this.core.mediaControl.container.getStartTimeOffset()},e.prototype.getDuration=function(){return this.core.mediaControl.container.getDuration()},e}(c.default);e.default=_,(0,i.default)(_.prototype,v.default),t.exports=e.default},function(t,e,n){"use strict";n(126),t.exports=n(14).Object.assign},function(t,e,n){"use strict";var i=n(20);i(i.S+i.F,"Object",{assign:n(128)})},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var i=n(40),r=n(64),o=n(46),a=n(47),s=n(82),l=Object.assign;t.exports=!l||n(34)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=r.f,d=o.f;l>u;)for(var h,p=s(arguments[u++]),f=c?i(p).concat(c(p)):i(p),y=f.length,v=0;y>v;)d.call(p,h=f[v++])&&(n[h]=p[h]);return n}:l},function(t,e,n){"use strict";var i=n(26),r=n(83),o=n(130);t.exports=function(t){return function(e,n,a){var s,l=i(e),u=r(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){"use strict";var i=n(60),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){"use strict";n(132),t.exports=n(14).Object.keys},function(t,e,n){"use strict";var i=n(47),r=n(40);n(84)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){"use strict";t.exports={default:n(134),__esModule:!0}},function(t,e,n){"use strict";n(85),n(140),t.exports=n(69).f("iterator")},function(t,e,n){"use strict";var i=n(60),r=n(59);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(67),r=n(39),o=n(68),a={};n(31)(a,n(17)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var i=n(22),r=n(32),o=n(40);t.exports=n(24)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,l=0;s>l;)i.f(t,n=a[l++],e[n]);return t}},function(t,e,n){"use strict";var i=n(21).document;t.exports=i&&i.documentElement},function(t,e,n){"use strict";var i=n(25),r=n(47),o=n(61)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";n(141);for(var i=n(21),r=n(31),o=n(41),a=n(17)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=i[u],d=c&&c.prototype;d&&!d[a]&&r(d,a,u),o[u]=o.Array}},function(t,e,n){"use strict";var i=n(142),r=n(143),o=n(41),a=n(26);t.exports=n(86)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";t.exports={default:n(145),__esModule:!0}},function(t,e,n){"use strict";n(146),n(151),n(152),n(153),t.exports=n(14).Symbol},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(21),o=n(25),a=n(24),s=n(20),l=n(87),u=n(147).KEY,c=n(34),d=n(62),h=n(68),p=n(45),f=n(17),y=n(69),v=n(70),g=n(148),m=n(149),b=n(32),_=n(33),A=n(26),E=n(57),w=n(39),T=n(67),k=n(150),S=n(71),C=n(22),O=n(40),P=S.f,R=C.f,I=k.f,x=r.Symbol,L=r.JSON,D=L&&L.stringify,M=f("_hidden"),N=f("toPrimitive"),B={}.propertyIsEnumerable,U=d("symbol-registry"),F=d("symbols"),j=d("op-symbols"),V=Object.prototype,H="function"==typeof x,G=r.QObject,z=!G||!G.prototype||!G.prototype.findChild,Y=a&&c(function(){return 7!=T(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=P(V,e);i&&delete V[e],R(t,e,n),i&&t!==V&&R(V,e,i)}:R,$=function(t){var e=F[t]=T(x.prototype);return e._k=t,e},K=H&&"symbol"==i(x.iterator)?function(t){return"symbol"==(void 0===t?"undefined":i(t))}:function(t){return t instanceof x},W=function(t,e,n){return t===V&&W(j,e,n),b(t),e=E(e,!0),b(n),o(F,e)?(n.enumerable?(o(t,M)&&t[M][e]&&(t[M][e]=!1),n=T(n,{enumerable:w(0,!1)})):(o(t,M)||R(t,M,w(1,{})),t[M][e]=!0),Y(t,e,n)):R(t,e,n)},q=function(t,e){b(t);for(var n,i=g(e=A(e)),r=0,o=i.length;o>r;)W(t,n=i[r++],e[n]);return t},X=function(t){var e=B.call(this,t=E(t,!0));return!(this===V&&o(F,t)&&!o(j,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,M)&&this[M][t])||e)},Z=function(t,e){if(t=A(t),e=E(e,!0),t!==V||!o(F,e)||o(j,e)){var n=P(t,e);return!n||!o(F,e)||o(t,M)&&t[M][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=I(A(t)),i=[],r=0;n.length>r;)o(F,e=n[r++])||e==M||e==u||i.push(e);return i},J=function(t){for(var e,n=t===V,i=I(n?j:A(t)),r=[],a=0;i.length>a;)!o(F,e=i[a++])||n&&!o(V,e)||r.push(F[e]);return r};H||(l((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0);return a&&z&&Y(V,t,{configurable:!0,set:function e(n){this===V&&e.call(j,n),o(this,M)&&o(this[M],t)&&(this[M][t]=!1),Y(this,t,w(1,n))}}),$(t)}).prototype,"toString",function(){return this._k}),S.f=Z,C.f=W,n(88).f=k.f=Q,n(46).f=X,n(64).f=J,a&&!n(66)&&l(V,"propertyIsEnumerable",X,!0),y.f=function(t){return $(f(t))}),s(s.G+s.W+s.F*!H,{Symbol:x});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var nt=O(f.store),it=0;nt.length>it;)v(nt[it++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return o(U,t+="")?U[t]:U[t]=x(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,e){return void 0===e?T(t):q(T(t),e)},defineProperty:W,defineProperties:q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),L&&s(s.S+s.F*(!H||c(function(){var t=x();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!K(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),i[1]=e,D.apply(L,i)}}),x.prototype[N]||n(31)(x.prototype,N,x.prototype.valueOf),h(x,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(45)("meta"),o=n(33),a=n(25),s=n(22).f,l=0,u=Object.isExtensible||function(){return!0},c=!n(34)(function(){return u(Object.preventExtensions({}))}),d=function(t){s(t,r,{value:{i:"O"+ ++l,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==(void 0===t?"undefined":i(t))?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!u(t))return"F";if(!e)return"E";d(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!u(t))return!0;if(!e)return!1;d(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!a(t,r)&&d(t),t}}},function(t,e,n){"use strict";var i=n(40),r=n(64),o=n(46);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){"use strict";var i=n(58);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(26),o=n(88).f,a={}.toString,s="object"==("undefined"==typeof window?"undefined":i(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(r(t))}},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(70)("asyncIterator")},function(t,e,n){"use strict";n(70)("observable")},function(t,e,n){"use strict";n(155);var i=n(14).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){"use strict";var i=n(20);i(i.S+i.F*!n(24),"Object",{defineProperty:n(22).f})},function(t,e,n){"use strict";t.exports={default:n(157),__esModule:!0}},function(t,e,n){"use strict";n(158),t.exports=n(14).Object.setPrototypeOf},function(t,e,n){"use strict";var i=n(20);i(i.S,"Object",{setPrototypeOf:n(159).set})},function(t,e,n){"use strict";var i=n(33),r=n(32),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(56)(Function.call,n(71).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";n(161);var i=n(14).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){"use strict";var i=n(20);i(i.S,"Object",{create:n(67)})},function(t,e,n){"use strict";t.exports={default:n(163),__esModule:!0}},function(t,e,n){"use strict";n(164);var i=n(14).Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},function(t,e,n){"use strict";var i=n(26),r=n(71).f;n(84)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDevice=e.getViewportSize=e.getOsData=e.getBrowserData=e.getBrowserInfo=void 0;var i=a(n(5)),r=a(n(167)),o=a(n(168));function a(t){return t&&t.__esModule?t:{default:t}}var s={},l=e.getBrowserInfo=function(t){var e=t.match(/\b(playstation 4|nx|opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],n=void 0;if(/trident/i.test(e[1]))return n=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:parseInt(n[1]||"")};if("Chrome"===e[1]){if(null!=(n=t.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:parseInt(n[1])};if(null!=(n=t.match(/\bEdge\/(\d+)/)))return{name:"Edge",version:parseInt(n[1])}}else/android/i.test(t)&&(n=t.match(/version\/(\d+)/i))&&(e.splice(1,1,"Android WebView"),e.splice(2,1,n[1]));return{name:(e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"])[0],version:parseInt(e[1])}},u=e.getBrowserData=function(){var t={},e=s.userAgent.toLowerCase();for(var n in r.default){var i=new RegExp(r.default[n].identifier.toLowerCase()).exec(e);if(null!=i&&i[1]){if(t.name=r.default[n].name,t.group=r.default[n].group,r.default[n].versionIdentifier){var o=new RegExp(r.default[n].versionIdentifier.toLowerCase()).exec(e);null!=o&&o[1]&&c(o[1],t)}else c(i[1],t);break}}return t},c=function(t,e){var n=t.split(".",2);e.fullVersion=t,n[0]&&(e.majorVersion=parseInt(n[0])),n[1]&&(e.minorVersion=parseInt(n[1]))},d=e.getOsData=function(){var t={},e=s.userAgent.toLowerCase();for(var n in o.default){var i=new RegExp(o.default[n].identifier.toLowerCase()).exec(e);if(null!=i){if(t.name=o.default[n].name,t.group=o.default[n].group,o.default[n].version)h(o.default[n].version,o.default[n].versionSeparator?o.default[n].versionSeparator:".",t);else if(i[1])h(i[1],o.default[n].versionSeparator?o.default[n].versionSeparator:".",t);else if(o.default[n].versionIdentifier){var r=new RegExp(o.default[n].versionIdentifier.toLowerCase()).exec(e);null!=r&&r[1]&&h(r[1],o.default[n].versionSeparator?o.default[n].versionSeparator:".",t)}break}}return t},h=function(t,e,n){var i="["==e.substr(0,1)?new RegExp(e,"g"):e,r=t.split(i,2);"."!=e&&(t=t.replace(new RegExp(e,"g"),".")),n.fullVersion=t,r&&r[0]&&(n.majorVersion=parseInt(r[0])),r&&r[1]&&(n.minorVersion=parseInt(r[1]))},p=e.getViewportSize=function(){var t={};return t.width=(0,i.default)(window).width(),t.height=(0,i.default)(window).height(),t},f=e.getDevice=function(t){var e=/\((iP(?:hone|ad|od))?(?:[^;]*; ){0,2}([^)]+(?=\)))/.exec(t);return e&&(e[1]||e[2])||""},y=l(navigator.userAgent);s.isEdge=/edge/i.test(navigator.userAgent),s.isChrome=/chrome|CriOS/i.test(navigator.userAgent)&&!s.isEdge,s.isSafari=/safari/i.test(navigator.userAgent)&&!s.isChrome&&!s.isEdge,s.isFirefox=/firefox/i.test(navigator.userAgent),s.isLegacyIE=!!window.ActiveXObject,s.isIE=s.isLegacyIE||/trident.*rv:1\d/i.test(navigator.userAgent),s.isIE11=/trident.*rv:11/i.test(navigator.userAgent),s.isChromecast=s.isChrome&&/CrKey/i.test(navigator.userAgent),s.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Mobile Safari|Opera Mini/i.test(navigator.userAgent),s.isiOS=/iPad|iPhone|iPod/i.test(navigator.userAgent),s.isAndroid=/Android/i.test(navigator.userAgent),s.isWindowsPhone=/Windows Phone/i.test(navigator.userAgent),s.isWin8App=/MSAppHost/i.test(navigator.userAgent),s.isWiiU=/WiiU/i.test(navigator.userAgent),s.isPS4=/PlayStation 4/i.test(navigator.userAgent),s.hasLocalstorage=function(){try{return localStorage.setItem("clappr","clappr"),localStorage.removeItem("clappr"),!0}catch(t){return!1}}(),s.hasFlash=function(){try{return!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){return!(!navigator.mimeTypes||void 0===navigator.mimeTypes["application/x-shockwave-flash"]||!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)}}(),s.name=y.name,s.version=y.version,s.userAgent=navigator.userAgent,s.data=u(),s.os=d(),s.viewport=p(),s.device=f(s.userAgent),void 0!==window.orientation&&function(){switch(window.orientation){case-90:case 90:s.viewport.orientation="landscape";break;default:s.viewport.orientation="portrait"}}(),e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=[{name:"Chromium",group:"Chrome",identifier:"Chromium/([0-9.]*)"},{name:"Chrome Mobile",group:"Chrome",identifier:"Chrome/([0-9.]*) Mobile",versionIdentifier:"Chrome/([0-9.]*)"},{name:"Chrome",group:"Chrome",identifier:"Chrome/([0-9.]*)"},{name:"Chrome for iOS",group:"Chrome",identifier:"CriOS/([0-9.]*)"},{name:"Android Browser",group:"Chrome",identifier:"CrMo/([0-9.]*)"},{name:"Firefox",group:"Firefox",identifier:"Firefox/([0-9.]*)"},{name:"Opera Mini",group:"Opera",identifier:"Opera Mini/([0-9.]*)"},{name:"Opera",group:"Opera",identifier:"Opera ([0-9.]*)"},{name:"Opera",group:"Opera",identifier:"Opera/([0-9.]*)",versionIdentifier:"Version/([0-9.]*)"},{name:"IEMobile",group:"Explorer",identifier:"IEMobile/([0-9.]*)"},{name:"Internet Explorer",group:"Explorer",identifier:"MSIE ([a-zA-Z0-9.]*)"},{name:"Internet Explorer",group:"Explorer",identifier:"Trident/([0-9.]*)",versionIdentifier:"rv:([0-9.]*)"},{name:"Spartan",group:"Spartan",identifier:"Edge/([0-9.]*)",versionIdentifier:"Edge/([0-9.]*)"},{name:"Safari",group:"Safari",identifier:"Safari/([0-9.]*)",versionIdentifier:"Version/([0-9.]*)"}],t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=[{name:"Windows 2000",group:"Windows",identifier:"Windows NT 5.0",version:"5.0"},{name:"Windows XP",group:"Windows",identifier:"Windows NT 5.1",version:"5.1"},{name:"Windows Vista",group:"Windows",identifier:"Windows NT 6.0",version:"6.0"},{name:"Windows 7",group:"Windows",identifier:"Windows NT 6.1",version:"7.0"},{name:"Windows 8",group:"Windows",identifier:"Windows NT 6.2",version:"8.0"},{name:"Windows 8.1",group:"Windows",identifier:"Windows NT 6.3",version:"8.1"},{name:"Windows 10",group:"Windows",identifier:"Windows NT 10.0",version:"10.0"},{name:"Windows Phone",group:"Windows Phone",identifier:"Windows Phone ([0-9.]*)"},{name:"Windows Phone",group:"Windows Phone",identifier:"Windows Phone OS ([0-9.]*)"},{name:"Windows",group:"Windows",identifier:"Windows"},{name:"Chrome OS",group:"Chrome OS",identifier:"CrOS"},{name:"Android",group:"Android",identifier:"Android",versionIdentifier:"Android ([a-zA-Z0-9.-]*)"},{name:"iPad",group:"iOS",identifier:"iPad",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"[_|.]"},{name:"iPod",group:"iOS",identifier:"iPod",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"[_|.]"},{name:"iPhone",group:"iOS",identifier:"iPhone OS",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"[_|.]"},{name:"Mac OS X High Sierra",group:"Mac OS",identifier:"Mac OS X (10([_|.])13([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Sierra",group:"Mac OS",identifier:"Mac OS X (10([_|.])12([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X El Capitan",group:"Mac OS",identifier:"Mac OS X (10([_|.])11([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Yosemite",group:"Mac OS",identifier:"Mac OS X (10([_|.])10([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Mavericks",group:"Mac OS",identifier:"Mac OS X (10([_|.])9([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Mountain Lion",group:"Mac OS",identifier:"Mac OS X (10([_|.])8([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Lion",group:"Mac OS",identifier:"Mac OS X (10([_|.])7([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Snow Leopard",group:"Mac OS",identifier:"Mac OS X (10([_|.])6([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Leopard",group:"Mac OS",identifier:"Mac OS X (10([_|.])5([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Tiger",group:"Mac OS",identifier:"Mac OS X (10([_|.])4([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Panther",group:"Mac OS",identifier:"Mac OS X (10([_|.])3([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Jaguar",group:"Mac OS",identifier:"Mac OS X (10([_|.])2([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Puma",group:"Mac OS",identifier:"Mac OS X (10([_|.])1([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Cheetah",group:"Mac OS",identifier:"Mac OS X (10([_|.])0([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS",group:"Mac OS",identifier:"Mac OS"},{name:"Ubuntu",group:"Linux",identifier:"Ubuntu",versionIdentifier:"Ubuntu/([0-9.]*)"},{name:"Debian",group:"Linux",identifier:"Debian"},{name:"Gentoo",group:"Linux",identifier:"Gentoo"},{name:"Linux",group:"Linux",identifier:"Linux"},{name:"BlackBerry",group:"BlackBerry",identifier:"BlackBerry"}],t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.mp4="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=";e.default={mp4:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i},a=n(54);var s="font-weight: bold; font-size: 13px;",l="color: #ff8000;"+s,u="color: #ff0000;"+s,c=1,d=3,h=["color: #0000ff;font-weight: bold; font-size: 13px;","color: #006600;font-weight: bold; font-size: 13px;",l,u,u],p=["debug","info","warn","error","disabled"],f=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;(0,o.default)(this,t),this.kibo=new a.Kibo,this.kibo.down(["ctrl shift d"],function(){return e.onOff()}),this.BLACKLIST=["timeupdate","playback:timeupdate","playback:progress","container:hover","container:timeupdate","container:progress"],this.level=n,this.offLevel=i}return t.prototype.debug=function(t){this.log(t,0,Array.prototype.slice.call(arguments,1))},t.prototype.info=function(t){this.log(t,c,Array.prototype.slice.call(arguments,1))},t.prototype.warn=function(t){this.log(t,2,Array.prototype.slice.call(arguments,1))},t.prototype.error=function(t){this.log(t,3,Array.prototype.slice.call(arguments,1))},t.prototype.onOff=function(){this.level===this.offLevel?this.level=this.previousLevel:(this.previousLevel=this.level,this.level=this.offLevel),window.console&&window.console.log&&window.console.log("%c[Clappr.Log] set log level to "+p[this.level],l)},t.prototype.level=function(t){this.level=t},t.prototype.log=function(t,e,n){if(!(this.BLACKLIST.indexOf(n[0])>=0||e<this.level)){n||(n=t,t=null);var i=h[e],r="";t&&(r="["+t+"]"),window.console&&window.console.log&&window.console.log.apply(console,["%c["+p[e]+"]"+r,i].concat(n))}},t}();e.default=f,f.LEVEL_DEBUG=0,f.LEVEL_INFO=c,f.LEVEL_WARN=2,f.LEVEL_ERROR=3,f.getInstance=function(){return void 0===this._instance&&(this._instance=new this,this._instance.previousLevel=this._instance.level,this._instance.level=this._instance.offLevel),this._instance},f.setLevel=function(t){this.getInstance().level=t},f.debug=function(){this.getInstance().debug.apply(this.getInstance(),arguments)},f.info=function(){this.getInstance().info.apply(this.getInstance(),arguments)},f.warn=function(){this.getInstance().warn.apply(this.getInstance(),arguments)},f.error=function(){this.getInstance().error.apply(this.getInstance(),arguments)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.element=t||window.document,this.initialize()};i.KEY_NAMES_BY_CODE={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"caps_lock",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},i.KEY_CODES_BY_NAME={},function(){for(var t in i.KEY_NAMES_BY_CODE)Object.prototype.hasOwnProperty.call(i.KEY_NAMES_BY_CODE,t)&&(i.KEY_CODES_BY_NAME[i.KEY_NAMES_BY_CODE[t]]=+t)}(),i.MODIFIERS=["shift","ctrl","alt"],i.registerEvent=document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:document.attachEvent?function(t,e,n){t.attachEvent("on"+e,n)}:void 0,i.unregisterEvent=document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:document.detachEvent?function(t,e,n){t.detachEvent("on"+e,n)}:void 0,i.stringContains=function(t,e){return-1!==t.indexOf(e)},i.neatString=function(t){return t.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")},i.capitalize=function(t){return t.toLowerCase().replace(/^./,function(t){return t.toUpperCase()})},i.isString=function(t){return i.stringContains(Object.prototype.toString.call(t),"String")},i.arrayIncludes=Array.prototype.indexOf?function(t,e){return-1!==t.indexOf(e)}:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},i.extractModifiers=function(t){var e,n;for(e=[],n=0;n<i.MODIFIERS.length;n++)i.stringContains(t,i.MODIFIERS[n])&&e.push(i.MODIFIERS[n]);return e},i.extractKey=function(t){var e,n;for(e=i.neatString(t).split(" "),n=0;n<e.length;n++)if(!i.arrayIncludes(i.MODIFIERS,e[n]))return e[n]},i.modifiersAndKey=function(t){var e,n;return i.stringContains(t,"any")?i.neatString(t).split(" ").slice(0,2).join(" "):(e=i.extractModifiers(t),(n=i.extractKey(t))&&!i.arrayIncludes(i.MODIFIERS,n)&&e.push(n),e.join(" "))},i.keyName=function(t){return i.KEY_NAMES_BY_CODE[t+""]},i.keyCode=function(t){return+i.KEY_CODES_BY_NAME[t]},i.prototype.initialize=function(){var t,e=this;for(this.lastKeyCode=-1,this.lastModifiers={},t=0;t<i.MODIFIERS.length;t++)this.lastModifiers[i.MODIFIERS[t]]=!1;this.keysDown={any:[]},this.keysUp={any:[]},this.downHandler=this.handler("down"),this.upHandler=this.handler("up"),i.registerEvent(this.element,"keydown",this.downHandler),i.registerEvent(this.element,"keyup",this.upHandler),i.registerEvent(window,"unload",function t(){i.unregisterEvent(e.element,"keydown",e.downHandler),i.unregisterEvent(e.element,"keyup",e.upHandler),i.unregisterEvent(window,"unload",t)})},i.prototype.handler=function(t){var e=this;return function(n){var r,o,a;for(n=n||window.event,e.lastKeyCode=n.keyCode,r=0;r<i.MODIFIERS.length;r++)e.lastModifiers[i.MODIFIERS[r]]=n[i.MODIFIERS[r]+"Key"];for(i.arrayIncludes(i.MODIFIERS,i.keyName(e.lastKeyCode))&&(e.lastModifiers[i.keyName(e.lastKeyCode)]=!0),o=e["keys"+i.capitalize(t)],r=0;r<o.any.length;r++)!1===o.any[r](n)&&n.preventDefault&&n.preventDefault();if(o[a=e.lastModifiersAndKey()])for(r=0;r<o[a].length;r++)!1===o[a][r](n)&&n.preventDefault&&n.preventDefault()}},i.prototype.registerKeys=function(t,e,n){var r,o,a=this["keys"+i.capitalize(t)];for(i.isString(e)&&(e=[e]),r=0;r<e.length;r++)o=e[r],a[o=i.modifiersAndKey(o+"")]?a[o].push(n):a[o]=[n];return this},i.prototype.unregisterKeys=function(t,e,n){var r,o,a,s=this["keys"+i.capitalize(t)];for(i.isString(e)&&(e=[e]),r=0;r<e.length;r++)if(a=e[r],a=i.modifiersAndKey(a+""),null===n)delete s[a];else if(s[a])for(o=0;o<s[a].length;o++)if(String(s[a][o])===String(n)){s[a].splice(o,1);break}return this},i.prototype.off=function(t){return this.unregisterKeys("down",t,null)},i.prototype.delegate=function(t,e,n){return null!==n||void 0!==n?this.registerKeys(t,e,n):this.unregisterKeys(t,e,n)},i.prototype.down=function(t,e){return this.delegate("down",t,e)},i.prototype.up=function(t,e){return this.delegate("up",t,e)},i.prototype.lastKey=function(t){return t?this.lastModifiers[t]:i.keyName(this.lastKeyCode)},i.prototype.lastModifiersAndKey=function(){var t,e;for(t=[],e=0;e<i.MODIFIERS.length;e++)this.lastKey(i.MODIFIERS[e])&&t.push(i.MODIFIERS[e]);return i.arrayIncludes(t,this.lastKey())||t.push(this.lastKey()),t.join(" ")},e.default=i,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(173),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(1)),r=u(n(2)),o=u(n(4)),a=u(n(3)),s=u(n(19)),l=u(n(91));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this));return o.player=n,o._options=n.options,o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"loader",get:function(){return this.player.loader}}]),e.prototype.create=function(){return this.options.loader=this.loader,this.core=new l.default(this.options),this.addCorePlugins(),this.core.createContainers(this.options),this.core},e.prototype.addCorePlugins=function(){var t=this;return this.loader.corePlugins.forEach(function(e){var n=new e(t.core);t.core.addPlugin(n),t.setupExternalInterface(n)}),this.core},e.prototype.setupExternalInterface=function(t){var e=t.getExternalInterface();for(var n in e)this.player[n]=e[n].bind(t)},e}(s.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=A(n(16)),r=A(n(1)),o=A(n(2)),a=A(n(4)),s=A(n(3)),l=n(9),u=A(n(7)),c=A(n(27)),d=A(n(18)),h=A(n(175)),p=A(n(94)),f=A(n(36)),y=A(n(49)),v=A(n(28)),g=A(n(23)),m=A(n(99)),b=A(n(5));n(192);var _=A(n(194));function A(t){return t&&t.__esModule?t:{default:t}}var E=void 0,w=function(t){function e(n){(0,r.default)(this,e);var i=(0,o.default)(this,t.call(this,n));return i.playerError=new v.default(n,i),i.configureDomRecycler(),i.playerInfo=y.default.getInstance(n.playerId),i.firstResize=!0,i.plugins=[],i.containers=[],i.setupMediaControl(null),i._boundFullscreenHandler=function(){return i.handleFullscreenChange()},(0,b.default)(document).bind("fullscreenchange",i._boundFullscreenHandler),(0,b.default)(document).bind("MSFullscreenChange",i._boundFullscreenHandler),(0,b.default)(document).bind("mozfullscreenchange",i._boundFullscreenHandler),d.default.isMobile&&(0,b.default)(window).bind("resize",function(t){i.handleWindowResize(t)}),i}return(0,s.default)(e,t),(0,a.default)(e,[{key:"events",get:function(){return{webkitfullscreenchange:"handleFullscreenChange",mousemove:"showMediaControl",mouseleave:"hideMediaControl"}}},{key:"attributes",get:function(){return{"data-player":"",tabindex:9999}}},{key:"isReady",get:function(){return!!this.ready}},{key:"i18n",get:function(){return this.getPlugin("strings")||{t:function(t){return t}}}}]),e.prototype.configureDomRecycler=function(){var t=!!(this.options&&this.options.playback&&this.options.playback.recycleVideo);l.DomRecycler.configure({recycleVideo:t})},e.prototype.createContainers=function(t){var e=this;this.defer=b.default.Deferred(),this.defer.promise(this),this.containerFactory=new h.default(t,t.loader,this.i18n,this.playerError),this.containerFactory.createContainers().then(function(t){return e.setupContainers(t)}).then(function(t){return e.resolveOnContainersReady(t)})},e.prototype.updateSize=function(){l.Fullscreen.isFullscreen()?this.setFullscreen():this.setPlayerSize()},e.prototype.setFullscreen=function(){d.default.isiOS||(this.$el.addClass("fullscreen"),this.$el.removeAttr("style"),this.playerInfo.previousSize={width:this.options.width,height:this.options.height},this.playerInfo.currentSize={width:(0,b.default)(window).width(),height:(0,b.default)(window).height()})},e.prototype.setPlayerSize=function(){this.$el.removeClass("fullscreen"),this.playerInfo.currentSize=this.playerInfo.previousSize,this.playerInfo.previousSize={width:(0,b.default)(window).width(),height:(0,b.default)(window).height()},this.resize(this.playerInfo.currentSize)},e.prototype.resize=function(t){(0,l.isNumber)(t.height)||(0,l.isNumber)(t.width)?(this.el.style.height=t.height+"px",this.el.style.width=t.width+"px"):(this.el.style.height=""+t.height,this.el.style.width=""+t.width),this.playerInfo.previousSize={width:this.options.width,height:this.options.height},this.options.width=t.width,this.options.height=t.height,this.playerInfo.currentSize=t,this.triggerResize(this.playerInfo.currentSize)},e.prototype.enableResizeObserver=function(){var t=this;this.resizeObserverInterval=setInterval(function(){t.triggerResize({width:t.el.clientWidth,height:t.el.clientHeight})},500)},e.prototype.triggerResize=function(t){(this.firstResize||this.oldHeight!==t.height||this.oldWidth!==t.width)&&(this.oldHeight=t.height,this.oldWidth=t.width,this.playerInfo.computedSize=t,this.firstResize=!1,f.default.trigger(this.options.playerId+":"+u.default.PLAYER_RESIZE,t),this.trigger(u.default.CORE_RESIZE,t))},e.prototype.disableResizeObserver=function(){this.resizeObserverInterval&&clearInterval(this.resizeObserverInterval)},e.prototype.resolveOnContainersReady=function(t){var e=this;b.default.when.apply(b.default,t).done(function(){e.defer.resolve(e),e.ready=!0,e.trigger(u.default.CORE_READY)})},e.prototype.addPlugin=function(t){this.plugins.push(t)},e.prototype.hasPlugin=function(t){return!!this.getPlugin(t)},e.prototype.getPlugin=function(t){return this.plugins.filter(function(e){return e.name===t})[0]},e.prototype.load=function(t,e){var n=this;this.options.mimeType=e,t=t&&t.constructor===Array?t:[t],this.options.sources=t,this.containers.forEach(function(t){return t.destroy()}),this.mediaControl.container=null,this.containerFactory.options=b.default.extend(this.options,{sources:t}),this.containerFactory.createContainers().then(function(t){return n.setupContainers(t)}).then(function(t){return n.resolveOnContainersReady(t)})},e.prototype.destroy=function(){this.disableResizeObserver(),this.containers.forEach(function(t){return t.destroy()}),this.plugins.forEach(function(t){return t.destroy()}),this.$el.remove(),this.mediaControl.destroy(),(0,b.default)(document).unbind("fullscreenchange",this._boundFullscreenHandler),(0,b.default)(document).unbind("MSFullscreenChange",this._boundFullscreenHandler),(0,b.default)(document).unbind("mozfullscreenchange",this._boundFullscreenHandler),this.stopListening()},e.prototype.handleFullscreenChange=function(){this.trigger(u.default.CORE_FULLSCREEN,l.Fullscreen.isFullscreen()),this.updateSize(),this.mediaControl.show()},e.prototype.handleWindowResize=function(t){var e=(0,b.default)(window).width()>(0,b.default)(window).height()?"landscape":"portrait";this._screenOrientation!==e&&(this._screenOrientation=e,this.triggerResize({width:this.el.clientWidth,height:this.el.clientHeight}),this.trigger(u.default.CORE_SCREEN_ORIENTATION_CHANGED,{event:t,orientation:this._screenOrientation}))},e.prototype.setMediaControlContainer=function(t){this.mediaControl.setContainer(t),this.mediaControl.render()},e.prototype.disableMediaControl=function(){this.mediaControl.disable(),this.$el.removeClass("nocursor")},e.prototype.enableMediaControl=function(){this.mediaControl.enable()},e.prototype.removeContainer=function(t){this.stopListening(t),this.containers=this.containers.filter(function(e){return e!==t})},e.prototype.setupContainer=function(t){this.listenTo(t,u.default.CONTAINER_DESTROYED,this.removeContainer),this.containers.push(t)},e.prototype.setupContainers=function(t){return t.forEach(this.setupContainer.bind(this)),this.trigger(u.default.CORE_CONTAINERS_CREATED),this.renderContainers(),this.setupMediaControl(this.getCurrentContainer()),this.render(),this.appendToParent(),this.containers},e.prototype.renderContainers=function(){var t=this;this.containers.forEach(function(e){return t.el.appendChild(e.render().el)})},e.prototype.createContainer=function(t,e){var n=this.containerFactory.createContainer(t,e);return this.setupContainer(n),this.el.appendChild(n.render().el),n},e.prototype.setupMediaControl=function(t){this.mediaControl?this.mediaControl.setContainer(t):(this.mediaControl=this.createMediaControl(b.default.extend({container:t,focusElement:this.el},this.options)),this.listenTo(this.mediaControl,u.default.MEDIACONTROL_FULLSCREEN,this.toggleFullscreen),this.listenTo(this.mediaControl,u.default.MEDIACONTROL_SHOW,this.onMediaControlShow.bind(this,!0)),this.listenTo(this.mediaControl,u.default.MEDIACONTROL_HIDE,this.onMediaControlShow.bind(this,!1)))},e.prototype.createMediaControl=function(t){return t.mediacontrol&&t.mediacontrol.external?new t.mediacontrol.external(t).render():new p.default(t).render()},e.prototype.getCurrentContainer=function(){return this.mediaControl&&this.mediaControl.container?this.mediaControl.container:this.containers[0]},e.prototype.getCurrentPlayback=function(){var t=this.getCurrentContainer();return t&&t.playback},e.prototype.getPlaybackType=function(){var t=this.getCurrentContainer();return t&&t.getPlaybackType()},e.prototype.toggleFullscreen=function(){if(l.Fullscreen.isFullscreen())l.Fullscreen.cancelFullscreen(),d.default.isiOS||this.$el.removeClass("fullscreen nocursor");else{var t=d.default.isiOS?this.getCurrentContainer().el:this.el;l.Fullscreen.requestFullscreen(t),d.default.isiOS||this.$el.addClass("fullscreen")}this.mediaControl.show()},e.prototype.showMediaControl=function(t){this.mediaControl.show(t)},e.prototype.hideMediaControl=function(){this.mediaControl.hide(this.options.hideMediaControlDelay)},e.prototype.onMediaControlShow=function(t){this.getCurrentContainer().trigger(t?u.default.CONTAINER_MEDIACONTROL_SHOW:u.default.CONTAINER_MEDIACONTROL_HIDE),t?this.$el.removeClass("nocursor"):l.Fullscreen.isFullscreen()&&this.$el.addClass("nocursor")},e.prototype.configure=function(t){var e=this;this._options=b.default.extend(this._options,t),this.configureDomRecycler();var n=t.source||t.sources;n&&this.load(n,t.mimeType||this.options.mimeType),this.trigger(u.default.CORE_OPTIONS_CHANGE),this.containers.forEach(function(t){t.configure(e.options)}),this.mediaControl.configure(this.options)},e.prototype.appendToParent=function(){!(this.$el.parent()&&this.$el.parent().length)&&this.$el.appendTo(this.options.parentElement)},e.prototype.render=function(){this.$el.append(this.mediaControl.render().el),E||(E=m.default.getStyleFor(_.default,{baseUrl:this.options.baseUrl})),(0,b.default)("head").append(E),this.options.width=this.options.width||this.$el.width(),this.options.height=this.options.height||this.$el.height();var t={width:this.options.width,height:this.options.height};return this.playerInfo.previousSize=this.playerInfo.currentSize=this.playerInfo.computedSize=t,this.updateSize(),this.previousSize={width:this.$el.width(),height:this.$el.height()},this.enableResizeObserver(),this},e}(c.default);e.default=w,(0,i.default)(w.prototype,g.default),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(176),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(48)),r=h(n(1)),o=h(n(2)),a=h(n(4)),s=h(n(3)),l=h(n(19)),u=h(n(7)),c=h(n(92)),d=h(n(5));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(n,i,a,s){(0,r.default)(this,e);var l=(0,o.default)(this,t.call(this,n));return l._i18n=a,l.loader=i,l.playerError=s,l}return(0,s.default)(e,t),(0,a.default)(e,[{key:"options",get:function(){return this._options},set:function(t){this._options=t}}]),e.prototype.createContainers=function(){var t=this;return d.default.Deferred(function(e){e.resolve(t.options.sources.map(function(e){return t.createContainer(e)}))})},e.prototype.findPlaybackPlugin=function(t,e){return this.loader.playbackPlugins.filter(function(n){return n.canPlay(t,e)})[0]},e.prototype.createContainer=function(t){var e=null,n=this.options.mimeType;"object"===(void 0===t?"undefined":(0,i.default)(t))?(e=t.source.toString(),t.mimeType&&(n=t.mimeType)):e=t.toString(),e.match(/^\/\//)&&(e=window.location.protocol+e);var r=d.default.extend({},this.options,{src:e,mimeType:n}),o=new(this.findPlaybackPlugin(e,n))(r,this._i18n,this.playerError);r=d.default.extend({},r,{playback:o});var a=new c.default(r,this._i18n,this.playerError),s=d.default.Deferred();return s.promise(a),this.addContainerPlugins(a),this.listenToOnce(a,u.default.CONTAINER_READY,function(){return s.resolve(a)}),a},e.prototype.addContainerPlugins=function(t){this.loader.containerPlugins.forEach(function(e){t.addPlugin(new e(t))})},e}(l.default);e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(16)),r=h(n(1)),o=h(n(2)),a=h(n(4)),s=h(n(3)),l=h(n(7)),u=h(n(27)),c=h(n(23));n(178);var d=h(n(5));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(n,i,a){(0,r.default)(this,e);var s=(0,o.default)(this,t.call(this,n));return s._i18n=i,s.currentTime=0,s.volume=100,s.playback=n.playback,s.playerError=a,s.settings=d.default.extend({},s.playback.settings),s.isReady=!1,s.mediaControlDisabled=!1,s.plugins=[s.playback],s.bindEvents(),s}return(0,s.default)(e,t),(0,a.default)(e,[{key:"name",get:function(){return"Container"}},{key:"attributes",get:function(){return{class:"container","data-container":""}}},{key:"events",get:function(){return{click:"clicked",dblclick:"dblClicked",doubleTap:"dblClicked",contextmenu:"onContextMenu",mouseenter:"mouseEnter",mouseleave:"mouseLeave"}}},{key:"ended",get:function(){return this.playback.ended}},{key:"buffering",get:function(){return this.playback.buffering}},{key:"i18n",get:function(){return this._i18n}},{key:"hasClosedCaptionsTracks",get:function(){return this.playback.hasClosedCaptionsTracks}},{key:"closedCaptionsTracks",get:function(){return this.playback.closedCaptionsTracks}},{key:"closedCaptionsTrackId",get:function(){return this.playback.closedCaptionsTrackId},set:function(t){this.playback.closedCaptionsTrackId=t}}]),e.prototype.bindEvents=function(){this.listenTo(this.playback,l.default.PLAYBACK_PROGRESS,this.progress),this.listenTo(this.playback,l.default.PLAYBACK_TIMEUPDATE,this.timeUpdated),this.listenTo(this.playback,l.default.PLAYBACK_READY,this.ready),this.listenTo(this.playback,l.default.PLAYBACK_BUFFERING,this.onBuffering),this.listenTo(this.playback,l.default.PLAYBACK_BUFFERFULL,this.bufferfull),this.listenTo(this.playback,l.default.PLAYBACK_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.playback,l.default.PLAYBACK_LOADEDMETADATA,this.loadedMetadata),this.listenTo(this.playback,l.default.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinitionUpdate),this.listenTo(this.playback,l.default.PLAYBACK_BITRATE,this.updateBitrate),this.listenTo(this.playback,l.default.PLAYBACK_PLAYBACKSTATE,this.playbackStateChanged),this.listenTo(this.playback,l.default.PLAYBACK_DVR,this.playbackDvrStateChanged),this.listenTo(this.playback,l.default.PLAYBACK_MEDIACONTROL_DISABLE,this.disableMediaControl),this.listenTo(this.playback,l.default.PLAYBACK_MEDIACONTROL_ENABLE,this.enableMediaControl),this.listenTo(this.playback,l.default.PLAYBACK_SEEKED,this.onSeeked),this.listenTo(this.playback,l.default.PLAYBACK_ENDED,this.onEnded),this.listenTo(this.playback,l.default.PLAYBACK_PLAY,this.playing),this.listenTo(this.playback,l.default.PLAYBACK_PAUSE,this.paused),this.listenTo(this.playback,l.default.PLAYBACK_STOP,this.stopped),this.listenTo(this.playback,l.default.PLAYBACK_ERROR,this.error),this.listenTo(this.playback,l.default.PLAYBACK_SUBTITLE_AVAILABLE,this.subtitleAvailable),this.listenTo(this.playback,l.default.PLAYBACK_SUBTITLE_CHANGED,this.subtitleChanged)},e.prototype.subtitleAvailable=function(){this.trigger(l.default.CONTAINER_SUBTITLE_AVAILABLE)},e.prototype.subtitleChanged=function(t){this.trigger(l.default.CONTAINER_SUBTITLE_CHANGED,t)},e.prototype.playbackStateChanged=function(t){this.trigger(l.default.CONTAINER_PLAYBACKSTATE,t)},e.prototype.playbackDvrStateChanged=function(t){this.settings=this.playback.settings,this.dvrInUse=t,this.trigger(l.default.CONTAINER_PLAYBACKDVRSTATECHANGED,t)},e.prototype.updateBitrate=function(t){this.trigger(l.default.CONTAINER_BITRATE,t)},e.prototype.statsReport=function(t){this.trigger(l.default.CONTAINER_STATS_REPORT,t)},e.prototype.getPlaybackType=function(){return this.playback.getPlaybackType()},e.prototype.isDvrEnabled=function(){return!!this.playback.dvrEnabled},e.prototype.isDvrInUse=function(){return!!this.dvrInUse},e.prototype.destroy=function(){this.trigger(l.default.CONTAINER_DESTROYED,this,this.name),this.stopListening(),this.plugins.forEach(function(t){return t.destroy()}),this.$el.remove()},e.prototype.setStyle=function(t){this.$el.css(t)},e.prototype.animate=function(t,e){return this.$el.animate(t,e).promise()},e.prototype.ready=function(){this.isReady=!0,this.trigger(l.default.CONTAINER_READY,this.name)},e.prototype.isPlaying=function(){return this.playback.isPlaying()},e.prototype.getStartTimeOffset=function(){return this.playback.getStartTimeOffset()},e.prototype.getCurrentTime=function(){return this.currentTime},e.prototype.getDuration=function(){return this.playback.getDuration()},e.prototype.error=function(t){this.isReady||this.ready(),this.trigger(l.default.CONTAINER_ERROR,t,this.name)},e.prototype.loadedMetadata=function(t){this.trigger(l.default.CONTAINER_LOADEDMETADATA,t)},e.prototype.timeUpdated=function(t){this.currentTime=t.current,this.trigger(l.default.CONTAINER_TIMEUPDATE,t,this.name)},e.prototype.progress=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.trigger.apply(this,[l.default.CONTAINER_PROGRESS].concat(e,[this.name]))},e.prototype.playing=function(){this.trigger(l.default.CONTAINER_PLAY,this.name)},e.prototype.paused=function(){this.trigger(l.default.CONTAINER_PAUSE,this.name)},e.prototype.play=function(){this.playback.play()},e.prototype.stop=function(){this.playback.stop(),this.currentTime=0},e.prototype.pause=function(){this.playback.pause()},e.prototype.onEnded=function(){this.trigger(l.default.CONTAINER_ENDED,this,this.name),this.currentTime=0},e.prototype.stopped=function(){this.trigger(l.default.CONTAINER_STOP)},e.prototype.clicked=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(l.default.CONTAINER_CLICK,this,this.name)},e.prototype.dblClicked=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(l.default.CONTAINER_DBLCLICK,this,this.name)},e.prototype.onContextMenu=function(t){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(l.default.CONTAINER_CONTEXTMENU,t,this.name)},e.prototype.seek=function(t){this.trigger(l.default.CONTAINER_SEEK,t,this.name),this.playback.seek(t)},e.prototype.onSeeked=function(){this.trigger(l.default.CONTAINER_SEEKED,this.name)},e.prototype.seekPercentage=function(t){var e=this.getDuration();if(t>=0&&t<=100){var n=e*(t/100);this.seek(n)}},e.prototype.setVolume=function(t){this.volume=parseInt(t,10),this.trigger(l.default.CONTAINER_VOLUME,t,this.name),this.playback.volume(t)},e.prototype.fullscreen=function(){this.trigger(l.default.CONTAINER_FULLSCREEN,this.name)},e.prototype.onBuffering=function(){this.trigger(l.default.CONTAINER_STATE_BUFFERING,this.name)},e.prototype.bufferfull=function(){this.trigger(l.default.CONTAINER_STATE_BUFFERFULL,this.name)},e.prototype.addPlugin=function(t){this.plugins.push(t)},e.prototype.hasPlugin=function(t){return!!this.getPlugin(t)},e.prototype.getPlugin=function(t){return this.plugins.filter(function(e){return e.name===t})[0]},e.prototype.mouseEnter=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(l.default.CONTAINER_MOUSE_ENTER)},e.prototype.mouseLeave=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(l.default.CONTAINER_MOUSE_LEAVE)},e.prototype.settingsUpdate=function(){this.settings=this.playback.settings,this.trigger(l.default.CONTAINER_SETTINGSUPDATE)},e.prototype.highDefinitionUpdate=function(t){this.trigger(l.default.CONTAINER_HIGHDEFINITIONUPDATE,t)},e.prototype.isHighDefinitionInUse=function(){return this.playback.isHighDefinitionInUse()},e.prototype.disableMediaControl=function(){this.mediaControlDisabled||(this.mediaControlDisabled=!0,this.trigger(l.default.CONTAINER_MEDIACONTROL_DISABLE))},e.prototype.enableMediaControl=function(){this.mediaControlDisabled&&(this.mediaControlDisabled=!1,this.trigger(l.default.CONTAINER_MEDIACONTROL_ENABLE))},e.prototype.updateStyle=function(){!this.options.chromeless||this.options.allowUserInteraction?this.$el.removeClass("chromeless"):this.$el.addClass("chromeless")},e.prototype.configure=function(t){this._options=d.default.extend(this._options,t),this.updateStyle(),this.playback.configure(this.options),this.trigger(l.default.CONTAINER_OPTIONS_CHANGE)},e.prototype.render=function(){return this.$el.append(this.playback.render().el),this.updateStyle(),this},e}(u.default);e.default=p,(0,i.default)(p.prototype,c.default),t.exports=e.default},function(t,e,n){var i=n(179);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".container[data-container]{position:absolute;background-color:#000;height:100%;width:100%}.container[data-container] .chromeless{cursor:default}[data-player]:not(.nocursor) .container[data-container]:not(.chromeless).pointer-enabled{cursor:pointer}",""])},function(t,e,n){"use strict";t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r=C(n(95)),o=C(n(1)),a=C(n(2)),s=C(n(4)),l=C(n(3)),u=n(9),c=n(54),d=C(n(7)),h=C(n(27)),p=C(n(18)),f=C(n(36)),y=C(n(11)),v=C(n(13)),g=C(n(5));n(183);var m=C(n(185)),b=C(n(72)),_=C(n(98)),A=C(n(186)),E=C(n(187)),w=C(n(188)),T=C(n(189)),k=C(n(190)),S=C(n(191));function C(t){return t&&t.__esModule?t:{default:t}}var O=function(t){function e(n){(0,o.default)(this,e);var i=(0,a.default)(this,t.call(this,n));return i.persistConfig=i.options.persistConfig,i.container=n.container,i.currentPositionValue=null,i.currentDurationValue=null,i.keepVisible=!1,i.fullScreenOnVideoTagSupported=null,i.setInitialVolume(),i.addEventListeners(),i.settings={left:["play","stop","pause"],right:["volume"],default:["position","seekbar","duration"]},i.kibo=new c.Kibo(i.options.focusElement),i.bindKeyEvents(),i.container?g.default.isEmptyObject(i.container.settings)||(i.settings=g.default.extend({},i.container.settings)):i.settings={},i.userDisabled=!1,(i.container&&i.container.mediaControlDisabled||i.options.chromeless)&&i.disable(),i.stopDragHandler=function(t){return i.stopDrag(t)},i.updateDragHandler=function(t){return i.updateDrag(t)},(0,g.default)(document).bind("mouseup",i.stopDragHandler),(0,g.default)(document).bind("mousemove",i.updateDragHandler),i}return(0,l.default)(e,t),(0,s.default)(e,[{key:"name",get:function(){return"MediaControl"}},{key:"disabled",get:function(){return this.userDisabled||this.container&&this.container.getPlaybackType()===v.default.NO_OP}},{key:"attributes",get:function(){return{class:"media-control","data-media-control":""}}},{key:"events",get:function(){return{"click [data-play]":"play","click [data-pause]":"pause","click [data-playpause]":"togglePlayPause","click [data-stop]":"stop","click [data-playstop]":"togglePlayStop","click [data-fullscreen]":"toggleFullscreen","click .bar-container[data-seekbar]":"seek","click .bar-container[data-volume]":"onVolumeClick","click .drawer-icon[data-volume]":"toggleMute","mouseenter .drawer-container[data-volume]":"showVolumeBar","mouseleave .drawer-container[data-volume]":"hideVolumeBar","mousedown .bar-container[data-volume]":"startVolumeDrag","mousemove .bar-container[data-volume]":"mousemoveOnVolumeBar","mousedown .bar-scrubber[data-seekbar]":"startSeekDrag","mousemove .bar-container[data-seekbar]":"mousemoveOnSeekBar","mouseleave .bar-container[data-seekbar]":"mouseleaveOnSeekBar","mouseenter .media-control-layer[data-controls]":"setUserKeepVisible","mouseleave .media-control-layer[data-controls]":"resetUserKeepVisible"}}},{key:"template",get:function(){return(0,y.default)(m.default)}},{key:"volume",get:function(){return this.container&&this.container.isReady?this.container.volume:this.intendedVolume}},{key:"muted",get:function(){return 0===this.volume}}]),e.prototype.addEventListeners=function(){this.container&&(f.default.on(this.options.playerId+":"+d.default.PLAYER_RESIZE,this.playerResize,this),this.listenTo(this.container,d.default.CONTAINER_PLAY,this.changeTogglePlay),this.listenTo(this.container,d.default.CONTAINER_PAUSE,this.changeTogglePlay),this.listenTo(this.container,d.default.CONTAINER_STOP,this.changeTogglePlay),this.listenTo(this.container,d.default.CONTAINER_DBLCLICK,this.toggleFullscreen),this.listenTo(this.container,d.default.CONTAINER_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.container,d.default.CONTAINER_PROGRESS,this.updateProgressBar),this.listenTo(this.container,d.default.CONTAINER_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.container,d.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.settingsUpdate),this.listenTo(this.container,d.default.CONTAINER_HIGHDEFINITIONUPDATE,this.highDefinitionUpdate),this.listenTo(this.container,d.default.CONTAINER_MEDIACONTROL_DISABLE,this.disable),this.listenTo(this.container,d.default.CONTAINER_MEDIACONTROL_ENABLE,this.enable),this.listenTo(this.container,d.default.CONTAINER_ENDED,this.ended),this.listenTo(this.container,d.default.CONTAINER_VOLUME,this.onVolumeChanged),this.listenTo(this.container,d.default.CONTAINER_OPTIONS_CHANGE,this.setInitialVolume),"video"===this.container.playback.el.nodeName.toLowerCase()&&this.listenToOnce(this.container,d.default.CONTAINER_LOADEDMETADATA,this.onLoadedMetadataOnVideoTag))},e.prototype.disable=function(){this.userDisabled=!0,this.hide(),this.unbindKeyEvents(),this.$el.hide()},e.prototype.enable=function(){this.options.chromeless||(this.userDisabled=!1,this.bindKeyEvents(),this.show())},e.prototype.play=function(){this.container.play()},e.prototype.pause=function(){this.container.pause()},e.prototype.stop=function(){this.container.stop()},e.prototype.setInitialVolume=function(){var t=this.persistConfig?u.Config.restore("volume"):100,e=this.container&&this.container.options||this.options;this.setVolume(e.mute?0:t,!0)},e.prototype.onVolumeChanged=function(){this.updateVolumeUI()},e.prototype.onLoadedMetadataOnVideoTag=function(){var t=this.container.playback.el;!u.Fullscreen.fullscreenEnabled()&&t.webkitSupportsFullscreen&&(this.fullScreenOnVideoTagSupported=!0,this.settingsUpdate())},e.prototype.updateVolumeUI=function(){if(this.rendered){this.$volumeBarContainer.find(".bar-fill-2").css({});var t=this.$volumeBarContainer.width(),e=this.$volumeBarBackground.width(),n=(t-e)/2,i=e*this.volume/100+n;this.$volumeBarFill.css({width:this.volume+"%"}),this.$volumeBarScrubber.css({left:i}),this.$volumeBarContainer.find(".segmented-bar-element").removeClass("fill");var r=Math.ceil(this.volume/10);this.$volumeBarContainer.find(".segmented-bar-element").slice(0,r).addClass("fill"),this.$volumeIcon.html(""),this.$volumeIcon.removeClass("muted"),this.muted?(this.$volumeIcon.append(w.default),this.$volumeIcon.addClass("muted")):this.$volumeIcon.append(E.default),this.applyButtonStyle(this.$volumeIcon)}},e.prototype.changeTogglePlay=function(){this.$playPauseToggle.html(""),this.$playStopToggle.html(""),this.container&&this.container.isPlaying()?(this.$playPauseToggle.append(_.default),this.$playStopToggle.append(A.default),this.trigger(d.default.MEDIACONTROL_PLAYING)):(this.$playPauseToggle.append(b.default),this.$playStopToggle.append(b.default),this.trigger(d.default.MEDIACONTROL_NOTPLAYING),p.default.isMobile&&this.show()),this.applyButtonStyle(this.$playPauseToggle),this.applyButtonStyle(this.$playStopToggle)},e.prototype.mousemoveOnSeekBar=function(t){if(this.settings.seekEnabled){var e=t.pageX-this.$seekBarContainer.offset().left-this.$seekBarHover.width()/2;this.$seekBarHover.css({left:e})}this.trigger(d.default.MEDIACONTROL_MOUSEMOVE_SEEKBAR,t)},e.prototype.mouseleaveOnSeekBar=function(t){this.trigger(d.default.MEDIACONTROL_MOUSELEAVE_SEEKBAR,t)},e.prototype.onVolumeClick=function(t){this.setVolume(this.getVolumeFromUIEvent(t))},e.prototype.mousemoveOnVolumeBar=function(t){this.draggingVolumeBar&&this.setVolume(this.getVolumeFromUIEvent(t))},e.prototype.playerResize=function(t){this.$fullscreenToggle.html(""),u.Fullscreen.isFullscreen()?this.$fullscreenToggle.append(k.default):this.$fullscreenToggle.append(T.default),this.applyButtonStyle(this.$fullscreenToggle),this.$el.removeClass("w320"),(t.width<=320||this.options.hideVolumeBar)&&this.$el.addClass("w320")},e.prototype.togglePlayPause=function(){return this.container.isPlaying()?this.container.pause():this.container.play(),!1},e.prototype.togglePlayStop=function(){this.container.isPlaying()?this.container.stop():this.container.play()},e.prototype.startSeekDrag=function(t){this.settings.seekEnabled&&(this.draggingSeekBar=!0,this.$el.addClass("dragging"),this.$seekBarLoaded.addClass("media-control-notransition"),this.$seekBarPosition.addClass("media-control-notransition"),this.$seekBarScrubber.addClass("media-control-notransition"),t&&t.preventDefault())},e.prototype.startVolumeDrag=function(t){this.draggingVolumeBar=!0,this.$el.addClass("dragging"),t&&t.preventDefault()},e.prototype.stopDrag=function(t){this.draggingSeekBar&&this.seek(t),this.$el.removeClass("dragging"),this.$seekBarLoaded.removeClass("media-control-notransition"),this.$seekBarPosition.removeClass("media-control-notransition"),this.$seekBarScrubber.removeClass("media-control-notransition dragging"),this.draggingSeekBar=!1,this.draggingVolumeBar=!1},e.prototype.updateDrag=function(t){if(this.draggingSeekBar){t.preventDefault();var e=(t.pageX-this.$seekBarContainer.offset().left)/this.$seekBarContainer.width()*100;e=Math.min(100,Math.max(e,0)),this.setSeekPercentage(e)}else this.draggingVolumeBar&&(t.preventDefault(),this.setVolume(this.getVolumeFromUIEvent(t)))},e.prototype.getVolumeFromUIEvent=function(t){return(t.pageX-this.$volumeBarContainer.offset().left)/this.$volumeBarContainer.width()*100},e.prototype.toggleMute=function(){this.setVolume(this.muted?100:0)},e.prototype.setVolume=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=Math.min(100,Math.max(t,0)),this.intendedVolume=t,this.persistConfig&&!n&&u.Config.persist("volume",t);var i=function(){e.container.isReady?e.container.setVolume(t):e.listenToOnce(e.container,d.default.CONTAINER_READY,function(){e.container.setVolume(t)})};this.container?i():this.listenToOnce(this,d.default.MEDIACONTROL_CONTAINERCHANGED,function(){i()})},e.prototype.toggleFullscreen=function(){this.trigger(d.default.MEDIACONTROL_FULLSCREEN,this.name),this.container.fullscreen(),this.resetUserKeepVisible()},e.prototype.setContainer=function(t){this.container&&(this.stopListening(this.container),this.fullScreenOnVideoTagSupported=null),f.default.off(this.options.playerId+":"+d.default.PLAYER_RESIZE,this.playerResize,this),this.container=t,this.setVolume(this.intendedVolume,!0),this.changeTogglePlay(),this.addEventListeners(),this.settingsUpdate(),this.container.trigger(d.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.container.isDvrInUse()),this.container.mediaControlDisabled&&this.disable(),this.trigger(d.default.MEDIACONTROL_CONTAINERCHANGED)},e.prototype.showVolumeBar=function(){this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.$volumeBarContainer.removeClass("volume-bar-hide")},e.prototype.hideVolumeBar=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;this.$volumeBarContainer&&(this.draggingVolumeBar?this.hideVolumeId=setTimeout(function(){return t.hideVolumeBar()},e):(this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.hideVolumeId=setTimeout(function(){return t.$volumeBarContainer.addClass("volume-bar-hide")},e)))},e.prototype.ended=function(){this.changeTogglePlay()},e.prototype.updateProgressBar=function(t){var e=t.start/t.total*100,n=t.current/t.total*100;this.$seekBarLoaded.css({left:e+"%",width:n-e+"%"})},e.prototype.onTimeUpdate=function(t){if(!this.draggingSeekBar){var e=t.current<0?t.total:t.current;this.currentPositionValue=e,this.currentDurationValue=t.total,this.renderSeekBar()}},e.prototype.renderSeekBar=function(){if(null!==this.currentPositionValue&&null!==this.currentDurationValue){this.currentSeekBarPercentage=100,(this.container.getPlaybackType()!==v.default.LIVE||this.container.isDvrInUse())&&(this.currentSeekBarPercentage=this.currentPositionValue/this.currentDurationValue*100),this.setSeekPercentage(this.currentSeekBarPercentage);var t=(0,u.formatTime)(this.currentPositionValue),e=(0,u.formatTime)(this.currentDurationValue);t!==this.displayedPosition&&(this.$position.text(t),this.displayedPosition=t),e!==this.displayedDuration&&(this.$duration.text(e),this.displayedDuration=e)}},e.prototype.seek=function(t){if(this.settings.seekEnabled){var e=(t.pageX-this.$seekBarContainer.offset().left)/this.$seekBarContainer.width()*100;return e=Math.min(100,Math.max(e,0)),this.container.seekPercentage(e),this.setSeekPercentage(e),!1}},e.prototype.setKeepVisible=function(){this.keepVisible=!0},e.prototype.resetKeepVisible=function(){this.keepVisible=!1},e.prototype.setUserKeepVisible=function(){this.userKeepVisible=!0},e.prototype.resetUserKeepVisible=function(){this.userKeepVisible=!1},e.prototype.isVisible=function(){return!this.$el.hasClass("media-control-hide")},e.prototype.show=function(t){var e=this;if(!this.disabled){(!t||t.clientX!==this.lastMouseX&&t.clientY!==this.lastMouseY||navigator.userAgent.match(/firefox/i))&&(clearTimeout(this.hideId),this.$el.show(),this.trigger(d.default.MEDIACONTROL_SHOW,this.name),this.$el.removeClass("media-control-hide"),this.hideId=setTimeout(function(){return e.hide()},2e3),t&&(this.lastMouseX=t.clientX,this.lastMouseY=t.clientY))}},e.prototype.hide=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.isVisible()){var n=e||2e3;clearTimeout(this.hideId),(this.disabled||!1!==this.options.hideMediaControl)&&(!this.disabled&&(e||this.userKeepVisible||this.keepVisible||this.draggingSeekBar||this.draggingVolumeBar)?this.hideId=setTimeout(function(){return t.hide()},n):(this.trigger(d.default.MEDIACONTROL_HIDE,this.name),this.$el.addClass("media-control-hide"),this.hideVolumeBar(0)))}},e.prototype.settingsUpdate=function(){var t=this.getSettings();!t||this.fullScreenOnVideoTagSupported||u.Fullscreen.fullscreenEnabled()||(t.default&&(0,u.removeArrayItem)(t.default,"fullscreen"),t.left&&(0,u.removeArrayItem)(t.left,"fullscreen"),t.right&&(0,u.removeArrayItem)(t.right,"fullscreen")),(0,r.default)(this.settings)!==(0,r.default)(t)&&(this.settings=t,this.render())},e.prototype.getSettings=function(){return g.default.extend(!0,{},this.container.settings)},e.prototype.highDefinitionUpdate=function(t){this.isHD=t;var e=t?"addClass":"removeClass";this.$hdIndicator[e]("enabled")},e.prototype.createCachedElements=function(){var t=this.$el.find(".media-control-layer");this.$duration=t.find(".media-control-indicator[data-duration]"),this.$fullscreenToggle=t.find("button.media-control-button[data-fullscreen]"),this.$playPauseToggle=t.find("button.media-control-button[data-playpause]"),this.$playStopToggle=t.find("button.media-control-button[data-playstop]"),this.$position=t.find(".media-control-indicator[data-position]"),this.$seekBarContainer=t.find(".bar-container[data-seekbar]"),this.$seekBarHover=t.find(".bar-hover[data-seekbar]"),this.$seekBarLoaded=t.find(".bar-fill-1[data-seekbar]"),this.$seekBarPosition=t.find(".bar-fill-2[data-seekbar]"),this.$seekBarScrubber=t.find(".bar-scrubber[data-seekbar]"),this.$volumeBarContainer=t.find(".bar-container[data-volume]"),this.$volumeContainer=t.find(".drawer-container[data-volume]"),this.$volumeIcon=t.find(".drawer-icon[data-volume]"),this.$volumeBarBackground=this.$el.find(".bar-background[data-volume]"),this.$volumeBarFill=this.$el.find(".bar-fill-1[data-volume]"),this.$volumeBarScrubber=this.$el.find(".bar-scrubber[data-volume]"),this.$hdIndicator=this.$el.find("button.media-control-button[data-hd-indicator]"),this.resetIndicators(),this.initializeIcons()},e.prototype.resetIndicators=function(){this.displayedPosition=this.$position.text(),this.displayedDuration=this.$duration.text()},e.prototype.initializeIcons=function(){var t=this.$el.find(".media-control-layer");t.find("button.media-control-button[data-play]").append(b.default),t.find("button.media-control-button[data-pause]").append(_.default),t.find("button.media-control-button[data-stop]").append(A.default),this.$playPauseToggle.append(b.default),this.$playStopToggle.append(b.default),this.$volumeIcon.append(E.default),this.$fullscreenToggle.append(T.default),this.$hdIndicator.append(S.default)},e.prototype.setSeekPercentage=function(t){t=Math.max(Math.min(t,100),0),this.displayedSeekBarPercentage!==t&&(this.displayedSeekBarPercentage=t,this.$seekBarPosition.removeClass("media-control-notransition"),this.$seekBarScrubber.removeClass("media-control-notransition"),this.$seekBarPosition.css({width:t+"%"}),this.$seekBarScrubber.css({left:t+"%"}))},e.prototype.seekRelative=function(t){if(this.settings.seekEnabled){var e=this.container.getCurrentTime(),n=this.container.getDuration(),i=Math.min(Math.max(e+t,0),n);i=Math.min(100*i/n,100),this.container.seekPercentage(i)}},e.prototype.bindKeyAndShow=function(t,e){var n=this;this.kibo.down(t,function(){return n.show(),e()})},e.prototype.bindKeyEvents=function(){var t=this;if(!p.default.isMobile&&!this.options.disableKeyboardShortcuts){this.unbindKeyEvents(),this.bindKeyAndShow("space",function(){return t.togglePlayPause()}),this.bindKeyAndShow("left",function(){return t.seekRelative(-5)}),this.bindKeyAndShow("right",function(){return t.seekRelative(5)}),this.bindKeyAndShow("shift left",function(){return t.seekRelative(-10)}),this.bindKeyAndShow("shift right",function(){return t.seekRelative(10)}),this.bindKeyAndShow("shift ctrl left",function(){return t.seekRelative(-15)}),this.bindKeyAndShow("shift ctrl right",function(){return t.seekRelative(15)});["1","2","3","4","5","6","7","8","9","0"].forEach(function(e){t.bindKeyAndShow(e,function(){return t.settings.seekEnabled&&t.container.seekPercentage(10*e)})})}},e.prototype.unbindKeyEvents=function(){this.kibo&&(this.kibo.off("space"),this.kibo.off("left"),this.kibo.off("right"),this.kibo.off("shift left"),this.kibo.off("shift right"),this.kibo.off("shift ctrl left"),this.kibo.off("shift ctrl right"),this.kibo.off(["1","2","3","4","5","6","7","8","9","0"]))},e.prototype.parseColors=function(){if(this.options.mediacontrol){this.buttonsColor=this.options.mediacontrol.buttons;var t=this.options.mediacontrol.seekbar;this.$el.find(".bar-fill-2[data-seekbar]").css("background-color",t),this.$el.find(".media-control-icon svg path").css("fill",this.buttonsColor),this.$el.find(".segmented-bar-element[data-volume]").css("boxShadow","inset 2px 0 0 "+this.buttonsColor)}},e.prototype.applyButtonStyle=function(t){this.buttonsColor&&t&&(0,g.default)(t).find("svg path").css("fill",this.buttonsColor)},e.prototype.destroy=function(){this.remove(),(0,g.default)(document).unbind("mouseup",this.stopDragHandler),(0,g.default)(document).unbind("mousemove",this.updateDragHandler),this.unbindKeyEvents(),this.stopListening()},e.prototype.configure=function(t){this._options=g.default.extend(this._options,t),this.trigger(d.default.MEDIACONTROL_OPTIONS_CHANGE)},e.prototype.render=function(){var t=this,e=this.options.hideMediaControlDelay||2e3;this.$el.html(this.template({settings:this.settings})),this.createCachedElements(),this.$playPauseToggle.addClass("paused"),this.$playStopToggle.addClass("stopped"),this.changeTogglePlay(),this.hideId=setTimeout(function(){return t.hide()},e),this.disabled&&this.hide(),p.default.isSafari&&p.default.isMobile&&(p.default.version<10?this.$volumeContainer.css("display","none"):this.$volumeBarContainer.css("display","none")),this.$seekBarPosition.addClass("media-control-notransition"),this.$seekBarScrubber.addClass("media-control-notransition");var n=0;return this.displayedSeekBarPercentage&&(n=this.displayedSeekBarPercentage),this.displayedSeekBarPercentage=null,this.setSeekPercentage(n),i.nextTick(function(){t.settings.seekEnabled||t.$seekBarContainer.addClass("seek-disabled"),t.playerResize({width:t.options.width,height:t.options.height}),t.hideVolumeBar(0)}),this.parseColors(),this.highDefinitionUpdate(this.isHD),this.rendered=!0,this.updateVolumeUI(),this.trigger(d.default.MEDIACONTROL_RENDERED),this},e}(h.default);e.default=O,O.extend=function(t){return(0,u.extend)(O,t)},t.exports=e.default}).call(this,n(30))},function(t,e,n){"use strict";var i=n(14),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,n){var i=n(184);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(96);(t.exports=n(8)(!1)).push([t.i,".media-control-notransition{transition:none!important}.media-control[data-media-control]{position:absolute;width:100%;height:100%;z-index:9999;pointer-events:none}.media-control[data-media-control].dragging{pointer-events:auto;cursor:-webkit-grabbing!important;cursor:grabbing!important;cursor:url("+i(n(97))+"),move}.media-control[data-media-control].dragging *{cursor:-webkit-grabbing!important;cursor:grabbing!important;cursor:url("+i(n(97))+'),move}.media-control[data-media-control] .media-control-background[data-background]{position:absolute;height:40%;width:100%;bottom:0;background:linear-gradient(transparent,rgba(0,0,0,.9));transition:opacity .6s ease-out}.media-control[data-media-control] .media-control-icon{line-height:0;letter-spacing:0;speak:none;color:#fff;opacity:.5;vertical-align:middle;text-align:left;transition:all .1s ease}.media-control[data-media-control] .media-control-icon:hover{color:#fff;opacity:.75;text-shadow:hsla(0,0%,100%,.8) 0 0 5px}.media-control[data-media-control].media-control-hide .media-control-background[data-background]{opacity:0}.media-control[data-media-control].media-control-hide .media-control-layer[data-controls]{bottom:-50px}.media-control[data-media-control].media-control-hide .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{opacity:0}.media-control[data-media-control] .media-control-layer[data-controls]{position:absolute;bottom:7px;width:100%;height:32px;font-size:0;vertical-align:middle;pointer-events:auto;transition:bottom .4s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-left-panel[data-media-control]{position:absolute;top:0;left:4px;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-center-panel[data-media-control]{height:100%;text-align:center;line-height:32px}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-right-panel[data-media-control]{position:absolute;top:0;right:4px;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button{background-color:transparent;border:0;margin:0 6px;padding:0;cursor:pointer;display:inline-block;width:32px;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg{width:100%;height:22px}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg path{fill:#fff}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button:focus{outline:none}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-pause],.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-play],.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-stop]{float:left;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-fullscreen]{float:right;background-color:transparent;border:0;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator]{background-color:transparent;border:0;cursor:default;display:none;float:right;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled{display:block;opacity:1}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled:hover{opacity:1;text-shadow:none}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playpause],.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playstop]{float:left}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration],.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position]{display:inline-block;font-size:10px;color:#fff;cursor:default;line-height:32px;position:relative}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position]{margin:0 6px 0 7px}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]{color:hsla(0,0%,100%,.5);margin-right:6px}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]:before{content:"|";margin-right:7px}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]{position:absolute;top:-20px;left:0;display:inline-block;vertical-align:middle;width:100%;height:25px;cursor:pointer}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar]{width:100%;height:1px;position:relative;top:12px;background-color:#666}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#c2c2c2;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#005aff;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{opacity:0;position:absolute;top:-3px;width:5px;height:7px;background-color:hsla(0,0%,100%,.5);transition:opacity .1s ease}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{opacity:1}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled{cursor:default}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{opacity:0}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:2px;left:0;width:20px;height:20px;opacity:1;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{position:absolute;left:6px;top:6px;width:8px;height:8px;border-radius:10px;box-shadow:0 0 0 6px hsla(0,0%,100%,.2);background-color:#fff}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume]{float:right;display:inline-block;height:32px;cursor:pointer;margin:0 6px;box-sizing:border-box}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume]{float:left;bottom:0}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]{background-color:transparent;border:0;box-sizing:content-box;width:32px;height:32px;opacity:.5}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]:hover{opacity:.75}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg{height:24px;position:relative;top:3px}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg path{fill:#fff}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume].muted svg{margin-left:2px}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume]{float:left;position:relative;overflow:hidden;top:6px;width:42px;height:18px;padding:3px 0;transition:width .2s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume]{height:1px;position:relative;top:7px;margin:0 3px;background-color:#666}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#c2c2c2;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-2[data-volume]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#005aff;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-volume]{opacity:0;position:absolute;top:-3px;width:5px;height:7px;background-color:hsla(0,0%,100%,.5);transition:opacity .1s ease}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume]{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:0;left:0;width:20px;height:20px;opacity:1;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume]{position:absolute;left:6px;top:6px;width:8px;height:8px;border-radius:10px;box-shadow:0 0 0 6px hsla(0,0%,100%,.2);background-color:#fff}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]{float:left;width:4px;padding-left:2px;height:12px;opacity:.5;box-shadow:inset 2px 0 0 #fff;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume].fill{box-shadow:inset 2px 0 0 #fff;opacity:1}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:first-of-type{padding-left:0}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:hover{-webkit-transform:scaleY(1.5);transform:scaleY(1.5)}.media-control[data-media-control].w320 .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume].volume-bar-hide{width:0;height:12px;top:9px;padding:0}',""])},function(t,e){t.exports='<div class="media-control-background" data-background></div>\n<div class="media-control-layer" data-controls>\n  <%  var renderBar = function(name) { %>\n      <div class="bar-container" data-<%= name %>>\n        <div class="bar-background" data-<%= name %>>\n          <div class="bar-fill-1" data-<%= name %>></div>\n          <div class="bar-fill-2" data-<%= name %>></div>\n          <div class="bar-hover" data-<%= name %>></div>\n        </div>\n        <div class="bar-scrubber" data-<%= name %>>\n          <div class="bar-scrubber-icon" data-<%= name %>></div>\n        </div>\n      </div>\n  <%  }; %>\n  <%  var renderSegmentedBar = function(name, segments) {\n      segments = segments || 10; %>\n    <div class="bar-container" data-<%= name %>>\n    <% for (var i = 0; i < segments; i++) { %>\n      <div class="segmented-bar-element" data-<%= name %>></div>\n    <% } %>\n    </div>\n  <% }; %>\n  <% var renderDrawer = function(name, renderContent) { %>\n      <div class="drawer-container" data-<%= name %>>\n        <div class="drawer-icon-container" data-<%= name %>>\n          <div class="drawer-icon media-control-icon" data-<%= name %>></div>\n          <span class="drawer-text" data-<%= name %>></span>\n        </div>\n        <% renderContent(name); %>\n      </div>\n  <% }; %>\n  <% var renderIndicator = function(name) { %>\n      <div class="media-control-indicator" data-<%= name %>></div>\n  <% }; %>\n  <% var renderButton = function(name) { %>\n    <button type="button" class="media-control-button media-control-icon" data-<%= name %> aria-label="<%= name %>"></button>\n  <% }; %>\n  <%  var templates = {\n        bar: renderBar,\n        segmentedBar: renderSegmentedBar,\n      };\n      var render = function(settingsList) {\n        settingsList.forEach(function(setting) {\n          if(setting === "seekbar") {\n            renderBar(setting);\n          } else if (setting === "volume") {\n            renderDrawer(setting, settings.volumeBarTemplate ? templates[settings.volumeBarTemplate] : function(name) { return renderSegmentedBar(name); });\n          } else if (setting === "duration" || setting === "position") {\n            renderIndicator(setting);\n          } else {\n            renderButton(setting);\n          }\n        });\n      }; %>\n  <% if (settings.default && settings.default.length) { %>\n  <div class="media-control-center-panel" data-media-control>\n    <% render(settings.default); %>\n  </div>\n  <% } %>\n  <% if (settings.left && settings.left.length) { %>\n  <div class="media-control-left-panel" data-media-control>\n    <% render(settings.left); %>\n  </div>\n  <% } %>\n  <% if (settings.right && settings.right.length) { %>\n  <div class="media-control-right-panel" data-media-control>\n    <% render(settings.right); %>\n  </div>\n  <% } %>\n</div>\n'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M1.712 1.24h12.6v13.52h-12.6z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M11.5 11h-.002v1.502L7.798 10H4.5V6h3.297l3.7-2.502V4.5h.003V11zM11 4.49L7.953 6.5H5v3h2.953L11 11.51V4.49z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M9.75 11.51L6.7 9.5H3.75v-3H6.7L9.75 4.49v.664l.497.498V3.498L6.547 6H3.248v4h3.296l3.7 2.502v-2.154l-.497.5v.662zm3-5.165L12.404 6l-1.655 1.653L9.093 6l-.346.345L10.402 8 8.747 9.654l.346.347 1.655-1.653L12.403 10l.348-.346L11.097 8l1.655-1.655z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M7.156 8L4 11.156V8.5H3V13h4.5v-1H4.844L8 8.844 7.156 8zM8.5 3v1h2.657L8 7.157 8.846 8 12 4.844V7.5h1V3H8.5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M13.5 3.344l-.844-.844L9.5 5.656V3h-1v4.5H13v-1h-2.656L13.5 3.344zM3 9.5h2.656L2.5 12.656l.844.844L6.5 10.344V13h1V8.5H3v1z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M5.375 7.062H2.637V4.26H.502v7.488h2.135V8.9h2.738v2.848h2.133V4.26H5.375v2.802zm5.97-2.81h-2.84v7.496h2.798c2.65 0 4.195-1.607 4.195-3.77v-.022c0-2.162-1.523-3.704-4.154-3.704zm2.06 3.758c0 1.21-.81 1.896-2.03 1.896h-.83V6.093h.83c1.22 0 2.03.696 2.03 1.896v.02z"></path></svg>'},function(t,e,n){var i=n(193);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,'[data-player]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-transform:translateZ(0);transform:translateZ(0);position:relative;margin:0;padding:0;border:0;font-style:normal;font-weight:400;text-align:center;overflow:hidden;font-size:100%;font-family:Roboto,Open Sans,Arial,sans-serif;text-shadow:0 0 0;box-sizing:border-box}[data-player] a,[data-player] abbr,[data-player] acronym,[data-player] address,[data-player] applet,[data-player] article,[data-player] aside,[data-player] audio,[data-player] b,[data-player] big,[data-player] blockquote,[data-player] canvas,[data-player] caption,[data-player] center,[data-player] cite,[data-player] code,[data-player] dd,[data-player] del,[data-player] details,[data-player] dfn,[data-player] div,[data-player] dl,[data-player] dt,[data-player] em,[data-player] embed,[data-player] fieldset,[data-player] figcaption,[data-player] figure,[data-player] footer,[data-player] form,[data-player] h1,[data-player] h2,[data-player] h3,[data-player] h4,[data-player] h5,[data-player] h6,[data-player] header,[data-player] hgroup,[data-player] i,[data-player] iframe,[data-player] img,[data-player] ins,[data-player] kbd,[data-player] label,[data-player] legend,[data-player] li,[data-player] mark,[data-player] menu,[data-player] nav,[data-player] object,[data-player] ol,[data-player] output,[data-player] p,[data-player] pre,[data-player] q,[data-player] ruby,[data-player] s,[data-player] samp,[data-player] section,[data-player] small,[data-player] span,[data-player] strike,[data-player] strong,[data-player] sub,[data-player] summary,[data-player] sup,[data-player] table,[data-player] tbody,[data-player] td,[data-player] tfoot,[data-player] th,[data-player] thead,[data-player] time,[data-player] tr,[data-player] tt,[data-player] u,[data-player] ul,[data-player] var,[data-player] video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}[data-player] table{border-collapse:collapse;border-spacing:0}[data-player] caption,[data-player] td,[data-player] th{text-align:left;font-weight:400;vertical-align:middle}[data-player] blockquote,[data-player] q{quotes:none}[data-player] blockquote:after,[data-player] blockquote:before,[data-player] q:after,[data-player] q:before{content:"";content:none}[data-player] a img{border:none}[data-player]:focus{outline:0}[data-player] *{max-width:none;box-sizing:inherit;float:none}[data-player] div{display:block}[data-player].fullscreen{width:100%!important;height:100%!important;top:0;left:0}[data-player].nocursor{cursor:none}.clappr-style{display:none!important}',""])},function(t,e,n){var i=n(96);(t.exports=n(8)(!1)).push([t.i,'@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url('+i(n(195))+') format("truetype")}',""])},function(t,e,n){t.exports=n.p+"e85e6fe61823bc3e53f34fa8f9dd7bb9.ttf"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=I(n(90)),r=I(n(73)),o=I(n(1)),a=I(n(2)),s=I(n(3)),l=I(n(19)),u=I(n(49)),c=I(n(50)),d=I(n(102)),h=I(n(103)),p=I(n(104)),f=I(n(105)),y=I(n(106)),v=I(n(107)),g=I(n(108)),m=I(n(231)),b=I(n(109)),_=I(n(110)),A=I(n(241)),E=I(n(111)),w=I(n(112)),T=I(n(248)),k=I(n(113)),S=I(n(255)),C=I(n(260)),O=I(n(261)),P=I(n(262)),R=I(n(263));function I(t){return t&&t.__esModule?t:{default:t}}var x=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,o.default)(this,e);var l=(0,a.default)(this,t.call(this));return l.playerId=i,l.playbackPlugins=[],s||(l.playbackPlugins=[].concat((0,r.default)(l.playbackPlugins),[f.default])),l.playbackPlugins=[].concat((0,r.default)(l.playbackPlugins),[c.default,h.default]),s||(l.playbackPlugins=[].concat((0,r.default)(l.playbackPlugins),[d.default,p.default])),l.playbackPlugins=[].concat((0,r.default)(l.playbackPlugins),[y.default,v.default]),l.containerPlugins=[g.default,b.default,_.default,m.default,A.default,E.default],l.corePlugins=[w.default,T.default,k.default,S.default,C.default,O.default,P.default,R.default],Array.isArray(n)||l.validateExternalPluginsType(n),l.addExternalPlugins(n),l}return(0,s.default)(e,t),e.prototype.groupPluginsByType=function(t){return Array.isArray(t)&&(t=t.reduce(function(t,e){return t[e.type]||(t[e.type]=[]),t[e.type].push(e),t},{})),t},e.prototype.removeDups=function(t){var e=t.reduceRight(function(t,e){return t[e.prototype.name]&&delete t[e.prototype.name],t[e.prototype.name]=e,t},(0,i.default)(null)),n=[];for(var r in e)n.unshift(e[r]);return n},e.prototype.addExternalPlugins=function(t){(t=this.groupPluginsByType(t)).playback&&(this.playbackPlugins=this.removeDups(t.playback.concat(this.playbackPlugins))),t.container&&(this.containerPlugins=this.removeDups(t.container.concat(this.containerPlugins))),t.core&&(this.corePlugins=this.removeDups(t.core.concat(this.corePlugins))),u.default.getInstance(this.playerId).playbackPlugins=this.playbackPlugins},e.prototype.validateExternalPluginsType=function(t){["playback","container","core"].forEach(function(e){(t[e]||[]).forEach(function(t){var n="external "+t.type+" plugin on "+e+" array";if(t.type!==e)throw new ReferenceError(n)})})},e}(l.default);e.default=x,t.exports=e.default},function(t,e,n){"use strict";n(85),n(198),t.exports=n(14).Array.from},function(t,e,n){"use strict";var i=n(56),r=n(20),o=n(47),a=n(199),s=n(200),l=n(83),u=n(201),c=n(202);r(r.S+r.F*!n(204)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,d,h=o(t),p="function"==typeof this?this:Array,f=arguments.length,y=f>1?arguments[1]:void 0,v=void 0!==y,g=0,m=c(h);if(v&&(y=i(y,f>2?arguments[2]:void 0,2)),void 0==m||p==Array&&s(m))for(n=new p(e=l(h.length));e>g;g++)u(n,g,v?y(h[g],g):h[g]);else for(d=m.call(h),n=new p;!(r=d.next()).done;g++)u(n,g,v?a(d,y,[r.value,g],!0):r.value);return n.length=g,n}})},function(t,e,n){"use strict";var i=n(32);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){"use strict";var i=n(41),r=n(17)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(22),r=n(39);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){"use strict";var i=n(203),r=n(17)("iterator"),o=n(41);t.exports=n(14).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";var i=n(58),r=n(17)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var i=n(17)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r=_(n(101)),o=_(n(1)),a=_(n(2)),s=_(n(4)),l=_(n(3)),u=_(n(73)),c=_(n(65)),d=n(9),h=_(n(13)),p=_(n(18)),f=_(n(28)),y=_(n(7)),v=_(n(35)),g=_(n(5)),m=_(n(11)),b=_(n(206));function _(t){return t&&t.__esModule?t:{default:t}}n(207);var A={mp4:["avc1.42E01E","avc1.58A01E","avc1.4D401E","avc1.64001E","mp4v.20.8","mp4v.20.240","mp4a.40.2"].map(function(t){return'video/mp4; codecs="'+t+', mp4a.40.2"'}),ogg:['video/ogg; codecs="theora, vorbis"','video/ogg; codecs="dirac"','video/ogg; codecs="theora, speex"'],"3gpp":['video/3gpp; codecs="mp4v.20.8, samr"'],webm:['video/webm; codecs="vp8, vorbis"'],mkv:['video/x-matroska; codecs="theora, vorbis"'],m3u8:["application/x-mpegurl"]};A.ogv=A.ogg,A["3gp"]=A["3gpp"];var E={wav:["audio/wav"],mp3:["audio/mp3",'audio/mpeg;codecs="mp3"'],aac:['audio/mp4;codecs="mp4a.40.5"'],oga:["audio/ogg"]},w=(0,c.default)(E).reduce(function(t,e){return[].concat((0,u.default)(t),(0,u.default)(E[e]))},[]),T={code:"unknown",message:"unknown"},k=function(t){function e(){(0,o.default)(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=(0,a.default)(this,t.call.apply(t,[this].concat(i)));s._destroyed=!1,s._loadStarted=!1,s._isBuffering=!1,s._playheadMoving=!1,s._playheadMovingTimer=null,s._stopped=!1,s._ccTrackId=-1,s._setupSrc(s.options.src),s.options.playback||(s.options.playback=s.options||{}),s.options.playback.disableContextMenu=s.options.playback.disableContextMenu||s.options.disableVideoTagContextMenu;var l=s.options.playback,u=l.preload||(p.default.isSafari?"auto":s.options.preload),c=void 0;return s.options.poster&&("string"==typeof s.options.poster?c=s.options.poster:"string"==typeof s.options.poster.url&&(c=s.options.poster.url)),g.default.extend(s.el,{muted:s.options.mute,defaultMuted:s.options.mute,loop:s.options.loop,poster:c,preload:u||"metadata",controls:(l.controls||s.options.useVideoTagDefaultControls)&&"controls",crossOrigin:l.crossOrigin,"x-webkit-playsinline":l.playInline}),l.playInline&&s.$el.attr({playsinline:"playsinline"}),l.crossOrigin&&s.$el.attr({crossorigin:l.crossOrigin}),s.settings={default:["seekbar"]},s.settings.left=["playpause","position","duration"],s.settings.right=["fullscreen","volume","hd-indicator"],l.externalTracks&&s._setupExternalTracks(l.externalTracks),s.options.autoPlay&&s.attemptAutoPlay(),s}return(0,l.default)(e,t),(0,s.default)(e,[{key:"name",get:function(){return"html5_video"}},{key:"tagName",get:function(){return this.isAudioOnly?"audio":"video"}},{key:"isAudioOnly",get:function(){var t=this.options.src,n=e._mimeTypesForUrl(t,E,this.options.mimeType);return this.options.playback&&this.options.playback.audioOnly||this.options.audioOnly||w.indexOf(n[0])>=0}},{key:"attributes",get:function(){return{"data-html5-video":""}}},{key:"events",get:function(){return{canplay:"_onCanPlay",canplaythrough:"_handleBufferingEvents",durationchange:"_onDurationChange",ended:"_onEnded",error:"_onError",loadeddata:"_onLoadedData",loadedmetadata:"_onLoadedMetadata",pause:"_onPause",playing:"_onPlaying",progress:"_onProgress",seeking:"_onSeeking",seeked:"_onSeeked",stalled:"_handleBufferingEvents",timeupdate:"_onTimeUpdate",waiting:"_onWaiting"}}},{key:"ended",get:function(){return this.el.ended}},{key:"buffering",get:function(){return this._isBuffering}}]),e.prototype.attemptAutoPlay=function(){var t=this;this.canAutoPlay(function(e,n){n&&v.default.warn(t.name,"autoplay error.",{result:e,error:n}),e&&i.nextTick(function(){return!t._destroyed&&t.play()})})},e.prototype.canAutoPlay=function(t){this.options.disableCanAutoPlay&&t(!0,null);var e={timeout:this.options.autoPlayTimeout||500,inline:this.options.playback.playInline||!1,muted:this.options.mute||!1};p.default.isMobile&&d.DomRecycler.options.recycleVideo&&(e.element=this.el),(0,d.canAutoPlayMedia)(t,e)},e.prototype._setupExternalTracks=function(t){this._externalTracks=t.map(function(t){return{kind:t.kind||"subtitles",label:t.label,lang:t.lang,src:t.src}})},e.prototype._setupSrc=function(t){this.el.src!==t&&(this._ccIsSetup=!1,this.el.src=t,this._src=this.el.src)},e.prototype._onLoadedMetadata=function(t){this._handleBufferingEvents(),this.trigger(y.default.PLAYBACK_LOADEDMETADATA,{duration:t.target.duration,data:t}),this._updateSettings();var e=void 0===this._options.autoSeekFromUrl||this._options.autoSeekFromUrl;this.getPlaybackType()!==h.default.LIVE&&e&&this._checkInitialSeek()},e.prototype._onDurationChange=function(){this._updateSettings(),this._onTimeUpdate(),this._onProgress()},e.prototype._updateSettings=function(){this.getPlaybackType()===h.default.VOD||this.getPlaybackType()===h.default.AOD?this.settings.left=["playpause","position","duration"]:this.settings.left=["playstop"],this.settings.seekEnabled=this.isSeekEnabled(),this.trigger(y.default.PLAYBACK_SETTINGSUPDATE)},e.prototype.isSeekEnabled=function(){return isFinite(this.getDuration())},e.prototype.getPlaybackType=function(){var t="audio"===this.tagName?h.default.AOD:h.default.VOD;return[0,void 0,1/0].indexOf(this.el.duration)>=0?h.default.LIVE:t},e.prototype.isHighDefinitionInUse=function(){return!1},e.prototype.consent=function(){this.isPlaying()||(t.prototype.consent.call(this),this.el.load())},e.prototype.play=function(){this.trigger(y.default.PLAYBACK_PLAY_INTENT),this._stopped=!1,this._setupSrc(this._src),this._handleBufferingEvents();var t=this.el.play();t&&t.catch&&t.catch(function(){})},e.prototype.pause=function(){this.el.pause()},e.prototype.stop=function(){this.pause(),this._stopped=!0,this.el.removeAttribute("src"),this._stopPlayheadMovingChecks(),this._handleBufferingEvents(),this.trigger(y.default.PLAYBACK_STOP)},e.prototype.volume=function(t){0===t?(this.$el.attr({muted:"true"}),this.el.muted=!0):(this.$el.attr({muted:null}),this.el.muted=!1,this.el.volume=t/100)},e.prototype.mute=function(){this.el.muted=!0},e.prototype.unmute=function(){this.el.muted=!1},e.prototype.isMuted=function(){return!!this.el.volume},e.prototype.isPlaying=function(){return!this.el.paused&&!this.el.ended},e.prototype._startPlayheadMovingChecks=function(){null===this._playheadMovingTimer&&(this._playheadMovingTimeOnCheck=null,this._determineIfPlayheadMoving(),this._playheadMovingTimer=setInterval(this._determineIfPlayheadMoving.bind(this),500))},e.prototype._stopPlayheadMovingChecks=function(){null!==this._playheadMovingTimer&&(clearInterval(this._playheadMovingTimer),this._playheadMovingTimer=null,this._playheadMoving=!1)},e.prototype._determineIfPlayheadMoving=function(){var t=this._playheadMovingTimeOnCheck,e=this.el.currentTime;this._playheadMoving=t!==e,this._playheadMovingTimeOnCheck=e,this._handleBufferingEvents()},e.prototype._onWaiting=function(){this._loadStarted=!0,this._handleBufferingEvents()},e.prototype._onLoadedData=function(){this._loadStarted=!0,this._handleBufferingEvents()},e.prototype._onCanPlay=function(){this._handleBufferingEvents()},e.prototype._onPlaying=function(){this._checkForClosedCaptions(),this._startPlayheadMovingChecks(),this._handleBufferingEvents(),this.trigger(y.default.PLAYBACK_PLAY)},e.prototype._onPause=function(){this._stopPlayheadMovingChecks(),this._handleBufferingEvents(),this.trigger(y.default.PLAYBACK_PAUSE)},e.prototype._onSeeking=function(){this._handleBufferingEvents(),this.trigger(y.default.PLAYBACK_SEEK)},e.prototype._onSeeked=function(){this._handleBufferingEvents(),this.trigger(y.default.PLAYBACK_SEEKED)},e.prototype._onEnded=function(){this._handleBufferingEvents(),this.trigger(y.default.PLAYBACK_ENDED,this.name)},e.prototype._handleBufferingEvents=function(){var t=!this.el.ended&&!this.el.paused,e=this._loadStarted&&!this.el.ended&&!this._stopped&&(t&&!this._playheadMoving||this.el.readyState<this.el.HAVE_FUTURE_DATA);this._isBuffering!==e&&(this._isBuffering=e,e?this.trigger(y.default.PLAYBACK_BUFFERING,this.name):this.trigger(y.default.PLAYBACK_BUFFERFULL,this.name))},e.prototype._onError=function(){var t=this.el.error||T,e=t.code,n=t.message,i=e===T.code,r=this.createError({code:e,description:n,raw:this.el.error,level:i?f.default.Levels.WARN:f.default.Levels.FATAL});i?v.default.warn(this.name,"HTML5 unknown error: ",r):this.trigger(y.default.PLAYBACK_ERROR,r)},e.prototype.destroy=function(){this._destroyed=!0,this.handleTextTrackChange&&this.el.textTracks.removeEventListener("change",this.handleTextTrackChange),t.prototype.destroy.call(this),this.el.removeAttribute("src"),this._src=null,d.DomRecycler.garbage(this.$el)},e.prototype.seek=function(t){this.el.currentTime=t},e.prototype.seekPercentage=function(t){var e=this.el.duration*(t/100);this.seek(e)},e.prototype._checkInitialSeek=function(){var t=(0,d.seekStringToSeconds)();0!==t&&this.seek(t)},e.prototype.getCurrentTime=function(){return this.el.currentTime},e.prototype.getDuration=function(){return this.el.duration},e.prototype._onTimeUpdate=function(){this.getPlaybackType()===h.default.LIVE?this.trigger(y.default.PLAYBACK_TIMEUPDATE,{current:1,total:1},this.name):this.trigger(y.default.PLAYBACK_TIMEUPDATE,{current:this.el.currentTime,total:this.el.duration},this.name)},e.prototype._onProgress=function(){if(this.el.buffered.length){for(var t=[],e=0,n=0;n<this.el.buffered.length;n++)t=[].concat((0,u.default)(t),[{start:this.el.buffered.start(n),end:this.el.buffered.end(n)}]),this.el.currentTime>=t[n].start&&this.el.currentTime<=t[n].end&&(e=n);var i={start:t[e].start,current:t[e].end,total:this.el.duration};this.trigger(y.default.PLAYBACK_PROGRESS,i,t)}},e.prototype._typeFor=function(t){var n=e._mimeTypesForUrl(t,A,this.options.mimeType);return 0===n.length&&(n=e._mimeTypesForUrl(t,E,this.options.mimeType)),(n[0]||"").split(";")[0]},e.prototype._ready=function(){this._isReadyState||(this._isReadyState=!0,this.trigger(y.default.PLAYBACK_READY,this.name))},e.prototype._checkForClosedCaptions=function(){if(this.isHTML5Video&&!this._ccIsSetup){if(this.hasClosedCaptionsTracks){this.trigger(y.default.PLAYBACK_SUBTITLE_AVAILABLE);var t=this.closedCaptionsTrackId;this.closedCaptionsTrackId=t,this.handleTextTrackChange=this._handleTextTrackChange.bind(this),this.el.textTracks.addEventListener("change",this.handleTextTrackChange)}this._ccIsSetup=!0}},e.prototype._handleTextTrackChange=function(){var t=this.closedCaptionsTracks.find(function(t){return"showing"===t.track.mode})||{id:-1};this._ccTrackId!==t.id&&(this._ccTrackId=t.id,this.trigger(y.default.PLAYBACK_SUBTITLE_CHANGED,{id:t.id}))},e.prototype.render=function(){return this.options.playback.disableContextMenu&&this.$el.on("contextmenu",function(){return!1}),this._externalTracks&&this._externalTracks.length>0&&this.$el.html(this.template({tracks:this._externalTracks})),this._ready(),this},(0,s.default)(e,[{key:"isReady",get:function(){return this._isReadyState}},{key:"isHTML5Video",get:function(){return this.name===e.prototype.name}},{key:"closedCaptionsTracks",get:function(){var t=0;return(this.el.textTracks?(0,r.default)(this.el.textTracks):[]).filter(function(t){return"subtitles"===t.kind||"captions"===t.kind}).map(function(e){return{id:t++,name:e.label,track:e}})}},{key:"closedCaptionsTrackId",get:function(){return this._ccTrackId},set:function(t){if((0,d.isNumber)(t)){var e=this.closedCaptionsTracks,n=void 0;if(-1!==t){if(!(n=e.find(function(e){return e.id===t})))return;if("showing"===n.track.mode)return}e.filter(function(t){return"hidden"!==t.track.mode}).forEach(function(t){return t.track.mode="hidden"}),n&&(n.track.mode="showing"),this._ccTrackId=t,this.trigger(y.default.PLAYBACK_SUBTITLE_CHANGED,{id:t})}}},{key:"template",get:function(){return(0,m.default)(b.default)}}]),e}(h.default);e.default=k,k._mimeTypesForUrl=function(t,e,n){var i=(t.split("?")[0].match(/.*\.(.*)$/)||[])[1],r=n||i&&e[i.toLowerCase()]||[];return r.constructor===Array?r:[r]},k._canPlay=function(t,e,n,i){var r=k._mimeTypesForUrl(n,e,i),o=document.createElement(t);return!!r.filter(function(t){return!!o.canPlayType(t).replace(/no/,"")})[0]},k.canPlay=function(t,e){return k._canPlay("audio",E,t,e)||k._canPlay("video",A,t,e)},t.exports=e.default}).call(this,n(30))},function(t,e){t.exports='<% for (var i = 0; i < tracks.length; i++) { %>\n  <track data-html5-video-track="<%= i %>" kind="<%= tracks[i].kind %>" label="<%= tracks[i].label %>" srclang="<%= tracks[i].lang %>" src="<%= tracks[i].src %>" />\n<% }; %>\n'},function(t,e,n){var i=n(208);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,"[data-html5-video]{position:absolute;height:100%;width:100%;display:block}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=v(n(1)),r=v(n(2)),o=v(n(4)),a=v(n(3)),s=n(9),l=v(n(74)),u=v(n(18)),c=v(n(36)),d=v(n(11)),h=v(n(5)),p=v(n(7)),f=v(n(13)),y=v(n(214));function v(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(){(0,i.default)(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=(0,r.default)(this,t.call.apply(t,[this].concat(o)));return s._src=s.options.src,s._baseUrl=s.options.baseUrl,s._autoPlay=s.options.autoPlay,s.settings={default:["seekbar"]},s.settings.left=["playpause","position","duration"],s.settings.right=["fullscreen","volume"],s.settings.seekEnabled=!0,s._isReadyState=!1,s._addListeners(),s}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"flash"}},{key:"swfPath",get:function(){return(0,d.default)(y.default)({baseUrl:this._baseUrl})}},{key:"ended",get:function(){return"ENDED"===this._currentState}},{key:"buffering",get:function(){return!!this._bufferingState&&"ENDED"!==this._currentState}}]),e.prototype._bootstrap=function(){var t=this;this.el.playerPlay?(this.el.width="100%",this.el.height="100%","PLAYING"===this._currentState?this._firstPlay():(this._currentState="IDLE",this._autoPlay&&this.play()),(0,h.default)('<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" />').insertAfter(this.$el),this.getDuration()>0?this._metadataLoaded():c.default.once(this.uniqueId+":timeupdate",this._metadataLoaded,this)):(this._attempts=this._attempts||0,++this._attempts<=60?setTimeout(function(){return t._bootstrap()},50):this.trigger(p.default.PLAYBACK_ERROR,{message:"Max number of attempts reached"},this.name))},e.prototype._metadataLoaded=function(){this._isReadyState=!0,this.trigger(p.default.PLAYBACK_READY,this.name),this.trigger(p.default.PLAYBACK_SETTINGSUPDATE,this.name)},e.prototype.getPlaybackType=function(){return f.default.VOD},e.prototype.isHighDefinitionInUse=function(){return!1},e.prototype._updateTime=function(){this.trigger(p.default.PLAYBACK_TIMEUPDATE,{current:this.el.getPosition(),total:this.el.getDuration()},this.name)},e.prototype._addListeners=function(){c.default.on(this.uniqueId+":progress",this._progress,this),c.default.on(this.uniqueId+":timeupdate",this._updateTime,this),c.default.on(this.uniqueId+":statechanged",this._checkState,this),c.default.on(this.uniqueId+":flashready",this._bootstrap,this)},e.prototype.stopListening=function(){t.prototype.stopListening.call(this),c.default.off(this.uniqueId+":progress"),c.default.off(this.uniqueId+":timeupdate"),c.default.off(this.uniqueId+":statechanged"),c.default.off(this.uniqueId+":flashready")},e.prototype._checkState=function(){this._isIdle||"PAUSED"===this._currentState||("PLAYING_BUFFERING"!==this._currentState&&"PLAYING_BUFFERING"===this.el.getState()?(this._bufferingState=!0,this.trigger(p.default.PLAYBACK_BUFFERING,this.name),this._currentState="PLAYING_BUFFERING"):"PLAYING"===this.el.getState()?(this._bufferingState=!1,this.trigger(p.default.PLAYBACK_BUFFERFULL,this.name),this._currentState="PLAYING"):"IDLE"===this.el.getState()?this._currentState="IDLE":"ENDED"===this.el.getState()&&(this.trigger(p.default.PLAYBACK_ENDED,this.name),this.trigger(p.default.PLAYBACK_TIMEUPDATE,{current:0,total:this.el.getDuration()},this.name),this._currentState="ENDED",this._isIdle=!0))},e.prototype._progress=function(){"IDLE"!==this._currentState&&"ENDED"!==this._currentState&&this.trigger(p.default.PLAYBACK_PROGRESS,{start:0,current:this.el.getBytesLoaded(),total:this.el.getBytesTotal()})},e.prototype._firstPlay=function(){var t=this;this.el.playerPlay?(this._isIdle=!1,this.el.playerPlay(this._src),this.listenToOnce(this,p.default.PLAYBACK_BUFFERFULL,function(){return t._checkInitialSeek()}),this._currentState="PLAYING"):this.listenToOnce(this,p.default.PLAYBACK_READY,this._firstPlay)},e.prototype._checkInitialSeek=function(){var t=(0,s.seekStringToSeconds)(window.location.href);0!==t&&this.seekSeconds(t)},e.prototype.play=function(){this.trigger(p.default.PLAYBACK_PLAY_INTENT),"PAUSED"===this._currentState||"PLAYING_BUFFERING"===this._currentState?(this._currentState="PLAYING",this.el.playerResume(),this.trigger(p.default.PLAYBACK_PLAY,this.name)):"PLAYING"!==this._currentState&&(this._firstPlay(),this.trigger(p.default.PLAYBACK_PLAY,this.name))},e.prototype.volume=function(t){var e=this;this.isReady?this.el.playerVolume(t):this.listenToOnce(this,p.default.PLAYBACK_BUFFERFULL,function(){return e.volume(t)})},e.prototype.pause=function(){this._currentState="PAUSED",this.el.playerPause(),this.trigger(p.default.PLAYBACK_PAUSE,this.name)},e.prototype.stop=function(){this.el.playerStop(),this.trigger(p.default.PLAYBACK_STOP),this.trigger(p.default.PLAYBACK_TIMEUPDATE,{current:0,total:0},this.name)},e.prototype.isPlaying=function(){return!!(this.isReady&&this._currentState.indexOf("PLAYING")>-1)},e.prototype.getDuration=function(){return this.el.getDuration()},e.prototype.seekPercentage=function(t){var e=this;if(this.el.getDuration()>0){var n=this.el.getDuration()*(t/100);this.seek(n)}else this.listenToOnce(this,p.default.PLAYBACK_BUFFERFULL,function(){return e.seekPercentage(t)})},e.prototype.seek=function(t){var e=this;this.isReady&&this.el.playerSeek?(this.el.playerSeek(t),this.trigger(p.default.PLAYBACK_TIMEUPDATE,{current:t,total:this.el.getDuration()},this.name),"PAUSED"===this._currentState&&this.el.playerPause()):this.listenToOnce(this,p.default.PLAYBACK_BUFFERFULL,function(){return e.seek(t)})},e.prototype.destroy=function(){clearInterval(this.bootstrapId),t.prototype.stopListening.call(this),this.$el.remove()},(0,o.default)(e,[{key:"isReady",get:function(){return this._isReadyState}}]),e}(l.default);e.default=g,g.canPlay=function(t){if(u.default.hasFlash&&t&&t.constructor===String){var e=t.split("?")[0].match(/.*\.(.*)$/)||[];return e.length>1&&!u.default.isMobile&&e[1].toLowerCase().match(/^(mp4|mov|f4v|3gpp|3gp)$/)}return!1},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(1)),r=d(n(4)),o=d(n(2)),a=d(n(3)),s=d(n(13)),l=d(n(11)),u=d(n(18)),c=d(n(211));function d(t){return t&&t.__esModule?t:{default:t}}n(212);var h=function(t){function e(){return(0,i.default)(this,e),(0,o.default)(this,t.apply(this,arguments))}return(0,a.default)(e,t),e.prototype.setElement=function(t){this.$el=t,this.el=t[0]},e.prototype.render=function(){return this.$el.attr("data",this.swfPath),this.$el.html(this.template({cid:this.cid,swfPath:this.swfPath,baseUrl:this.baseUrl,playbackId:this.uniqueId,wmode:this.wmode,callbackName:"window.Clappr.flashlsCallbacks."+this.cid})),u.default.isIE&&(this.$("embed").remove(),u.default.isLegacyIE&&this.$el.attr("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000")),this.el.id=this.cid,this},(0,r.default)(e,[{key:"tagName",get:function(){return"object"}},{key:"swfPath",get:function(){return""}},{key:"wmode",get:function(){return"transparent"}},{key:"template",get:function(){return(0,l.default)(c.default)}},{key:"attributes",get:function(){var t="application/x-shockwave-flash";return u.default.isLegacyIE&&(t=""),{class:"clappr-flash-playback",type:t,width:"100%",height:"100%",data:this.swfPath,"data-flash-playback":this.name}}}]),e}(s.default);e.default=h,t.exports=e.default},function(t,e){t.exports='<param name="movie" value="<%= swfPath %>">\n<param name="quality" value="autohigh">\n<param name="swliveconnect" value="true">\n<param name="allowScriptAccess" value="always">\n<param name="bgcolor" value="#000000">\n<param name="allowFullScreen" value="false">\n<param name="wmode" value="<%= wmode %>">\n<param name="tabindex" value="1">\n<param name="FlashVars" value="playbackId=<%= playbackId %>&callback=<%= callbackName %>">\n<embed\n  name="<%= cid %>"\n  type="application/x-shockwave-flash"\n  disabled="disabled"\n  tabindex="-1"\n  enablecontextmenu="false"\n  allowScriptAccess="always"\n  quality="autohigh"\n  pluginspage="http://www.macromedia.com/go/getflashplayer"\n  wmode="<%= wmode %>"\n  swliveconnect="true"\n  allowfullscreen="false"\n  bgcolor="#000000"\n  FlashVars="playbackId=<%= playbackId %>&callback=<%= callbackName %>"\n  data="<%= swfPath %>"\n  src="<%= swfPath %>"\n  width="100%"\n  height="100%">\n</embed>\n'},function(t,e,n){var i=n(213);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-flash-playback[data-flash-playback]{display:block;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none}",""])},function(t,e,n){t.exports=n.p+"fc43820dc2c2c6d4af610caf901606c7.swf"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(1)),r=c(n(4)),o=c(n(2)),a=c(n(3)),s=c(n(7)),l=c(n(13)),u=c(n(50));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){return(0,i.default)(this,e),(0,o.default)(this,t.apply(this,arguments))}return(0,a.default)(e,t),e.prototype.updateSettings=function(){this.settings.left=["playpause","position","duration"],this.settings.seekEnabled=this.isSeekEnabled(),this.trigger(s.default.PLAYBACK_SETTINGSUPDATE)},e.prototype.getPlaybackType=function(){return l.default.AOD},(0,r.default)(e,[{key:"name",get:function(){return"html5_audio"}},{key:"tagName",get:function(){return"audio"}},{key:"isAudioOnly",get:function(){return!0}}]),e}(u.default);e.default=d,d.canPlay=function(t,e){return u.default._canPlay("audio",{wav:["audio/wav"],mp3:["audio/mp3",'audio/mpeg;codecs="mp3"'],aac:['audio/mp4;codecs="mp4a.40.5"'],oga:["audio/ogg"]},t,e)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=g(n(1)),r=g(n(2)),o=g(n(4)),a=g(n(3)),s=g(n(74)),l=g(n(7)),u=g(n(11)),c=g(n(13)),d=g(n(36)),h=g(n(18)),p=g(n(28)),f=g(n(217)),y=g(n(218)),v=g(n(5));function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(){(0,i.default)(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=(0,r.default)(this,t.call.apply(t,[this].concat(o)));return s._src=s.options.src,s._baseUrl=s.options.baseUrl,s._initHlsParameters(s.options),s.highDefinition=!1,s._autoPlay=s.options.autoPlay,s._loop=s.options.loop,s._defaultSettings={left:["playstop"],default:["seekbar"],right:["fullscreen","volume","hd-indicator"],seekEnabled:!1},s.settings=v.default.extend({},s._defaultSettings),s._playbackType=c.default.LIVE,s._hasEnded=!1,s._addListeners(),s}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"flashls"}},{key:"swfPath",get:function(){return(0,u.default)(y.default)({baseUrl:this._baseUrl})}},{key:"levels",get:function(){return this._levels||[]}},{key:"currentLevel",get:function(){return null===this._currentLevel||void 0===this._currentLevel?-1:this._currentLevel},set:function(t){this._currentLevel=t,this.trigger(l.default.PLAYBACK_LEVEL_SWITCH_START),this.el.playerSetCurrentLevel(t)}},{key:"ended",get:function(){return this._hasEnded}},{key:"buffering",get:function(){return!!this._bufferingState&&!this._hasEnded}}]),e.prototype._initHlsParameters=function(t){this._autoStartLoad=void 0===t.autoStartLoad||t.autoStartLoad,this._capLevelToStage=void 0!==t.capLevelToStage&&t.capLevelToStage,this._maxLevelCappingMode=void 0===t.maxLevelCappingMode?"downscale":t.maxLevelCappingMode,this._minBufferLength=void 0===t.minBufferLength?-1:t.minBufferLength,this._minBufferLengthCapping=void 0===t.minBufferLengthCapping?-1:t.minBufferLengthCapping,this._maxBufferLength=void 0===t.maxBufferLength?120:t.maxBufferLength,this._maxBackBufferLength=void 0===t.maxBackBufferLength?30:t.maxBackBufferLength,this._lowBufferLength=void 0===t.lowBufferLength?3:t.lowBufferLength,this._mediaTimePeriod=void 0===t.mediaTimePeriod?100:t.mediaTimePeriod,this._fpsDroppedMonitoringPeriod=void 0===t.fpsDroppedMonitoringPeriod?5e3:t.fpsDroppedMonitoringPeriod,this._fpsDroppedMonitoringThreshold=void 0===t.fpsDroppedMonitoringThreshold?.2:t.fpsDroppedMonitoringThreshold,this._capLevelonFPSDrop=void 0!==t.capLevelonFPSDrop&&t.capLevelonFPSDrop,this._smoothAutoSwitchonFPSDrop=void 0===t.smoothAutoSwitchonFPSDrop?this.capLevelonFPSDrop:t.smoothAutoSwitchonFPSDrop,this._switchDownOnLevelError=void 0===t.switchDownOnLevelError||t.switchDownOnLevelError,this._seekMode=void 0===t.seekMode?"ACCURATE":t.seekMode,this._keyLoadMaxRetry=void 0===t.keyLoadMaxRetry?3:t.keyLoadMaxRetry,this._keyLoadMaxRetryTimeout=void 0===t.keyLoadMaxRetryTimeout?64e3:t.keyLoadMaxRetryTimeout,this._fragmentLoadMaxRetry=void 0===t.fragmentLoadMaxRetry?3:t.fragmentLoadMaxRetry,this._fragmentLoadMaxRetryTimeout=void 0===t.fragmentLoadMaxRetryTimeout?4e3:t.fragmentLoadMaxRetryTimeout,this._fragmentLoadSkipAfterMaxRetry=void 0===t.fragmentLoadSkipAfterMaxRetry||t.fragmentLoadSkipAfterMaxRetry,this._maxSkippedFragments=void 0===t.maxSkippedFragments?5:t.maxSkippedFragments,this._flushLiveURLCache=void 0!==t.flushLiveURLCache&&t.flushLiveURLCache,this._initialLiveManifestSize=void 0===t.initialLiveManifestSize?1:t.initialLiveManifestSize,this._manifestLoadMaxRetry=void 0===t.manifestLoadMaxRetry?3:t.manifestLoadMaxRetry,this._manifestLoadMaxRetryTimeout=void 0===t.manifestLoadMaxRetryTimeout?64e3:t.manifestLoadMaxRetryTimeout,this._manifestRedundantLoadmaxRetry=void 0===t.manifestRedundantLoadmaxRetry?3:t.manifestRedundantLoadmaxRetry,this._startFromBitrate=void 0===t.startFromBitrate?-1:t.startFromBitrate,this._startFromLevel=void 0===t.startFromLevel?-1:t.startFromLevel,this._autoStartMaxDuration=void 0===t.autoStartMaxDuration?-1:t.autoStartMaxDuration,this._seekFromLevel=void 0===t.seekFromLevel?-1:t.seekFromLevel,this._useHardwareVideoDecoder=void 0!==t.useHardwareVideoDecoder&&t.useHardwareVideoDecoder,this._hlsLogEnabled=void 0===t.hlsLogEnabled||t.hlsLogEnabled,this._logDebug=void 0!==t.logDebug&&t.logDebug,this._logDebug2=void 0!==t.logDebug2&&t.logDebug2,this._logWarn=void 0===t.logWarn||t.logWarn,this._logError=void 0===t.logError||t.logError,this._hlsMinimumDvrSize=void 0===t.hlsMinimumDvrSize?60:t.hlsMinimumDvrSize},e.prototype._addListeners=function(){var t=this;d.default.on(this.cid+":flashready",function(){return t._bootstrap()}),d.default.on(this.cid+":timeupdate",function(e){return t._updateTime(e)}),d.default.on(this.cid+":playbackstate",function(e){return t._setPlaybackState(e)}),d.default.on(this.cid+":levelchanged",function(e){return t._levelChanged(e)}),d.default.on(this.cid+":error",function(e,n,i){return t._flashPlaybackError(e,n,i)}),d.default.on(this.cid+":fragmentloaded",function(e){return t._onFragmentLoaded(e)}),d.default.on(this.cid+":levelendlist",function(e){return t._onLevelEndlist(e)})},e.prototype.stopListening=function(){t.prototype.stopListening.call(this),d.default.off(this.cid+":flashready"),d.default.off(this.cid+":timeupdate"),d.default.off(this.cid+":playbackstate"),d.default.off(this.cid+":levelchanged"),d.default.off(this.cid+":playbackerror"),d.default.off(this.cid+":fragmentloaded"),d.default.off(this.cid+":manifestloaded"),d.default.off(this.cid+":levelendlist")},e.prototype._bootstrap=function(){var t=this;if(this.el.playerLoad)this.el.width="100%",this.el.height="100%",this._isReadyState=!0,this._srcLoaded=!1,this._currentState="IDLE",this._setFlashSettings(),this._updatePlaybackType(),(this._autoPlay||this._shouldPlayOnManifestLoaded)&&this.play(),this.trigger(l.default.PLAYBACK_READY,this.name);else if(this._bootstrapAttempts=this._bootstrapAttempts||0,++this._bootstrapAttempts<=60)setTimeout(function(){return t._bootstrap()},50);else{var e=this.createError({code:"playerLoadFail_maxNumberAttemptsReached",description:this.name+" error: Max number of attempts reached",level:p.default.Levels.FATAL,raw:{}});this.trigger(l.default.PLAYBACK_ERROR,e)}},e.prototype._setFlashSettings=function(){this.el.playerSetAutoStartLoad(this._autoStartLoad),this.el.playerSetCapLevelToStage(this._capLevelToStage),this.el.playerSetMaxLevelCappingMode(this._maxLevelCappingMode),this.el.playerSetMinBufferLength(this._minBufferLength),this.el.playerSetMinBufferLengthCapping(this._minBufferLengthCapping),this.el.playerSetMaxBufferLength(this._maxBufferLength),this.el.playerSetMaxBackBufferLength(this._maxBackBufferLength),this.el.playerSetLowBufferLength(this._lowBufferLength),this.el.playerSetMediaTimePeriod(this._mediaTimePeriod),this.el.playerSetFpsDroppedMonitoringPeriod(this._fpsDroppedMonitoringPeriod),this.el.playerSetFpsDroppedMonitoringThreshold(this._fpsDroppedMonitoringThreshold),this.el.playerSetCapLevelonFPSDrop(this._capLevelonFPSDrop),this.el.playerSetSmoothAutoSwitchonFPSDrop(this._smoothAutoSwitchonFPSDrop),this.el.playerSetSwitchDownOnLevelError(this._switchDownOnLevelError),this.el.playerSetSeekMode(this._seekMode),this.el.playerSetKeyLoadMaxRetry(this._keyLoadMaxRetry),this.el.playerSetKeyLoadMaxRetryTimeout(this._keyLoadMaxRetryTimeout),this.el.playerSetFragmentLoadMaxRetry(this._fragmentLoadMaxRetry),this.el.playerSetFragmentLoadMaxRetryTimeout(this._fragmentLoadMaxRetryTimeout),this.el.playerSetFragmentLoadSkipAfterMaxRetry(this._fragmentLoadSkipAfterMaxRetry),this.el.playerSetMaxSkippedFragments(this._maxSkippedFragments),this.el.playerSetFlushLiveURLCache(this._flushLiveURLCache),this.el.playerSetInitialLiveManifestSize(this._initialLiveManifestSize),this.el.playerSetManifestLoadMaxRetry(this._manifestLoadMaxRetry),this.el.playerSetManifestLoadMaxRetryTimeout(this._manifestLoadMaxRetryTimeout),this.el.playerSetManifestRedundantLoadmaxRetry(this._manifestRedundantLoadmaxRetry),this.el.playerSetStartFromBitrate(this._startFromBitrate),this.el.playerSetStartFromLevel(this._startFromLevel),this.el.playerSetAutoStartMaxDuration(this._autoStartMaxDuration),this.el.playerSetSeekFromLevel(this._seekFromLevel),this.el.playerSetUseHardwareVideoDecoder(this._useHardwareVideoDecoder),this.el.playerSetLogInfo(this._hlsLogEnabled),this.el.playerSetLogDebug(this._logDebug),this.el.playerSetLogDebug2(this._logDebug2),this.el.playerSetLogWarn(this._logWarn),this.el.playerSetLogError(this._logError)},e.prototype.setAutoStartLoad=function(t){this._autoStartLoad=t,this.el.playerSetAutoStartLoad(this._autoStartLoad)},e.prototype.setCapLevelToStage=function(t){this._capLevelToStage=t,this.el.playerSetCapLevelToStage(this._capLevelToStage)},e.prototype.setMaxLevelCappingMode=function(t){this._maxLevelCappingMode=t,this.el.playerSetMaxLevelCappingMode(this._maxLevelCappingMode)},e.prototype.setSetMinBufferLength=function(t){this._minBufferLength=t,this.el.playerSetMinBufferLength(this._minBufferLength)},e.prototype.setMinBufferLengthCapping=function(t){this._minBufferLengthCapping=t,this.el.playerSetMinBufferLengthCapping(this._minBufferLengthCapping)},e.prototype.setMaxBufferLength=function(t){this._maxBufferLength=t,this.el.playerSetMaxBufferLength(this._maxBufferLength)},e.prototype.setMaxBackBufferLength=function(t){this._maxBackBufferLength=t,this.el.playerSetMaxBackBufferLength(this._maxBackBufferLength)},e.prototype.setLowBufferLength=function(t){this._lowBufferLength=t,this.el.playerSetLowBufferLength(this._lowBufferLength)},e.prototype.setMediaTimePeriod=function(t){this._mediaTimePeriod=t,this.el.playerSetMediaTimePeriod(this._mediaTimePeriod)},e.prototype.setFpsDroppedMonitoringPeriod=function(t){this._fpsDroppedMonitoringPeriod=t,this.el.playerSetFpsDroppedMonitoringPeriod(this._fpsDroppedMonitoringPeriod)},e.prototype.setFpsDroppedMonitoringThreshold=function(t){this._fpsDroppedMonitoringThreshold=t,this.el.playerSetFpsDroppedMonitoringThreshold(this._fpsDroppedMonitoringThreshold)},e.prototype.setCapLevelonFPSDrop=function(t){this._capLevelonFPSDrop=t,this.el.playerSetCapLevelonFPSDrop(this._capLevelonFPSDrop)},e.prototype.setSmoothAutoSwitchonFPSDrop=function(t){this._smoothAutoSwitchonFPSDrop=t,this.el.playerSetSmoothAutoSwitchonFPSDrop(this._smoothAutoSwitchonFPSDrop)},e.prototype.setSwitchDownOnLevelError=function(t){this._switchDownOnLevelError=t,this.el.playerSetSwitchDownOnLevelError(this._switchDownOnLevelError)},e.prototype.setSeekMode=function(t){this._seekMode=t,this.el.playerSetSeekMode(this._seekMode)},e.prototype.setKeyLoadMaxRetry=function(t){this._keyLoadMaxRetry=t,this.el.playerSetKeyLoadMaxRetry(this._keyLoadMaxRetry)},e.prototype.setKeyLoadMaxRetryTimeout=function(t){this._keyLoadMaxRetryTimeout=t,this.el.playerSetKeyLoadMaxRetryTimeout(this._keyLoadMaxRetryTimeout)},e.prototype.setFragmentLoadMaxRetry=function(t){this._fragmentLoadMaxRetry=t,this.el.playerSetFragmentLoadMaxRetry(this._fragmentLoadMaxRetry)},e.prototype.setFragmentLoadMaxRetryTimeout=function(t){this._fragmentLoadMaxRetryTimeout=t,this.el.playerSetFragmentLoadMaxRetryTimeout(this._fragmentLoadMaxRetryTimeout)},e.prototype.setFragmentLoadSkipAfterMaxRetry=function(t){this._fragmentLoadSkipAfterMaxRetry=t,this.el.playerSetFragmentLoadSkipAfterMaxRetry(this._fragmentLoadSkipAfterMaxRetry)},e.prototype.setMaxSkippedFragments=function(t){this._maxSkippedFragments=t,this.el.playerSetMaxSkippedFragments(this._maxSkippedFragments)},e.prototype.setFlushLiveURLCache=function(t){this._flushLiveURLCache=t,this.el.playerSetFlushLiveURLCache(this._flushLiveURLCache)},e.prototype.setInitialLiveManifestSize=function(t){this._initialLiveManifestSize=t,this.el.playerSetInitialLiveManifestSize(this._initialLiveManifestSize)},e.prototype.setManifestLoadMaxRetry=function(t){this._manifestLoadMaxRetry=t,this.el.playerSetManifestLoadMaxRetry(this._manifestLoadMaxRetry)},e.prototype.setManifestLoadMaxRetryTimeout=function(t){this._manifestLoadMaxRetryTimeout=t,this.el.playerSetManifestLoadMaxRetryTimeout(this._manifestLoadMaxRetryTimeout)},e.prototype.setManifestRedundantLoadmaxRetry=function(t){this._manifestRedundantLoadmaxRetry=t,this.el.playerSetManifestRedundantLoadmaxRetry(this._manifestRedundantLoadmaxRetry)},e.prototype.setStartFromBitrate=function(t){this._startFromBitrate=t,this.el.playerSetStartFromBitrate(this._startFromBitrate)},e.prototype.setStartFromLevel=function(t){this._startFromLevel=t,this.el.playerSetStartFromLevel(this._startFromLevel)},e.prototype.setAutoStartMaxDuration=function(t){this._autoStartMaxDuration=t,this.el.playerSetAutoStartMaxDuration(this._autoStartMaxDuration)},e.prototype.setSeekFromLevel=function(t){this._seekFromLevel=t,this.el.playerSetSeekFromLevel(this._seekFromLevel)},e.prototype.setUseHardwareVideoDecoder=function(t){this._useHardwareVideoDecoder=t,this.el.playerSetUseHardwareVideoDecoder(this._useHardwareVideoDecoder)},e.prototype.setSetLogInfo=function(t){this._hlsLogEnabled=t,this.el.playerSetLogInfo(this._hlsLogEnabled)},e.prototype.setLogDebug=function(t){this._logDebug=t,this.el.playerSetLogDebug(this._logDebug)},e.prototype.setLogDebug2=function(t){this._logDebug2=t,this.el.playerSetLogDebug2(this._logDebug2)},e.prototype.setLogWarn=function(t){this._logWarn=t,this.el.playerSetLogWarn(this._logWarn)},e.prototype.setLogError=function(t){this._logError=t,this.el.playerSetLogError(this._logError)},e.prototype._levelChanged=function(t){var e=this.el.getLevels()[t];e&&(this.highDefinition=e.height>=720||e.bitrate/1e3>=2e3,this.trigger(l.default.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this._levels&&0!==this._levels.length||this._fillLevels(),this.trigger(l.default.PLAYBACK_BITRATE,{height:e.height,width:e.width,bandwidth:e.bitrate,bitrate:e.bitrate,level:t}),this.trigger(l.default.PLAYBACK_LEVEL_SWITCH_END))},e.prototype._updateTime=function(t){if("IDLE"!==this._currentState){var e=this._normalizeDuration(t.duration),n=Math.min(Math.max(t.position,0),e),i=this._dvrEnabled,r=this._playbackType===c.default.LIVE;this._dvrEnabled=r&&e>this._hlsMinimumDvrSize,100!==e&&void 0!==r&&(this._dvrEnabled!==i&&(this._updateSettings(),this.trigger(l.default.PLAYBACK_SETTINGSUPDATE,this.name)),r&&!this._dvrEnabled&&(n=e),this.trigger(l.default.PLAYBACK_TIMEUPDATE,{current:n,total:e},this.name))}},e.prototype.play=function(){this.trigger(l.default.PLAYBACK_PLAY_INTENT),"PAUSED"===this._currentState?this.el.playerResume():this._srcLoaded||"PLAYING"===this._currentState?this.el.playerPlay():this._firstPlay()},e.prototype.getPlaybackType=function(){return this._playbackType?this._playbackType:null},e.prototype.getCurrentTime=function(){return this.el.getPosition()},e.prototype.getCurrentLevelIndex=function(){return this._currentLevel},e.prototype.getCurrentLevel=function(){return this.levels[this.currentLevel]},e.prototype.getCurrentBitrate=function(){return this.levels[this.currentLevel].bitrate},e.prototype.setCurrentLevel=function(t){this.currentLevel=t},e.prototype.isHighDefinitionInUse=function(){return this.highDefinition},e.prototype.getLevels=function(){return this.levels},e.prototype._setPlaybackState=function(t){["PLAYING_BUFFERING","PAUSED_BUFFERING"].indexOf(t)>=0?(this._bufferingState=!0,this.trigger(l.default.PLAYBACK_BUFFERING,this.name),this._updateCurrentState(t)):["PLAYING","PAUSED"].indexOf(t)>=0?(["PLAYING_BUFFERING","PAUSED_BUFFERING","IDLE"].indexOf(this._currentState)>=0&&(this._bufferingState=!1,this.trigger(l.default.PLAYBACK_BUFFERFULL,this.name)),this._updateCurrentState(t)):"IDLE"===t&&(this._srcLoaded=!1,this._loop&&["PLAYING_BUFFERING","PLAYING"].indexOf(this._currentState)>=0?(this.play(),this.seek(0)):(this._updateCurrentState(t),this._hasEnded=!0,this.trigger(l.default.PLAYBACK_TIMEUPDATE,{current:0,total:this.getDuration()},this.name),this.trigger(l.default.PLAYBACK_ENDED,this.name)))},e.prototype._updateCurrentState=function(t){this._currentState=t,"IDLE"!==t&&(this._hasEnded=!1),this._updatePlaybackType(),"PLAYING"===t?this.trigger(l.default.PLAYBACK_PLAY,this.name):"PAUSED"===t&&this.trigger(l.default.PLAYBACK_PAUSE,this.name)},e.prototype._updatePlaybackType=function(){this._playbackType=this.el.getType(),this._playbackType&&(this._playbackType=this._playbackType.toLowerCase(),this._playbackType===c.default.VOD?this._startReportingProgress():this._stopReportingProgress()),this.trigger(l.default.PLAYBACK_PLAYBACKSTATE,{type:this._playbackType})},e.prototype._startReportingProgress=function(){this._reportingProgress||(this._reportingProgress=!0)},e.prototype._stopReportingProgress=function(){this._reportingProgress=!1},e.prototype._onFragmentLoaded=function(t){if(this.trigger(l.default.PLAYBACK_FRAGMENT_LOADED,t),this._reportingProgress&&this.getCurrentTime()){var e=this.getCurrentTime()+this.el.getbufferLength();this.trigger(l.default.PLAYBACK_PROGRESS,{start:this.getCurrentTime(),current:e,total:this.el.getDuration()})}},e.prototype._onLevelEndlist=function(){this._updatePlaybackType()},e.prototype._firstPlay=function(){var t=this;this._shouldPlayOnManifestLoaded=!0,this.el.playerLoad&&(d.default.once(this.cid+":manifestloaded",function(e,n){return t._manifestLoaded(e,n)}),this._setFlashSettings(),this.el.playerLoad(this._src),this._srcLoaded=!0)},e.prototype.volume=function(t){var e=this;this.isReady?this.el.playerVolume(t):this.listenToOnce(this,l.default.PLAYBACK_BUFFERFULL,function(){return e.volume(t)})},e.prototype.pause=function(){(this._playbackType!==c.default.LIVE||this._dvrEnabled)&&(this.el.playerPause(),this._playbackType===c.default.LIVE&&this._dvrEnabled&&this._updateDvr(!0))},e.prototype.stop=function(){this._srcLoaded=!1,this.el.playerStop(),this.trigger(l.default.PLAYBACK_STOP),this.trigger(l.default.PLAYBACK_TIMEUPDATE,{current:0,total:0},this.name)},e.prototype.isPlaying=function(){return!!this._currentState&&!!this._currentState.match(/playing/i)},e.prototype.getDuration=function(){return this._normalizeDuration(this.el.getDuration())},e.prototype._normalizeDuration=function(t){return this._playbackType===c.default.LIVE&&(t=Math.max(0,t-10)),t},e.prototype.seekPercentage=function(t){var e=this.el.getDuration(),n=0;t>0&&(n=e*t/100),this.seek(n)},e.prototype.seek=function(t){var e=this.getDuration();if(this._playbackType===c.default.LIVE){var n=e-t>3;this._updateDvr(n)}this.el.playerSeek(t),this.trigger(l.default.PLAYBACK_TIMEUPDATE,{current:t,total:e},this.name)},e.prototype._updateDvr=function(t){var e=!!this._dvrInUse;this._dvrInUse=t,this._dvrInUse!==e&&(this._updateSettings(),this.trigger(l.default.PLAYBACK_DVR,this._dvrInUse),this.trigger(l.default.PLAYBACK_STATS_ADD,{dvr:this._dvrInUse}))},e.prototype._flashPlaybackError=function(t,e,n){var i={code:t,description:n,level:p.default.Levels.FATAL,raw:{code:t,url:e,message:n}},r=this.createError(i);this.trigger(l.default.PLAYBACK_ERROR,r),this.trigger(l.default.PLAYBACK_STOP)},e.prototype._manifestLoaded=function(t,e){this._shouldPlayOnManifestLoaded&&(this._shouldPlayOnManifestLoaded=!1,this.el.playerPlay()),this._fillLevels(),this.trigger(l.default.PLAYBACK_LOADEDMETADATA,{duration:t,data:e})},e.prototype._fillLevels=function(){var t=this.el.getLevels(),e=t.length;this._levels=[];for(var n=0;n<e;n++)this._levels.push({id:n,label:t[n].height+"p",level:t[n]});this.trigger(l.default.PLAYBACK_LEVELS_AVAILABLE,this._levels)},e.prototype.destroy=function(){this.stopListening(),this.$el.remove()},e.prototype._updateSettings=function(){this.settings=v.default.extend({},this._defaultSettings),this._playbackType===c.default.VOD||this._dvrInUse?(this.settings.left=["playpause","position","duration"],this.settings.seekEnabled=!0):this._dvrEnabled?(this.settings.left=["playpause"],this.settings.seekEnabled=!0):this.settings.seekEnabled=!1},e.prototype._createCallbacks=function(){var t=this;window.Clappr||(window.Clappr={}),window.Clappr.flashlsCallbacks||(window.Clappr.flashlsCallbacks={}),this.flashlsEvents=new f.default(this.cid),window.Clappr.flashlsCallbacks[this.cid]=function(e,n){t.flashlsEvents[e].apply(t.flashlsEvents,n)}},e.prototype.render=function(){return t.prototype.render.call(this),this._createCallbacks(),this},(0,o.default)(e,[{key:"isReady",get:function(){return this._isReadyState}},{key:"dvrEnabled",get:function(){return!!this._dvrEnabled}}]),e}(s.default);e.default=m,m.canPlay=function(t,e){var n=t.split("?")[0].match(/.*\.(.*)$/)||[];return h.default.hasFlash&&(n.length>1&&"m3u8"===n[1].toLowerCase()||"application/x-mpegURL"===e||"application/vnd.apple.mpegurl"===e)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(1)),r=o(n(36));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){(0,i.default)(this,t),this.instanceId=e}return t.prototype.ready=function(){r.default.trigger(this.instanceId+":flashready")},t.prototype.videoSize=function(t,e){r.default.trigger(this.instanceId+":videosizechanged",t,e)},t.prototype.complete=function(){r.default.trigger(this.instanceId+":complete")},t.prototype.error=function(t,e,n){r.default.trigger(this.instanceId+":error",t,e,n)},t.prototype.manifest=function(t,e){r.default.trigger(this.instanceId+":manifestloaded",t,e)},t.prototype.audioLevelLoaded=function(t){r.default.trigger(this.instanceId+":audiolevelloaded",t)},t.prototype.levelLoaded=function(t){r.default.trigger(this.instanceId+":levelloaded",t)},t.prototype.levelEndlist=function(t){r.default.trigger(this.instanceId+":levelendlist",t)},t.prototype.fragmentLoaded=function(t){r.default.trigger(this.instanceId+":fragmentloaded",t)},t.prototype.fragmentPlaying=function(t){r.default.trigger(this.instanceId+":fragmentplaying",t)},t.prototype.position=function(t){r.default.trigger(this.instanceId+":timeupdate",t)},t.prototype.state=function(t){r.default.trigger(this.instanceId+":playbackstate",t)},t.prototype.seekState=function(t){r.default.trigger(this.instanceId+":seekstate",t)},t.prototype.switch=function(t){r.default.trigger(this.instanceId+":levelchanged",t)},t.prototype.audioTracksListChange=function(t){r.default.trigger(this.instanceId+":audiotracklistchanged",t)},t.prototype.audioTrackChange=function(t){r.default.trigger(this.instanceId+":audiotrackchanged",t)},t}();e.default=a,t.exports=e.default},function(t,e,n){t.exports=n.p+"c01bf0946b7617bd3c648466d05b9d07.swf"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=v(n(73)),r=v(n(95)),o=v(n(1)),a=v(n(2)),s=v(n(4)),l=v(n(3)),u=v(n(50)),c=v(n(77)),d=v(n(7)),h=v(n(13)),p=n(9),f=v(n(35)),y=v(n(28));function v(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(){(0,o.default)(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=(0,a.default)(this,t.call.apply(t,[this].concat(i)));return s.options.playback||(s.options.playback=s.options),s._minDvrSize=void 0===s.options.hlsMinimumDvrSize?60:s.options.hlsMinimumDvrSize,s._extrapolatedWindowNumSegments=s.options.playback&&void 0!==s.options.playback.extrapolatedWindowNumSegments?s.options.playback.extrapolatedWindowNumSegments:2,s._playbackType=h.default.VOD,s._lastTimeUpdate={current:0,total:0},s._lastDuration=null,s._playableRegionStartTime=0,s._localStartTimeCorrelation=null,s._localEndTimeCorrelation=null,s._playableRegionDuration=0,s._programDateTime=0,s._durationExcludesAfterLiveSyncPoint=!1,s._segmentTargetDuration=null,s._playlistType=null,s._recoverAttemptsRemaining=s.options.hlsRecoverAttempts||16,s}return(0,l.default)(e,t),(0,s.default)(e,[{key:"name",get:function(){return"hls"}},{key:"levels",get:function(){return this._levels||[]}},{key:"currentLevel",get:function(){return null===this._currentLevel||void 0===this._currentLevel?-1:this._currentLevel},set:function(t){this._currentLevel=t,this.trigger(d.default.PLAYBACK_LEVEL_SWITCH_START),this.options.hlsUseNextLevel?this._hls.nextLevel=this._currentLevel:this._hls.currentLevel=this._currentLevel}},{key:"isReady",get:function(){return this._isReadyState}},{key:"_startTime",get:function(){return this._playbackType===h.default.LIVE&&"EVENT"!==this._playlistType?this._extrapolatedStartTime:this._playableRegionStartTime}},{key:"_now",get:function(){return(0,p.now)()}},{key:"_extrapolatedStartTime",get:function(){if(!this._localStartTimeCorrelation)return this._playableRegionStartTime;var t=this._localStartTimeCorrelation,e=this._now-t.local,n=(t.remote+e)/1e3;return Math.min(n,this._playableRegionStartTime+this._extrapolatedWindowDuration)}},{key:"_extrapolatedEndTime",get:function(){var t=this._playableRegionStartTime+this._playableRegionDuration;if(!this._localEndTimeCorrelation)return t;var e=this._localEndTimeCorrelation,n=this._now-e.local,i=(e.remote+n)/1e3;return Math.max(t-this._extrapolatedWindowDuration,Math.min(i,t))}},{key:"_duration",get:function(){return this._extrapolatedEndTime-this._startTime}},{key:"_extrapolatedWindowDuration",get:function(){return null===this._segmentTargetDuration?0:this._extrapolatedWindowNumSegments*this._segmentTargetDuration}}],[{key:"HLSJS",get:function(){return c.default}}]),e.prototype._setup=function(){var t=this;this._ccIsSetup=!1,this._ccTracksUpdated=!1,this._hls=new c.default((0,p.assign)({},this.options.playback.hlsjsConfig)),this._hls.on(c.default.Events.MEDIA_ATTACHED,function(){return t._hls.loadSource(t.options.src)}),this._hls.on(c.default.Events.LEVEL_LOADED,function(e,n){return t._updatePlaybackType(e,n)}),this._hls.on(c.default.Events.LEVEL_UPDATED,function(e,n){return t._onLevelUpdated(e,n)}),this._hls.on(c.default.Events.LEVEL_SWITCHING,function(e,n){return t._onLevelSwitch(e,n)}),this._hls.on(c.default.Events.FRAG_LOADED,function(e,n){return t._onFragmentLoaded(e,n)}),this._hls.on(c.default.Events.ERROR,function(e,n){return t._onHLSJSError(e,n)}),this._hls.on(c.default.Events.SUBTITLE_TRACK_LOADED,function(e,n){return t._onSubtitleLoaded(e,n)}),this._hls.on(c.default.Events.SUBTITLE_TRACKS_UPDATED,function(){return t._ccTracksUpdated=!0}),this._hls.attachMedia(this.el)},e.prototype.render=function(){return this._ready(),t.prototype.render.call(this)},e.prototype._ready=function(){this._isReadyState=!0,this.trigger(d.default.PLAYBACK_READY,this.name)},e.prototype._recover=function(t,e,n){if(this._recoveredDecodingError)if(this._recoveredAudioCodecError){f.default.error("hlsjs: failed to recover",{evt:t,data:e}),n.level=y.default.Levels.FATAL;var i=this.createError(n);this.trigger(d.default.PLAYBACK_ERROR,i),this.stop()}else this._recoveredAudioCodecError=!0,this._hls.swapAudioCodec(),this._hls.recoverMediaError();else this._recoveredDecodingError=!0,this._hls.recoverMediaError()},e.prototype._setupSrc=function(t){},e.prototype._startTimeUpdateTimer=function(){var t=this;this._timeUpdateTimer=setInterval(function(){t._onDurationChange(),t._onTimeUpdate()},100)},e.prototype._stopTimeUpdateTimer=function(){clearInterval(this._timeUpdateTimer)},e.prototype.getProgramDateTime=function(){return this._programDateTime},e.prototype.getDuration=function(){return this._duration},e.prototype.getCurrentTime=function(){return Math.max(0,this.el.currentTime-this._startTime)},e.prototype.getStartTimeOffset=function(){return this._startTime},e.prototype.seekPercentage=function(t){var e=this._duration;t>0&&(e=this._duration*(t/100)),this.seek(e)},e.prototype.seek=function(e){e<0&&(f.default.warn("Attempt to seek to a negative time. Resetting to live point. Use seekToLivePoint() to seek to the live point."),e=this.getDuration()),this.dvrEnabled&&this._updateDvr(e<this.getDuration()-3),e+=this._startTime,t.prototype.seek.call(this,e)},e.prototype.seekToLivePoint=function(){this.seek(this.getDuration())},e.prototype._updateDvr=function(t){this.trigger(d.default.PLAYBACK_DVR,t),this.trigger(d.default.PLAYBACK_STATS_ADD,{dvr:t})},e.prototype._updateSettings=function(){this._playbackType===h.default.VOD?this.settings.left=["playpause","position","duration"]:this.dvrEnabled?this.settings.left=["playpause"]:this.settings.left=["playstop"],this.settings.seekEnabled=this.isSeekEnabled(),this.trigger(d.default.PLAYBACK_SETTINGSUPDATE)},e.prototype._onHLSJSError=function(t,e){var n={code:e.type+"_"+e.details,description:this.name+" error: type: "+e.type+", details: "+e.details,raw:e},i=void 0;if(e.response&&(n.description+=", response: "+(0,r.default)(e.response)),e.fatal)if(this._recoverAttemptsRemaining>0)switch(this._recoverAttemptsRemaining-=1,e.type){case c.default.ErrorTypes.NETWORK_ERROR:switch(e.details){case c.default.ErrorDetails.MANIFEST_LOAD_ERROR:case c.default.ErrorDetails.MANIFEST_LOAD_TIMEOUT:case c.default.ErrorDetails.MANIFEST_PARSING_ERROR:case c.default.ErrorDetails.LEVEL_LOAD_ERROR:case c.default.ErrorDetails.LEVEL_LOAD_TIMEOUT:f.default.error("hlsjs: unrecoverable network fatal error.",{evt:t,data:e}),i=this.createError(n),this.trigger(d.default.PLAYBACK_ERROR,i),this.stop();break;default:f.default.warn("hlsjs: trying to recover from network error.",{evt:t,data:e}),n.level=y.default.Levels.WARN,this.createError(n),this._hls.startLoad()}break;case c.default.ErrorTypes.MEDIA_ERROR:f.default.warn("hlsjs: trying to recover from media error.",{evt:t,data:e}),n.level=y.default.Levels.WARN,this.createError(n),this._recover(t,e,n);break;default:f.default.error("hlsjs: could not recover from error.",{evt:t,data:e}),i=this.createError(n),this.trigger(d.default.PLAYBACK_ERROR,i),this.stop()}else f.default.error("hlsjs: could not recover from error after maximum number of attempts.",{evt:t,data:e}),i=this.createError(n),this.trigger(d.default.PLAYBACK_ERROR,i),this.stop();else n.level=y.default.Levels.WARN,this.createError(n),f.default.warn("hlsjs: non-fatal error occurred",{evt:t,data:e})},e.prototype._onTimeUpdate=function(){var t={current:this.getCurrentTime(),total:this.getDuration(),firstFragDateTime:this.getProgramDateTime()};this._lastTimeUpdate&&t.current===this._lastTimeUpdate.current&&t.total===this._lastTimeUpdate.total||(this._lastTimeUpdate=t,this.trigger(d.default.PLAYBACK_TIMEUPDATE,t,this.name))},e.prototype._onDurationChange=function(){var e=this.getDuration();this._lastDuration!==e&&(this._lastDuration=e,t.prototype._onDurationChange.call(this))},e.prototype._onProgress=function(){if(this.el.buffered.length){for(var t=[],e=0,n=0;n<this.el.buffered.length;n++)t=[].concat((0,i.default)(t),[{start:Math.max(0,this.el.buffered.start(n)-this._playableRegionStartTime),end:Math.max(0,this.el.buffered.end(n)-this._playableRegionStartTime)}]),this.el.currentTime>=t[n].start&&this.el.currentTime<=t[n].end&&(e=n);var r={start:t[e].start,current:t[e].end,total:this.getDuration()};this.trigger(d.default.PLAYBACK_PROGRESS,r,t)}},e.prototype.play=function(){this._hls||this._setup(),t.prototype.play.call(this),this._startTimeUpdateTimer()},e.prototype.pause=function(){this._hls&&(t.prototype.pause.call(this),this.dvrEnabled&&this._updateDvr(!0))},e.prototype.stop=function(){this._hls&&(t.prototype.stop.call(this),this._hls.destroy(),delete this._hls)},e.prototype.destroy=function(){this._stopTimeUpdateTimer(),this._hls&&(this._hls.destroy(),delete this._hls),t.prototype.destroy.call(this)},e.prototype._updatePlaybackType=function(t,e){this._playbackType=e.details.live?h.default.LIVE:h.default.VOD,this._onLevelUpdated(t,e),this._ccTracksUpdated&&this._playbackType===h.default.LIVE&&this.hasClosedCaptionsTracks&&this._onSubtitleLoaded()},e.prototype._fillLevels=function(){this._levels=this._hls.levels.map(function(t,e){return{id:e,level:t,label:t.bitrate/1e3+"Kbps"}}),this.trigger(d.default.PLAYBACK_LEVELS_AVAILABLE,this._levels)},e.prototype._onLevelUpdated=function(t,e){this._segmentTargetDuration=e.details.targetduration,this._playlistType=e.details.type||null;var n=!1,i=!1,r=e.details.fragments,o=this._playableRegionStartTime,a=this._playableRegionDuration;if(0!==r.length){if(r[0].rawProgramDateTime&&(this._programDateTime=r[0].rawProgramDateTime),this._playableRegionStartTime!==r[0].start&&(n=!0,this._playableRegionStartTime=r[0].start),n)if(this._localStartTimeCorrelation){var s=this._localStartTimeCorrelation,l=this._now-s.local,u=(s.remote+l)/1e3;u<r[0].start?this._localStartTimeCorrelation={local:this._now,remote:1e3*r[0].start}:u>o+this._extrapolatedWindowDuration&&(this._localStartTimeCorrelation={local:this._now,remote:1e3*Math.max(r[0].start,o+this._extrapolatedWindowDuration)})}else this._localStartTimeCorrelation={local:this._now,remote:1e3*(r[0].start+this._extrapolatedWindowDuration/2)};var d=e.details.totalduration;if(this._playbackType===h.default.LIVE){var p=e.details.targetduration*((this.options.playback.hlsjsConfig||{}).liveSyncDurationCount||c.default.DefaultConfig.liveSyncDurationCount);p<=d?(d-=p,this._durationExcludesAfterLiveSyncPoint=!0):this._durationExcludesAfterLiveSyncPoint=!1}d!==this._playableRegionDuration&&(i=!0,this._playableRegionDuration=d);var f=r[0].start+d,y=o+a;if(f!==y)if(this._localEndTimeCorrelation){var v=this._localEndTimeCorrelation,g=this._now-v.local,m=(v.remote+g)/1e3;m>f?this._localEndTimeCorrelation={local:this._now,remote:1e3*f}:m<f-this._extrapolatedWindowDuration?this._localEndTimeCorrelation={local:this._now,remote:1e3*(f-this._extrapolatedWindowDuration)}:m>y&&(this._localEndTimeCorrelation={local:this._now,remote:1e3*y})}else this._localEndTimeCorrelation={local:this._now,remote:1e3*f};i&&this._onDurationChange(),n&&this._onProgress()}},e.prototype._onFragmentLoaded=function(t,e){this.trigger(d.default.PLAYBACK_FRAGMENT_LOADED,e)},e.prototype._onSubtitleLoaded=function(){if(!this._ccIsSetup){this.trigger(d.default.PLAYBACK_SUBTITLE_AVAILABLE);var t=this._playbackType===h.default.LIVE?-1:this.closedCaptionsTrackId;this.closedCaptionsTrackId=t,this._ccIsSetup=!0}},e.prototype._onLevelSwitch=function(t,e){this.levels.length||this._fillLevels(),this.trigger(d.default.PLAYBACK_LEVEL_SWITCH_END),this.trigger(d.default.PLAYBACK_LEVEL_SWITCH,e);var n=this._hls.levels[e.level];n&&(this.highDefinition=n.height>=720||n.bitrate/1e3>=2e3,this.trigger(d.default.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this.trigger(d.default.PLAYBACK_BITRATE,{height:n.height,width:n.width,bandwidth:n.bitrate,bitrate:n.bitrate,level:e.level}))},e.prototype.getPlaybackType=function(){return this._playbackType},e.prototype.isSeekEnabled=function(){return this._playbackType===h.default.VOD||this.dvrEnabled},(0,s.default)(e,[{key:"dvrEnabled",get:function(){return this._durationExcludesAfterLiveSyncPoint&&this._duration>=this._minDvrSize&&this.getPlaybackType()===h.default.LIVE}}]),e}(u.default);e.default=g,g.canPlay=function(t,e){var n=t.split("?")[0].match(/.*\.(.*)$/)||[],i=n.length>1&&"m3u8"===n[1].toLowerCase()||"application/x-mpegURL"===e||"application/vnd.apple.mpegurl"===e;return!(!c.default.isSupported()||!i)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(1)),r=u(n(2)),o=u(n(4)),a=u(n(3)),s=u(n(13)),l=u(n(7));function u(t){return t&&t.__esModule?t:{default:t}}n(221);var c=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o.el.src=n.src,o}return(0,a.default)(e,t),e.prototype.getPlaybackType=function(){return s.default.NO_OP},(0,o.default)(e,[{key:"name",get:function(){return"html_img"}},{key:"tagName",get:function(){return"img"}},{key:"attributes",get:function(){return{"data-html-img":""}}},{key:"events",get:function(){return{load:"_onLoad",abort:"_onError",error:"_onError"}}}]),e.prototype.render=function(){return this.trigger(l.default.PLAYBACK_READY,this.name),this},e.prototype._onLoad=function(){this.trigger(l.default.PLAYBACK_ENDED,this.name)},e.prototype._onError=function(t){var e="error"===t.type?"load error":"loading aborted";this.trigger(l.default.PLAYBACK_ERROR,{message:e},this.name)},e}(s.default);e.default=c,c.canPlay=function(t){return/\.(png|jpg|jpeg|gif|bmp|tiff|pgm|pnm|webp)(|\?.*)$/i.test(t)},t.exports=e.default},function(t,e,n){var i=n(222);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,"[data-html-img]{max-width:100%;max-height:100%}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(1)),r=h(n(2)),o=h(n(4)),a=h(n(3)),s=n(9),l=h(n(13)),u=h(n(11)),c=h(n(7)),d=h(n(224));function h(t){return t&&t.__esModule?t:{default:t}}n(225);var p=function(t){function e(){(0,i.default)(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=(0,r.default)(this,t.call.apply(t,[this].concat(o)));return s._noiseFrameNum=-1,s}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"no_op"}},{key:"template",get:function(){return(0,u.default)(d.default)}},{key:"attributes",get:function(){return{"data-no-op":""}}}]),e.prototype.render=function(){var t=this.options.playbackNotSupportedMessage||this.i18n.t("playback_not_supported");this.$el.html(this.template({message:t})),this.trigger(c.default.PLAYBACK_READY,this.name);var e=!(!this.options.poster||!this.options.poster.showForNoOp);return!this.options.autoPlay&&e||this._animate(),this},e.prototype._noise=function(){if(this._noiseFrameNum=(this._noiseFrameNum+1)%5,!this._noiseFrameNum){var t=this.context.createImageData(this.context.canvas.width,this.context.canvas.height),e=void 0;try{e=new Uint32Array(t.data.buffer)}catch(r){e=new Uint32Array(this.context.canvas.width*this.context.canvas.height*4);for(var n=t.data,i=0;i<n.length;i++)e[i]=n[i]}for(var r=e.length,o=6*Math.random()+4,a=0,s=0,l=0;l<r;){if(a<0)a=o*Math.random(),s=255*Math.pow(Math.random(),.4)<<24;a-=1,e[l++]=s}this.context.putImageData(t,0,0)}},e.prototype._loop=function(){var t=this;this._stop||(this._noise(),this._animationHandle=(0,s.requestAnimationFrame)(function(){return t._loop()}))},e.prototype.destroy=function(){this._animationHandle&&((0,s.cancelAnimationFrame)(this._animationHandle),this._stop=!0)},e.prototype._animate=function(){this.canvas=this.$el.find("canvas[data-no-op-canvas]")[0],this.context=this.canvas.getContext("2d"),this._loop()},e}(l.default);e.default=p,p.canPlay=function(t){return!0},t.exports=e.default},function(t,e){t.exports="<canvas data-no-op-canvas></canvas>\n<p data-no-op-msg><%=message%><p>\n"},function(t,e,n){var i=n(226);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,"[data-no-op]{position:absolute;height:100%;width:100%;text-align:center}[data-no-op] p[data-no-op-msg]{position:absolute;text-align:center;font-size:25px;left:0;right:0;color:#fff;padding:10px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);max-height:100%;overflow:auto}[data-no-op] canvas[data-no-op-canvas]{background-color:#777;height:100%;width:100%}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(1)),r=d(n(2)),o=d(n(4)),a=d(n(3)),s=d(n(51)),l=d(n(7)),u=d(n(11)),c=d(n(228));function d(t){return t&&t.__esModule?t:{default:t}}n(229);var h=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o.template=(0,u.default)(c.default),o.showTimeout=null,o.listenTo(o.container,l.default.CONTAINER_STATE_BUFFERING,o.onBuffering),o.listenTo(o.container,l.default.CONTAINER_STATE_BUFFERFULL,o.onBufferFull),o.listenTo(o.container,l.default.CONTAINER_STOP,o.onStop),o.listenTo(o.container,l.default.CONTAINER_ENDED,o.onStop),o.listenTo(o.container,l.default.CONTAINER_ERROR,o.onStop),o.render(),o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"spinner"}},{key:"attributes",get:function(){return{"data-spinner":"",class:"spinner-three-bounce"}}}]),e.prototype.onBuffering=function(){this.show()},e.prototype.onBufferFull=function(){this.hide()},e.prototype.onStop=function(){this.hide()},e.prototype.show=function(){var t=this;null===this.showTimeout&&(this.showTimeout=setTimeout(function(){return t.$el.show()},300))},e.prototype.hide=function(){null!==this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null),this.$el.hide()},e.prototype.render=function(){return this.$el.html(this.template()),this.container.$el.append(this.$el),this.$el.hide(),this.container.buffering&&this.onBuffering(),this},e}(s.default);e.default=h,t.exports=e.default},function(t,e){t.exports="<div data-bounce1></div><div data-bounce2></div><div data-bounce3></div>\n"},function(t,e,n){var i=n(230);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".spinner-three-bounce[data-spinner]{position:absolute;margin:0 auto;width:70px;text-align:center;z-index:999;left:0;right:0;margin-left:auto;margin-right:auto;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.spinner-three-bounce[data-spinner]>div{width:18px;height:18px;background-color:#fff;border-radius:100%;display:inline-block;-webkit-animation:bouncedelay 1.4s infinite ease-in-out;animation:bouncedelay 1.4s infinite ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.spinner-three-bounce[data-spinner] [data-bounce1]{-webkit-animation-delay:-.32s;animation-delay:-.32s}.spinner-three-bounce[data-spinner] [data-bounce2]{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes bouncedelay{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes bouncedelay{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(232),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(1)),r=c(n(2)),o=c(n(4)),a=c(n(3)),s=c(n(52)),l=c(n(7)),u=c(n(5));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o.setInitialAttrs(),o.reportInterval=o.options.reportInterval||5e3,o.state="IDLE",o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"stats"}}]),e.prototype.bindEvents=function(){this.listenTo(this.container.playback,l.default.PLAYBACK_PLAY,this.onPlay),this.listenTo(this.container,l.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,l.default.CONTAINER_ENDED,this.onStop),this.listenTo(this.container,l.default.CONTAINER_DESTROYED,this.onStop),this.listenTo(this.container,l.default.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,l.default.CONTAINER_STATE_BUFFERFULL,this.onBufferFull),this.listenTo(this.container,l.default.CONTAINER_STATS_ADD,this.onStatsAdd),this.listenTo(this.container,l.default.CONTAINER_BITRATE,this.onStatsAdd),this.listenTo(this.container.playback,l.default.PLAYBACK_STATS_ADD,this.onStatsAdd)},e.prototype.setInitialAttrs=function(){this.firstPlay=!0,this.startupTime=0,this.rebufferingTime=0,this.watchingTime=0,this.rebuffers=0,this.externalMetrics={}},e.prototype.onPlay=function(){this.state="PLAYING",this.watchingTimeInit=Date.now(),this.intervalId||(this.intervalId=setInterval(this.report.bind(this),this.reportInterval))},e.prototype.onStop=function(){clearInterval(this.intervalId),this.report(),this.intervalId=void 0,this.state="STOPPED"},e.prototype.onBuffering=function(){this.firstPlay?this.startupTimeInit=Date.now():this.rebufferingTimeInit=Date.now(),this.state="BUFFERING",this.rebuffers++},e.prototype.onBufferFull=function(){this.firstPlay&&this.startupTimeInit?(this.firstPlay=!1,this.startupTime=Date.now()-this.startupTimeInit,this.watchingTimeInit=Date.now()):this.rebufferingTimeInit&&(this.rebufferingTime+=this.getRebufferingTime()),this.rebufferingTimeInit=void 0,this.state="PLAYING"},e.prototype.getRebufferingTime=function(){return Date.now()-this.rebufferingTimeInit},e.prototype.getWatchingTime=function(){return Date.now()-this.watchingTimeInit-this.rebufferingTime},e.prototype.isRebuffering=function(){return!!this.rebufferingTimeInit},e.prototype.onStatsAdd=function(t){u.default.extend(this.externalMetrics,t)},e.prototype.getStats=function(){var t={startupTime:this.startupTime,rebuffers:this.rebuffers,rebufferingTime:this.isRebuffering()?this.rebufferingTime+this.getRebufferingTime():this.rebufferingTime,watchingTime:this.isRebuffering()?this.getWatchingTime()-this.getRebufferingTime():this.getWatchingTime()};return u.default.extend(t,this.externalMetrics),t},e.prototype.report=function(){this.container.statsReport(this.getStats())},e}(s.default);e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(1)),r=d(n(2)),o=d(n(4)),a=d(n(3)),s=d(n(51)),l=d(n(7)),u=d(n(11)),c=d(n(234));function d(t){return t&&t.__esModule?t:{default:t}}n(235);var h=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o.configure(),o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"watermark"}},{key:"template",get:function(){return(0,u.default)(c.default)}}]),e.prototype.bindEvents=function(){this.listenTo(this.container,l.default.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,l.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,l.default.CONTAINER_OPTIONS_CHANGE,this.configure)},e.prototype.configure=function(){this.position=this.options.position||"bottom-right",this.options.watermark?(this.imageUrl=this.options.watermark,this.imageLink=this.options.watermarkLink,this.render()):this.$el.remove()},e.prototype.onPlay=function(){this.hidden||this.$el.show()},e.prototype.onStop=function(){this.$el.hide()},e.prototype.render=function(){this.$el.hide();var t={position:this.position,imageUrl:this.imageUrl,imageLink:this.imageLink};return this.$el.html(this.template(t)),this.container.$el.append(this.$el),this},e}(s.default);e.default=h,t.exports=e.default},function(t,e){t.exports="<div data-watermark data-watermark-<%=position %>>\n<% if(typeof imageLink !== 'undefined') { %>\n<a target=_blank href=\"<%= imageLink %>\">\n<% } %>\n<img src=\"<%= imageUrl %>\">\n<% if(typeof imageLink !== 'undefined') { %>\n</a>\n<% } %>\n</div>\n"},function(t,e,n){var i=n(236);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,"[data-watermark]{position:absolute;min-width:70px;max-width:200px;width:12%;text-align:center;z-index:10}[data-watermark] a{outline:none;cursor:pointer}[data-watermark] img{max-width:100%}[data-watermark-bottom-left]{bottom:10px;left:10px}[data-watermark-bottom-right]{bottom:10px;right:42px}[data-watermark-top-left]{top:10px;left:10px}[data-watermark-top-right]{top:10px;right:37px}",""])},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(1)),o=y(n(2)),a=y(n(4)),s=y(n(3)),l=y(n(51)),u=y(n(7)),c=y(n(11)),d=y(n(13)),h=y(n(93)),p=y(n(238)),f=y(n(72));function y(t){return t&&t.__esModule?t:{default:t}}n(239);var v=function(t){function e(n){(0,r.default)(this,e);var a=(0,o.default)(this,t.call(this,n));return a.hasStartedPlaying=!1,a.playRequested=!1,a.render(),i.nextTick(function(){return a.update()}),a}return(0,s.default)(e,t),(0,a.default)(e,[{key:"name",get:function(){return"poster"}},{key:"template",get:function(){return(0,c.default)(p.default)}},{key:"shouldRender",get:function(){var t=!(!this.options.poster||!this.options.poster.showForNoOp);return"html_img"!==this.container.playback.name&&(this.container.playback.getPlaybackType()!==d.default.NO_OP||t)}},{key:"attributes",get:function(){return{class:"player-poster","data-poster":""}}},{key:"events",get:function(){return{click:"clicked"}}},{key:"showOnVideoEnd",get:function(){return!this.options.poster||this.options.poster.showOnVideoEnd||void 0===this.options.poster.showOnVideoEnd}}]),e.prototype.bindEvents=function(){this.listenTo(this.container,u.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,u.default.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,u.default.CONTAINER_STATE_BUFFERING,this.update),this.listenTo(this.container,u.default.CONTAINER_STATE_BUFFERFULL,this.update),this.listenTo(this.container,u.default.CONTAINER_OPTIONS_CHANGE,this.render),this.listenTo(this.container,u.default.CONTAINER_ERROR,this.onError),this.showOnVideoEnd&&this.listenTo(this.container,u.default.CONTAINER_ENDED,this.onStop)},e.prototype.onError=function(t){this.hasFatalError=t.level===h.default.Levels.FATAL,this.hasFatalError&&(this.hasStartedPlaying=!1,this.playRequested=!1,this.showPlayButton())},e.prototype.onPlay=function(){this.hasStartedPlaying=!0,this.update()},e.prototype.onStop=function(){this.hasStartedPlaying=!1,this.playRequested=!1,this.update()},e.prototype.updatePlayButton=function(t){!t||this.options.chromeless&&!this.options.allowUserInteraction?this.hidePlayButton():this.showPlayButton()},e.prototype.showPlayButton=function(){this.hasFatalError&&!this.options.disableErrorScreen||(this.$playButton.show(),this.$el.addClass("clickable"))},e.prototype.hidePlayButton=function(){this.$playButton.hide(),this.$el.removeClass("clickable")},e.prototype.clicked=function(){return this.options.chromeless&&!this.options.allowUserInteraction||(this.playRequested=!0,this.update(),this.container.play()),!1},e.prototype.shouldHideOnPlay=function(){return!this.container.playback.isAudioOnly},e.prototype.update=function(){if(this.shouldRender){var t=!this.playRequested&&!this.hasStartedPlaying&&!this.container.buffering;this.updatePlayButton(t),this.updatePoster()}},e.prototype.updatePoster=function(){this.hasStartedPlaying?this.hidePoster():this.showPoster()},e.prototype.showPoster=function(){this.container.disableMediaControl(),this.$el.show()},e.prototype.hidePoster=function(){this.container.enableMediaControl(),this.shouldHideOnPlay()&&this.$el.hide()},e.prototype.render=function(){if(this.shouldRender){if(this.$el.html(this.template()),this.options.poster&&void 0===this.options.poster.custom){var t=this.options.poster.url||this.options.poster;this.$el.css({"background-image":"url("+t+")"})}else this.options.poster&&this.$el.css({background:this.options.poster.custom});this.container.$el.append(this.el),this.$playWrapper=this.$el.find(".play-wrapper"),this.$playWrapper.append(f.default),this.$playButton=this.$playWrapper.find("svg"),this.$playButton.addClass("poster-icon"),this.$playButton.attr("data-poster","");var e=this.options.mediacontrol&&this.options.mediacontrol.buttons;return e&&this.$el.find("svg path").css("fill",e),this.options.mediacontrol&&this.options.mediacontrol.buttons&&(e=this.options.mediacontrol.buttons,this.$playButton.css("color",e)),this.update(),this}},e}(l.default);e.default=v,t.exports=e.default}).call(this,n(30))},function(t,e){t.exports='<div class="play-wrapper" data-poster></div>\n'},function(t,e,n){var i=n(240);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".player-poster[data-poster]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;height:100%;width:100%;z-index:998;top:0;left:0;background-color:#000;background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.player-poster[data-poster].clickable{cursor:pointer}.player-poster[data-poster]:hover .play-wrapper[data-poster]{opacity:1}.player-poster[data-poster] .play-wrapper[data-poster]{width:100%;height:25%;margin:0 auto;opacity:.75;transition:opacity .1s ease}.player-poster[data-poster] .play-wrapper[data-poster] svg{height:100%}.player-poster[data-poster] .play-wrapper[data-poster] svg path{fill:#fff}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(242),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(1)),r=u(n(2)),o=u(n(4)),a=u(n(3)),s=u(n(52)),l=u(n(7));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o.container.options.gaAccount&&(o.account=o.container.options.gaAccount,o.trackerName=o.container.options.gaTrackerName?o.container.options.gaTrackerName+".":"Clappr.",o.domainName=o.container.options.gaDomainName,o.currentHDState=void 0,o.embedScript()),o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"google_analytics"}}]),e.prototype.embedScript=function(){var t=this;if(window._gat)this.addEventListeners();else{var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("async","async"),e.setAttribute("src","//www.google-analytics.com/ga.js"),e.onload=function(){return t.addEventListeners()},document.body.appendChild(e)}},e.prototype.addEventListeners=function(){var t=this;this.container&&(this.listenTo(this.container,l.default.CONTAINER_READY,this.onReady),this.listenTo(this.container,l.default.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,l.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,l.default.CONTAINER_PAUSE,this.onPause),this.listenTo(this.container,l.default.CONTAINER_ENDED,this.onEnded),this.listenTo(this.container,l.default.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,l.default.CONTAINER_STATE_BUFFERFULL,this.onBufferFull),this.listenTo(this.container,l.default.CONTAINER_ERROR,this.onError),this.listenTo(this.container,l.default.CONTAINER_PLAYBACKSTATE,this.onPlaybackChanged),this.listenTo(this.container,l.default.CONTAINER_VOLUME,function(e){return t.onVolumeChanged(e)}),this.listenTo(this.container,l.default.CONTAINER_SEEK,function(e){return t.onSeek(e)}),this.listenTo(this.container,l.default.CONTAINER_FULL_SCREEN,this.onFullscreen),this.listenTo(this.container,l.default.CONTAINER_HIGHDEFINITIONUPDATE,this.onHD),this.listenTo(this.container,l.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.onDVR)),_gaq.push([this.trackerName+"_setAccount",this.account]),this.domainName&&_gaq.push([this.trackerName+"_setDomainName",this.domainName])},e.prototype.onReady=function(){this.push(["Video","Playback",this.container.playback.name])},e.prototype.onPlay=function(){this.push(["Video","Play",this.container.playback.src])},e.prototype.onStop=function(){this.push(["Video","Stop",this.container.playback.src])},e.prototype.onEnded=function(){this.push(["Video","Ended",this.container.playback.src])},e.prototype.onBuffering=function(){this.push(["Video","Buffering",this.container.playback.src])},e.prototype.onBufferFull=function(){this.push(["Video","Bufferfull",this.container.playback.src])},e.prototype.onError=function(){this.push(["Video","Error",this.container.playback.src])},e.prototype.onHD=function(t){var e=t?"ON":"OFF";e!==this.currentHDState&&(this.currentHDState=e,this.push(["Video","HD - "+e,this.container.playback.src]))},e.prototype.onPlaybackChanged=function(t){null!==t.type&&this.push(["Video","Playback Type - "+t.type,this.container.playback.src])},e.prototype.onDVR=function(t){var e=t?"ON":"OFF";this.push(["Interaction","DVR - "+e,this.container.playback.src])},e.prototype.onPause=function(){this.push(["Video","Pause",this.container.playback.src])},e.prototype.onSeek=function(){this.push(["Video","Seek",this.container.playback.src])},e.prototype.onVolumeChanged=function(){this.push(["Interaction","Volume",this.container.playback.src])},e.prototype.onFullscreen=function(){this.push(["Interaction","Fullscreen",this.container.playback.src])},e.prototype.push=function(t){var e=[this.trackerName+"_trackEvent"].concat(t);_gaq.push(e)},e}(s.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(1)),r=c(n(2)),o=c(n(4)),a=c(n(3)),s=c(n(52)),l=c(n(7)),u=c(n(13));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(n){return(0,i.default)(this,e),(0,r.default)(this,t.call(this,n))}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"click_to_pause"}}]),e.prototype.bindEvents=function(){this.listenTo(this.container,l.default.CONTAINER_CLICK,this.click),this.listenTo(this.container,l.default.CONTAINER_SETTINGSUPDATE,this.settingsUpdate)},e.prototype.click=function(){(this.container.getPlaybackType()!==u.default.LIVE||this.container.isDvrEnabled())&&(this.container.isPlaying()?this.container.pause():this.container.play())},e.prototype.settingsUpdate=function(){var t=this.container.getPlaybackType()!==u.default.LIVE||this.container.isDvrEnabled();if(t!==this.pointerEnabled){var e=t?"addClass":"removeClass";this.container.$el[e]("pointer-enabled"),this.pointerEnabled=t}},e}(s.default);e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(1)),r=h(n(2)),o=h(n(4)),a=h(n(3)),s=h(n(42)),l=h(n(11)),u=h(n(13)),c=h(n(7)),d=h(n(245));function h(t){return t&&t.__esModule?t:{default:t}}n(246);var p=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o.settingsUpdate(),o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"template",get:function(){return(0,l.default)(d.default)}},{key:"name",get:function(){return"dvr_controls"}},{key:"events",get:function(){return{"click .live-button":"click"}}},{key:"attributes",get:function(){return{class:"dvr-controls","data-dvr-controls":""}}}]),e.prototype.bindEvents=function(){this.listenTo(this.core.mediaControl,c.default.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.listenTo(this.core.mediaControl,c.default.MEDIACONTROL_RENDERED,this.settingsUpdate),this.listenTo(this.core,c.default.CORE_OPTIONS_CHANGE,this.render),this.core.getCurrentContainer()&&(this.listenToOnce(this.core.getCurrentContainer(),c.default.CONTAINER_TIMEUPDATE,this.render),this.listenTo(this.core.getCurrentContainer(),c.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.dvrChanged))},e.prototype.containerChanged=function(){this.stopListening(),this.bindEvents()},e.prototype.dvrChanged=function(t){this.core.getPlaybackType()===u.default.LIVE&&(this.settingsUpdate(),this.core.mediaControl.$el.addClass("live"),t?(this.core.mediaControl.$el.addClass("dvr"),this.core.mediaControl.$el.find(".media-control-indicator[data-position], .media-control-indicator[data-duration]").hide()):this.core.mediaControl.$el.removeClass("dvr"))},e.prototype.click=function(){var t=this.core.mediaControl,e=t.container;e.isPlaying()||e.play(),t.$el.hasClass("dvr")&&e.seek(e.getDuration())},e.prototype.settingsUpdate=function(){var t=this;this.stopListening(),this.core.mediaControl.$el.removeClass("live"),this.shouldRender()&&(this.render(),this.$el.click(function(){return t.click()})),this.bindEvents()},e.prototype.shouldRender=function(){return(void 0===this.core.options.useDvrControls||!!this.core.options.useDvrControls)&&this.core.getPlaybackType()===u.default.LIVE},e.prototype.render=function(){return this.$el.html(this.template({live:this.core.i18n.t("live"),backToLive:this.core.i18n.t("back_to_live")})),this.shouldRender()&&(this.core.mediaControl.$el.addClass("live"),this.core.mediaControl.$(".media-control-left-panel[data-media-control]").append(this.$el)),this},e}(s.default);e.default=p,t.exports=e.default},function(t,e){t.exports='<div class="live-info"><%= live %></div>\n<button type="button" class="live-button" aria-label="<%= backToLive %>"><%= backToLive %></button>\n'},function(t,e,n){var i=n(247);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,'.dvr-controls[data-dvr-controls]{display:inline-block;float:left;color:#fff;line-height:32px;font-size:10px;font-weight:700;margin-left:6px}.dvr-controls[data-dvr-controls] .live-info{cursor:default;font-family:Roboto,Open Sans,Arial,sans-serif;text-transform:uppercase}.dvr-controls[data-dvr-controls] .live-info:before{content:"";display:inline-block;position:relative;width:7px;height:7px;border-radius:3.5px;margin-right:3.5px;background-color:#ff0101}.dvr-controls[data-dvr-controls] .live-info.disabled{opacity:.3}.dvr-controls[data-dvr-controls] .live-info.disabled:before{background-color:#fff}.dvr-controls[data-dvr-controls] .live-button{cursor:pointer;outline:none;display:none;border:0;color:#fff;background-color:transparent;height:32px;padding:0;opacity:.7;font-family:Roboto,Open Sans,Arial,sans-serif;text-transform:uppercase;transition:all .1s ease}.dvr-controls[data-dvr-controls] .live-button:before{content:"";display:inline-block;position:relative;width:7px;height:7px;border-radius:3.5px;margin-right:3.5px;background-color:#fff}.dvr-controls[data-dvr-controls] .live-button:hover{opacity:1;text-shadow:hsla(0,0%,100%,.75) 0 0 5px}.dvr .dvr-controls[data-dvr-controls] .live-info{display:none}.dvr .dvr-controls[data-dvr-controls] .live-button{display:block}.dvr.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#005aff}.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#ff0101}',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(249),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(1)),r=h(n(2)),o=h(n(4)),a=h(n(3)),s=h(n(42)),l=h(n(11)),u=h(n(7)),c=h(n(250)),d=h(n(251));function h(t){return t&&t.__esModule?t:{default:t}}n(252);var p=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n)),a=n.options.closedCaptionsConfig;return o._title=a&&a.title?a.title:null,o._ariaLabel=a&&a.ariaLabel?a.ariaLabel:"cc-button",o._labelCb=a&&a.labelCallback&&"function"==typeof a.labelCallback?a.labelCallback:function(t){return t.name},o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"closed_captions"}},{key:"template",get:function(){return(0,l.default)(d.default)}},{key:"events",get:function(){return{"click [data-cc-button]":"toggleContextMenu","click [data-cc-select]":"onTrackSelect"}}},{key:"attributes",get:function(){return{class:"cc-controls","data-cc-controls":""}}}]),e.prototype.bindEvents=function(){this.listenTo(this.core.mediaControl,u.default.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.listenTo(this.core.mediaControl,u.default.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.core.mediaControl,u.default.MEDIACONTROL_HIDE,this.hideContextMenu),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,u.default.CONTAINER_SUBTITLE_AVAILABLE,this.onSubtitleAvailable),this.listenTo(this.container,u.default.CONTAINER_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(this.container,u.default.CONTAINER_STOP,this.onContainerStop))},e.prototype.onContainerStop=function(){this.ccAvailable(!1)},e.prototype.containerChanged=function(){this.ccAvailable(!1),this.stopListening(),this.bindEvents()},e.prototype.onSubtitleAvailable=function(){this.renderCcButton(),this.ccAvailable(!0)},e.prototype.onSubtitleChanged=function(t){this.setCurrentContextMenuElement(t.id)},e.prototype.onTrackSelect=function(t){var e=parseInt(t.target.dataset.ccSelect,10);return this.container.closedCaptionsTrackId=e,this.hideContextMenu(),t.stopPropagation(),!1},e.prototype.ccAvailable=function(t){var e=t?"addClass":"removeClass";this.$el[e]("available")},e.prototype.toggleContextMenu=function(){this.$el.find("ul").toggle()},e.prototype.hideContextMenu=function(){this.$el.find("ul").hide()},e.prototype.contextMenuElement=function(t){return this.$el.find("ul a"+(isNaN(t)?"":'[data-cc-select="'+t+'"]')).parent()},e.prototype.setCurrentContextMenuElement=function(t){if(this._trackId!==t){this.contextMenuElement().removeClass("current"),this.contextMenuElement(t).addClass("current");var e=t>-1?"addClass":"removeClass";this.$ccButton[e]("enabled"),this._trackId=t}},e.prototype.renderCcButton=function(){for(var t=this.container?this.container.closedCaptionsTracks:[],e=0;e<t.length;e++)t[e].label=this._labelCb(t[e]);this.$el.html(this.template({ariaLabel:this._ariaLabel,disabledLabel:this.core.i18n.t("disabled"),title:this._title,tracks:t})),this.$ccButton=this.$el.find("button.cc-button[data-cc-button]"),this.$ccButton.append(c.default),this.$el.append(this.style)},e.prototype.render=function(){this.renderCcButton();var t=this.core.mediaControl.$el.find("button[data-fullscreen]");return t[0]?this.$el.insertAfter(t):this.core.mediaControl.$el.find(".media-control-right-panel[data-media-control]").prepend(this.$el),this},e}(s.default);e.default=p,t.exports=e.default},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49 41.8" style="enable-background:new 0 0 49 41.8;" xml:space="preserve"><path d="M47.1,0H3.2C1.6,0,0,1.2,0,2.8v31.5C0,35.9,1.6,37,3.2,37h11.9l3.2,1.9l4.7,2.7c0.9,0.5,2-0.1,2-1.1V37h22.1 c1.6,0,1.9-1.1,1.9-2.7V2.8C49,1.2,48.7,0,47.1,0z M7.2,18.6c0-4.8,3.5-9.3,9.9-9.3c4.8,0,7.1,2.7,7.1,2.7l-2.5,4 c0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2c0,0-2.7,2.9-7.6,2.9 C10.8,27.9,7.2,23.5,7.2,18.6z M36.9,27.9c-6.4,0-9.9-4.4-9.9-9.3c0-4.8,3.5-9.3,9.9-9.3C41.7,9.3,44,12,44,12l-2.5,4 c0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2C44.5,25,41.9,27.9,36.9,27.9z"></path></svg>'},function(t,e){t.exports='<button type="button" class="cc-button media-control-button media-control-icon" data-cc-button aria-label="<%= ariaLabel %>"></button>\n<ul>\n  <% if (title) { %>\n  <li data-title><%= title %></li>\n  <% }; %>\n  <li><a href="#" data-cc-select="-1"><%= disabledLabel %></a></li>\n  <% for (var i = 0; i < tracks.length; i++) { %>\n    <li><a href="#" data-cc-select="<%= tracks[i].id %>"><%= tracks[i].label %></a></li>\n  <% }; %>\n</ul>\n'},function(t,e,n){var i=n(253);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".cc-controls[data-cc-controls]{float:right;position:relative;display:none}.cc-controls[data-cc-controls].available{display:block}.cc-controls[data-cc-controls] .cc-button{padding:6px!important}.cc-controls[data-cc-controls] .cc-button.enabled{display:block;opacity:1}.cc-controls[data-cc-controls] .cc-button.enabled:hover{opacity:1;text-shadow:none}.cc-controls[data-cc-controls]>ul{list-style-type:none;position:absolute;bottom:25px;border:1px solid #000;display:none;background-color:#e6e6e6}.cc-controls[data-cc-controls] li{font-size:10px}.cc-controls[data-cc-controls] li[data-title]{background-color:#c3c2c2;padding:5px}.cc-controls[data-cc-controls] li a{color:#444;padding:2px 10px;display:block;text-decoration:none}.cc-controls[data-cc-controls] li a:hover{background-color:#555;color:#fff}.cc-controls[data-cc-controls] li a:hover a{color:#fff;text-decoration:none}.cc-controls[data-cc-controls] li.current a{color:red}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(1)),r=h(n(2)),o=h(n(4)),a=h(n(3)),s=h(n(43)),l=h(n(7)),u=h(n(5)),c=h(n(72)),d=h(n(98));function h(t){return t&&t.__esModule?t:{default:t}}var p=(0,u.default)('link[rel="shortcut icon"]'),f=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o._container=null,o.configure(),o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"favicon"}},{key:"oldIcon",get:function(){return p}}]),e.prototype.configure=function(){this.core.options.changeFavicon?this.enabled||(this.stopListening(this.core,l.default.CORE_OPTIONS_CHANGE),this.enable()):this.enabled&&(this.disable(),this.listenTo(this.core,l.default.CORE_OPTIONS_CHANGE,this.configure))},e.prototype.bindEvents=function(){this.listenTo(this.core,l.default.CORE_OPTIONS_CHANGE,this.configure),this.listenTo(this.core.mediaControl,l.default.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.core.mediaControl.container&&this.containerChanged()},e.prototype.containerChanged=function(){this._container&&this.stopListening(this._container),this._container=this.core.mediaControl.container,this.listenTo(this._container,l.default.CONTAINER_PLAY,this.setPlayIcon),this.listenTo(this._container,l.default.CONTAINER_PAUSE,this.setPauseIcon),this.listenTo(this._container,l.default.CONTAINER_STOP,this.resetIcon),this.listenTo(this._container,l.default.CONTAINER_ENDED,this.resetIcon),this.listenTo(this._container,l.default.CONTAINER_ERROR,this.resetIcon),this.resetIcon()},e.prototype.disable=function(){t.prototype.disable.call(this),this.resetIcon()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.resetIcon()},e.prototype.createIcon=function(t){var e=(0,u.default)("<canvas/>");e[0].width=16,e[0].height=16;var n=e[0].getContext("2d");n.fillStyle="#000";var i=(0,u.default)(t).find("path").attr("d"),r=new Path2D(i);n.fill(r);var o=(0,u.default)('<link rel="shortcut icon" type="image/png"/>');return o.attr("href",e[0].toDataURL("image/png")),o},e.prototype.setPlayIcon=function(){this.playIcon||(this.playIcon=this.createIcon(c.default)),this.changeIcon(this.playIcon)},e.prototype.setPauseIcon=function(){this.pauseIcon||(this.pauseIcon=this.createIcon(d.default)),this.changeIcon(this.pauseIcon)},e.prototype.resetIcon=function(){(0,u.default)('link[rel="shortcut icon"]').remove(),(0,u.default)("head").append(this.oldIcon)},e.prototype.changeIcon=function(t){t&&((0,u.default)('link[rel="shortcut icon"]').remove(),(0,u.default)("head").append(t))},e}(s.default);e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(256),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(n(1)),r=p(n(2)),o=p(n(4)),a=p(n(3)),s=n(9),l=p(n(42)),u=p(n(11)),c=p(n(7)),d=p(n(13)),h=p(n(257));function p(t){return t&&t.__esModule?t:{default:t}}n(258);var f=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o.hoveringOverSeekBar=!1,o.hoverPosition=null,o.duration=null,o.firstFragDateTime=null,o.actualLiveTime=!!o.mediaControl.options.actualLiveTime,o.actualLiveTime&&(o.mediaControl.options.actualLiveServerTime?o.actualLiveServerTimeDiff=(new Date).getTime()-new Date(o.mediaControl.options.actualLiveServerTime).getTime():o.actualLiveServerTimeDiff=0),o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"seek_time"}},{key:"template",get:function(){return(0,u.default)(h.default)}},{key:"attributes",get:function(){return{class:"seek-time","data-seek-time":""}}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"mediaControlContainer",get:function(){return this.mediaControl.container}},{key:"isLiveStreamWithDvr",get:function(){return this.mediaControlContainer&&this.mediaControlContainer.getPlaybackType()===d.default.LIVE&&this.mediaControlContainer.isDvrEnabled()}},{key:"durationShown",get:function(){return this.isLiveStreamWithDvr&&!this.actualLiveTime}},{key:"useActualLiveTime",get:function(){return this.actualLiveTime&&this.isLiveStreamWithDvr}}]),e.prototype.bindEvents=function(){this.listenTo(this.mediaControl,c.default.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.mediaControl,c.default.MEDIACONTROL_MOUSEMOVE_SEEKBAR,this.showTime),this.listenTo(this.mediaControl,c.default.MEDIACONTROL_MOUSELEAVE_SEEKBAR,this.hideTime),this.listenTo(this.mediaControl,c.default.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged),this.mediaControlContainer&&(this.listenTo(this.mediaControlContainer,c.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.update),this.listenTo(this.mediaControlContainer,c.default.CONTAINER_TIMEUPDATE,this.updateDuration))},e.prototype.onContainerChanged=function(){this.stopListening(),this.bindEvents()},e.prototype.updateDuration=function(t){this.duration=t.total,this.firstFragDateTime=t.firstFragDateTime,this.update()},e.prototype.showTime=function(t){this.hoveringOverSeekBar=!0,this.calculateHoverPosition(t),this.update()},e.prototype.hideTime=function(){this.hoveringOverSeekBar=!1,this.update()},e.prototype.calculateHoverPosition=function(t){var e=t.pageX-this.mediaControl.$seekBarContainer.offset().left;this.hoverPosition=Math.min(1,Math.max(e/this.mediaControl.$seekBarContainer.width(),0))},e.prototype.getSeekTime=function(){var t=void 0,e=void 0,n=void 0,i=void 0;return this.useActualLiveTime?(this.firstFragDateTime?(i=new Date(this.firstFragDateTime),(n=new Date(this.firstFragDateTime)).setHours(0,0,0,0),e=(i.getTime()-n.getTime())/1e3+this.duration):(n=new Date((new Date).getTime()-this.actualLiveServerTimeDiff),e=((i=new Date(n))-n.setHours(0,0,0,0))/1e3),(t=e-this.duration+this.hoverPosition*this.duration)<0&&(t+=86400)):t=this.hoverPosition*this.duration,{seekTime:t,secondsSinceMidnight:e}},e.prototype.update=function(){if(this.rendered)if(this.shouldBeVisible()){var t=this.getSeekTime(),e=(0,s.formatTime)(t.seekTime,this.useActualLiveTime);if(e!==this.displayedSeekTime&&(this.$seekTimeEl.text(e),this.displayedSeekTime=e),this.durationShown){this.$durationEl.show();var n=(0,s.formatTime)(this.actualLiveTime?t.secondsSinceMidnight:this.duration,this.actualLiveTime);n!==this.displayedDuration&&(this.$durationEl.text(n),this.displayedDuration=n)}else this.$durationEl.hide();this.$el.show();var i=this.mediaControl.$seekBarContainer.width(),r=this.$el.width(),o=this.hoverPosition*i;o-=r/2,o=Math.max(0,Math.min(o,i-r)),this.$el.css("left",o)}else this.$el.hide(),this.$el.css("left","-100%")},e.prototype.shouldBeVisible=function(){return this.mediaControlContainer&&this.mediaControlContainer.settings.seekEnabled&&this.hoveringOverSeekBar&&null!==this.hoverPosition&&null!==this.duration},e.prototype.render=function(){this.rendered=!0,this.displayedDuration=null,this.displayedSeekTime=null,this.$el.html(this.template()),this.$el.hide(),this.mediaControl.$el.append(this.el),this.$seekTimeEl=this.$el.find("[data-seek-time]"),this.$durationEl=this.$el.find("[data-duration]"),this.$durationEl.hide(),this.update()},e}(l.default);e.default=f,t.exports=e.default},function(t,e){t.exports="<span data-seek-time></span>\n<span data-duration></span>\n"},function(t,e,n){var i=n(259);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,'.seek-time[data-seek-time]{position:absolute;white-space:nowrap;height:20px;line-height:20px;font-size:0;left:-100%;bottom:55px;background-color:rgba(2,2,2,.5);z-index:9999;transition:opacity .1s ease}.seek-time[data-seek-time].hidden[data-seek-time]{opacity:0}.seek-time[data-seek-time] [data-seek-time]{display:inline-block;color:#fff;font-size:10px;padding-left:7px;padding-right:7px;vertical-align:top}.seek-time[data-seek-time] [data-duration]{display:inline-block;color:hsla(0,0%,100%,.5);font-size:10px;padding-right:7px;vertical-align:top}.seek-time[data-seek-time] [data-duration]:before{content:"|";margin-right:7px}',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(1)),r=u(n(4)),o=u(n(2)),a=u(n(3)),s=u(n(43)),l=u(n(7));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return(0,i.default)(this,e),(0,o.default)(this,t.apply(this,arguments))}return(0,a.default)(e,t),e.prototype.bindEvents=function(){this.listenTo(this.core,l.default.CORE_CONTAINERS_CREATED,this.onContainersCreated)},e.prototype.onContainersCreated=function(){var t=this.core.containers.filter(function(t){return"no_op"!==t.playback.name})[0]||this.core.containers[0];t&&this.core.containers.forEach(function(e){e!==t&&e.destroy()})},(0,r.default)(e,[{key:"name",get:function(){return"sources"}}]),e}(s.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n(1)),r=c(n(4)),o=c(n(2)),a=c(n(3)),s=c(n(7)),l=c(n(43)),u=n(9);function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){return(0,i.default)(this,e),(0,o.default)(this,t.apply(this,arguments))}return(0,a.default)(e,t),e.prototype.bindEvents=function(){this.listenTo(this.core.mediaControl,s.default.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged);var t=this.core.getCurrentContainer();t&&(this.listenTo(t,s.default.CONTAINER_ENDED,this.ended),this.listenTo(t,s.default.CONTAINER_STOP,this.ended))},e.prototype.containerChanged=function(){this.stopListening(),this.bindEvents()},e.prototype.ended=function(){(void 0===this.core.options.exitFullscreenOnEnd||this.core.options.exitFullscreenOnEnd)&&u.Fullscreen.isFullscreen()&&this.core.toggleFullscreen()},(0,r.default)(e,[{key:"name",get:function(){return"end_video"}}]),e}(l.default);e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(1)),r=u(n(2)),o=u(n(4)),a=u(n(3)),s=n(9),l=u(n(5));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n){(0,i.default)(this,e);var o=(0,r.default)(this,t.call(this,n));return o._initializeMessages(),o}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"strings"}}]),e.prototype.t=function(t){var e=this._language(),n=this._messages.en;return(e&&this._messages[e]||n)[t]||n[t]||t},e.prototype._language=function(){return this.core.options.language||(0,s.getBrowserLanguage)()},e.prototype._initializeMessages=function(){this._messages=l.default.extend(!0,{en:{live:"live",back_to_live:"back to live",disabled:"Disabled",playback_not_supported:"Your browser does not support the playback of this video. Please try using a different browser.",default_error_title:"Could not play video.",default_error_message:"There was a problem trying to load the video."},pt:{live:"ao vivo",back_to_live:"voltar para o ao vivo",disabled:"Desativado",playback_not_supported:"Seu navegador no supporta a reproduo deste video. Por favor, tente usar um navegador diferente.",default_error_title:"No foi possvel reproduzir o vdeo.",default_error_message:"Ocorreu um problema ao tentar carregar o vdeo."},es:{live:"vivo",back_to_live:"volver en vivo",disabled:"Discapacitado",playback_not_supported:"Su navegador no soporta la reproduccin de un video. Por favor, trate de usar un navegador diferente."},ru:{live:" ",back_to_live:"  ",disabled:"",playback_not_supported:"      . ,   ."},fr:{live:"en direct",back_to_live:"retour au direct",disabled:"Dsactiv",playback_not_supported:"Votre navigateur ne supporte pas la lecture de cette vido. Merci de tenter sur un autre navigateur.",default_error_title:"Impossible de lire la vido.",default_error_message:"Un problme est survenu lors du chargement de la vido."},tr:{live:"canl",back_to_live:"canl yayna dn",disabled:"Engelli",playback_not_supported:"Taraycnz bu videoyu oynatma desteine sahip deil. Ltfen farkl bir tarayc ile deneyin."},et:{live:"Otselekanne",back_to_live:"Tagasi otselekande juurde",disabled:"Keelatud",playback_not_supported:"Teie brauser ei toeta selle video taasesitust. Proovige kasutada muud brauserit."}},this.core.options.strings||{}),this._messages["pt-BR"]=this._messages.pt,this._messages["en-US"]=this._messages.en,this._messages["es-419"]=this._messages.es,this._messages["fr-FR"]=this._messages.fr,this._messages["tr-TR"]=this._messages.tr,this._messages["et-EE"]=this._messages.et},e}(u(n(43)).default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(264),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(n(1)),r=p(n(2)),o=p(n(4)),a=p(n(3)),s=p(n(7)),l=p(n(42)),u=p(n(11)),c=p(n(28)),d=p(n(265)),h=p(n(266));function p(t){return t&&t.__esModule?t:{default:t}}n(267);var f=function(t){function e(n){var o;(0,i.default)(this,e);var a=(0,r.default)(this,t.call(this,n));return a.options.disableErrorScreen?(o=a.disable(),(0,r.default)(a,o)):a}return(0,a.default)(e,t),(0,o.default)(e,[{key:"name",get:function(){return"error_screen"}},{key:"template",get:function(){return(0,u.default)(h.default)}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"attributes",get:function(){return{class:"player-error-screen","data-error-screen":""}}}]),e.prototype.bindEvents=function(){this.listenTo(this.core,s.default.ERROR,this.onError),this.listenTo(this.core.mediaControl,s.default.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged)},e.prototype.bindReload=function(){this.reloadButton=this.$el.find(".player-error-screen__reload"),this.reloadButton&&this.reloadButton.on("click",this.reload.bind(this))},e.prototype.reload=function(){var t=this;this.listenToOnce(this.core,s.default.CORE_READY,function(){return t.container.play()}),this.core.load(this.options.sources,this.options.mimeType),this.unbindReload()},e.prototype.unbindReload=function(){this.reloadButton&&this.reloadButton.off("click")},e.prototype.onContainerChanged=function(){this.err=null,this.unbindReload(),this.hide()},e.prototype.onError=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.level===c.default.Levels.FATAL&&(this.err=t,this.container.disableMediaControl(),this.container.stop(),this.show())},e.prototype.show=function(){this.render(),this.$el.show()},e.prototype.hide=function(){this.$el.hide()},e.prototype.render=function(){if(this.err)return this.$el.html(this.template({title:this.err.UI.title,message:this.err.UI.message,code:this.err.code,icon:this.err.UI.icon||"",reloadIcon:d.default})),this.core.$el.append(this.el),this.bindReload(),this},e}(l.default);e.default=f,t.exports=e.default},function(t,e){t.exports='<svg fill="#FFFFFF" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<div class="player-error-screen__content" data-error-screen>\n  <% if (icon) { %>\n  <div class="player-error-screen__icon" data-error-screen><%= icon %></div>\n  <% } %>\n  <div class="player-error-screen__title" data-error-screen><%= title %></div>\n  <div class="player-error-screen__message" data-error-screen><%= message %></div>\n  <div class="player-error-screen__code" data-error-screen>Error code: <%= code %></div>\n  <div class="player-error-screen__reload" data-error-screen><%= reloadIcon %></div>\n</div>\n'},function(t,e,n){var i=n(268);"string"==typeof i&&(i=[[t.i,i,""]]);var r={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(12)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,"div.player-error-screen{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#cccaca;position:absolute;top:0;height:100%;width:100%;background-color:rgba(0,0,0,.7);z-index:2000;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}div.player-error-screen__content[data-error-screen]{font-size:14px;color:#cccaca;margin-top:45px}div.player-error-screen__title[data-error-screen]{font-weight:700;line-height:30px;font-size:18px}div.player-error-screen__message[data-error-screen]{width:90%;margin:0 auto}div.player-error-screen__code[data-error-screen]{font-size:13px;margin-top:15px}div.player-error-screen__reload{cursor:pointer;width:30px;margin:15px auto 0}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(5),o=(i=r)&&i.__esModule?i:{default:i};var a={jsonp:function(t){var e=new o.default.Deferred;t.callbackName=t.callbackName||"json_callback",t.timeout=t.timeout||15e3,window[t.callbackName]=function(t){a.isErrorObject(t)?e.reject(t):e.resolve(t)};var n=(0,o.default)("head")[0],i=document.createElement("script");return i.setAttribute("src",t.url),i.setAttribute("async","async"),i.onload=i.onreadystatechange=function(e){i.readyState&&!/loaded|complete/.test(i.readyState)||(t.timeoutId&&window.clearTimeout(t.timeoutId),i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=void 0)},i.onerror=function(){e.reject({error:!0,message:"jsonp load error"})},n.insertBefore(i,n.firstChild),t.error&&(t.timeoutId=window.setTimeout(t.error,t.timeout)),e.promise()},isErrorObject:function(t){return t&&t.http_status_code&&200!=t.http_status_code}};e.default=a,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autoplayManager=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=l(n(5)),o=n(0),a=l(n(271)),s=l(n(272));function l(t){return t&&t.__esModule?t:{default:t}}window.WM_PLAYER_VIDEO_TAG_TEST_AUDIO=document.createElement("video"),window.WM_PLAYER_VIDEO_TAG_TEST_MUTE=document.createElement("video");var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._deferred=new r.default.Deferred,this.playerHasConsent=!1,this._setBrowserFlags()}return i(t,[{key:"isAutoPlayMutedAllowed",value:function(t){return this.isAvailable(!0)&&t.autoPlay}},{key:"allowAutoplay",value:function(t){return t.autoPlay&&this.isAvailable(t.mute)||o.Browser.isSmartTvEnvironment&&t.autoPlay||o.Browser.isChromecast}},{key:"onAutoplayAvailable",value:function(t,e,n){var i=this;return this._deferred.then(function(){i.allowAutoplay(e)?t():"function"==typeof n&&n()})}},{key:"isAvailable",value:function(t){return t?this.isAllowedWithoutAudio||this.playerHasConsent:this.isAllowedWithAudio||this.playerHasConsent}},{key:"consent",value:function(){this.playerHasConsent=!0}},{key:"_setBrowserFlags",value:function(){var t=this;if(o.Browser.isSmartTvEnvironment||o.Browser.isChromecast)this._deferred.resolve();else{var e=this._createVideoElement(s.default,!1),n=this._createVideoElement(a.default,!0);o.Browser.isMobile?this.isAllowedWithAudio=!1:this._setFlag(e,"isAllowedWithAudio"),this._setFlag(n,"isAllowedWithoutAudio"),setTimeout(function(){return t._deferred.resolve()},5e3)}}},{key:"_setFlag",value:function(t,e){var n=this,i=t.play();i?i.then(function(){n[e]=!0},function(){n[e]=!1}).then(function(){return n._resolve()}):(this[e]=!o.Browser.isMobile,this._resolve())}},{key:"_resolve",value:function(){"isAllowedWithAudio"in this&&"isAllowedWithoutAudio"in this&&this._deferred.resolve()}},{key:"_createVideoElement",value:function(t,e){var n=e?window.WM_PLAYER_VIDEO_TAG_TEST_MUTE:window.WM_PLAYER_VIDEO_TAG_TEST_AUDIO;return n.src=t,n.muted=e,n.playsInline=!0,n}}]),t}();e.autoplayManager=new u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAA05tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTYgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAZmWIhAAz//727L4FNhTIUJcRLMXaSnA+KqSAgHc0wAAAAwAAAwAABIRT+ionVsXUeAAAAwJaAI4DRB2hXRFxCBHBniWEKHSMoAAAAwAAAwAAAwAAAwAAAwAAAwAAAwAAAwAAAwAJeQAAABJBmiJsQr/+OEAAAAMAAAMABUwAAAAQAZ5BeQr/AAADAAADAABHwQAAAzZtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAeAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACYHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAeAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAACgAAAAeAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAHgAAAQAAAEAAAAAAdhtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAADIAAAAGAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAGDbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABQ3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAACgAHgAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAB7/4QAYZ2QAHqzZQKA9oQAAAwABAAADADIPFi2WAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAMAAAIAAAAAFHN0c3MAAAAAAAAAAQAAAAEAAAAoY3R0cwAAAAAAAAADAAAAAQAABAAAAAABAAAGAAAAAAEAAAIAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAADAAAAAQAAACBzdHN6AAAAAAAAAAAAAAADAAADHAAAABYAAAAUAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ==",t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={isFullscreen:function(){return document.webkitIsFullScreen||document.mozFullScreen},requestFullscreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},cancelFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}};e.default=i,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalsManager=e.registerGlobal=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=s(n(5)),a=s(n(10));function s(t){return t&&t.__esModule?t:{default:t}}var l=r.Browser.isSmartTvEnvironment?["google","$YB"]:["google","google.ima","$YB"];e.registerGlobal=function(t){l.push(t)},e.GlobalsManager=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.loadScriptsIntervalId=null,this.loadScriptsAttempts=5}return i(t,[{key:"ready",value:function(){return!l.filter(function(t){return void 0===a.default.get(window,t,void 0)}).length}},{key:"isAvailable",value:function(){var t=this,e=new o.default.Deferred;return this.loadScriptsIntervalId=setInterval(function(){t.ready()?(clearInterval(t.loadScriptsIntervalId),e.resolve()):t.loadScriptsAttempts--,t.loadScriptsAttempts||(clearInterval(t.loadScriptsIntervalId),e.reject())},200),e.promise()}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatformName=e.getDeviceType=e.API_VERSION=void 0;var i=n(0);e.API_VERSION=window.WM&&window.WM.version||"legacy_api",e.getDeviceType=function(){return i.Browser.isChromecast||i.Browser.isMobile?"mobile":"desktop"},e.getPlatformName=function(t){return"web-"+t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(5)),o=a(n(44));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"getLocation",value:function(){var t=new r.default.Deferred;return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){t.resolve(e)},function(e){t.reject(Object.assign({error:e},o.default.LOCATION_UNAVAILABLE))}):t.reject(o.default.LOCATION_UNAVAILABLE),t}}]),t}();e.default=s,t.exports=e.default},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector"><path d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921c-0.722,0-1.351,0.367-1.707,0.916l0,0 c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999c0,1.07,0.898,1.939,2.015,1.939 c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004c1.113,0,2.016-0.869,2.016-1.939 C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_" display="none"><path display="inline" fill="#CCCBCB" d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526 c-1.026-1.021-1.026-2.685,0-3.707c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g display="inline"><path fill="#CCCBCB" d="M23.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013 c1.215,0,1.561,0,4.561,0c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C18.776,6.412,21.035,6.409,23.341,6.386z"></path><path fill="#CCCBCB" d="M29.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C26.836,15.403,27.434,15.464,29.434,15.457z"></path><path fill="#CCCBCB" d="M28.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L28.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M38.618,3.387H6.309c-1.657,0-3,1.343-3,3v33.008c0,1.658,1.343,3,3,3h32.311 c1.656,0,3-1.342,3-3V6.387C41.618,4.73,40.275,3.387,38.618,3.387z M32.371,13.745c0,0.032-1.535,0.748-2.529,1.801 c-0.908,0.965-1.46,5.07-1.471,5.07c1.317,0,3.062,0,3.062,0s0,2.001,0,3.507c0,0.279-3.292,0.285-5.146,0.275 c-0.186,0-2.037,4.171-3.279,5.973c-1.604,2.322-3.759,3.744-6.474,4.349c-0.958,0.211-1.916,0.294-2.889,0.335 c-0.165,0.01-1.338-0.17-1.334-0.342c0.005-1.561,0.039-3.123,0.034-4.688c0-0.164,0.089-0.103,0.089-0.092 c0,0.017,0,0.036,0,0.052c1,0.104,4.33-0.785,5.325-1.809c0.364-0.37,1.775-2.266,2.091-2.805c0.19-0.332,1.627-3.421,1.9-4.141 c0.303-0.795,0.618-1.602,0.918-2.397c0.116-0.309,0.831-1.83,0.906-1.97c0.408-0.755,0.814-1.517,1.243-2.267 c0.239-0.421,0.509-0.83,0.798-1.216c1.606-2.158,3.36-3.726,5.94-4.406c0.938-0.249,0.938-0.249,0.938-0.249 C32.493,11.876,32.371,12.061,32.371,13.745z"></path></g><g id="vector_5_" display="none"><g display="inline"><g><path fill="#CCCBCB" d="M22.957,4.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V17.462C35.431,8.332,29.842,4.179,22.957,4.179z"></path></g></g><path display="inline" fill="#CCCBCB" d="M36.555,23.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903 c0,1.795,1.141,3.498,2.969,3.498h26.474c1.827,0,2.228-1.703,2.228-3.498V24.679C38.782,22.882,38.381,23.558,36.555,23.558z M23.446,35.267c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.018,4.017-4.018c2.218,0,4.016,1.799,4.016,4.018 C27.461,33.469,25.664,35.267,23.446,35.267z"></path></g><g id="vector_3_" display="none"><path display="inline" fill="#CCCBCB" d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_" display="none"><path display="inline" fill="#CCCBCB" d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136 c-1.004-0.994-1.004-2.599,0-3.589c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g display="inline"><path fill="#CCCBCB" d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path fill="#CCCBCB" d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector" display="none"><path display="inline" fill="#CCCBCB" d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921 c-0.722,0-1.351,0.367-1.707,0.916l0,0c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999 c0,1.07,0.898,1.939,2.015,1.939c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004 c1.113,0,2.016-0.869,2.016-1.939C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_" display="none"><path display="inline" fill="#CCCBCB" d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526 c-1.026-1.021-1.026-2.685,0-3.707c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g display="inline"><path fill="#CCCBCB" d="M24.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013 c1.215,0,1.561,0,4.561,0c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C19.776,6.412,22.035,6.409,24.341,6.386z"></path><path fill="#CCCBCB" d="M30.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C27.836,15.403,28.434,15.464,30.434,15.457z"></path><path fill="#CCCBCB" d="M29.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L29.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M40.294,3.616H8.433c-2.344,0-5-0.268-5,2.107v30.15c0,2.379,2.655,6.742,5,6.742h31.861 c2.345,0,1.14-4.363,1.14-6.742V5.723C41.434,3.349,42.639,3.616,40.294,3.616z M32.434,12.648c0,0.032,0.733,0.058,0.405,0.1 c-1.443,0.175-1.94,0.697-2.935,1.75c-0.907,0.965-1.46,5.118-1.471,5.118c1.318,0,3,0,3,0s0,1.904,0,3.411 c0,0.279,0.48,0.279,0.211,0.279c-1.854,0-3.472,0.005-5.327-0.004c-0.185,0-2.021,4.171-3.264,5.973 c-1.604,2.322-3.751,3.743-6.466,4.349c-0.958,0.211-1.912,0.293-2.884,0.334c-0.165,0.01-0.211-0.037-0.208-0.209 c0.005-1.56,0.008-3.123,0.003-4.688c0-0.164-0.555-0.307-0.304-0.264c-0.071,0.017-0.763,0.029-0.763,0.039 c0,0.017,0,0.035,0,0.052c0,0,0.84,0.006,0.976,0c1.58-0.095,3.26-0.655,4.381-1.808c0.363-0.371,1.791-2.267,2.105-2.807 c0.19-0.331,1.635-3.421,1.908-4.14c0.303-0.795,0.622-1.602,0.922-2.397c0.116-0.309,0.833-1.83,0.908-1.97 c0.409-0.755,0.816-1.517,1.245-2.267c0.239-0.421,0.508-0.83,0.797-1.216c1.607-2.158,3.362-3.726,5.941-4.406 c0.938-0.249,0.815-0.551,0.815-0.551C32.434,10.478,32.434,10.964,32.434,12.648z"></path></g><g id="vector_5_" display="none"><g display="inline"><g><path fill="#CCCBCB" d="M22.957,5.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V18.462C35.431,9.332,29.842,5.179,22.957,5.179z"></path></g></g><path display="inline" fill="#CCCBCB" d="M36.555,14.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903 c0,1.795,1.141,3.498,2.969,3.498h26.474c1.827,0,2.228-1.703,2.228-3.498V15.679C38.782,13.882,38.381,14.558,36.555,14.558z M23.446,26.267c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.017,4.017-4.017c2.218,0,4.016,1.798,4.016,4.017 C27.461,24.469,25.664,26.267,23.446,26.267z"></path></g><g id="vector_3_" display="none"><path display="inline" fill="#CCCBCB" d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_"><path d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136c-1.004-0.994-1.004-2.599,0-3.589 c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g><path d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector" display="none"><path display="inline" fill="#CCCBCB" d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921 c-0.722,0-1.351,0.367-1.707,0.916l0,0c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999 c0,1.07,0.898,1.939,2.015,1.939c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004 c1.113,0,2.016-0.869,2.016-1.939C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_" display="none"><path display="inline" fill="#CCCBCB" d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526 c-1.026-1.021-1.026-2.685,0-3.707c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g display="inline"><path fill="#CCCBCB" d="M24.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013 c1.215,0,1.561,0,4.561,0c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C19.776,6.412,22.035,6.409,24.341,6.386z"></path><path fill="#CCCBCB" d="M30.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C27.836,15.403,28.434,15.464,30.434,15.457z"></path><path fill="#CCCBCB" d="M29.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L29.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M40.294,3.616H8.433c-2.344,0-5-0.268-5,2.107v30.15c0,2.379,2.655,6.742,5,6.742h31.861 c2.345,0,1.14-4.363,1.14-6.742V5.723C41.434,3.349,42.639,3.616,40.294,3.616z M32.434,12.648c0,0.032,0.733,0.058,0.405,0.1 c-1.443,0.175-1.94,0.697-2.935,1.75c-0.907,0.965-1.46,5.118-1.471,5.118c1.318,0,3,0,3,0s0,1.904,0,3.411 c0,0.279,0.48,0.279,0.211,0.279c-1.854,0-3.472,0.005-5.327-0.004c-0.185,0-2.021,4.171-3.264,5.973 c-1.604,2.322-3.751,3.743-6.466,4.349c-0.958,0.211-1.912,0.293-2.884,0.334c-0.165,0.01-0.211-0.037-0.208-0.209 c0.005-1.56,0.008-3.123,0.003-4.688c0-0.164-0.555-0.307-0.304-0.264c-0.071,0.017-0.763,0.029-0.763,0.039 c0,0.017,0,0.035,0,0.052c0,0,0.84,0.006,0.976,0c1.58-0.095,3.26-0.655,4.381-1.808c0.363-0.371,1.791-2.267,2.105-2.807 c0.19-0.331,1.635-3.421,1.908-4.14c0.303-0.795,0.622-1.602,0.922-2.397c0.116-0.309,0.833-1.83,0.908-1.97 c0.409-0.755,0.816-1.517,1.245-2.267c0.239-0.421,0.508-0.83,0.797-1.216c1.607-2.158,3.362-3.726,5.941-4.406 c0.938-0.249,0.815-0.551,0.815-0.551C32.434,10.478,32.434,10.964,32.434,12.648z"></path></g><g id="vector_5_"><g><g><path d="M22.957,4.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V17.462C35.431,8.332,29.842,4.179,22.957,4.179z"></path></g></g><path d="M36.555,23.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903c0,1.795,1.141,3.498,2.969,3.498h26.474 c1.827,0,2.228-1.703,2.228-3.498V24.679C38.782,22.882,38.381,23.558,36.555,23.558z M23.446,35.267 c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.018,4.017-4.018c2.218,0,4.016,1.799,4.016,4.018 C27.461,33.469,25.664,35.267,23.446,35.267z"></path></g><g id="vector_3_" display="none"><path display="inline" fill="#CCCBCB" d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_" display="none"><path display="inline" fill="#CCCBCB" d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136 c-1.004-0.994-1.004-2.599,0-3.589c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g display="inline"><path fill="#CCCBCB" d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path fill="#CCCBCB" d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.7 45.8" enable-background="new 0 0 45.7 45.8" xml:space="preserve"><g id="Layer_1_1_" display="none"><g id="vector" display="inline"><path fill="#CCCBCB" d="M45.3,38.3L45.3,38.3L24.7,5.2l0,0c-0.4-0.6-1-0.9-1.7-0.9c-0.7,0-1.4,0.4-1.7,0.9l0,0 C16,13.6,0.6,38.3,0.6,38.3v0c-0.2,0.3-0.3,0.6-0.3,1c0,1.1,0.9,1.9,2,1.9c0,0,0.1,0,0.1,0l0,0h41.1v0c0,0,0,0,0,0 c1.1,0,2-0.9,2-1.9C45.6,38.9,45.5,38.6,45.3,38.3z M24.2,13.7c1.5,0.5,2.4,1.9,2.2,3.6c-0.2,1.7-0.6,3.4-0.8,5.1 c-0.3,2-0.6,4.1-1,6.2c-1.1,0-2.1,0-3.2,0c-0.3-2.2-0.7-4.3-1-6.4c-0.2-1.4-0.5-2.8-0.8-4.3C19.1,15,21.4,12.8,24.2,13.7z M23,37.2c-1.9,0-3.5-1.5-3.4-3.3c0-0.7,0.3-1.4,0.7-1.9c0.6-0.8,1.7-1.3,2.8-1.3c1.9,0,3.5,1.5,3.4,3.3 C26.4,35.7,24.9,37.2,23,37.2z"></path></g><g id="vector_2_" display="inline"><path fill="#CCCBCB" d="M44.9,44.7c-1,1-2.7,1-3.7,0L1,4.5c-1-1-1-2.7,0-3.7c1-1,2.7-1,3.7,0L44.9,41C45.9,42,45.9,43.7,44.9,44.7 z"></path><g><path fill="#CCCBCB" d="M24.3,6.4c0.8,0,1.6,0.4,1.6,1.2c0,1.5,0,3,0,6c1.2,0,1.6,0,4.6,0c0-3,0-5.6,0-7.5c0-2.5-1.5-3.3-3.9-3.3 c-4.1,0-8.5,0-12.6,0l3.6,3.6C19.8,6.4,22,6.4,24.3,6.4z"></path><path fill="#CCCBCB" d="M30.4,15.5C30.4,15.5,30.4,15.5,30.4,15.5c0,0,0.6,0,1.4,0c0.8,0,0.8,0.3,0.8,1.1c0,1.7-0.1,3.3-0.1,5 l3.6,3.6c0-3.3,0-6.7,0-10c0-2.5-0.7-3.3-3.1-3.3c-1.3,0-2.6,0-3.5,0l0,0c-1.4,0-2.7,0-4.1,0c-0.7,0-1.6,0-2.6,0.1l3.7,3.5 C27.8,15.4,28.4,15.5,30.4,15.5z"></path><path fill="#CCCBCB" d="M29.1,37.3c-0.9,0-1.8,0-2.7,0c-1.6,0-2.9,0-4.6,0c-1.7,0-1.7-0.8-1.7-0.8c0-5,0.2-4.5,0.2-6.6l-3.9-4.7 c0,1.2,0.1,2.1,0.1,3.3c-0.8,0-1.8,0.1-2.3,0.1c-0.8,0-1-0.6-1-1.4c0-1.9,0-3.9,0-5.8L9.7,18c0,0.5,0,0.8,0,0.8 c0,3.8,0,7.8,0,11.9c0,2.5,0.5,3.1,3,3.1c0.9,0,2.8-0.1,3.9-0.1c0.1,2.6,0.1,4.7,0.1,5.9c0,2.2,0.6,3,2.4,3.2c0.3,0,0.5,0,0.9,0 c4.3,0,8.7,0,13,0c0.5,0,1-0.1,1.4-0.2L29.1,37.3z"></path></g></g><g id="vector_4_" display="inline"><path fill="#CCCBCB" d="M40.3,3.6H8.4c-2.3,0-5-0.3-5,2.1v30.2c0,2.4,2.7,6.7,5,6.7h31.9c2.3,0,1.1-4.4,1.1-6.7V5.7 C41.4,3.3,42.6,3.6,40.3,3.6z M32.4,12.6c0,0,0.7,0.1,0.4,0.1c-1.4,0.2-1.9,0.7-2.9,1.8c-0.9,1-1.5,5.1-1.5,5.1c1.3,0,3,0,3,0 s0,1.9,0,3.4c0,0.3,0.5,0.3,0.2,0.3c-1.9,0-3.5,0-5.3,0c-0.2,0-2,4.2-3.3,6c-1.6,2.3-3.8,3.7-6.5,4.3c-1,0.2-1.9,0.3-2.9,0.3 c-0.2,0-0.2,0-0.2-0.2c0-1.6,0-3.1,0-4.7c0-0.2-0.6-0.3-0.3-0.3c-0.1,0-0.8,0-0.8,0c0,0,0,0,0,0.1c0,0,0.8,0,1,0 c1.6-0.1,3.3-0.7,4.4-1.8c0.4-0.4,1.8-2.3,2.1-2.8c0.2-0.3,1.6-3.4,1.9-4.1c0.3-0.8,0.6-1.6,0.9-2.4c0.1-0.3,0.8-1.8,0.9-2 c0.4-0.8,0.8-1.5,1.2-2.3c0.2-0.4,0.5-0.8,0.8-1.2c1.6-2.2,3.4-3.7,5.9-4.4c0.9-0.2,0.8-0.6,0.8-0.6C32.4,10.5,32.4,11,32.4,12.6z "></path></g><g id="vector_5_" display="inline"><g><g><path fill="#CCCBCB" d="M23,5.2c-6.9,0-12.5,4.2-12.5,13.3v11.2c0,5.5,4.3,8.7,9.3,9.7c-2.8-1.6-5-5.1-5-10.2v-7.4 c0-6.8,3.7-12.2,8.2-12.2c4.5,0,8.2,5.5,8.2,12.2v7.4c0,5.1-1.7,8.4-3.9,10c4.5-1.2,8.2-4.3,8.2-9.4V18.5 C35.4,9.3,29.8,5.2,23,5.2z"></path></g></g><path fill="#CCCBCB" d="M36.6,14.6H10.1c-1.8,0-3-0.7-3,1.1v11.9c0,1.8,1.1,3.5,3,3.5h26.5c1.8,0,2.2-1.7,2.2-3.5V15.7 C38.8,13.9,38.4,14.6,36.6,14.6z M23.4,26.3c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4c2.2,0,4,1.8,4,4C27.5,24.5,25.7,26.3,23.4,26.3z"></path></g><g id="vector_3_" display="inline"><path fill="#CCCBCB" d="M34.1,35.6c-0.3,0-0.6,0-0.9,0c-0.3-2.5,0.4-5-0.6-7.4c-1-2.3-2.6-4.1-4.3-5.8c1.7-1.7,3.3-3.4,4.3-5.7 c1-2.3,0.4-4.8,0.7-7.3c0.3,0,0.6,0,0.9,0c0.8-0.1,1.3-0.6,1.4-1.4c0-0.8-0.5-1.3-1.4-1.3c-0.1,0-22.1,0-22.3,0 c-0.8,0.1-1.2,0.6-1.2,1.4c0,0.8,0.5,1.3,1.3,1.4c0.4,0,0.8,0,1.3,0c0,1.4,0,2.7,0,4.1c0,1.9,0.5,3.6,1.5,5.1c1,1.4,2.1,2.6,3.2,4 c-1.6,1.6-3.2,3.4-4.1,5.6c-1,2.3-0.3,4.8-0.6,7.3c-0.5,0-0.9-0.1-1.4,0c-0.7,0.1-1.1,0.6-1.1,1.3c0,0.8,0.4,1.6,1.1,1.8 c0.2,0,22.4,0,22.5,0c0.8-0.1,1.3-0.8,1.3-1.6C35.4,36.4,34.9,35.7,34.1,35.6z M17,10.4c4,0,7.9,0,11.9,0c0.2,0,0.1,3.7-0.5,4.5 c-1.5,2.2-3.5,4.4-5.5,6.2c-2-1.7-3.9-4.2-5.3-6.4C16.9,13.8,16.8,10.4,17,10.4z M28.9,34.5c-4,0-7.9,0-11.9,0 c-0.2,0-0.1-3.4,0.5-4.2c1.5-2.2,3.5-3.8,5.5-5.6c2,1.7,3.9,3.5,5.3,5.7C29,31.3,29.1,34.5,28.9,34.5z"></path></g><g id="vector_1_" display="inline"><path fill="#CCCBCB" d="M44.5,44c-1,1-2.6,1-3.6,0L1.4,5.1c-1-1-1-2.6,0-3.6c1-1,2.6-1,3.6,0l39.4,38.8C45.5,41.4,45.5,43,44.5,44 z"></path><g><path fill="#CCCBCB" d="M16.5,34.5c-1,0-1.3-0.3-1.3-1.3c0-3.2,0-5.8,0-8.3L11.4,21c0,1.5,0,3,0,4.2c0,0-0.2,9.9-0.2,14.8 c0,3,0.8,4.1,3.8,4.1c5.3,0,10.4,0.1,15.7,0.1c1.5,0,2.5-0.3,3-1l-8.8-8.7C22.1,34.5,19.3,34.5,16.5,34.5z"></path><path fill="#CCCBCB" d="M28.7,11.7c1,0,1.3,0.3,1.3,1.3c0,2.4,0,4.8,0,7.2l4.4,4.4c0-4.4,0-8.8,0-13.2c0-3-1-3.9-4-3.9 c-4.5,0-9,0-13.5,0l4.4,4.3C23.8,11.7,26.2,11.7,28.7,11.7z"></path></g></g><g id="Layer_7" display="inline"></g></g><g id="Layer_2"><g><g><path d="M28.5,25.6l0.1-2c0-5.9,4.2-7.6,8.7-7.6c1.1,0,2.2,0.2,3.2,0.5c-0.9-2.9-2.5-5.5-4.9-7.8c-3.9-3.9-8.5-5.8-14-5.8 c-5.3,0-9.9,1.9-13.7,5.6c1.3,0.4,3,1,5.1,1.9c0.2,0.1-0.1,0.4-0.1,0.6c0,0.6,0.5,0.9,1.1,0.7c0.6-0.2,1.1-0.6,1.6-0.9 c0.8-0.4,1.6-0.7,2.5-0.6c0.5,0.1,0.9,0.4,0.8,0.9c0,0.4-0.2,0.8-0.3,1.3c-0.2,0.5-0.4,0.9-0.5,1.3c-0.1,0.5,0.1,0.7,0.6,0.5 c0.4-0.2,0.7-0.4,1.1-0.6c0.7-0.4,1.3-0.1,1.6,0.6c0.1,0.4,0.1,0.8-0.2,1.1c-0.3,0.4-0.6,0.8-0.9,1.2c-0.6,0.7-1.1,1.4-1.3,2.3 c-0.1,0.5-0.3,1.3-0.5,1.7c-0.1,0.2-0.2,0.8-0.3,0.8c0,0-0.1,0-0.1,0c-0.1,0-0.2-0.9-0.3-1.2c-0.3-0.9-0.7-1.4-1.6-1.5 c-0.3,0-0.6-0.1-0.8-0.1c-1,0.1-1.7,0.6-1.8,1.5c-0.2,1.3,0.8,2.8,2,3.1c0.7,0.1,1.3,0.1,2,0.1c0.6,0,1.3-0.1,1.9,0 c1.3,0,2.3,0.6,2.9,1.8c0.6,1.1,0.8,2.3,0.7,3.5c-0.1,1.3-0.6,2.3-1.7,3c-0.4,0.2-0.7,0.5-1,0.8c-0.5,0.4-0.8,1-0.9,1.7 c-0.2,1.3-0.9,2.4-1.8,3.4c0,0.1-0.1,0.1-0.2,0.1c-0.2,0.1-0.4,0.1-0.6-0.1c-0.1-0.1-0.3-0.3-0.4-0.4c-0.7-0.5-1.1-1.1-1.3-1.9 c-0.2-1-0.4-2.1-0.5-3.2c-0.2-1.4-0.7-2.7-1.9-3.6c-0.2-0.1-0.3-0.3-0.5-0.4c-1-0.9-1-2.2-0.1-3.2c0.2-0.3,0.5-0.5,0.7-0.8 c0.4-0.5,0.4-1.1,0-1.6c-0.3-0.4-0.7-0.8-1.1-1c-1.2-0.7-2.5-1.4-4-0.7c-0.3,0.1-0.5,0-0.6-0.3c-0.2-0.4-0.3-0.8-0.4-1.2 c-0.1-0.7,0-1.4,0-2c0-0.9-0.1-1.8-0.5-2.7c-0.1-0.2-0.8-1-1.5-2c-1.9,3.1-2.9,6.5-2.9,10.4c0,5.5,1.9,10.1,5.8,14 c3.9,3.9,8.5,6.4,14,6.4c4.8,0,9-0.9,12.6-3.9h-5.7c-1.2,0-1.7-2.2-1.7-3.4v-7.8C26.9,26.8,27.3,27.3,28.5,25.6z"></path></g></g><g><g><g><path d="M37.2,19.6c-3.2,0-5.7,1.9-5.7,6.1v5.1c0,6.1,11.4,6.1,11.4,0v-5.1C42.9,21.5,40.4,19.6,37.2,19.6z M40.5,29.7 c0,6.3-6.5,5.5-6.5,0v-2.9c0-2.7,1.4-4.8,3.3-4.8c1.8,0,3.2,2.2,3.2,4.8V29.7z"></path></g></g><path d="M43.2,28.1H31.1c-0.8,0-1.3-0.2-1.3,0.7v5.4c0,0.8,0.5,1.9,1.3,1.9h12.1c0.8,0,0.6-1.1,0.6-1.9v-5.4 C43.9,27.9,44.1,28.1,43.2,28.1z M37.3,33.6c-0.9,0-1.6-0.7-1.6-1.6c0-0.9,0.7-1.6,1.6-1.6c0.9,0,1.6,0.7,1.6,1.6 S38.2,33.6,37.3,33.6z"></path></g></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector" display="none"><path display="inline" fill="#CCCBCB" d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921 c-0.722,0-1.351,0.367-1.707,0.916l0,0c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999 c0,1.07,0.898,1.939,2.015,1.939c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004 c1.113,0,2.016-0.869,2.016-1.939C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_" display="none"><path display="inline" fill="#CCCBCB" d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526 c-1.026-1.021-1.026-2.685,0-3.707c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g display="inline"><path fill="#CCCBCB" d="M24.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013 c1.215,0,1.561,0,4.561,0c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C19.776,6.412,22.035,6.409,24.341,6.386z"></path><path fill="#CCCBCB" d="M30.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C27.836,15.403,28.434,15.464,30.434,15.457z"></path><path fill="#CCCBCB" d="M29.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L29.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M40.294,3.616H8.433c-2.344,0-5-0.268-5,2.107v30.15c0,2.379,2.655,6.742,5,6.742h31.861 c2.345,0,1.14-4.363,1.14-6.742V5.723C41.434,3.349,42.639,3.616,40.294,3.616z M32.434,12.648c0,0.032,0.733,0.058,0.405,0.1 c-1.443,0.175-1.94,0.697-2.935,1.75c-0.907,0.965-1.46,5.118-1.471,5.118c1.318,0,3,0,3,0s0,1.904,0,3.411 c0,0.279,0.48,0.279,0.211,0.279c-1.854,0-3.472,0.005-5.327-0.004c-0.185,0-2.021,4.171-3.264,5.973 c-1.604,2.322-3.751,3.743-6.466,4.349c-0.958,0.211-1.912,0.293-2.884,0.334c-0.165,0.01-0.211-0.037-0.208-0.209 c0.005-1.56,0.008-3.123,0.003-4.688c0-0.164-0.555-0.307-0.304-0.264c-0.071,0.017-0.763,0.029-0.763,0.039 c0,0.017,0,0.035,0,0.052c0,0,0.84,0.006,0.976,0c1.58-0.095,3.26-0.655,4.381-1.808c0.363-0.371,1.791-2.267,2.105-2.807 c0.19-0.331,1.635-3.421,1.908-4.14c0.303-0.795,0.622-1.602,0.922-2.397c0.116-0.309,0.833-1.83,0.908-1.97 c0.409-0.755,0.816-1.517,1.245-2.267c0.239-0.421,0.508-0.83,0.797-1.216c1.607-2.158,3.362-3.726,5.941-4.406 c0.938-0.249,0.815-0.551,0.815-0.551C32.434,10.478,32.434,10.964,32.434,12.648z"></path></g><g id="vector_5_" display="none"><g display="inline"><g><path fill="#CCCBCB" d="M22.957,5.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V18.462C35.431,9.332,29.842,5.179,22.957,5.179z"></path></g></g><path display="inline" fill="#CCCBCB" d="M36.555,14.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903 c0,1.795,1.141,3.498,2.969,3.498h26.474c1.827,0,2.228-1.703,2.228-3.498V15.679C38.782,13.882,38.381,14.558,36.555,14.558z M23.446,26.267c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.017,4.017-4.017c2.218,0,4.016,1.798,4.016,4.017 C27.461,24.469,25.664,26.267,23.446,26.267z"></path></g><g id="vector_3_"><path d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_" display="none"><path display="inline" fill="#CCCBCB" d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136 c-1.004-0.994-1.004-2.599,0-3.589c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g display="inline"><path fill="#CCCBCB" d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path fill="#CCCBCB" d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector" display="none"><path display="inline" fill="#CCCBCB" d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921 c-0.722,0-1.351,0.367-1.707,0.916l0,0c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999 c0,1.07,0.898,1.939,2.015,1.939c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004 c1.113,0,2.016-0.869,2.016-1.939C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_"><path d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526c-1.026-1.021-1.026-2.685,0-3.707 c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g><path d="M23.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013c1.215,0,1.561,0,4.561,0 c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C18.776,6.412,21.035,6.409,23.341,6.386z"></path><path d="M29.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C26.836,15.403,27.434,15.464,29.434,15.457z"></path><path d="M28.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L28.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M38.618,3.387H6.309c-1.657,0-3,1.343-3,3v33.008c0,1.658,1.343,3,3,3h32.311 c1.656,0,3-1.342,3-3V6.387C41.618,4.73,40.275,3.387,38.618,3.387z M32.371,13.745c0,0.032-1.535,0.748-2.529,1.801 c-0.908,0.965-1.46,5.07-1.471,5.07c1.317,0,3.062,0,3.062,0s0,2.001,0,3.507c0,0.279-3.292,0.285-5.146,0.275 c-0.186,0-2.037,4.171-3.279,5.973c-1.604,2.322-3.759,3.744-6.474,4.349c-0.958,0.211-1.916,0.294-2.889,0.335 c-0.165,0.01-1.338-0.17-1.334-0.342c0.005-1.561,0.039-3.123,0.034-4.688c0-0.164,0.089-0.103,0.089-0.092 c0,0.017,0,0.036,0,0.052c1,0.104,4.33-0.785,5.325-1.809c0.364-0.37,1.775-2.266,2.091-2.805c0.19-0.332,1.627-3.421,1.9-4.141 c0.303-0.795,0.618-1.602,0.918-2.397c0.116-0.309,0.831-1.83,0.906-1.97c0.408-0.755,0.814-1.517,1.243-2.267 c0.239-0.421,0.509-0.83,0.798-1.216c1.606-2.158,3.36-3.726,5.94-4.406c0.938-0.249,0.938-0.249,0.938-0.249 C32.493,11.876,32.371,12.061,32.371,13.745z"></path></g><g id="vector_5_" display="none"><g display="inline"><g><path fill="#CCCBCB" d="M22.957,4.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V17.462C35.431,8.332,29.842,4.179,22.957,4.179z"></path></g></g><path display="inline" fill="#CCCBCB" d="M36.555,23.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903 c0,1.795,1.141,3.498,2.969,3.498h26.474c1.827,0,2.228-1.703,2.228-3.498V24.679C38.782,22.882,38.381,23.558,36.555,23.558z M23.446,35.267c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.018,4.017-4.018c2.218,0,4.016,1.799,4.016,4.018 C27.461,33.469,25.664,35.267,23.446,35.267z"></path></g><g id="vector_3_" display="none"><path display="inline" fill="#CCCBCB" d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_" display="none"><path display="inline" fill="#CCCBCB" d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136 c-1.004-0.994-1.004-2.599,0-3.589c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g display="inline"><path fill="#CCCBCB" d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path fill="#CCCBCB" d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 94.054 58.925" enable-background="new 0 0 94.054 58.925" xml:space="preserve"><g><path d="M89.057,0H13.051c-2.755,0-4.997,2.242-4.997,4.997v14.44C3.515,20.05,0,23.941,0,28.646v28.278c0,1.104,0.896,2,2,2 s2-0.896,2-2V28.646c0-2.492,1.734-4.574,4.054-5.139v30.421c0,2.755,2.241,4.996,4.997,4.996h76.006 c2.756,0,4.997-2.241,4.997-4.996V4.997C94.054,2.242,91.812,0,89.057,0z M23.054,3c1.105,0,2,0.896,2,2s-0.895,2-2,2 c-1.104,0-2-0.896-2-2S21.95,3,23.054,3z M18.054,3c1.104,0,2,0.896,2,2s-0.896,2-2,2s-2-0.896-2-2S16.95,3,18.054,3z M13.054,3 c1.104,0,2,0.896,2,2s-0.896,2-2,2s-2-0.896-2-2S11.95,3,13.054,3z M91.054,53.929c0,1.102-0.894,1.996-1.997,1.996H13.051 c-1.103,0-1.997-0.895-1.997-1.996V23.663c2.062,0.728,3.552,2.676,3.552,4.983c0,1.104,0.896,2,2,2s2-0.896,2-2 c0-4.531-3.257-8.311-7.552-9.133V10h80V53.929z M91.054,6c0,0.552-0.447,1-1,1h-61c-0.552,0-1-0.448-1-1V4c0-0.552,0.448-1,1-1h61 c0.553,0,1,0.448,1,1V6z"></path><path d="M55.14,37.386c-0.828,0-1.5,0.672-1.5,1.5c0,1.379-1.121,2.5-2.5,2.5s-2.5-1.121-2.5-2.5c0-0.828-0.672-1.5-1.5-1.5 c-0.829,0-1.5,0.672-1.5,1.5c0,3.032,2.468,5.5,5.5,5.5s5.5-2.468,5.5-5.5C56.64,38.058,55.968,37.386,55.14,37.386z"></path><path d="M21.921,23.039c3.199,0,5.802,2.604,5.802,5.804c0,4.854,3.951,8.805,8.808,8.805c4.854,0,8.803-3.95,8.803-8.805 c0-3.2,2.604-5.804,5.805-5.804c3.199,0,5.803,2.604,5.803,5.804c0,4.854,3.949,8.805,8.804,8.805s8.804-3.95,8.804-8.805 c0-3.2,2.604-5.804,5.804-5.804c0.828,0,1.5-0.671,1.5-1.5s-0.672-1.5-1.5-1.5c-3.038,0-5.721,1.547-7.304,3.894 c-1.583-2.347-4.266-3.894-7.304-3.894s-5.721,1.547-7.304,3.894c-1.583-2.347-4.266-3.894-7.303-3.894 c-3.038,0-5.722,1.547-7.305,3.894c-1.583-2.347-4.265-3.894-7.303-3.894c-3.039,0-5.724,1.547-7.307,3.895 c-1.583-2.348-4.265-3.895-7.303-3.895c-0.829,0-1.5,0.671-1.5,1.5S21.093,23.039,21.921,23.039z M65.745,23.039 c3.2,0,5.804,2.604,5.804,5.804c0,3.201-2.604,5.805-5.804,5.805s-5.804-2.604-5.804-5.805 C59.941,25.643,62.545,23.039,65.745,23.039z M36.531,23.039c3.2,0,5.803,2.604,5.803,5.804c0,3.201-2.603,5.805-5.803,5.805 c-3.202,0-5.808-2.604-5.808-5.805C30.724,25.643,33.329,23.039,36.531,23.039z"></path><path d="M21.921,30.343h2.937c0.829,0,1.5-0.672,1.5-1.5s-0.671-1.5-1.5-1.5h-2.937c-0.829,0-1.5,0.672-1.5,1.5 S21.093,30.343,21.921,30.343z"></path><path d="M80.353,27.343h-2.938c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h2.938c0.828,0,1.5-0.672,1.5-1.5 S81.181,27.343,80.353,27.343z"></path><path d="M78.476,31.036c-0.586-0.586-1.535-0.586-2.121,0s-0.586,1.535,0,2.121l1.492,1.492c0.293,0.293,0.677,0.439,1.061,0.439 s0.768-0.146,1.061-0.439c0.586-0.586,0.586-1.535,0-2.121L78.476,31.036z"></path><path d="M23.797,31.037l-1.49,1.492c-0.585,0.586-0.584,1.535,0.001,2.121c0.293,0.292,0.676,0.438,1.06,0.438 c0.384,0,0.769-0.146,1.062-0.44l1.49-1.492c0.585-0.586,0.584-1.535-0.001-2.121C25.333,30.45,24.383,30.449,23.797,31.037z"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=d(n(15)),s=d(n(29)),l=d(n(285)),u=d(n(286)),c=d(n(78));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.playerId=n.options.playerId,n.errorCount=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.UICorePlugin),r(e,[{key:"name",get:function(){return"error_screen"}},{key:"template",get:function(){return(0,o.template)(u.default)}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"posterImage",get:function(){return this.container&&(this.container.getPlugin("poster")||{}).posterImage}},{key:"attributes",get:function(){return{class:"player-error"}}}]),r(e,[{key:"bindEvents",value:function(){this.listenTo(this.core,o.Events.ERROR,this.onError),this.listenTo(this.core.mediaControl,o.Events.MEDIACONTROL_CONTAINERCHANGED,this.clearErrors)}},{key:"clearErrors",value:function(){this.error=null,this.errorCount=0,this.$el.hide()}},{key:"onError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=i({},t,{videoSessionId:s.default.getVideoSessionId(this.options.playerId)})).level===o.PlayerError.Levels.FATAL&&0===this.errorCount&&(this.errorCount+=1,this.error=t,this.showErrorScreen()),this.logError(t)}},{key:"showErrorScreen",value:function(){this.render(),this.$el.show()}},{key:"logError",value:function(t){switch(t.level){case o.PlayerError.Levels.INFO:o.Log.info("player_error","",t);break;case o.PlayerError.Levels.WARN:o.Log.warn("player_error","",t);break;case o.PlayerError.Levels.FATAL:default:o.Log.error("player_error","",t)}}},{key:"setPoster",value:function(){!(this.error.code===c.default.RESTRICTED_CONTENT.code)&&this.posterImage&&this.$el.css({"background-image":"url("+this.posterImage+")"})}},{key:"render",value:function(){if(this.error){this.error.internalError||Object.assign(this.error.UI,c.default.DEFAULT_ERROR.UI);var t=a.default.getStyleFrom(l.default,{playerId:this.playerId});return this.$el.html(this.template(i({},this.error.UI))),this.setPoster(),this.$el.append(t[0]),this.core.$el.append(this.el),this}}}]),e}();e.default=h,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .player-error{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#cccaca;position:absolute;top:0;height:100%;width:100%;background-color:rgba(0,0,0,.7);z-index:999;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.clappr-player#wp3-player-0 .player-error__background-overlay{width:100%;height:100%;background:rgba(0,0,0,.7);position:absolute;top:0}.clappr-player#wp3-player-0 .player-error__link,.clappr-player#wp3-player-0 .player-error__link:visited{color:#cccaca}.clappr-player#wp3-player-0 .player-error__content{position:relative;line-height:1.4}.clappr-player#wp3-player-0 .player-error__title{color:#cccaca;font-weight:700;font-size:18px}.clappr-player#wp3-player-0 .player-error__description{color:#cccaca;width:90%;margin:0 auto;font-size:14px}.clappr-player#wp3-player-0 .player-error__icon svg{width:30px;max-height:30px;fill:#fff}.clappr-player#wp3-player-0 .player-error__icon.unsupported-browser svg{width:40px}.clappr-player#wp3-player-0 .player-error--hide{display:none}",""])},function(t,e){t.exports='<div class="player-error__background-overlay"></div>\n<div class="player-error__content">\n  <span class="player-error__icon <%= className %>"><%= icon %></span>\n  <p class="player-error__title"><%= title %></p>\n  <p class="player-error__description"><%= message %></p>\n</div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"params",get:function(){for(var t=void 0,e=/\+/g,n=/([^&=]+)=?([^&]*)/g,i=function(t){return decodeURIComponent(t.replace(e," "))},r=window.location.search.substring(1),o={};t=n.exec(r);)o[i(t[1]).toLowerCase()]=i(t[2]);return o}}]),t}();e.default=r;e.toQueryString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=encodeURIComponent;return Object.keys(t).filter(function(e){return t[e]||""===t[e]}).map(function(n){return e(n)+"="+e(t[n])}).join("&")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(114)),o=s(n(75)),a=s(n(10));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"getProviderCookieName",value:function(t){return t?"WMPTOKEN_"+t:"GLBID"}},{key:"hasGlbId",value:function(){var t=a.default.getCookie("GLBID");return"string"==typeof t&&t.length>10}},{key:"hasTokenForProvider",value:function(t){if(!t)return this.hasGlbId();var e=this.getProviderCookieName(t);return!!e&&"string"==typeof a.default.getCookie(e)}},{key:"isExperimentEnabled",value:function(t,e){var n="experiment."+t,i=r.default.load(n,parseFloat);return i||(i=Math.random(),r.default.store(n,i)),i<=e}},{key:"uid",get:function(){var t=r.default.load("user.uid");return t||(t=o.default.generate(),r.default.store("user.uid",t)),t}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={hasPlayerElement:function(t){if(t&&t.childNodes.length>0){var e=Array.prototype.slice.call(t.childNodes).find(function(t){return"DIV"===t.tagName&&-1!==t.id.indexOf("wp3-player-")});return e&&!!document.getElementById(e.id)}return!1},hasChildElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t){var n="#"+(t.id||"function"==typeof t.attr&&t.attr("id"))+" "+e;return!!document.querySelectorAll(n).length}}},t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path fill="#FFF" fill-rule="nonzero" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=d(n(6)),s=d(n(5)),l=d(n(416)),u=d(n(323)),c=d(n(417));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.UICorePlugin),r(e,[{key:"shouldRender",value:function(){return this.options&&this.options.length>1}},{key:"clickOption",value:function(t){t.stopPropagation();var e=(0,s.default)(t.target).data("option-id"),n=parseInt(e);this.selectOption(isNaN(n)?e:n)}},{key:"selectOption",value:function(t){this.playbackUpdate(t),this.interfaceUpdate(t),this.trigger(a.default.WM_SETTINGS_OPTIONS_CHANGED)}},{key:"interfaceUpdate",value:function(t){this.availableOptions=this.options.map(function(e){return i({},e,{selected:e.id.toString()===t.toString()})}),this.$(".settings__options-menu li").find(".settings__options-active-icon").remove(),this.$(".settings__options-menu li").removeClass("settings__options-item--active");var e=(0,s.default)("<span>").addClass("settings__options-active-icon").append(c.default);this.$('li[data-option-id="'+t+'"]').addClass("settings__options-item--active").prepend(e)}},{key:"render",value:function(){return this.shouldRender()&&(this.$el.html(this.template({options:this.options||[],title:this.title,activeIcon:c.default,arrowIcon:u.default})),this.$el.addClass("settings__options-wrapper")),this}},{key:"template",get:function(){return(0,o.template)(l.default)}},{key:"options",get:function(){return this.availableOptions||[]}},{key:"selected",get:function(){var t=this.options.find(function(t){return t.selected})||this.options.length&&this.options[0];return t&&t.label}},{key:"events",get:function(){return{"click .settings__options-item":"clickOption"}}}]),e}();e.default=h,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=(e.PREFERRED_SUBTITLE="off",e.SUBTITLE_LANGUAGES={off:{label:"Desabilitado",language:"off",keys:[]},por:{label:"Portugus",language:"por",keys:["pt","por"]}});e.SUBTITLES_LIST=[i({id:0},r.off),i({id:1},r.por)]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=n(6),l=(i=s)&&i.__esModule?i:{default:i},u=n(122);var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.ready=!1,n.availableOptions=[],n.selectedAudio=null,n.currentAudioId=null,n.bindEvents(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.BaseObject),o(e,[{key:"initialAudioOption",get:function(){return this.core.options.defaultAudio}},{key:"playback",get:function(){return this.core.getCurrentPlayback().playback}},{key:"audioTracks",get:function(){return[]}}]),o(e,[{key:"bindEvents",value:function(){this.playback&&this.listenToOnce(this.playback,a.Events.PLAYBACK_PLAY,this.setup)}},{key:"onReady",value:function(){this.ready=!0,this.trigger(l.default.WM_AUDIOSELECTOR_READY)}},{key:"setup",value:function(){}},{key:"parseAudioTracks",value:function(){}},{key:"updateAudioPlayback",value:function(){}},{key:"getAudioInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if("string"==typeof t&&""!==t&&"audio"!==t)return r({language:t},u.AUDIO_LANGUAGES.eng,this.findAudioData(t)||{},{id:e})}},{key:"findAudioData",value:function(t){return u.AUDIOS_LIST.find(function(e){return e.language===t||e.keys.includes(t)})}},{key:"findAudioOption",value:function(t){return this.availableOptions.find(function(e){return e.language===t||e.keys.includes(t)})}},{key:"setInitialAudio",value:function(){if(this.availableOptions.length){var t=this.findAudioOption(this.initialAudioOption),e=this.findAudioOption(u.PREFERRED_AUDIO_LANGUAGE),n=t||e;this.audioSwitch(n.id,!0)}}},{key:"getSelectedOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(void 0!==t||void 0!==e)return this.availableOptions.find(function(n){return n.id.toString()===t.toString()||n.language.toString()===e.toString()||n.keys.includes(e)})}},{key:"audioSwitch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.currentAudioId!==t||e)&&(this.selectedAudio=this.getSelectedOption(t),this.selectedAudio&&(this.selectedAudio.selected=!0,this.currentAudioId=t,this.updateAudioPlayback(),!e&&this.trigger(l.default.WM_AUDIO_CHANGED,this.selectedAudio)))}},{key:"getCurrentOption",value:function(){return this.selectedAudio}}]),e}();e.default=c,t.exports=e.default},function(t,e,n){"use strict";(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(324),o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function a(t){return void 0===t}function s(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"[object String]"===Object.prototype.toString.call(t)}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(){if(!("fetch"in o))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function d(t,e){var n,i;if(a(t.length))for(n in t)p(t,n)&&e.call(null,n,t[n]);else if(i=t.length)for(n=0;n<i;n++)e.call(null,n,t[n])}function h(t,e){if("number"!=typeof e)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+""}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t){for(var e,n=[],i=0,r=t.length;i<r;i++)l(e=t[i])?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function y(t){var e,n,i,r,o,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),(e=t.className)&&l(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var s=["type","name","title","alt"];for(o=0;o<s.length;o++)i=s[o],(r=t.getAttribute(i))&&a.push("["+i+'="'+r+'"]');return a.join("")}function v(t,e){return!!(!!t^!!e)}function g(t,e){if(v(t,e))return!1;var n,i,r=t.frames,o=e.frames;if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(n=r[a],i=o[a],n.filename!==i.filename||n.lineno!==i.lineno||n.colno!==i.colno||n.function!==i.function)return!1;return!0}var m=3,b=51200,_=40;function A(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function E(t){if("string"==typeof t){return h(t,40)}if("number"==typeof t||"boolean"==typeof t||void 0===t)return t;var e=Object.prototype.toString.call(t);return"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":"[object Function]"===e?t.name?"[Function: "+t.name+"]":"[Function]":t}t.exports={isObject:function(t){return"object"===(void 0===t?"undefined":i(t))&&null!==t},isError:function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},isErrorEvent:function(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)},isDOMError:function(t){return"[object DOMError]"===Object.prototype.toString.call(t)},isDOMException:function(t){return"[object DOMException]"===Object.prototype.toString.call(t)},isUndefined:a,isFunction:function(t){return"function"==typeof t},isPlainObject:s,isString:l,isArray:u,isEmptyObject:function(t){if(!s(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(t){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(t){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(t){return!1}},supportsFetch:c,supportsReferrerPolicy:function(){if(!c())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(t){return function(e,n){var i=t(e)||e;return n&&n(i)||i}},each:d,objectMerge:function(t,e){return e?(d(e,function(e,n){t[e]=n}),t):t},truncate:h,objectFrozen:function(t){return!!Object.isFrozen&&Object.isFrozen(t)},hasKey:p,joinRegExp:f,urlencode:function(t){var e=[];return d(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")},uuid4:function(){var t=o.crypto||o.msCrypto;if(!a(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},htmlTreeAsString:function(t){for(var e,n=[],i=0,r=0,o=" > ".length;t&&i++<5&&!("html"===(e=y(t))||i>1&&r+n.length*o+e.length>=80);)n.push(e),r+=e.length,t=t.parentNode;return n.reverse().join(" > ")},htmlElementAsString:y,isSameException:function(t,e){return!v(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&(n=t.stacktrace,i=e.stacktrace,(!a(n)||!a(i))&&g(t.stacktrace,e.stacktrace)));var n,i},isSameStacktrace:g,parseUrl:function(t){if("string"!=typeof t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=e[6]||"",i=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+i}},fill:function(t,e,n,i){if(null!=t){var r=t[e];t[e]=n(r),t[e].__raven__=!0,t[e].__orig__=r,i&&i.push([t,e,r])}},safeJoin:function(t,e){if(!u(t))return"";for(var n=[],i=0;i<t.length;i++)try{n.push(String(t[i]))}catch(t){n.push("[value cannot be serialized]")}return n.join(e)},serializeException:function t(e,n,i){if(!s(e))return e;i="number"!=typeof(n="number"!=typeof n?m:n)?b:i;var o=function t(e,n){return 0===n?E(e):s(e)?Object.keys(e).reduce(function(i,r){return i[r]=t(e[r],n-1),i},{}):Array.isArray(e)?e.map(function(e){return t(e,n-1)}):E(e)}(e,n);return A(r(o))>i?t(e,n-1):o},serializeKeysForMessage:function(t,e){if("number"==typeof t||"string"==typeof t)return t.toString();if(!Array.isArray(t))return"";if(0===(t=t.filter(function(t){return"string"==typeof t})).length)return"[object has no keys]";if(e="number"!=typeof e?_:e,t[0].length>=e)return t[0];for(var n=t.length;n>0;n--){var i=t.slice(0,n).join(", ");if(!(i.length>e))return n===t.length?i:i+""}return""},sanitize:function(t,e){if(!u(e)||u(e)&&0===e.length)return t;var n,i=f(e),o="********";try{n=JSON.parse(r(t))}catch(e){return t}return function t(e){return u(e)?e.map(function(e){return t(e)}):s(e)?Object.keys(e).reduce(function(n,r){return i.test(r)?n[r]=o:n[r]=t(e[r]),n},{}):e}(n)}}}).call(this,n(53))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlaybackError=void 0;var i,r=n(44),o=(i=r)&&i.__esModule?i:{default:i};e.getPlaybackError=function(t,e,n){var i=n&&n.selectedResource,r=o.default.DEFAULT_ERROR;return 404===t.http_status_code?r=o.default.NOT_FOUND:403===t.http_status_code?("AUT"===t.code&&"function"==typeof e.onUnauthorized&&n&&e.onUnauthorized(Object.assign(t,{fromPlayer3:!0}),n.rawData),r=t.anonymous?o.default.AUTH_REQUIRED:o.default.SUBSCRIBERS_ONLY,"GB"===t.code?r=o.default.GEO_BLOCKED:"DEV"===t.code?r=o.default.DEVICE_NOT_AUTHORIZED:"LCK"===t.code&&(r=o.default.SIMULTANEOUS_ACCESS)):415===t.http_status_code||"DNS"===t.code?r=n.geofencing?o.default.GEOFENCING:o.default.DEVICE_NOT_SUPPORTED:400===t.http_status_code&&"SRF"===t.code?r=o.default.GEOFENCING:t.code===o.default.LOCATION_UNAVAILABLE.code?r=o.default.LOCATION_UNAVAILABLE:t.code===o.default.RESTRICTED_CONTENT.code?r=o.default.RESTRICTED_CONTENT:t.code===o.default.NOT_ALLOWED_DOMAIN.code?r=o.default.NOT_ALLOWED_DOMAIN:t.code===o.default.UNSUPPORTED_BROWSER.code?r=o.default.UNSUPPORTED_BROWSER:!n||i&&i.hashData?n||(r=o.default.PLAYLIST_LOAD_ERROR):r=o.default.HASH_LOAD_ERROR,r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(297),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=u(n(6)),a=n(10),s=n(115),l=u(n(5));function u(t){return t&&t.__esModule?t:{default:t}}var c=r.Log.getInstance(),d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setRequestData(),n.load().then(function(t){return n.playback.trigger(o.default.WM_VIDEO_METADATA_LOADED,t)},function(t){return n.playback.trigger(o.default.WM_VIDEO_METADATA_ERROR,t)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ContainerPlugin),i(e,[{key:"name",get:function(){return"video_metadata"}},{key:"callbackPrefix",get:function(){return"wmPlayerPlaylistLoaded"}},{key:"playback",get:function(){return this.container.playback}},{key:"metadataOptions",get:function(){return{selectedLevel:this.options.selectedLevel,preferredLevel:this.options.preferredLevel,preferredCDN:this.options.cdn,env:this.options.env,profile:this.options.maxQualityLevel,getPlayerType:this.options.overrides&&this.options.overrides.getPlayerType}}}]),i(e,[{key:"setRequestData",value:function(){var t=this.options.src,e=this.options.env;this.callback=this.callbackPrefix+this.options.playerId+t,this.url=e.playlistTemplate({videoId:t,callback:this.callback})}},{key:"load",value:function(){var t=this;return c.info(this.name,"loading playlist from:",this.url),a.Ajax.jsonp({callbackName:this.callback,url:this.url}).then(function(e){return t.parsePlaylist(e)})}},{key:"parsePlaylist",value:function(t){var e=new l.default.Deferred;if(this.isValidPlaylist(t)){var n=new s.Video(t.videos[0],this.metadataOptions);c.info(this.name,"video:",n),e.resolve(n)}else c.warn(this.name,"error on playlist: ",t),e.reject(t);return e}},{key:"isValidPlaylist",value:function(t){return!!t&&!!t.videos&&t.videos.length>0}}]),e}();e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(37),s=n(121),l=(i=s)&&i.__esModule?i:{default:i};var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.options=n,this.id=e._id,this.cdns=e.cdns,this.paths=e.paths,this.path=e.path,this.originalURL=e.url,this.encrypted=!!e.encrypted,this.contentProtection=e.content_protection||{},this.players=e.players,this.height=e.height,this.signal=e.signal,this.selectedCDN=null,this.selectedQueryStringTemplate=e.query_string_template,this.hash=null,this.token=null,this.rawData=e,this.videoUrlTemplate=(0,o.template)("<%= videoUrl %>?<%= queryString %>"),o.Browser.isSmartTvEnvironment&&(this.flatUrlTemplate=(0,o.template)("<%= origin %>/<%= hashParams %><%= path %>")))}return r(t,[{key:"cdn",get:function(){return this.options.preferredCDN||this.selectedCDN||a.DEFAULT_CDN}},{key:"cdnData",get:function(){return this.cdns&&this.cdns[this.cdn]||{}}},{key:"queryStringTemplate",get:function(){return this.cdnData&&this.cdnData.query_string_template||this.selectedQueryStringTemplate||a.DEFAULT_QUERY_STRING_TEMPLATE}},{key:"url",get:function(){var t=this.paths&&this.paths[this.options.profile]||this.path,e=this.cdnData&&this.cdnData.domain;return(e&&t?e+t:null)||this.originalURL}}]),r(t,[{key:"signedUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o.Browser.isSmartTvEnvironment)return this.flatUrl(t,e);var n=o.template.settings.interpolate;o.template.settings.interpolate=/\{\{(.+?)\}\}/g;var i=(0,o.template)(this.queryStringTemplate)({hash:this.hash&&l.default.signedHash(this.hash),token:this.token,key:"html5",openClosed:t?"F":"A",user:e.id||""});o.template.settings.interpolate=n;var r=this.url;return this.options.env&&this.options.env.httpOnly&&(r=r.replace("https://","http://")),this.videoUrlTemplate({videoUrl:r,queryString:i})}},{key:"flatUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.queryStringTemplate.replace(/[=&]+/g,"/"),i=o.template.settings.interpolate;o.template.settings.interpolate=/\{\{(.+?)\}\}/g;var r=(0,o.template)(n)({hash:this.hash&&l.default.signedHash(this.hash),key:"html5",openClosed:t?"F":"A",user:e.id||""});o.template.settings.interpolate=i;var a=this.url.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/),s={origin:a[1]+"//"+a[2],pathname:a[5]};return this.flatUrlTemplate({origin:s.origin,path:s.pathname,hashParams:r}).replace(/\/\w+\/\//,"/")}}]),t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(37);var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.options=n,this.cdns=e.cdns,this.path=e.path,this.selectedCDN=null,this.originalURL=e.url)}return i(t,[{key:"cdn",get:function(){return this.options.preferredCDN||this.selectedCDN||r.DEFAULT_CDN}},{key:"cdnData",get:function(){return this.cdns&&this.cdns[this.cdn]||{}}},{key:"url",get:function(){var t=this.cdnData&&this.cdnData.domain;return(t&&this.path?t+this.path:null)||this.originalURL}}]),t}();e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.transmission_id,this.type=e.type,this.affiliate=e.affiliate,this.broadcastInterrupted=e.broadcast_interrupted,this.name=e.name,this.signal=e.signal,this.expireTime=e.tvExpireTime},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.user,this.product=e.product},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(303),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=c(n(6)),a=c(n(44)),s=c(n(304)),l=c(n(305)),u=c(n(5));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.security=new l.default(n.options,t),n.loader=new s.default(n.options,n.security),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ContainerPlugin),i(e,[{key:"name",get:function(){return"resource"}},{key:"playback",get:function(){return this.container.playback}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.playback,o.default.WM_VIDEO_METADATA_LOADED,this.onMetadataLoaded),this.listenTo(this.playback,o.default.WM_PLAY_REQUESTED_READY,this.loadResource),this.listenTo(this.playback,r.Events.PLAYBACK_PAUSE,this.startTimer),this.listenTo(this.playback,r.Events.PLAYBACK_PLAY,this.stopTimer),this.listenTo(this.playback,r.Events.PLAYBACK_SEEKED,this.onSeeked)}},{key:"onMetadataLoaded",value:function(t){this.video=t,this.onResourceSelected()}},{key:"loadResource",value:function(){var t=this;this.loader.loadResource(this.video).then(function(e,n){return t.onResourceReady(e,n)},function(e){return t.playback.trigger(o.default.WM_RESOURCE_ERROR,e)})}},{key:"onResourceReady",value:function(t,e){this.video=t,this.user=e,this.video.geofencing&&this.onResourceSelected(),this.isResourceValid()&&this.playback.trigger(o.default.WM_RESOURCE_READY,this.video,this.user)}},{key:"onResourceSelected",value:function(){this.video.selectedResource&&(this.resource=this.video.selectedResource,this.playback.trigger(o.default.WM_RESOURCE_SELECTED,this.video,this.resource))}},{key:"isResourceValid",value:function(){return!Array.isArray(this.resource)||(this.trigger(r.Events.PLAYBACK_ERROR,a.default.PLAYLIST_LOAD_ERROR),!1)}},{key:"startTimer",value:function(){var t=this;this.video.isLive||r.Browser.isSmartTvEnvironment||(this.stopTimer(),this.expirationTimeout=setTimeout(function(){t.playback.trigger(o.default.WM_HASH_EXPIRED,t.reloadHash.bind(t))},3e5))}},{key:"stopTimer",value:function(){clearTimeout(this.expirationTimeout)}},{key:"onSeeked",value:function(){!this.playback.isPlaying()&&this.startTimer()}},{key:"reloadHash",value:function(){var t=new u.default.Deferred;return this.security.loadHash(this.video).then(function(e,n){var i=e.selectedResource.signedUrl(e.isSubscriberOnly,n);fetch(i,{credentials:"include"}).then(function(e){e.ok?t.resolve():t.reject()}).catch(function(){return t.reject()})},function(){return t.reject()}),t.promise()}}]),e}();e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(5),s=(i=a)&&i.__esModule?i:{default:i};var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.security=n}return r(t,[{key:"configure",value:function(t){this.options=s.default.extend(this.options,t)}},{key:"loadResource",value:function(t){var e=this;return this.getCDN(t).then(function(n){return e.onCDNLoaded(n,t)},function(){return e.onCDNLoaded({},t)})}},{key:"getCDN",value:function(t){if(o.Browser.isSmartTvEnvironment){var e=new s.default.Deferred;return e.resolve(),e}var n=this.appendQueryStrings(this.options.env.CDNRouterHost,t);return s.default.ajax({url:n})}},{key:"appendQueryStrings",value:function(t,e){return t+"?video_id="+e.id+"&video_type="+e.type}},{key:"onCDNLoaded",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=t.cdn;return e.setCDN(n),this.security.loadHash(e)}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=p(n(6)),s=n(10),l=p(n(29)),u=p(n(55)),c=p(n(5)),d=n(116),h=n(37);function p(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.container=n}return r(t,[{key:"configure",value:function(t){this.options=c.default.extend(this.options,t)}},{key:"loadHash",value:function(t){switch(t.type){case"VideoCollection":case"FullEpisode":case"Gallery":case"Live":if(t.geofencing&&!o.Browser.supportsFakeLocation)return this.checkAuthorized(t);case"Video":if(!t.geofencing)return this.checkAuthorized(t)}var e=new c.default.Deferred;return e.reject(h.INVALID_VIDEO_ERROR),e}},{key:"checkAuthorized",value:function(t){var e=this;if(!t){var n=new c.default.Deferred;return n.reject(h.INVALID_VIDEO_ERROR),n}var r=null===this.options.token||this.options.token,a=s.User.hasTokenForProvider(t.providerId),l=!r&&(a||!u.default.isGloboDomain);if(!t.isSubscriberOnly||l)return this.performHashRequest(t).then(function(n){return e.parseHashData(t,n)});if(this.options.token)return o.Browser.isSmartTvEnvironment?this.performHashRequest(t,{method:"POST"}).then(function(n){return e.parseHashData(t,n)}):this.setAuthenticationToken(t).then(function(){return e.performHashRequest(t).then(function(n){return e.parseHashData(t,n)})});var d=new c.default.Deferred;return d.reject(i({},h.AUTHORIZATION_ERROR,{anonymous:!0})),d.promise()}},{key:"setAuthenticationToken",value:function(t){var e="setAuthenticationToken_"+(0,s.getCurrentTime)(),n="/providers/"+s.User.getProviderCookieName(t.providerId)+"/tokens/"+this.options.token+"/session?callback="+e+"&expires="+(0,s.getExpiresDateInGMT)(7),i=""+this.options.env.securityHost+n;return s.Ajax.jsonp({url:i,callbackName:e})}},{key:"performHashRequest",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).method,n=void 0===e?h.DEFAULT_HASH_REQUEST_METHOD:e,i=t.geofencing,r=i&&this.options.allowLocation;return!t.selectedResource&&r?this.getLocation(t):(i&&t.resources.length>0&&t.selectResource(!0),n===h.DEFAULT_HASH_REQUEST_METHOD?this.performHashGet(t):this.performHashPost(t))}},{key:"getHashUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,this.options.env.hashTemplate)({videoId:t.id,resourceId:t.selectedResource&&t.selectedResource.id||"",callback:e.callbackName,player:t.playerType,tz:encodeURIComponent((0,s.iso8601TimezoneOffset)()),cdn:t.cdn,profile:this.options.maxQualityLevel})}},{key:"performHashGet",value:function(t){var e="getHash_"+(new Date).getTime(),n=this.getHashUrl(t,{callbackName:e});return s.Ajax.jsonp({callbackName:e,url:n})}},{key:"performHashPost",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};e.latitude&&(n.lat=e.latitude),e.longitude&&(n.long=e.longitude),this.options.token&&(n.token=this.options.token),o.Browser.isSmartTvEnvironment&&l.default.getLockId()&&(n.lock_session=l.default.getLockId());var i=!this.options.token;return c.default.ajax({type:"POST",data:n,xhrFields:{withCredentials:i},url:this.getHashUrl(t)})}},{key:"getLocation",value:function(t){var e=this;return u.default.isGloboiDomain&&this.options.lat&&this.options.long?this.performHashPost(t,{latitude:this.options.lat,longitude:this.options.long}):s.Location.getLocation().then(function(n){var i={latitude:n.coords.latitude,longitude:n.coords.longitude};return e.container.trigger(a.default.WM_LOCATION_AVAILABLE,i),e.performHashPost(t,i)},function(n){if(t.resources.length>0)return t.selectResource(!0),e.performHashRequest(t);var i=new c.default.Deferred;return i.reject(n),i})}},{key:"isValidSecurityData",value:function(t){var e=t&&t.hash,n=t&&t.token;return e||n}},{key:"parseHashData",value:function(t,e){var n=c.default.Deferred();if(this.isValidSecurityData(e)){l.default.storeLockId(e.hash),t.setHashData(e);var i=new d.UserInfo(e);n.resolve(t,i)}else n.reject(e);return n}}]),t}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(6),s=(i=a)&&i.__esModule?i:{default:i};var l=/^https?:\/\/([a-z0-9\.\-]*)\.globoi?\.com/,u=/^https?:\/\/[w]*\.?(techtudo)\.com\.br/,c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.siteName=n.options.siteName,n.listenToOnce(n.container.playback,s.default.WM_RESOURCE_READY,n.onResourceReady),n.embedPlugin(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ContainerPlugin),r(e,[{key:"name",get:function(){return"comscore"}}]),r(e,[{key:"embedPlugin",value:function(){var t=this;if(!window.COMSCORE){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src=this.options.env.scorecardBeacon,e.onload=function(){return t.ready()},document.head.appendChild(e)}}},{key:"ready",value:function(){this.isReady=!0,this.trigger("comscore:ready")}},{key:"onResourceReady",value:function(t){var e=this;window.COMSCORE?(this.video=t,this.listenToOnce(this.container,o.Events.CONTAINER_PLAY,this.onPlay),this.listenToOnce(this.container,o.Events.CONTAINER_STOP,this.onStop),this.listenToOnce(this.container,o.Events.CONTAINER_ENDED,this.onStop)):this.listenToOnce(this,"comscore:ready",function(){return e.onResourceReady(t)})}},{key:"onPlay",value:function(){var t={c1:1,c2:6035227,c3:this.getSiteName(),c4:this.video.channel,c5:this.getVideoType(),c10:"1|1",rn:Math.random()};window.location.host.match(/globotv\.globo\.com$/)&&(t.c6="Globotv - "+this.video.channel),COMSCORE.beacon(t)}},{key:"onStop",value:function(){this.stopListening(),this.listenToOnce(this.container.playback,s.default.WM_RESOURCE_READY,this.onResourceReady)}},{key:"getSiteName",value:function(){return this.siteName?this.siteName:this.getSubdomain(window.location.href)}},{key:"getSubdomain",value:function(t){if(t){var e=t.match(l)||t.match(u);return e?e[1]:null}return null}},{key:"getVideoType",value:function(){return{ad:"09",live:"03"}[this.video.kind]||"02"}}]),e}();e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(308),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=h(n(6)),s=n(10),l=h(n(309)),u=h(n(55)),c=n(115),d=h(n(29));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.initValues(),n.video={},n.setVideoSessionID(),n.browser=""+o.Browser.name+o.Browser.version,n.playerId=u.default.playerId,n.horizonHost=n.options.env.horizonHost,n.url=n.horizonHost+"/auth-session/activity/webmedia/watch",n.domain=window.location.hostname.replace("www.","").split(".")[0],n.experiments=(0,s.getExperimentsList)(n.options),n.youboraTimemark=new l.default,n.externalData={},n.onDFPInit(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ContainerPlugin),r(e,[{key:"shouldIgnoreVolumeUpdate",value:function(t,e){var n=!this.isReady&&!this.container.playback.isPlaying();return null===t||n||!e}},{key:"setYouboraParams",value:function(t){var e=this.externalData&&this.externalData.youboraMetrics||{};Object.keys(e).forEach(function(n){t[n]=e[n]})}},{key:"setVideoSessionID",value:function(){this.params.video_session_id=d.default.getVideoSessionId(this.options.playerId)}},{key:"setDeviceInfo",value:function(){var t=this;Object.keys(this.options.deviceInfo).forEach(function(e){t.params["device_"+e]=t.options.deviceInfo[e]})}},{key:"getPercentage",value:function(t){return 0===t?t:t/this.session.duration*100}},{key:"initValues",value:function(){this.params={},this.dfpInit=0,this.bufftime=0,this.playRequestTime=0,this.isBuffering=!1,this.hasStartedClip=!1,this.isPlaying=!1}},{key:"name",get:function(){return"horizon"}},{key:"isAd",get:function(){return"ad"===this.container.getPlaybackType()}},{key:"isLive",get:function(){return"live"===this.container.getPlaybackType()}},{key:"isAdsDisabled",get:function(){return this.options.skipDFP||!1}},{key:"currentTime",get:function(){return this.currentTimeValue},set:function(t){this.currentTimeValue=t}},{key:"isEncrypted",get:function(){var t=this.video&&this.video.encrypted;return void 0!==t?t:"unknown"}},{key:"playbackName",get:function(){var t=this.container,e=t&&t.playback;return e?("function"==typeof e.getInnerPlaybackName?e.getInnerPlaybackName():"")||e.name:null}},{key:"bufferingTime",get:function(){this.isBuffering&&(this.bufftime+=o.Utils.now()-this.buffstarttime,this.buffstarttime=o.Utils.now());var t=this.bufftime;return this.bufftime=0,Math.trunc(t)}}]),r(e,[{key:"bindEvents",value:function(){this.listenToOnce(this.container,o.Events.CONTAINER_PLAY,this.onFirstPlaying),this.listenToOnce(this.container.playback,a.default.WM_PLAY_REQUESTED_READY,this.onPlayRequested),this.listenToOnce(this.container.playback,a.default.WM_WROOM_AUTHORIZED,this.onWRAuthorized),this.listenToOnce(this.container.playback,a.default.WM_WROOM_WAITING,this.onWRWaiting),this.listenTo(this.container,o.Events.CONTAINER_PLAY,this.play),this.listenTo(this.container,o.Events.CONTAINER_PAUSE,this.pause),this.listenTo(this.container,o.Events.CONTAINER_SEEK,this.seek),this.listenTo(this.container,o.Events.CONTAINER_TIMEUPDATE,this.timeUpdate),this.listenTo(this.container,o.Events.CONTAINER_ENDED,this.end),this.listenTo(this.container,o.Events.CONTAINER_DESTROYED,this.end),this.listenTo(this.container,o.Events.CONTAINER_STOP,this.end),this.listenTo(this.container,o.Events.CONTAINER_STATS_REPORT,this.onOldStatsReport),this.listenTo(this.container,o.Events.CONTAINER_ERROR,this.onError),this.listenTo(this.container,a.default.WM_STATS_REPORTED,this.onStatsReport),this.listenTo(this.container,a.default.WM_MUTED,this.onVolumeMuted),this.listenTo(this.container,a.default.WM_UNMUTED,this.onVolumeUnmuted),this.listenTo(this.container,a.default.WM_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(this.container,a.default.WM_LOCATION_AVAILABLE,this.onLocationAvailable),this.listenTo(this.container,a.default.DFP_AD_ERROR,this.onAdError),this.listenTo(this.container,a.default.DFP_AD_NOTSERVED,this.onAdNotServed),this.listenTo(this.container,a.default.WM_BITRATE_CAP,this.onBitrateCap),this.listenTo(this.container.playback,a.default.WM_STREAMING_DATA_LOADED,this.onStreamingDataLoaded),this.listenTo(this.container.playback,a.default.WM_WROOM_AUTHORIZED,this.onWaitingRoomAuthorized),this.listenTo(this.container.playback,a.default.WM_VIDEO_METADATA_LOADED,this.onMetadataLoaded),this.listenTo(this.container.playback,a.default.WM_RESOURCE_READY,this.startSession),this.listenTo(o.Mediator,this.container.options.playerId+":"+a.default.YOUBORA_TIMEMARK,this.onYouboraTimemark)}},{key:"onPlayRequested",value:function(){this.playRequestTime=o.Utils.now(),this.isReady=!0}},{key:"onWRAuthorized",value:function(){this.params.wroom=0,this.ping()}},{key:"onWRWaiting",value:function(){this.params.wroom=1,this.ping()}},{key:"onMetadataLoaded",value:function(t){t&&(this.video=t,this.params.playback_id=t.id,this.params.subscriber_only=t.isSubscriberOnly,this.params.title=t.title,this.params.program=t.program,this.params.channel=t.channel,this.params.kind=t.kind)}},{key:"onStreamingDataLoaded",value:function(t){var e=t.pop,n=t.host;this.params.host=n,this.params.pop=e}},{key:"onWaitingRoomAuthorized",value:function(t){var e=t.iid;this.params.iid=e}},{key:"onBitrateCap",value:function(t){this.params.cap_bitrate=t}},{key:"onDFPInit",value:function(){this.dfpInit=o.Utils.now()}},{key:"onAdNotServed",value:function(){this.params.dfp_status="not served"}},{key:"onAdError",value:function(){this.params.dfp_status="error"}},{key:"onOldStatsReport",value:function(t){this.isLive&&(this.params.dvr=t.dvr?1:0)}},{key:"onStatsReport",value:function(t){t.extra.bitratesHistory.length>0&&(this.params.nominal_bitrate=t.extra.bitratesHistory[t.extra.bitratesHistory.length-1].bitrate),this.params.avg_bitrate=Math.trunc(t.extra.bitrateWeightedMean),this.params.session_time=Math.trunc(t.timers.session),this.params.watch_time=Math.trunc(t.timers.watch)}},{key:"onFirstPlaying",value:function(){if(this.listenToOnce(this.container,o.Events.CONTAINER_STATE_BUFFERING,this.buffering),this.isAd&&!this.dfp_startup_time)return this.params.dfp_status="delivered",void(this.params.dfp_startup_time=Math.trunc(o.Utils.now()-this.dfpInit));this.params.startup_time=Math.trunc(o.Utils.now()-this.playRequestTime)}},{key:"onVolumeMuted",value:function(t,e){this.shouldIgnoreVolumeUpdate(t,e)||this.hasStartedClip&&this.notify((0,s.secondsToMillis)(this.currentTime),{mute_status:!0})}},{key:"onVolumeUnmuted",value:function(t,e){this.shouldIgnoreVolumeUpdate(t,e)||this.hasStartedClip&&this.notify((0,s.secondsToMillis)(this.currentTime),{mute_status:!1})}},{key:"onSubtitleChanged",value:function(t){this.hasStartedClip&&this.notify((0,s.secondsToMillis)(this.currentTime),{subtitle_status:"none"===t.language?"disabled":"enabled",subtitle_language:t.language})}},{key:"onLocationAvailable",value:function(t){this.params.lat=t.latitude,this.params.long=t.longitude}},{key:"onYouboraTimemark",value:function(t){this.youboraTimemark.onTimemark(t,this.externalData)}},{key:"play",value:function(){var t=this;this.isAd||(this.notifyPlayOrSeek((0,s.secondsToMillis)(this.currentTime)),this.isPlaying||(this.breakTimerId=setInterval(function(){t.isPlaying=!0,t.notifyRelevantPoint((0,s.secondsToMillis)(t.currentTime))},15e3),this.ping()),this.doingSeek=!1,this.paused=!1)}},{key:"pause",value:function(){var t=this;this.pauseTimerId=setTimeout(function(){t.notifyAction((0,s.secondsToMillis)(t.currentTime),"pause")},100)}},{key:"seek",value:function(t){this.pauseTimerId&&(clearTimeout(this.pauseTimerId),this.pauseTimerId=null),this.doingSeek=!0}},{key:"timeUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.currentTime=t.current}},{key:"onBufferStart",value:function(){this.isBuffering=!0,this.buffstarttime=o.Utils.now()}},{key:"onBufferEnd",value:function(){this.isBuffering=!1,this.bufftime+=o.Utils.now()-this.buffstarttime}},{key:"buffering",value:function(){this.onBufferStart(),this.listenToOnce(this.container,o.Events.CONTAINER_STATE_BUFFERFULL,this.bufferfull)}},{key:"bufferfull",value:function(){this.onBufferEnd(),this.listenToOnce(this.container,o.Events.CONTAINER_STATE_BUFFERING,this.buffering)}},{key:"end",value:function(){this.notifyAction((0,s.secondsToMillis)(this.currentTime),"stop"),this.cancelBreakTimer(),this.cancelPing(),this.initValues()}},{key:"clear",value:function(){this.params.dfp_startup_time=null,this.params.dfp_status=null}},{key:"cancelBreakTimer",value:function(){clearInterval(this.breakTimerId),clearInterval(this.playOrSeekTimerId),this.breakTimerId=null,this.isPlaying=!1}},{key:"cancelPing",value:function(){this.isLive&&(clearInterval(this.pingTimerId),this.pingTimerId=null)}},{key:"startSession",value:function(){var t=(new Date).getTime().toString();this.lastNotifiedPoint=-1,this.totalActions=0,this.isLive&&(this.params.signal=this.video.selectedResource.signal,this.params.started_at=t),this.video.providerId&&(this.params.gst=(0,s.getCookie)("GST")),this.experiments.length>0&&this.experiments[0]&&(this.params.experiment_1=this.experiments[0]),this.experiments.length>1&&this.experiments[0]&&(this.params.experiment_2=this.experiments[1]),this.video.duration&&(this.session={duration:this.video.duration,started_at:t,play:0,seek:0,pause:0,stop:0,mute:0,unmute:0,subtitle_enable:0,subtitle_disable:0},this.doingSeek=!1,this.hasStartedClip=!0)}},{key:"notifyRelevantPoint",value:function(t){if(this.hasStartedClip){var e=this.getPercentage(t),n=5*Math.floor(e/5);n>this.lastNotifiedPoint?(this.notify(t),this.lastNotifiedPoint=n):this.verbose&&o.Log.info(this.name,"do not notify: "+n+" !> "+this.lastNotifiedPoint)}}},{key:"notifyPlayOrSeek",value:function(t){var e=this,n=this.doingSeek;this.playOrSeekTimerId=setTimeout(function(){n?e.notifyAction(t,"seek"):e.notifyAction(t,"play")},100)}},{key:"notifyAction",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.hasStartedClip){var i=++this.session[e];n[e+"_total"]=i,n[e+"_id_"+i]=t,this.notify(t,n)}}},{key:"notify",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.hasStartedClip){this.setCommonParams();var n,r,o,a=++this.totalActions,l=i({},e,this.params,(n={duration:this.session.duration,started_at:this.session.started_at,last_at:(new Date).getTime().toString(),btime:this.bufferingTime},o=t,(r="time_"+a)in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n));1===a&&this.setYouboraParams(l),this.sendRequest(this.url+"?"+(0,s.toQueryString)(l)),this.clear()}}},{key:"onError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.isLive?"watchlive":"watch";this.url=this.horizonHost+"/auth-session/activity/webmedia/"+e,this.params.started_at=(new Date).getTime().toString(),this.params.error=t.code||"unknown",this.params.errorDescription=t.description||"unknown",this.setCommonParams(),this.sendRequest(this.url+"?"+(0,s.toQueryString)(this.params))}},{key:"ping",value:function(){var t=this;this.isLive&&(this.url=this.horizonHost+"/auth-session/activity/webmedia/watchlive",this.params.dvr=this.params.dvr||0,this.setCommonParams(),this.pingTimerId||(this.sendPing(),this.pingTimerId=setInterval(function(){t.sendPing()},6e4)))}},{key:"sendPing",value:function(){this.params.btime=this.bufferingTime,this.params.n=++this.totalActions;var t=Object.assign({},this.params);1===this.totalActions&&this.setYouboraParams(t),this.sendRequest(this.url+"?"+(0,s.toQueryString)(t))}},{key:"sendRequest",value:function(t){(new Image).src=t}},{key:"setCommonParams",value:function(){var t=this.video&&this.video.id||this.options.sources;this.setVideoSessionID(),this.options.deviceInfo&&this.setDeviceInfo(),this.params.player_id=this.playerId,this.params.browser=this.browser,this.params.object="video:"+t,this.params.playback_id=this.params.playback_id||t,this.params.playback=this.playbackName,this.params.player_type=c.Video.getPlayerType(),this.params.platform=(0,s.getPlatformName)(c.Video.getPlayerType()),this.params.ads_disabled=this.isAdsDisabled,this.params.encrypted=this.isEncrypted,this.params.url=document.location.href,this.params.domain=this.domain,this.params.cdn=this.video.cdn,this.params.player_version="5.6.6",this.params.api_version=s.API_VERSION}}]),e}();e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.youboraTimersStopped=!1,this.metrics={},this.youboraTimers={},this.initYouboraTimers()}return i(t,[{key:"YOUBORA_SERVICES",get:function(){return["init","adInit","adStart","adJoinTime","adStop","joinTime"]}}]),i(t,[{key:"initYouboraTimers",value:function(){var t=this;this.YOUBORA_SERVICES.forEach(function(e){return t.youboraTimers[e]=0})}},{key:"delta",value:function(t,e){var n=this.youboraTimers[t]-this.youboraTimers[e];return n>0?n:0}},{key:"onTimemark",value:function(t){var e=t.time,n=t.service,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="init"!==n&&this.youboraTimersStopped;-1===this.YOUBORA_SERVICES.indexOf(n)||r||(this.youboraTimers[n]=e,this.setAdMetrics(),this.setDFPMetrics(),this.setContentMetrics(),this.willSendParams(n)&&(this.setParams(i),this.initYouboraTimers()))}},{key:"setAdMetrics",value:function(){this.metrics.adInitTime=this.delta("adInit","init"),this.metrics.adStartTime=this.delta("adStart","adInit"),this.metrics.adJoinTime=this.delta("adJoinTime","adStart")}},{key:"setDFPMetrics",value:function(){this.metrics.dfpSetupTime=this.metrics.adStartTime+this.metrics.adJoinTime,this.metrics.dfpRunTime=this.delta("adStop","adInit"),this.metrics.dfpTime=this.metrics.dfpSetupTime?this.metrics.dfpSetupTime:this.metrics.dfpRunTime;var t=this.youboraTimers.adStop&&this.youboraTimers.adJoinTime;this.metrics.dfpWatchedTime=t?this.youboraTimers.adStop-this.youboraTimers.adJoinTime:0}},{key:"setContentMetrics",value:function(){this.metrics.contentStartTime=this.youboraTimers.adStop?this.delta("joinTime","adStop"):0,this.metrics.joinTime=this.delta("joinTime","init")-this.metrics.dfpWatchedTime}},{key:"willSendParams",value:function(t){var e="joinTime"===t;return this.youboraTimersStopped=e,e}},{key:"setParams",value:function(t){t.youboraMetrics=this.metrics}}]),t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(311),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=n(6),l=(i=s)&&i.__esModule?i:{default:i},u=n(10),c=n(312);var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.videoUA="prod"===n.options.env.name?"UA-296593-59":"UA-296593-62",n.productUA=n.options.ga&&n.options.ga.productUA||n.options.gaProductua,n.gaClientId=n.options.ga&&n.options.ga.productClientId,n.gaExtras=n.options.ga&&n.options.ga.extras||{},n.isPaused=!1,n.seekCounter=0,n.checkpoint=0,n.trackedPlayTime=0,n.loadTimer=0,n.sentBuckets={},(0,u.registerGlobal)("ga"),window.ga?(n.getGAClientId(),n.setupAnalytics()):(0,u.embedScript)("https://www.google-analytics.com/analytics.js").then(function(){n.getGAClientId(),n.setupAnalytics()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.ContainerPlugin),o(e,[{key:"name",get:function(){return"google_analytics"}},{key:"playback",get:function(){return this.container.playback}},{key:"isLive",get:function(){return"live"===this.container.getPlaybackType()}},{key:"schemaVersion",get:function(){return"2.0"}},{key:"oneDayInMiliseconds",get:function(){return 864e5}}]),o(e,[{key:"getGAClientId",value:function(){if(!this.gaClientId)if(window.GoogleAnalyticsObject&&window[window.GoogleAnalyticsObject]&&window[window.GoogleAnalyticsObject].getAll){var t=window[window.GoogleAnalyticsObject].getAll(),e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.get("trackingId")===this.productUA&&(this.gaClientId=s.get("clientId"),a.Log.info(this.name,"Getting GA product client id via GoogleAnalyticsObject"))}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}else{var l=u.LocalStorage.loadRaw("wm.player._videoGa");if(!l){var c=new Date;c.setFullYear(c.getFullYear()+2),u.LocalStorage.store("_videoGa",u.User.uid,c)}this.gaClientId=l,a.Log.info(this.name,"Player has not found a valid client id. It`s been generated by the player.")}}},{key:"setupAnalytics",value:function(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,this.createGATrackers()}},{key:"createGATrackers",value:function(){var t=this.mountGAInitialParameters();ga("create",this.videoUA,"auto","playerTracker",t),ga("playerTracker.set","location",window.location.href),this.productUA&&(ga("create",this.productUA,"auto","productTracker",t),ga("productTracker.set","location",window.location.href))}},{key:"mountGAInitialParameters",value:function(){var t={};return this.gaExtras&&this.gaExtras.uid&&(t.userId=this.gaExtras.uid),this.productUA&&(t.clientId=this.gaClientId),t}},{key:"bindEvents",value:function(){var t=this;this.listenTo(this.container,l.default.DFP_CONTENT_RESUME,function(){t.DFPError="false"}),this.listenTo(this.container,l.default.DFP_AD_ERROR,function(){t.DFPError="true"}),this.listenTo(this.playback,l.default.WM_VIDEO_METADATA_LOADED,this.onMetadataLoaded),this.listenTo(this.playback,l.default.WM_RESOURCE_READY,this.onResourceReady),this.listenTo(this.playback,a.Events.PLAYBACK_PLAY,this.onPlay),this.listenTo(this.playback,a.Events.PLAYBACK_PAUSE,this.onPause),this.listenTo(this.container,a.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,a.Events.CONTAINER_SEEK,this.onSeek),this.listenTo(this.container,l.default.WM_SETTINGS_LEVEL_SELECTED,this.onQualitySelected),this.listenTo(this.playback,a.Events.PLAYBACK_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.playback,a.Events.PLAYBACK_STOP,this.onEnd),this.listenTo(this.playback,a.Events.PLAYBACK_ENDED,function(){t.onEnd("complete")}),this.listenTo(this.container,a.Events.CONTAINER_DESTROYED,this.onEnd),this.listenTo(this.container,l.default.WM_STATS_REPORTED,function(e){t.watchedTime=e.timers.watch}),this.bindCustomEvents()}},{key:"bindCustomEvents",value:function(){var t=this,e="object"===r(window.onbeforeunload)?"beforeunload":"unload";window.addEventListener(e,function(){return t.onEnd()})}},{key:"onMetadataLoaded",value:function(t){this.video=t,this.defineBuckets(this.video.duration),this.setVideoLayer(),this.layer.schema_version=this.schemaVersion,this.layer.gaAccounts=[this.videoUA],this.productUA&&this.layer.gaAccounts.push(this.productUA)}},{key:"onResourceReady",value:function(t,e){e&&e.product&&(this.layer.pisp=e.product),this.video.geofencing&&t.transmission&&t.transmission.affiliate&&(this.layer.affiliate_code=t.transmission.affiliate.code)}},{key:"setVideoLayer",value:function(){var t={excerpt:"short",segment:"short",episode:"full"}[this.video.kind]||this.video.kind,e=this.options.resumeAt||(0,u.seekStringToSeconds)(),n=this.container.options.domain;this.layer={arc:this.video.isArchived?"acervo":"grade",signal:this.video.isSubscriberOnly?"fechado":"aberto",id:""+this.video.id,channel:this.video.channel,program:this.video.program,episode:this.video.title,domain:n||document.location.hostname,type:t,kind:(0,u.toLowerCase)(this.video.category),length_range:(0,u.toDurationString)(this.video.duration),channel_id:this.video.channelId,program_id:this.video.programId,keep_watching:e>0?"true":"false",exb_date:this.video.exhibitedAt,creation_date:this.video.createdAt,length:Math.trunc(this.video.duration/1e3),auto_play:this.options.autoPlay+"",player_version:"5.6.6",start:0,service_id:this.video.serviceId,ambient:"web",platform:a.Browser.isMobile?"mobile":"desktop"},this.video.providerId&&this.video.isSubscriberOnly&&(this.layer.gsat_op=(0,u.toLowerCase)(this.options.payTvServiceProvider))}},{key:"onQualitySelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var e=t.find(function(t){return t.selected})||t[0];this.levelSelected=e&&e.name}}},{key:"onPlay",value:function(){this.isFirstPlay()||(this.isPaused?(this.initialTrackedPlayTime=(0,u.now)(),this.track("play"),this.isPaused=!1):this.isPaused=!1)}},{key:"isFirstPlay",value:function(){return 0===this.layer.start&&(this.layer.start=1,this.initialTrackedPlayTime=(0,u.now)(),this.track("start"),!0)}},{key:"calculatePlayTime",value:function(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])){var t=(0,u.now)(),e=(t-this.initialTrackedPlayTime)/1e3;this.trackedPlayTime=e-this.loadTimer,this.shouldSendToSentry()&&(this.sendToSentry({type:"GA ERROR: Not possible to calculate trackedPlayTime",description:"initialTrackedPlayTime = "+this.initialTrackedPlayTime+" / finalTrackedPlayTime = "+t}),this.trackedPlayTime=null),this.initialTrackedPlayTime=0}}},{key:"milestone",value:function(t){!this.isPaused&&0!==t&&this.checkpoint!==t&&t%60<1&&(this.calculatePlayTime(),1===this.layer.start&&this.track("milestone"),this.initialTrackedPlayTime=(0,u.now)()),this.checkpoint=t}},{key:"onPause",value:function(){this.calculatePlayTime(),this.track("pause"),this.isPaused=!0}},{key:"onBuffering",value:function(){this.listenToOnce(this.container,a.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferFull),this.onBufferStart()}},{key:"onBufferStart",value:function(){this.loadInitialTime=(0,u.now)()}},{key:"onBufferFull",value:function(){this.loadEndTime=(0,u.now)(),this.loadEndTime>0&&this.loadInitialTime>0&&this.loadEndTime>this.loadInitialTime&&(this.loadTimer=(this.loadEndTime-this.loadInitialTime)/1e3),this.loadInitialTime=0,this.loadEndTime=0}},{key:"hasSentBuffer",value:function(){this.loadTimer=0,this.layer.load=0,this.layer.load_time=0}},{key:"onSeek",value:function(){this.hasSeeked=!0,this.seekCounter++}},{key:"onEnd",value:function(t){!this.layer||this.layer&&0===this.layer.start||(this.layer.start=0,this.hasVideoCompleted="complete"===t,this.calculatePlayTime(!0),this.track("end"))}},{key:"destroy",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.stopListening()}},{key:"onTimeUpdate",value:function(t){this.currentTime=this.isLive?Math.trunc(this.watchedTime/1e3):t.current,this.milestone(Math.trunc(this.currentTime))}},{key:"track",value:function(t){this.layer.event=t,this.layer.quality=this.levelSelected,this.layer.pub_err=this.DFPError,this.setGACustomMetrics(this.layer.event),this.useGAtracker()}},{key:"setGACustomMetrics",value:function(t){for(var e in this.GACustomMetrics={},this.GACustomMetrics[c.mapCustomsMetrics.start]="start"===t&&1,this.GACustomMetrics[c.mapCustomsMetrics.seconds_watched]=this.trackedPlayTime,this.trackedPlayTime=0,this.GACustomMetrics[c.mapCustomsMetrics.load]=this.shouldSendLoadTime()&&1,this.GACustomMetrics[c.mapCustomsMetrics.load_time]=this.shouldSendLoadTime()&&this.loadTimer,this.GACustomMetrics[c.mapCustomsMetrics.complete]="end"===t&&this.hasVideoCompleted&&1,"milestone"!==t&&this.hasSeeked&&(this.hasSeeked=!1,this.GACustomMetrics[c.mapCustomsMetrics.seek]=this.seekCounter,this.seekCounter=0),!this.isLive&&this.watchedTime&&this.calculateBuckets(this.watchedTime),this.GACustomMetrics)!1===this.GACustomMetrics[e]&&delete this.GACustomMetrics[e]}},{key:"useGAtracker",value:function(){this.setGACustomDimensions("playerTracker"),this.sendtoGA("playerTracker"),this.productUA&&(this.setGACustomDimensions("productTracker"),this.sendtoGA("productTracker"))}},{key:"setGACustomDimensions",value:function(t){var e=this;for(var n in c.mapCustomDimensions)void 0!==this.layer[n]&&ga(t+".set",c.mapCustomDimensions[n],this.layer[n]);this.gaExtras&&Object.keys(this.gaExtras).forEach(function(n){e.gaExtras[n]&&ga(t+".set",c.mapCustomDimensions[n]||n,e.gaExtras[n])})}},{key:"sendtoGA",value:function(t){this.isLive?this.milestoneTime=this.milliToMinutes(this.watchedTime):this.milestoneTime=Math.trunc(this.currentTime/60),this.gaEventLabel="milestone"===this.layer.event?"minute - "+this.milestoneTime:this.layer.episode,ga(t+".send","event","video",this.layer.event,this.gaEventLabel,this.GACustomMetrics),this.shouldSendLoadTime()&&this.hasSentBuffer()}},{key:"shouldSendPlayTime",value:function(){return"milestone"===this.layer.event||"pause"===this.layer.event||"end"===this.layer.event}},{key:"shouldSendLoadTime",value:function(){return"start"===this.layer.event||"play"===this.layer.event}},{key:"defineBuckets",value:function(t){this.videobuckets={};var e=!0,n=!1,i=void 0;try{for(var r,o=[10,25,50,75,90,100][Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;this.videobuckets["bucket"+a]=a/100*t}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"calculateBuckets",value:function(t){for(var e in this.videobuckets)t>=this.videobuckets[e]&&!this.sentBuckets[e]&&(this.GACustomMetrics[c.mapCustomsMetrics[e]]=1,this.sentBuckets[e]=1)}},{key:"milliToMinutes",value:function(t){return Math.trunc(t/6e4)}},{key:"shouldSendToSentry",value:function(){return this.trackedPlayTime>this.oneDayInMiliseconds}},{key:"sendToSentry",value:function(t){this.container.trigger("wm:ga:error",t)}}]),e}();e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.mapCustomDimensions={ambient:"dimension1",provider:"dimension21",userId:"dimension22",platform:"dimension36",platform_manufacturer:"dimension37",platform_model:"dimension38",arc:"dimension100",signal:"dimension101",id:"dimension102",channel:"dimension103",program:"dimension104",episode:"dimension105",domain:"dimension106",type:"dimension107",kind:"dimension108",length_range:"dimension109",gsat_op:"dimension110",pisp:"dimension111",channel_id:"dimension112",program_id:"dimension113",keep_watching:"dimension114",pub_err:"dimension115",exb_date:"dimension116",creation_date:"dimension117",length:"dimension118",auto_play:"dimension119",quality:"dimension120",player_version:"dimension121",schema_version:"dimension122",affiliate_code:"dimension123",service_id:"dimension124"},e.mapCustomsMetrics={seconds_watched:"metric101",complete:"metric102",bucket10:"metric103",bucket25:"metric104",bucket50:"metric105",bucket75:"metric106",bucket90:"metric107",bucket100:"metric108",start:"metric100",seek:"metric109",load:"metric110",load_time:"metric111"}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.AD_STATES=void 0;var i=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=c(n(6)),a=n(10),s=n(76),l=c(n(315)),u=c(n(29));function c(t){return t&&t.__esModule?t:{default:t}}var d=e.AD_STATES={initial:1,initialized:2,completed:3},h=function(e){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.requestState=d.initial,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s.Youbora),r(n,[{key:"name",get:function(){return"globo_youbora_plugin"}},{key:"youboraPlugin",get:function(){return l.default}},{key:"youboraUrl",get:function(){return this.options.env.youboraScript}},{key:"youboraOptions",get:function(){var t=(0,a.getExperimentsList)(this.options);return{accountCode:"prod"===this.dashboardAccount?"globo":"globodev",enableAnalytics:!0,username:a.User.hasGlbId()?(0,a.getCookie)("GLBID"):a.User.uid,transactionCode:u.default.getVideoSessionId(this.options.playerId),httpSecure:!this.options.httpOnly,enableInit:!0,media:{title:this.video.title,duration:this.video.duration/1e3,isLive:"live"===this.container.getPlaybackType(),resource:this.selectedResource&&this.selectedResource.url||this.video.id},ads:{campaign:this.options.adUnit||this.video.adUnit},extraParams:{param1:this.video.id,param2:this.video.programId,param3:this.video.channelId,param4:this.youboraPlugin.playerVersion(),param5:a.API_VERSION,param6:(0,a.toLowerCase)(this.video.kind),param7:document.location.hostname,param8:(0,a.getPlatformName)(this.video.playerType),param9:t.length>0&&t[0]||"",param10:t.length>1&&t[1]||""}}}}]),r(n,[{key:"bindEvents",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"bindEvents",this).call(this),this.listenTo(this.container.playback,o.default.WM_VIDEO_METADATA_LOADED,this.onVideoMetadataLoaded),this.listenTo(this.container.playback,o.default.WM_PLAY_REQUESTED_READY,this.onPlayRequestedReady),this.listenTo(this.container.playback,o.default.WM_RESOURCE_READY,this.onResourceReady),this.listenTo(this.container,o.default.DFP_FINISHED,i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onEnded",this)),this.listenTo(this.container,o.default.DFP_AD_LOADED,this.onAdLoaded),this.listenTo(this.container,o.default.DFP_AD_STARTED,this.onAdStarted),this.listenTo(this.container,o.default.DFP_AD_PAUSE,this.onAdPause),this.listenTo(this.container,o.default.DFP_AD_RESUME,this.onAdResume),this.listenTo(this.container,o.default.DFP_AD_CLICKED,this.onAdClicked),this.listenTo(this.container,o.default.DFP_AD_SKIPPED,this.onAdSkipped),this.listenTo(this.container,o.default.DFP_ALL_ADS_COMPLETED,this.onAllAdsCompleted),this.listenTo(this.container,o.default.DFP_CONTENT_RESUME,this.onContentResume),this.listenTo(this.container,o.default.DFP_AD_ERROR,this.onAdError),this.listenTo(this.container,o.default.DFP_AD_NOTSERVED,this.onAdNotServed)}},{key:"createPlugin",value:function(){this.hasYouboraScript=!0,this._startYouBora()}},{key:"destroy",value:function(){var e=this;i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this),this.plugin&&t.nextTick(function(){e.plugin.endedHandler()})}},{key:"onPlayRequestedReady",value:function(){this.plugin&&(this.plugin.playhead=0,this.plugin.playHandler())}},{key:"onResourceReady",value:function(t){this.setupAdHandler(),this.setupInfoManager(t)}},{key:"setupInfoManager",value:function(t){this.plugin&&this.plugin.infoManager&&this.plugin.infoManager.setOptions({transactionCode:u.default.getVideoSessionId(this.options.playerId),media:{cdn:(t.cdn||"").toUpperCase(),resource:t.selectedResource.url}})}},{key:"onVideoMetadataLoaded",value:function(t){this.hasVideoMetadata=!0,this.video=t,this.selectedResource=t.selectedResource,this.dashboardAccount=this.options.youbora?this.options.youbora.account:this.options.env.name,this._startYouBora()}},{key:"onPlaybackEnded",value:function(){(!this.container.options.dfp||this.hasAdBlock)&&i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onEnded",this).call(this)}},{key:"setupAdHandler",value:function(){this.hasAdBlock||this.options.skipDFP||(this.requestState=d.initialized,this.adnalyzer&&this.adnalyzer.initAdHandler())}},{key:"onAdLoaded",value:function(t){this.adnalyzer.ad=t,this.requestState!==d.initialized&&this.adnalyzer.playAdHandler()}},{key:"onAdStarted",value:function(){this.requestState===d.initialized?(this.requestState=d.completed,this.adnalyzer.playAdHandler()):this.adnalyzer.joinAdHandler()}},{key:"onAdPause",value:function(){this.adnalyzer.pauseAdHandler()}},{key:"onAdResume",value:function(){this.adnalyzer.resumeAdHandler()}},{key:"onAdClicked",value:function(){this.adnalyzer.clickAdHandler()}},{key:"onAdSkipped",value:function(){this.adnalyzer.skipAdHandler()}},{key:"onContentResume",value:function(){this.hasAdBlock||this.adnalyzer.endedAdHandler()}},{key:"onAdError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.requestState!==d.initial?(this.adnalyzer.errorAdHandler(t.type,t.message),this.adnalyzer.endedAdHandler()):this.hasAdBlock=!0}},{key:"onAdNotServed",value:function(){this.requestState=d.completed;this.adnalyzer.noServedAdHandler("AD_NOT_SERVED","Ad not served")}},{key:"_startYouBora",value:function(){this.hasVideoMetadata&&this.hasYouboraScript&&(i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"createPlugin",this).call(this),this.adnalyzer=this.plugin.adnalyzer)}}]),n}();e.default=h}).call(this,n(30))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(118),s=(i=a)&&i.__esModule?i:{default:i};var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.insertYouboraScript(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ContainerPlugin),r(e,[{key:"name",get:function(){return"youbora_plugin"}},{key:"youboraUrl",get:function(){return""}},{key:"youboraOptions",get:function(){return{}}},{key:"youboraPlugin",get:function(){return s.default}}]),r(e,[{key:"insertYouboraScript",value:function(){var t=this;if(window.$YB)this.createPlugin();else{var e=document.createElement("script");e.src=this.youboraUrl,e.onload=function(){t.createPlugin()},document.body.appendChild(e)}}},{key:"createPlugin",value:function(){$YB.plugins.Clappr=this.youboraPlugin,this.plugin=new $YB.plugins.Clappr(this.container,this.youboraOptions)}},{key:"bindEvents",value:function(){this.listenTo(this.container.playback,o.Events.PLAYBACK_PLAY_INTENT,this.onPlayIntent),this.listenTo(this.container,o.Events.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,o.Events.CONTAINER_PAUSE,this.onPause),this.listenTo(this.container,o.Events.CONTAINER_STOP,this.onStop),this.listenTo(this.container,o.Events.CONTAINER_ENDED,this.onEnded),this.listenTo(this.container,o.Events.CONTAINER_ERROR,this.onError),this.listenTo(this.container,o.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,o.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferfull),this.listenTo(this.container,o.Events.CONTAINER_BITRATE,this.onBitrate),this.listenTo(this.container,o.Events.CONTAINER_SEEKED,this.onContainerSeeked),this.listenTo(this.container,o.Events.CONTAINER_SEEK,this.onContainerSeek)}},{key:"destroy",value:function(){this.plugin&&this.plugin.endedHandler(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"onPlayIntent",value:function(){this.plugin.playHandler()}},{key:"onPlay",value:function(){this.plugin.playingHandler()}},{key:"onPause",value:function(){this.plugin.pauseHandler()}},{key:"onStop",value:function(){this.plugin.endedHandler()}},{key:"onEnded",value:function(){this.plugin.endedHandler()}},{key:"onContainerSeeked",value:function(){this.plugin.seekedHandler(),this.plugin.currentTime=null}},{key:"onError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.plugin&&this.plugin.errorHandler(t.code,t.description)}},{key:"onBuffering",value:function(){this.plugin&&this.plugin.bufferingHandler()}},{key:"onBufferfull",value:function(){this.plugin&&this.plugin.bufferedHandler()}},{key:"onBitrate",value:function(t){var e=this.container.playback.levels;if(this.plugin.bitrate=t.bitrate,this.plugin.throughput=t.bandwidth,e&&e.length){var n=e.filter(function(e){return t.level===e.id});this.plugin.rendition=n&&n[0].label}}},{key:"onContainerSeek",value:function(t){this.plugin.currentTime=t,this.plugin.seekingHandler()}}]),e}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=n(76),a=l(n(316)),s=l(n(6));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options=n,i.container=t,i.setupMiddlewares(),i.setupAdnalyzer(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.YouboraGenericPlugin),i(e,[{key:"setupMiddlewares",value:function(){var t=this.viewManager.comm,e=this.viewManager.comm._registerRequest,n=this.container.options.playerId;this.viewManager.comm._registerRequest=function(i){var o=e.call(t,i)||{},a=o&&o.params||{},l=o.service&&o.service.substr(1);return r.Mediator.trigger(n+":"+s.default.YOUBORA_TIMEMARK,{service:l,time:a.timemark}),o}}},{key:"setupAdnalyzer",value:function(){this.adnalyzer=new a.default(this,{})}},{key:"getPlayerVersion",value:function(){return e.playerVersion()}},{key:"endedHandler",value:function(){this.stopMonitoring(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"endedHandler",this).call(this)}}],[{key:"playerVersion",value:function(){return"5.6.6"}}]),e}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(76);var a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.adnalyzerVersion="6.0.0-IMA",i.startMonitoring(t,n),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.BaseYouboraAdnalyzers),r(e,[{key:"ad",get:function(){return this.ads.ad},set:function(t){this.ads.ad=t}}]),r(e,[{key:"getAdPosition",value:function(){return this.ad&&0!==this.ad.getAdPodInfo().getPodIndex()?-1===this.ad.getAdPodInfo().getPodIndex()?"post":"mid":"pre"}},{key:"getAdResource",value:function(){return this.ad?this.ad.getMediaUrl():i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAdResource",this).call(this)}},{key:"getAdTitle",value:function(){return this.ad?this.ad.getTitle():i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAdTitle",this).call(this)}},{key:"getAdDuration",value:function(){return this.ad?this.ad.getDuration():i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAdDuration",this).call(this)}},{key:"getMediaPlayhead",value:function(){return this.plugin.getPlayhead()}},{key:"getAdPlayhead",value:function(){var t=this.plugin.container.playback;return(void 0!==t.getDuration?t.getDuration():0)-(void 0!==t.getRemainingTime?t.getRemainingTime():0)||this.plugin.container.getCurrentTime()}}]),e}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=A(n(5)),s=n(0),l=A(s),u=A(n(6)),c=A(n(55)),d=A(n(15)),h=A(n(10)),p=A(n(29)),f=A(n(78)),y=A(n(38)),v=A(n(44)),g=A(n(361)),m=n(363),b=n(318),_=A(n(477));function A(t){return t&&t.__esModule?t:{default:t}}if(!window.console){window.console={log:function(){}}}l.default.Log.setLevel(l.default.Log.LEVEL_WARN);var E=window.WM&&window.WM.Settings||{},w=E&&E.Domains||[],T=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=Object.assign({},b.DEFAULT_OPTIONS,n),o=E.Share&&E.Share.Blacklist&&E.Share.Blacklist[h.default.getHostAndPathName()];return n.videoInfo&&(r.videoInfo=i({},b.DEFAULT_OPTIONS.videoInfo,n.videoInfo)),r.env=c.default.get(r.env,r.httpOnly),r.clapprStats.onReport=function(e){return t.onMetricsReceived(e)},r.mediacontrol.plugins=(0,m.mergeMediaControlPlugins)(r.mediaControl&&r.mediaControl.plugins),r.sharePlugin.enabled=r.share&&void 0!==r.share.enabled?r.share.enabled:!o,r.bitrateCappingDisabled=E.bitrateCapping&&E.bitrateCapping.disabled,r.stretched&&(r.width=r.stretchWidth||r.width,r.height=r.stretchHeight||r.height),e.overrideOptions(r),r.plugins=(0,m.mergePlugins)(r.plugins,(0,m.getPluginsWithState)(r)),t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g.default),o(e,[{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}}]),o(e,[{key:"normalizeSources",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.sources||(void 0!==t.source?[""+t.source]:[]);return 0===(e=e.map(function(t){return""+(t||"")})).length?["no.op"]:e}},{key:"isUnsupportedBrowser",value:function(){return s.Browser.version<{chrome:41,firefox:38,ie:12,msie:12,safari:8}[s.Browser.name.toLowerCase()]}},{key:"onError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.core.createError(t)}},{key:"_onError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.level===s.PlayerError.Levels.FATAL&&(t=i({},t,{videoSessionId:p.default.getVideoSessionId(this.options.playerId)}),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_onError",this).call(this,t),this.options.onError&&this.options.onError(t),this.container&&(this.container.disableMediaControl(),this.container.stop(),this.container.destroy()))}},{key:"attachTo",value:function(t){(0,a.default)(t).html(""),this.element=t,this.options.parentElement=t,this._renderDefaultStyle(t),this.core&&this.core.destroy(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attachTo",this).call(this,t),this.disablePlugins(),this.core.$el.attr("id","wp3-player-"+this.core.options.playerId),this.core.$el.addClass("clappr-player"),this.validatePlayerEnvironment()}},{key:"validatePlayerEnvironment",value:function(){var t=this.playback&&"function"==typeof this.playback.onError;e.isAllowedDomain(window.location.hostname)||e.isDevMode()||t&&this.playback.onError(v.default.NOT_ALLOWED_DOMAIN,{useCodePrefix:!1}),this.isUnsupportedBrowser()&&t&&this.playback.onError(v.default.UNSUPPORTED_BROWSER,{useCodePrefix:!1})}},{key:"disablePlugins",value:function(){var t=this.core.getPlugin("closed_captions");t&&(t.disable(),t.$el.remove()),this.disableContainerPlugins()}},{key:"disableContainerPlugins",value:function(){var t=this.container&&this.container.getPlugin("click_to_pause");t&&s.Browser.supportsTouchEvents&&t.disable()}},{key:"load",value:function(t){h.default.DOM.hasPlayerElement(this.element)&&(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"load",this).call(this,t),this.validatePlayerEnvironment())}},{key:"configure",value:function(t){this.options.stretched&&(t.width||t.height)&&(t.width=this.options.stretchWidth||t.width,t.height=this.options.stretchHeight||t.height),this.hasSourceChanged(t)||(delete t.sources,delete t.source),t.env=c.default.get(t.env,t.httpOnly),e.overrideOptions(t,this.options),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.validatePlayerEnvironment()}},{key:"hasSourceChanged",value:function(t){var e=this.normalizeSources(this.options),n=this.normalizeSources(t);return e[0]!==n[0]}},{key:"onMetricsReceived",value:function(t){this.container.trigger(u.default.WM_STATS_REPORTED,t)}},{key:"_renderDefaultStyle",value:function(t){var e=d.default.getStyleFrom(_.default,{playerId:this.options.playerId});(0,a.default)(t).append(e)}}],[{key:"overrideOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.chromeless?t.chromeless:e.chromeless;t.chromeless=n;var r=t.chromecast||{},o=r.appId||b.DEFAULT_OPTIONS.chromecast.appId;t.chromecast={enabled:!(!1===r.enabled||s.Browser.isChromecast||!o),appId:o},t.videoInfo&&(t.videoInfo=i({},b.DEFAULT_OPTIONS.videoInfo,t.videoInfo))}}]),e}();s.Browser.supportsFakeLocation=/puffin/i.test(navigator.userAgent),s.Browser.supportsTouchEvents="ontouchstart"in window||navigator.maxTouchPoints>0,s.Browser.isHybridDevice=s.Browser.supportsTouchEvents&&!s.Browser.isMobile,T.isDevMode=function(){return!1},T.isAllowedDomain=function(t){return!E.Domains||w.find(function(e){return e.test(t)})},e.default={Player:T,Styler:d.default,Utils:h.default,Plugins:m.Plugins,Environment:c.default,MediaControlPlugin:y.default,Events:u.default,Errors:f.default},window.Clappr=window.Clappr||l.default,window.$=window.$||a.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=void 0;var i,r=n(0),o=n(10),a=n(362),s=(i=a)&&i.__esModule?i:{default:i},l=n(37);var u=window.WM&&window.WM.Settings||{};e.DEFAULT_OPTIONS={dax:{},limited:r.Browser.isFirefox&&r.Browser.isAndroid,preferredLevel:o.LocalStorage.load("selectedlevel",parseInt),changeFavicon:!1,mediacontrol:{external:s.default},chromecast:{appId:function(){if(u.CastSenders){var t=Object.keys(u.CastSenders).find(function(t){return t===(0,o.getHostname)()||t===(0,o.getHostAndPathName)()});return t&&u.CastSenders[t]}}()},sharePlugin:{},preload:"none",hlsMinimumDvrSize:120,useDvrControls:!1,useBackgroundButton:!1,useHardwareVideoDecoder:!1,playback:{preload:"none",playInline:!0,recycleVideo:r.Browser.isMobile},gaAccount:null,gaTrackerName:null,allowLocation:!1,disableVideoTagContextMenu:!0,clapprStats:{runEach:1e3},stretched:!1,maxQualityLevel:l.DEFAULT_PROFILE,playerExperiments:u.PlayerExperiments||{},allowRestrictedContent:u.allowRestrictedContent,videoInfo:{inlineEnabled:!1,fullscreenEnabled:!0}}},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M3 8.77v6h4l5 5v-16l-5 5H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77 0-4.28-2.99-7.86-7-8.77z" fill="#FFF"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" fill="#FFF"></path></g></svg>'},function(t,e,n){"use strict";(function(t,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=200,o="Expected a function",a="__lodash_hash_undefined__",s=1,l=2,u=1/0,c=9007199254740991,d="[object Arguments]",h="[object Array]",p="[object Boolean]",f="[object Date]",y="[object Error]",v="[object Function]",g="[object GeneratorFunction]",m="[object Map]",b="[object Number]",_="[object Object]",A="[object RegExp]",E="[object Set]",w="[object String]",T="[object Symbol]",k="[object ArrayBuffer]",S="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/,P=/^\./,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[d]=D[h]=D[k]=D[p]=D[S]=D[f]=D[y]=D[v]=D[m]=D[b]=D[_]=D[A]=D[E]=D[w]=D["[object WeakMap]"]=!1;var M="object"==(void 0===t?"undefined":i(t))&&t&&t.Object===Object&&t,N="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,B=M||N||Function("return this")(),U="object"==i(e)&&e&&!e.nodeType&&e,F=U&&"object"==i(n)&&n&&!n.nodeType&&n,j=F&&F.exports===U&&M.process,V=function(){try{return j&&j.binding("util")}catch(t){}}(),H=V&&V.isTypedArray;function G(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,i){var r=t.length,o=n+(i?1:-1);for(;i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}(t,$,n);var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,0)>-1}function z(t,e,n){for(var i=-1,r=t?t.length:0;++i<r;)if(n(e,t[i]))return!0;return!1}function Y(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function $(t){return t!=t}function K(t,e){return t.has(e)}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Z,Q,J,tt=Array.prototype,et=Function.prototype,nt=Object.prototype,it=B["__core-js_shared__"],rt=(Z=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",ot=et.toString,at=nt.hasOwnProperty,st=nt.toString,lt=RegExp("^"+ot.call(at).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=B.Symbol,ct=B.Uint8Array,dt=nt.propertyIsEnumerable,ht=tt.splice,pt=(Q=Object.keys,J=Object,function(t){return Q(J(t))}),ft=Yt(B,"DataView"),yt=Yt(B,"Map"),vt=Yt(B,"Promise"),gt=Yt(B,"Set"),mt=Yt(B,"WeakMap"),bt=Yt(Object,"create"),_t=Jt(ft),At=Jt(yt),Et=Jt(vt),wt=Jt(gt),Tt=Jt(mt),kt=ut?ut.prototype:void 0,St=kt?kt.valueOf:void 0,Ct=kt?kt.toString:void 0;function Ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Pt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.__data__=new Rt;++e<n;)this.add(t[e])}function xt(t){this.__data__=new Pt(t)}function Lt(t,e){var n=ie(t)||ne(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!at.call(t,o)||r&&("length"==o||Kt(o,i))||n.push(o);return n}function Dt(t,e){for(var n=t.length;n--;)if(ee(t[n][0],e))return n;return-1}function Mt(t,e){for(var n=0,i=(e=Wt(e,t)?[e]:Vt(e)).length;null!=t&&n<i;)t=t[Qt(e[n++])];return n&&n==i?t:void 0}function Nt(t,e){return null!=t&&e in Object(t)}function Bt(t,e,n,i,r){return t===e||(null==t||null==e||!se(t)&&!le(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=ie(t),u=ie(e),c=h,v=h;a||(c=(c=$t(t))==d?_:c);u||(v=(v=$t(e))==d?_:v);var g=c==_&&!W(t),C=v==_&&!W(e),O=c==v;if(O&&!g)return o||(o=new xt),a||ce(t)?Gt(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!i(new ct(t),new ct(e)));case p:case f:case b:return ee(+t,+e);case y:return t.name==e.name&&t.message==e.message;case A:case w:return t==e+"";case m:var u=q;case E:var c=o&l;if(u||(u=X),t.size!=e.size&&!c)return!1;var d=a.get(t);if(d)return d==e;o|=s,a.set(t,e);var h=Gt(u(t),u(e),i,r,o,a);return a.delete(t),h;case T:if(St)return St.call(t)==St.call(e)}return!1}(t,e,c,n,i,r,o);if(!(r&l)){var P=g&&at.call(t,"__wrapped__"),R=C&&at.call(e,"__wrapped__");if(P||R){var I=P?t.value():t,x=R?e.value():e;return o||(o=new xt),n(I,x,i,r,o)}}if(!O)return!1;return o||(o=new xt),function(t,e,n,i,r,o){var a=r&l,s=de(t),u=s.length,c=de(e).length;if(u!=c&&!a)return!1;for(var d=u;d--;){var h=s[d];if(!(a?h in e:at.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var y=a;++d<u;){h=s[d];var v=t[h],g=e[h];if(i)var m=a?i(g,v,h,e,t,o):i(v,g,h,t,e,o);if(!(void 0===m?v===g||n(v,g,i,r,o):m)){f=!1;break}y||(y="constructor"==h)}if(f&&!y){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,i,r,o)}(t,e,Bt,n,i,r))}function Ut(t){return!(!se(t)||rt&&rt in t)&&(oe(t)||W(t)?lt:x).test(Jt(t))}function Ft(t){return"function"==typeof t?t:null==t?he:"object"==(void 0===t?"undefined":i(t))?ie(t)?function(t,e){if(Wt(t)&&qt(e))return Xt(Qt(t),e);return function(n){var i=function(t,e,n){var i=null==t?void 0:Mt(t,e);return void 0===i?n:i}(n,t);return void 0===i&&i===e?function(t,e){return null!=t&&function(t,e,n){var i,r=-1,o=(e=Wt(e,t)?[e]:Vt(e)).length;for(;++r<o;){var a=Qt(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}if(i)return i;return!!(o=t?t.length:0)&&ae(o)&&Kt(a,o)&&(ie(t)||ne(t))}(t,e,Nt)}(n,t):Bt(e,i,void 0,s|l)}}(t[0],t[1]):function(t){var e=function(t){var e=de(t),n=e.length;for(;n--;){var i=e[n],r=t[i];e[n]=[i,r,qt(r)]}return e}(t);if(1==e.length&&e[0][2])return Xt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=Object(t);r--;){var u=n[r];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<o;){var c=(u=n[r])[0],d=t[c],h=u[1];if(a&&u[2]){if(void 0===d&&!(c in t))return!1}else{var p=new xt;if(i)var f=i(d,h,c,t,e,p);if(!(void 0===f?Bt(h,d,i,s|l,p):f))return!1}}return!0}(n,t,e)}}(t):Wt(e=t)?(n=Qt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Mt(e,t)}}(e);var e,n}function jt(t){if(n=(e=t)&&e.constructor,i="function"==typeof n&&n.prototype||nt,e!==i)return pt(t);var e,n,i,r=[];for(var o in Object(t))at.call(t,o)&&"constructor"!=o&&r.push(o);return r}function Vt(t){return ie(t)?t:Zt(t)}Ot.prototype.clear=function(){this.__data__=bt?bt(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(bt){var n=e[t];return n===a?void 0:n}return at.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:at.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?a:e,this},Pt.prototype.clear=function(){this.__data__=[]},Pt.prototype.delete=function(t){var e=this.__data__,n=Dt(e,t);return!(n<0||(n==e.length-1?e.pop():ht.call(e,n,1),0))},Pt.prototype.get=function(t){var e=this.__data__,n=Dt(e,t);return n<0?void 0:e[n][1]},Pt.prototype.has=function(t){return Dt(this.__data__,t)>-1},Pt.prototype.set=function(t,e){var n=this.__data__,i=Dt(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},Rt.prototype.clear=function(){this.__data__={hash:new Ot,map:new(yt||Pt),string:new Ot}},Rt.prototype.delete=function(t){return zt(this,t).delete(t)},Rt.prototype.get=function(t){return zt(this,t).get(t)},Rt.prototype.has=function(t){return zt(this,t).has(t)},Rt.prototype.set=function(t,e){return zt(this,t).set(t,e),this},It.prototype.add=It.prototype.push=function(t){return this.__data__.set(t,a),this},It.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.clear=function(){this.__data__=new Pt},xt.prototype.delete=function(t){return this.__data__.delete(t)},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Pt){var i=n.__data__;if(!yt||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Rt(i)}return n.set(t,e),this};var Ht=gt&&1/X(new gt([,-0]))[1]==u?function(t){return new gt(t)}:function(){};function Gt(t,e,n,i,r,o){var a=r&l,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var d=o.get(t);if(d&&o.get(e))return d==e;var h=-1,p=!0,f=r&s?new It:void 0;for(o.set(t,e),o.set(e,t);++h<u;){var y=t[h],v=e[h];if(i)var g=a?i(v,y,h,e,t,o):i(y,v,h,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(f){if(!Y(e,function(t,e){if(!f.has(e)&&(y===t||n(y,t,i,r,o)))return f.add(e)})){p=!1;break}}else if(y!==v&&!n(y,v,i,r,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function zt(t,e){var n,r,o=t.__data__;return("string"==(r=void 0===(n=e)?"undefined":i(n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Yt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ut(n)?n:void 0}var $t=function(t){return st.call(t)};function Kt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||L.test(t))&&t>-1&&t%1==0&&t<e}function Wt(t,e){if(ie(t))return!1;var n=void 0===t?"undefined":i(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ue(t))||(O.test(t)||!C.test(t)||null!=e&&t in Object(e))}function qt(t){return t==t&&!se(t)}function Xt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ft&&$t(new ft(new ArrayBuffer(1)))!=S||yt&&$t(new yt)!=m||vt&&"[object Promise]"!=$t(vt.resolve())||gt&&$t(new gt)!=E||mt&&"[object WeakMap]"!=$t(new mt))&&($t=function(t){var e=st.call(t),n=e==_?t.constructor:void 0,i=n?Jt(n):void 0;if(i)switch(i){case _t:return S;case At:return m;case Et:return"[object Promise]";case wt:return E;case Tt:return"[object WeakMap]"}return e});var Zt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ue(t))return Ct?Ct.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var n=[];return P.test(t)&&n.push(""),t.replace(R,function(t,e,i,r){n.push(i?r.replace(I,"$1"):e||t)}),n});function Qt(t){if("string"==typeof t||ue(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Jt(t){if(null!=t){try{return ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function n(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(te.Cache||Rt),n}function ee(t,e){return t===e||t!=t&&e!=e}function ne(t){return function(t){return le(t)&&re(t)}(t)&&at.call(t,"callee")&&(!dt.call(t,"callee")||st.call(t)==d)}te.Cache=Rt;var ie=Array.isArray;function re(t){return null!=t&&ae(t.length)&&!oe(t)}function oe(t){var e=se(t)?st.call(t):"";return e==v||e==g}function ae(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function se(t){var e=void 0===t?"undefined":i(t);return!!t&&("object"==e||"function"==e)}function le(t){return!!t&&"object"==(void 0===t?"undefined":i(t))}function ue(t){return"symbol"==(void 0===t?"undefined":i(t))||le(t)&&st.call(t)==T}var ce=H?function(t){return function(e){return t(e)}}(H):function(t){return le(t)&&ae(t.length)&&!!D[st.call(t)]};function de(t){return re(t)?Lt(t):jt(t)}function he(t){return t}n.exports=function(t,e){return t&&t.length?function(t,e,n){var i=-1,o=G,a=t.length,s=!0,l=[],u=l;if(n)s=!1,o=z;else if(a>=r){var c=e?null:Ht(t);if(c)return X(c);s=!1,o=K,u=new It}else u=e?[]:l;t:for(;++i<a;){var d=t[i],h=e?e(d):d;if(d=n||0!==d?d:0,s&&h==h){for(var p=u.length;p--;)if(u[p]===h)continue t;e&&u.push(h),l.push(d)}else o(u,h,n)||(u!==l&&u.push(h),l.push(d))}return l}(t,Ft(e)):[]}}).call(this,n(53),n(322)(t))},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path fill="#FFF" fill-rule="nonzero" d="M8 16.59L12.58 12 8 7.41 9.41 6l6 6-6 6z"></path></g></svg>'},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function r(t,e){var n=[],r=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,i(n,e)).join(".")+"]"}),function(o,a){if(n.length>0){var s=i(n,this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,1/0,o):r.push(o),~i(n,a)&&(a=e.call(this,o,a))}else n.push(a);return null==t?a instanceof Error?function(t){var e={stack:t.stack,message:t.message,name:t.name};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(a):a:t.call(this,o,a)}}(t.exports=function(t,e,n,i){return JSON.stringify(t,r(e,i),n)}).getSerialize=r},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(0),l=_(s),u=_(n(5)),c=_(n(6)),d=n(10),h=_(n(44)),p=n(326),f=n(328),y=n(295),v=n(332),g=n(119),m=n(37),b=_(n(29));function _(t){return t&&t.__esModule?t:{default:t}}var A=l.default.Log.getInstance(),E=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i)));return o._isReady=!1,o.bindEvents(),o.$el.css("height","100%"),o.settings=o.defaultSettings,o.options.swfBasePath=o.options.baseUrl,o.options.startFromBitrate=4e5,o.options.shakaOnBeforeLoad=p.shakaOnBeforeLoad,o.currentVolume=null,o.currentTime=o.duration=0,o.skipWaitingGlobals=!1,o.globalsManager=new d.GlobalsManager,o.setupSession(),o.on(c.default.WM_PLAY_REQUESTED,function(){o.play(),o.playback&&o.consent()}),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Playback),a(e,[{key:"name",get:function(){return"id_playback"}},{key:"attributes",get:function(){return{"data-id-playback":""}}},{key:"srcUrl",get:function(){var t=this.playback&&this.playback.options&&this.playback.options.src,e=this.playback&&this.playback._src;return t||e||this.options.src}},{key:"src",get:function(){return this.options.src}},{key:"blackResourceUrl",get:function(){return"live"!==this.getPlaybackType()||s.Browser.isSmartTvEnvironment||s.Browser.isChromecast?this.options.env.blackVideoUrl:this.options.env.blackVideoStreamingUrl}},{key:"selectedResource",get:function(){return this.video&&this.video.selectedResource}},{key:"isReady",get:function(){return this._isReady}},{key:"defaultSettings",get:function(){return{seekEnabled:!0}}},{key:"dvrEnabled",get:function(){return!!this.playback&&!!this.playback.dvrEnabled}},{key:"levels",get:function(){return this.playback.levels}},{key:"buffering",get:function(){return this.playback&&this.playback.buffering}},{key:"videoEl",get:function(){return this.playback&&this.playback.el}}]),a(e,[{key:"bindEvents",value:function(){this.on(c.default.WM_VIDEO_METADATA_LOADED,this.onMetadataLoaded),this.on(c.default.WM_VIDEO_METADATA_ERROR,this.onError),this.on(c.default.WM_RESOURCE_READY,this.onResourceReady),this.on(c.default.WM_RESOURCE_ERROR,this.onError),this.on(c.default.WM_PLAYBACK_WILL_PLAY,this.onBeforePlay),this.on(c.default.WM_HASH_EXPIRED,this.onHashExpired)}},{key:"onHashExpired",value:function(t){this.revalidateHashCallback=t,this.hashExpired=!0}},{key:"revalidateHash",value:function(t){var e=this,n=function(){return e.hashExpired=!1,t()};this.revalidateHashCallback().then(n,n)}},{key:"play",value:function(){if(this.hashExpired)return this.revalidateHash(this.play.bind(this));this.canRequestPlay()?this.trigger(c.default.WM_PLAY_REQUESTED_READY):this.isPaused&&this.playWhenReady()}},{key:"canRequestPlay",value:function(){var t=this.waitToPlay()||this.playbackError||this.isPlaying(),e=this.video&&!this._resourceReady;return!t&&e}},{key:"playWhenReady",value:function(){var t=this;this.isReady?i.nextTick(function(){return t.playback.play()}):(this.listenToOnce(this,c.default.WM_PLAYBACK_WILL_PLAY,this.playWhenReady),this.prepareInnerPlaybackToPlay())}},{key:"onBeforePlay",value:function(){this.disablePlayWhenReady||this.playWhenReady()}},{key:"consent",value:function(){this.playback.consent(),d.autoplayManager.consent(),this.mutedAutoplay=!1}},{key:"waitToPlay",value:function(){var t=this,e=!0,n=!this.globalsManager.ready(),i=!this.video||!this.playback;return n&&!this.skipWaitingGlobals?(this.globalsManager.isAvailable().then(function(){return t.play()},function(){return t.play()}),this.skipWaitingGlobals=!0):i?this.listenToOnce(this,c.default.WM_VIDEO_METADATA_LOADED,this.play):e=!1,e}},{key:"isPlaying",value:function(){return!!this.playback&&this.playback.isPlaying()}},{key:"setInitialTime",value:function(t){var e=this;s.Browser.isChromecast||s.Browser.isiOS||!this.isPlaying()?this.listenToOnce(this.playback,s.Events.PLAYBACK_PLAY,function(){return e.seek(t)}):this.seek(t)}},{key:"getDuration",value:function(){return this.playback&&this.playback.getDuration()}},{key:"stop",value:function(){this.stopAndClearPlayback(),this.playback&&this.trigger(s.Events.PLAYBACK_STOP)}},{key:"stopAndClearPlayback",value:function(){this.playback&&(this.playback.stop(),this.currentTime=0,this.clear())}},{key:"volume",value:function(t){var e=this;this.playback&&(this.playback.isReady?(this.playback.volume(t),this.currentVolume=t):this.listenToOnce(this.playback,s.Events.PLAYBACK_READY,function(){return e.volume(t)}))}},{key:"getVolume",value:function(){return this.currentVolume}},{key:"pause",value:function(){this.isPaused=!0,this.playback&&this.playback.pause()}},{key:"seek",value:function(t){if(this.hashExpired)return this.revalidateHash(this.seek.bind(this,t));var e=this.playback&&this.playback.getCurrentTime(),n=Math.round(e)!==Math.round(t);this.playback&&n&&this.playback.seek(t)}},{key:"selectLevel",value:function(t){this.video&&(this.options.selectedLevel=t,this.video.selectLevel(t),this.pause(),this.clear(),this.isPlaying()&&this.play())}},{key:"getInnerPlaybackName",value:function(){return this.playback&&this.playback.name||""}},{key:"getLastProgramDate",value:function(){return"hls"===this.playback.name?this.playback.getLastProgramDate():-1}},{key:"getStartTimeOffset",value:function(){return this.playback&&"function"==typeof this.playback.getStartTimeOffset?this.playback.getStartTimeOffset():0}},{key:"isPip",value:function(t){this.onPip=t}},{key:"destroy",value:function(){this.playback&&(this.stopListening(this.playback),this.playback.stop(),this.playback.destroy(),this.playback=null),this.reportID&&clearInterval(this.reportID),this.$el.remove()}},{key:"onMetadataLoaded",value:function(t){var e=this;if(this.video=t,this.validateRestrictedContent(),s.Browser.isSmartTvEnvironment)this.initInnerPlayback();else{var n=function(t){e.options.playback.hlsjsConfig=(0,v.getHLSJSConfig)(e,{p2pEnabled:t}),e.initInnerPlayback()};this.setupP2P().then(function(){return n(!0)},function(){return n(!1)})}}},{key:"setupP2P",value:function(){var t=new u.default.Deferred,e=new d.GlobalsManager;return(0,g.isP2PEnabled)(this.options)?((0,d.registerGlobal)("peer5"),(0,d.embedScript)(this.options.env.peer5Lib),e.isAvailable().then(function(){n(338),t.resolve()},function(){return t.reject()}),t):t.reject()}},{key:"validateRestrictedContent",value:function(){this.video.adult&&!this.options.allowRestrictedContent&&this.onError(h.default.RESTRICTED_CONTENT)}},{key:"onPlaybackReady",value:function(){var t=this;this.playback.isReady?this.ready():this.playback.once(s.Events.PLAYBACK_READY,function(){return t.ready()})}},{key:"onError",value:function(t){A.warn(this.name,"id playback error:",t),this.playbackError=(0,y.getPlaybackError)(t,this.options,this.video);this.trigger(s.Events.PLAYBACK_ERROR,this.createError(this.playbackError,{useCodePrefix:!1}))}},{key:"onResourceReady",value:function(t,e){var n=this;this.video=t,this.user=e,this._resourceReady=!0,!(s.Browser.isSmartTvEnvironment||s.Browser.isChromecast)&&"live"===this.getPlaybackType()&&t.cdn===m.DEFAULT_CDN?(this.trigger(c.default.WM_WROOM_AUTHORIZE,this.selectedResource),this.listenToOnce(this,c.default.WM_WROOM_AUTHORIZED,function(){n.setupPlayback(),n.onPlaybackReady()})):(this.setupPlayback(),this.onPlaybackReady())}},{key:"getPlaybackType",value:function(){if(this.video)return"Live"===this.video.type||this.video.isLive?"live":"vod"}},{key:"initInnerPlayback",value:function(t){if(this.playback=f.createPlayback.call(this,t,this.selectedResource,this.blackResourceUrl),"no_op"===this.playback.name)return this.onError(h.default.DEVICE_NOT_SUPPORTED);this.bindPlaybackEvents(),this.renderInnerPlayback(),this.onInnerPlaybackReady(),d.autoplayManager.onAutoplayAvailable(this.onAutoplaySuccess.bind(this),this.options,this.onAutoplayFail.bind(this))}},{key:"onAutoplaySuccess",value:function(){var t=this;i.nextTick(function(){return t.play()})}},{key:"onAutoplayFail",value:function(){var t=this;d.autoplayManager.isAutoPlayMutedAllowed(this.options)&&(this.mutedAutoplay=!0,this.playback.volume(0),i.nextTick(function(){return t.play()}))}},{key:"setupPlayback",value:function(){var t=this.selectedResource.signedUrl(this.video.isSubscriberOnly,this.user);if(this.trigger(s.Events.PLAYBACK_STATS_ADD,{midia:this.options.src,url:t}),this.updateSrc(t),this._playbackWasBuilt=!0,this.trigger(c.default.WM_PLAYBACK_BUILT),this.options.selectedLevel)try{this.play()}catch(t){A.warn(this.name,"play()",t)}else this.onPip&&this.playWhenReady()}},{key:"updateSrc",value:function(t){this.recreatePlayback(t)||("function"==typeof this.playback.load&&this.playback.load(t),"object"===o(this.playback.options)&&(this.playback.options.src=t),"function"==typeof this.playback._setupSrc&&this.playback._setupSrc(t),"function"==typeof this.playback.setupSrc&&this.playback.setupSrc(t),this.prepareInnerPlaybackToPlay())}},{key:"prepareInnerPlaybackToPlay",value:function(){var t=this;this.playback&&"function"==typeof this.playback._setup&&!this._innerPlaybackSetupDone&&(this._playbackWasBuilt?this.playback._setup():this.listenToOnce(this,c.default.WM_PLAYBACK_BUILT,function(){return t.playback._setup()}),this._innerPlaybackSetupDone=!0)}},{key:"recreatePlayback",value:function(t){if(!this.playback)return this.initInnerPlayback(t),!0;var e=this.video&&this.video.encrypted,n=this.playback.constructor.canPlay(t,"",e),i="flashls"===this.playback.name;return!n||i?(this.stopListening(this.playback),this.playback.destroy(),this.initInnerPlayback(t),!0):void 0}},{key:"clear",value:function(){this._isReady=!1,this._resourceReady=!1,this._innerPlaybackSetupDone=!1,this._playbackWasBuilt=!1}},{key:"bindPlaybackEvents",value:function(){this.listenTo(this.playback,s.Events.PLAYBACK_SETTINGSUPDATE,this.settingsupdate),this.listenTo(this.playback,s.Events.PLAYBACK_LOADEDMETADATA,this.loadedmetadata),this.listenTo(this.playback,s.Events.PLAYBACK_PLAYBACKSTATE,this.playbackstate),this.listenTo(this.playback,s.Events.PLAYBACK_ERROR,this.onInnerPlaybackError),this.listenTo(this.playback,s.Events.PLAYBACK_PROGRESS,this.progress),this.listenTo(this.playback,s.Events.PLAYBACK_TIMEUPDATE,this.timeupdate),this.listenTo(this.playback,s.Events.PLAYBACK_PLAY_INTENT,this.playintent),this.listenTo(this.playback,s.Events.PLAYBACK_PLAY,this.playing),this.listenTo(this.playback,s.Events.PLAYBACK_PAUSE,this.paused),this.listenTo(this.playback,s.Events.PLAYBACK_SEEKED,this.onSeeked),this.listenTo(this.playback,s.Events.PLAYBACK_STATS_ADD,this.statsAdd),this.listenTo(this.playback,s.Events.PLAYBACK_DVR,this.onDvr),this.listenTo(this.playback,s.Events.PLAYBACK_BITRATE,this.updateBitrate),this.listenTo(this.playback,s.Events.PLAYBACK_BUFFERFULL,this.bufferfull),this.listenTo(this.playback,s.Events.PLAYBACK_BUFFERING,this.onBuffering),this.listenTo(this.playback,s.Events.PLAYBACK_ENDED,this.ended)}},{key:"playbackstate",value:function(t){this.trigger(s.Events.PLAYBACK_PLAYBACKSTATE,t)}},{key:"updateBitrate",value:function(t){this.trigger(s.Events.PLAYBACK_BITRATE,t)}},{key:"progress",value:function(t){this.trigger(s.Events.PLAYBACK_PROGRESS,t)}},{key:"statsAdd",value:function(t){this.trigger(s.Events.PLAYBACK_STATS_ADD,t)}},{key:"onDvr",value:function(t){this.trigger(s.Events.PLAYBACK_DVR,t)}},{key:"timeupdate",value:function(t){t.current&&(this.currentTime=t.current,this.duration=t.total,this.trigger(s.Events.PLAYBACK_TIMEUPDATE,r({},t,{playbackType:this.getPlaybackType()})))}},{key:"ready",value:function(){this._isReady=!0,this.settingsupdate(),this.trigger(c.default.WM_PLAYBACK_WILL_PLAY,this.name)}},{key:"onSeeked",value:function(){this.trigger(s.Events.PLAYBACK_SEEKED,this.name)}},{key:"onBuffering",value:function(){this.trigger(s.Events.PLAYBACK_BUFFERING,this.name)}},{key:"bufferfull",value:function(){this.trigger(s.Events.PLAYBACK_BUFFERFULL,this.name)}},{key:"settingsupdate",value:function(){var t=this.getPlaybackType();t&&("ad"===t?this.settings=this.playback.settings:(this.settings=Object.assign({},this.defaultSettings),"vod"!==t&&this.playback&&!this.playback.dvrEnabled&&(this.settings.seekEnabled=!1)),this.trigger(s.Events.PLAYBACK_SETTINGSUPDATE))}},{key:"loadedmetadata",value:function(t){this.trigger(s.Events.PLAYBACK_LOADEDMETADATA,t),this.checkInitialSeek()}},{key:"checkInitialSeek",value:function(){var t=this.options.resumeAt||(0,d.seekStringToSeconds)();t&&this.getPlaybackType()!==s.Playback.LIVE&&this.setInitialTime(t)}},{key:"setupSession",value:function(){b.default.startSession(this.options.playerId)}},{key:"ended",value:function(){var t=this;this.stopAndClearPlayback(),this.trigger(s.Events.PLAYBACK_ENDED,this.name),i.nextTick(function(){return t.setupSession()})}},{key:"playintent",value:function(){this.trigger(s.Events.PLAYBACK_PLAY_INTENT,this.name)}},{key:"playing",value:function(){this.isPaused=!1,this.trigger(s.Events.PLAYBACK_PLAY,this.name)}},{key:"paused",value:function(){this.isPaused=!0,this.trigger(s.Events.PLAYBACK_PAUSE,this.name)}},{key:"onInnerPlaybackError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playback._src!==this.blackResourceUrl&&t&&this.trigger(s.Events.PLAYBACK_ERROR,t)}},{key:"onInnerPlaybackReady",value:function(){var t=this;this.trigger(s.Events.PLAYBACK_READY,this.name),i.nextTick(function(){return t.trigger(c.default.WM_PLAYBACK_CAN_PLAY,t.name)})}},{key:"renderInnerPlayback",value:function(){this.playback.render(),this.playback.el.id=this.cid,this.playback.el.controlsList="nodownload noremoteplayback",this.playback.el.removeAttribute("src"),this.$el.html(this.playback.el)}}]),e}();e.default=E,E.canPlay=function(t){return!!t.toString().match(/^\d+$/)},t.exports=e.default}).call(this,n(30))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(327);e.default={shakaOnBeforeLoad:i.shakaOnBeforeLoad},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shakaOnBeforeLoad=void 0;var i,r=n(120),o=(i=r)&&i.__esModule?i:{default:i};e.shakaOnBeforeLoad=function(t){t.getNetworkingEngine().registerRequestFilter(function(t,e){t!==o.default.net.NetworkingEngine.RequestType.LICENSE&&(e.allowCrossSiteCredentials=!0)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPlayback=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(0),o=n(329);e.createPlayback=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],s=!r.Browser.isChromecast&&e&&e.url,l=t||s||n,u=e&&e.encrypted,c=a(l,this.options,u),d=u?(0,o.getDRMConfig)(e&&e.contentProtection,this.options.httpOnly):{},h=i({},this.options,d,{autoPlay:!1,src:l});return function(t){var e={maxAttempts:1/0};t.shakaConfiguration=t.shakaConfiguration||{};["drm","manifest","streaming"].forEach(function(n){return t.shakaConfiguration[n]=function(n){return i({},t.shakaConfiguration[n]||{},{retryParameters:e})}(n)})}(h),new c(h,this.i18n,this.playerError)};var a=function(t,e,n){return r.PlayerInfo.getInstance(e.playerId).playbackPlugins.find(function(e){return e.canPlay(t.toString(),"",n)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(330);e.default={getDRMConfig:i.getDRMConfig},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDRMConfig=void 0;var i=n(331),r=(e.getDRMConfig=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t||{},i=n.widevine,o=n.playready,a=n.fairplay,s={playready:r(o&&o.server,e),widevine:r(i&&i.server,e),fairplay:r(a&&a.server,e)};return{shakaConfiguration:{drm:{servers:{"com.microsoft.playready":s.playready,"com.widevine.alpha":s.widevine}}},fairplay:{server:s.fairplay,certificate:a&&a.certificate},licenseServers:s}},function(t,e){return"string"!=typeof t?"":(e&&(t=t.replace("https://","http://")),t.replace(i.DRM_DEVICE_ID_EXP,i.DRM_DEVICE_ID))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DRM_DEVICE_ID="ZDY4NDM5MDgtMzQ4Mi0zZGU5LThlZDQtYjRiNWM5ZjBmOWU5",e.DRM_DEVICE_ID_EXP=/{{deviceId}}/g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(333);e.default={getHLSJSConfig:i.getHLSJSConfig},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHLSJSConfig=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(334),o={liveSyncDurationCount:2,capLevelToPlayerSize:!0,enableWebVTT:!1,xhrSetup:function(t){t.withCredentials=!0}},a={fragLoadingMaxRetry:1/0,manifestLoadingMaxRetry:1/0,levelLoadingMaxRetry:1/0};e.getHLSJSConfig=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=i({p2pEnabled:!1},e),i({},o,a,{fLoader:(0,r.getFloader)(t,e.p2pEnabled),pLoader:(0,r.getPloader)(t,e.p2pEnabled)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFloader=e.getPloader=void 0;var i=n(335),r=n(337);e.getPloader=i.getPloader,e.getFloader=r.getFloader},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPloader=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(77)),o=s(n(6)),a=s(n(336));function s(t){return t&&t.__esModule?t:{default:t}}e.getPloader=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?a.default:r.default.DefaultConfig.loader,n=function(n){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,e),i(r,[{key:"load",value:function(e,n,i){if("manifest"===e.type){var a=i.onSuccess;i.onSuccess=function(e,n,i,r){var s={pop:r.getResponseHeader("x-pop"),host:r.getResponseHeader("x-host")};t.trigger(o.default.WM_STREAMING_DATA_LOADED,s),a(e,n,i)}}(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"load",this).call(this,e,n,i)}}]),r}();return t.video.isLive?n:void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pLoader=new window.peer5.HlsJsPlaylistLoader(e)}return i(t,[{key:"load",value:function(t,e,n){this.pLoader.load(t,e,n)}},{key:"destroy",value:function(){this.pLoader.destroy()}},{key:"abort",value:function(){this.pLoader.abort()}}]),t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getFloader=function(t,e){var n=e?window.peer5.HlsJsFragmentLoader:void 0;return t.video.isLive?n:void 0}},function(t,e,n){"use strict";!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};e.m=t,e.c=n,e.p="/",e(0)}({0:function(t,e,n){t.exports=n(121)},31:function(t,e,n){var i=n(32),r=n(33);t.exports=function(t){var e;this.destroy=function(){e&&e.destroy()},this.abort=function(){e&&e.abort()},this.load=function(){(e=3===arguments.length?new r(t):new i(t)).load.apply(e,arguments),this.context=e.context,this.stats=e.stats,this.frag=e.frag}}},32:function(t,e){function n(t,e){if(t.currentTarget.getSpeed){var n=e,i=t.currentTarget.getSpeed();i&&(n._delay=t.loaded/i*1e3,n.tfirst=n.trequest)}}t.exports=function(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup),this.destroy=function(){this.abort(),this.loader=null},this.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},this.load=function(t,e,n,i,r,o,a,s,l,u){this.url=t,!u||Number.isNaN(u.byteRangeStartOffset)||Number.isNaN(u.byteRangeEndOffset)||(this.byteRange=u.byteRangeStartOffset+"-"+(u.byteRangeEndOffset-1)),this.responseType=e,this.onSuccess=n,this.onProgress=l,this.onTimeout=r,this.onError=i,this._trequest=performance.now(),this.stats={trequest:this._trequest,retry:0},this.timeout=window.peer5.getConfig("MEDIA_FRAGMENT_TIMEOUT")||o,this.maxRetry=a,this.retryDelay=s,this.frag=u,this.loadInternal()},this.loadInternal=function(){var t;(t="arraybuffer"===this.responseType?this.loader=new window.peer5.FragmentRequest:this.loader=new window.peer5.PlaylistRequest).onprogress=this.loadprogress.bind(this),t.onloadend=this.loadend.bind(this),t.open("GET",this.url,!0),this.byteRange&&t.setRequestHeader("Range","bytes="+this.byteRange),t.responseType=this.responseType;var e=this.stats;e.tfirst=0,e.loaded=0,this.xhrSetup&&this.xhrSetup(t,this.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.timeout),t.send(),t._constraint&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&function(t,e,n,i){var r=Math.max(n,i()-window.peer5.getConfig("MINIMUM_HTTP_CONSTRAINT"));[e,t].forEach(function(e){Object.defineProperty(e,"trequest",{configurable:!0,set:function(){},get:function(){return t._delay?performance.now()-t._delay:r}})})}(e,this.frag,this._trequest,t._constraint)},this.loadend=function(t){var e=t.currentTarget.status,i=this.stats;i.aborted||(window.clearTimeout(this.requestTimeout),e>=200&&e<300?(window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&n(t,i),i.tload=Math.max(i.tfirst,performance.now()),this.onSuccess(t,i)):i.retry>=this.maxRetry||e>=400&&e<499?this.onError(t):(this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,64e3),i.retry++))},this.loadtimeout=function(t){this.onTimeout(t,this.stats)},this.loadprogress=function(t){var e=this.stats;t.loadedHTTP>0&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&n(t,e),0===e.tfirst&&(e.tfirst=Math.max(performance.now(),e.trequest)),e.loaded=t.loaded,this.onProgress&&this.onProgress(t,e)}}},33:function(t,e){function n(t,e){if(t.currentTarget.getSpeed){var n=t.currentTarget.getSpeed();n&&(e._delay=t.loaded/n*1e3,e.tfirst=e.trequest)}}t.exports=function(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup),this.destroy=function(){this.abort(),this.loader=null},this.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},this.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.trequest=performance.now(),this.stats={trequest:this.trequest,retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},this.loadInternal=function(){var t,e=this.context;t="arraybuffer"===e.responseType?this.loader=new window.peer5.FragmentRequest:this.loader=new window.peer5.PlaylistRequest;var n=this.stats;n.tfirst=0,n.loaded=0,t.getSpeed&&window.peer5.getConfig("ALWAYS_OVERRIDE_BW")&&(n.bw=t.getSpeed());var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(n){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType;var r=window.peer5.getConfig("MEDIA_FRAGMENT_TIMEOUT")||this.config.timeout;this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),r),t.send(),t._constraint&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&function(t,e,n){var i=Math.max(e,n()-window.peer5.getConfig("MINIMUM_HTTP_CONSTRAINT"));Object.defineProperty(t,"trequest",{configurable:!0,set:function(){},get:function(){return t._delay?performance.now()-t._delay:i}})}(n,this.trequest,t._constraint)},this.readystatechange=function(t){var e=t.currentTarget,i=e.readyState,r=this.stats,o=this.context,a=this.config;if(!r.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===i){var s=e.status;if(s>=200&&s<300){var l,u;window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&n(t,r),r.tload=Math.max(r.tfirst,performance.now()),u="arraybuffer"===o.responseType?(l=e.response).byteLength:(l=e.responseText).length,e.getSpeed&&(r.bw=e.getSpeed()),r.loaded=r.total=u;var c={url:e.responseURL||o.url,data:l};this.callbacks.onSuccess(c,r,o,e)}else r.retry>=a.maxRetry||s>=400&&s<499?this.callbacks.onError({code:s,text:e.statusText},o,e):(this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}else{var d=window.peer5.getConfig("MEDIA_FRAGMENT_TIMEOUT")||this.config.timeout;this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),d||a.timeout)}},this.loadtimeout=function(){this.callbacks.onTimeout(this.stats,this.context,null)},this.loadprogress=function(t){var e=t.currentTarget,i=this.stats;t.loadedHTTP>0&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&n(t,i),i.loaded=t.loaded,e.getSpeed&&(i.bw=e.getSpeed()),t.lengthComputable&&(i.total=t.total);var r=this.callbacks.onProgress;r&&r(i,this.context,null,e)}}},121:function(t,e,n){var i=n(31);window.peer5&&(window.peer5.HlsJsLoader=i,window.peer5.HlsJsFragmentLoader=i,window.peer5.HlsJsPlaylistLoader=i)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringToArray=function(t){for(var e=new ArrayBuffer(2*t.length),n=new Uint16Array(e),i=0,r=t.length;i<r;i++)n[i]=t.charCodeAt(i);return n},e.arrayToString=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},e.base64EncodeUint8Array=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=0;for(;c<t.length;)i=t[c++],r=c<t.length?t[c++]:Number.NaN,o=c<t.length?t[c++]:Number.NaN,a=i>>2,s=(3&i)<<4|r>>4,l=(15&r)<<2|o>>6,u=63&o,isNaN(r)?l=u=64:isNaN(o)&&(u=64),n+=e.charAt(a)+e.charAt(s)+e.charAt(l)+e.charAt(u);return n},e.base64DecodeUint8Array=function(t){var e=window.atob(t),n=e.length,i=new Uint8Array(new ArrayBuffer(n)),r=0;for(;r<n;r++)i[r]=e.charCodeAt(r);return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=n(120),l=(i=s)&&i.__esModule?i:{default:i};var u=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i)));return o._levels=[],o._pendingAdaptationEvent=!1,o._isShakaReadyState=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.HTML5Video),o(e,[{key:"name",get:function(){return"dash_shaka_playback"}},{key:"shakaVersion",get:function(){return l.default.player.Player.version}},{key:"shakaPlayerInstance",get:function(){return this._player}},{key:"levels",get:function(){return this._levels}},{key:"currentLevel",set:function(t){var e=this;this._currentLevelId=t;var n=-1===this._currentLevelId;this.trigger(a.Events.PLAYBACK_LEVEL_SWITCH_START),n?(this._player.configure({abr:{enabled:!0}}),this.trigger(a.Events.PLAYBACK_LEVEL_SWITCH_END)):(this._player.configure({abr:{enabled:!1}}),this._pendingAdaptationEvent=!0,this.selectTrack(this.videoTracks.filter(function(t){return t.id===e._currentLevelId})[0]))},get:function(){return this._currentLevelId||-1}}],[{key:"canPlay",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";l.default.polyfill.installAll();var n=l.default.Player.isBrowserSupported(),i=t.split("?")[0].match(/.*\.(.*)$/)||[];return n&&("mpd"===i[1]||e.indexOf("application/dash+xml")>-1)}},{key:"Events",get:function(){return{SHAKA_READY:"shaka:ready"}}}]),o(e,[{key:"play",value:function(){this._player||this._setup(),this.isReady?(this._stopped=!1,this._src=this.el.src,r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this)):this.once(e.Events.SHAKA_READY,this.play)}},{key:"_setupSrc",value:function(){}},{key:"_ready",value:function(){}},{key:"_onShakaReady",value:function(){this._isShakaReadyState=!0,this.trigger(e.Events.SHAKA_READY),this.trigger(a.Events.PLAYBACK_READY,this.name)}},{key:"error",value:function(t){a.Log.error("an error was raised by the video tag",t,this.el.error)}},{key:"isHighDefinitionInUse",value:function(){return!!this.highDefinition}},{key:"stop",value:function(){var t=this;clearInterval(this.sendStatsId),this._stopped=!0,this._player?(this._sendStats(),this._player.unload().then(function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",t).call(t),t._player=null,t._isShakaReadyState=!1}).catch(function(){a.Log.error("shaka could not be unloaded")})):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this)}},{key:"getPlaybackType",value:function(){return(this.isReady&&this._player.isLive()?"live":"vod")||""}},{key:"selectTrack",value:function(t){if("text"===t.type)this._player.selectTextTrack(t);else{if("variant"!==t.type)throw new Error("Unhandled track type:",t.type);this._player.selectVariantTrack(t),t.mimeType.startsWith("video/")&&this._onAdaptation()}}},{key:"_enableShakaTextTrack",value:function(t){this.el.textTracks&&(this._shakaTTVisible=t,Array.from(this.el.textTracks).filter(function(t){return"subtitles"===t.kind}).forEach(function(e){return e.mode=!0===t?"showing":"hidden"}))}},{key:"_checkForClosedCaptions",value:function(){if(!this._ccIsSetup){if(this.hasClosedCaptionsTracks){this.trigger(a.Events.PLAYBACK_SUBTITLE_AVAILABLE);var t=this.closedCaptionsTrackId;this.closedCaptionsTrackId=t}this._ccIsSetup=!0}}},{key:"destroy",value:function(){var t=this;clearInterval(this.sendStatsId),this._player?this._player.destroy().then(function(){return t._destroy()}).catch(function(){t._destroy(),a.Log.error("shaka could not be destroyed")}):this._destroy(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"_setup",value:function(){var t=this;this._isShakaReadyState=!1,this._ccIsSetup=!1,this._player=this._createPlayer(),this._options.shakaConfiguration&&this._player.configure(this._options.shakaConfiguration),this._options.shakaOnBeforeLoad&&this._options.shakaOnBeforeLoad(this._player),this._player.load(this._options.src).then(function(){return t._loaded()}).catch(function(e){return t._setupError(e)})}},{key:"_createPlayer",value:function(){var t=new l.default.Player(this.el);return t.addEventListener("error",this._onError.bind(this)),t.addEventListener("adaptation",this._onAdaptation.bind(this)),t.addEventListener("buffering",this._onBuffering.bind(this)),t}},{key:"_onBuffering",value:function(t){if(!this._stopped){var e=t.buffering?a.Events.PLAYBACK_BUFFERING:a.Events.PLAYBACK_BUFFERFULL;this.trigger(e)}}},{key:"_loaded",value:function(){this._onShakaReady(),this._startToSendStats(),this._fillLevels(),this._checkForClosedCaptions()}},{key:"_fillLevels",value:function(){0===this._levels.length&&(this._levels=this.videoTracks.map(function(t){return{id:t.id,label:t.height+"p"}}).reverse(),this.trigger(a.Events.PLAYBACK_LEVELS_AVAILABLE,this.levels))}},{key:"_startToSendStats",value:function(){var t=this,e=this._options.shakaSendStatsInterval||3e4;this.sendStatsId=setInterval(function(){return t._sendStats()},e)}},{key:"_sendStats",value:function(){this.trigger(a.Events.PLAYBACK_STATS_ADD,this._player.getStats())}},{key:"_setupError",value:function(t){this._onError(t)}},{key:"_onError",value:function(t){var n={shakaError:t,videoError:this.el.error},i=n.shakaError.detail||n.shakaError,o=i.category,s=i.code,u=i.severity;if(n.videoError||!s&&!o)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_onError",this).call(this);var c={code:o+"_"+s,description:"Category: "+o+", code: "+s+", severity: "+u,level:u===l.default.util.Error.Severity.CRITICAL?a.PlayerError.Levels.FATAL:a.PlayerError.Levels.WARN,raw:t},d=this.createError(c);a.Log.error("Shaka error event:",d),this.trigger(a.Events.PLAYBACK_ERROR,d)}},{key:"_onAdaptation",value:function(){var t=this.videoTracks.filter(function(t){return!0===t.active})[0];this._fillLevels(),this._sendStats(),this._pendingAdaptationEvent_&&(this.trigger(a.Events.PLAYBACK_LEVEL_SWITCH_END),this._pendingAdaptationEvent=!1),a.Log.debug("an adaptation has happened:",t),this.highDefinition=t.height>=720,this.trigger(a.Events.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this.trigger(a.Events.PLAYBACK_BITRATE,{bandwidth:t.bandwidth,width:t.width,height:t.height,level:t.id})}},{key:"_destroy",value:function(){this._isShakaReadyState=!1,a.Log.debug("shaka was destroyed")}},{key:"isReady",get:function(){return this._isShakaReadyState}},{key:"textTracks",get:function(){return this.isReady&&this._player.getTextTracks()}},{key:"audioTracks",get:function(){return this.isReady&&this._player.getVariantTracks().filter(function(t){return t.mimeType.startsWith("audio/")})}},{key:"videoTracks",get:function(){return this.isReady&&this._player.getVariantTracks().filter(function(t){return t.mimeType.startsWith("video/")})}},{key:"closedCaptionsTracks",get:function(){var t=0;return(this.textTracks||[]).filter(function(t){return"subtitle"===t.kind}).map(function(e){return{id:t++,name:e.label||e.language,track:e}})}},{key:"closedCaptionsTrackId",get:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"closedCaptionsTrackId",this)},set:function(t){if(this._player){var e=this.closedCaptionsTracks,n=void 0;if(-1!==t){if(!(n=e.find(function(e){return e.id===t})))return void a.Log.warn('Track id "'+t+'" not found');if(this._shakaTTVisible&&!0===n.track.active)return void a.Log.info('Track id "'+t+'" already showing')}n?(this._player.selectTextTrack(n.track),this._enableShakaTextTrack(!0)):this._enableShakaTextTrack(!1),this._ccTrackId=t,this.trigger(a.Events.PLAYBACK_SUBTITLE_CHANGED,{id:t})}}}]),e}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(342),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=d(n(15)),a=d(n(6)),s=d(n(343)),l=d(n(344)),u=d(n(345)),c=d(n(10));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.options.hasOwnProperty("disableControlsOnPoster")||(n.options.disableControlsOnPoster=!0),n.options.disableControlsOnPoster&&n.container.disableMediaControl(),n._clicked=!1,n.render(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.UIContainerPlugin),i(e,[{key:"name",get:function(){return"poster"}},{key:"template",get:function(){return(0,r.template)(l.default)}},{key:"posterTemplate",get:function(){return this.video&&this.video.adult?this.options.env.posterAdultTemplate:this.options.env.posterTemplate}},{key:"availableHeights",get:function(){return[240,360,720]}},{key:"disableImage",get:function(){return this.options.poster&&this.options.poster.disableImage}},{key:"attributes",get:function(){return{class:"poster"}}},{key:"events",get:function(){return{click:"clicked"}}},{key:"posterImage",get:function(){if(!this._posterImage){if(!this.options.src||!this.options.sources||!this.options.sources.length)return null;var t=this.options.src||this.options.sources[0],e=Number(t)%4+1;this._posterImage=this.posterTemplate({domainNumber:e,size:"x"+this.imageHeight,videoId:t})}return this._posterImage}},{key:"imageHeight",get:function(){if(!this._imageHeight){var t=r.PlayerInfo.getInstance(this.options.playerId).currentSize.height;this._imageHeight=this.availableHeights.find(function(e){return e>=t})||this.lastArrayIndex(this.availableHeights)}return this._imageHeight}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.container.playback,a.default.WM_VIDEO_METADATA_LOADED,this.onVideoMetadataLoaded),this.listenTo(this.container,r.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,r.Events.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,r.Events.CONTAINER_STOP,this.onStop),this.listenTo(this.container,r.Events.CONTAINER_ENDED,this.onStop)}},{key:"onVideoMetadataLoaded",value:function(t){this.video=t,this.authorizePosterImage=!t.adult||this.options.allowRestrictedContent,this.authorizePosterImage&&!this.disableImage&&this.addPosterImage()}},{key:"onBuffering",value:function(){this._clicked=!0,this.hidePlayButton()}},{key:"onPlay",value:function(){this.$el.addClass("poster--hidden"),this.options.disableControlsOnPoster&&this.container.enableMediaControl()}},{key:"onStop",value:function(){this._clicked=!1,this.show()}},{key:"show",value:function(){this.$el.removeClass("poster--hidden"),this.options.disableControlsOnPoster&&this.container.disableMediaControl(),this.options.poster&&this.options.poster.disablePlayButton||r.Browser.isChromecast||this.showPlayButton()}},{key:"hidePlayButton",value:function(){this.$playButton.hide()}},{key:"showPlayButton",value:function(){this.$playButton.show()}},{key:"clicked",value:function(){if(!this._clicked)return this.container.playback.trigger(a.default.WM_PLAY_REQUESTED),this.hidePlayButton(),this._clicked=!0,!1}},{key:"render",value:function(){var t=this,e=o.default.getStyleFrom(s.default,{playerId:this.options.playerId});return this.$el.html(this.template()),this.$el.append(e[0]),this.container.$el.append(this.el),this.$playButton=this.$el.find(".poster__play-wrapper"),this.$playButton.append(u.default),this.options.autoPlay&&this.hidePlayButton(),c.default.autoplayManager.onAutoplayAvailable(function(){return t.hidePlayButton()},this.options,function(){c.default.autoplayManager.isAutoPlayMutedAllowed(t.options)||t._clicked||t.showPlayButton()}),this}},{key:"addPosterImage",value:function(){if(this.posterImage){this.container.options.poster=this.posterImage,this.imgEl=this.$(".poster__background"),this.imgEl.css({"background-image":"url("+this.posterImage+")"}),this.$el.prepend(this.imgEl[0]);var t=this.container.$el.find("video");t.length&&(t[0].poster=this.posterImage)}}},{key:"lastArrayIndex",value:function(t){var e=Array.isArray(t)?t.length:0;return e?t[e-1]:void 0}}]),e}();e.default=h,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .poster{cursor:pointer;position:absolute;height:100%;width:100%;z-index:998;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;visibility:visible;opacity:1;transition:visibility .3s ease,opacity .3s ease}.clappr-player#wp3-player-0 .poster--hidden{visibility:hidden;opacity:0}.clappr-player#wp3-player-0 .poster:hover .poster__play-wrapper{-webkit-filter:drop-shadow(0 0 15px hsla(0,0%,100%,.5));filter:drop-shadow(0 0 15px rgba(255,255,255,.5))}.clappr-player#wp3-player-0 .poster__background{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.clappr-player#wp3-player-0 .poster__background-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .poster__play-wrapper{width:100%;height:30%;text-align:center;opacity:.97;transition:-webkit-filter .3s;transition:filter .3s;transition:filter .3s,-webkit-filter .3s}.clappr-player#wp3-player-0 .poster__play-wrapper svg{height:100%;display:inline}",""])},function(t,e){t.exports='<div class="poster__background"></div>\n<div class="poster__background-overlay"></div>\n<div class="poster__play-wrapper"></div>\n'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M8 6.267c0-.661.468-.931 1.04-.601l9.93 5.733c.573.33.573.871 0 1.202l-9.93 5.733c-.572.33-1.04.06-1.04-.6V6.266z" fill="#FFF"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(347),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=d(n(15)),a=d(n(348)),s=d(n(349)),l=d(n(350)),u=d(n(6)),c=d(n(10));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.render(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.UIContainerPlugin),i(e,[{key:"name",get:function(){return"spinner"}},{key:"template",get:function(){return(0,r.template)(s.default)}},{key:"playback",get:function(){return this.container.playback}},{key:"attributes",get:function(){return{class:"spinner spinner--hidden"}}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.playback,u.default.WM_PLAY_REQUESTED,this.start),this.listenTo(this.container,r.Events.CONTAINER_STATE_BUFFERING,this.start),this.listenTo(this.container,r.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferfull),this.listenTo(this.container,r.Events.CONTAINER_PLAY,this.stop),this.listenTo(this.container,r.Events.CONTAINER_STOP,this.stop),this.listenTo(this.container,r.Events.CONTAINER_ERROR,this.stop)}},{key:"enable",value:function(){this.enabled||(this.bindEvents(),this.enabled=!0)}},{key:"disable",value:function(){this.stop(),this.stopListening(),this.enabled=!1}},{key:"start",value:function(){var t=this;clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){t.$el.removeClass("spinner--hidden"),t.$el.addClass("spinner__svg--animated"),t.isVisible=!0,t.container.trigger(u.default.WM_SPINNER_START)},300)}},{key:"stop",value:function(){clearTimeout(this.timeoutId),this.isVisible&&(this.isVisible=!1,this.$el.removeClass("spinner__svg--animated"),this.$el.addClass("spinner--hidden"),this.container.trigger(u.default.WM_SPINNER_STOP))}},{key:"onBufferfull",value:function(){var t=this.playback&&this.playback.videoEl;t&&t.currentTime>0?this.stop():this.listenToOnce(this.container,r.Events.CONTAINER_TIMEUPDATE,this.stop)}},{key:"render",value:function(){var t=this;this.$el.html(this.template({spinnerIcon:l.default}));var e=o.default.getStyleFrom(a.default,{playerId:this.options.playerId});return this.container.$el.append(e[0]),this.container.$el.append(this.$el),this.options.autoPlay?this.start():this.stop(),c.default.autoplayManager.onAutoplayAvailable(function(){return t.start()},this.options,function(){c.default.autoplayManager.isAutoPlayMutedAllowed(t.options)||t.stop()}),this}}]),e}();e.default=h,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .spinner{position:absolute;top:50%;left:50%;z-index:998;width:48px;height:48px;margin:-24px 0 0 -24px}.clappr-player#wp3-player-0 .spinner__svg{line-height:100%;height:100%;width:100%}.clappr-player#wp3-player-0 .spinner__svg--animated{-webkit-animation:rotate-spinner-player .5s linear infinite normal forwards;animation:rotate-spinner-player .5s linear infinite normal forwards}.clappr-player#wp3-player-0 .spinner--hidden{display:none}@-webkit-keyframes rotate-spinner-player{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate-spinner-player{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},function(t,e){t.exports='<figure class="spinner__svg">\n  <%= spinnerIcon %>\n</figure>\n'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M2.4 12c0-5.302 4.298-9.6 9.6-9.6.663 0 1.2.537 1.2 1.2 0 .663-.537 1.2-1.2 1.2-3.976 0-7.2 3.224-7.2 7.2 0 .663-.537 1.2-1.2 1.2-.663 0-1.2-.537-1.2-1.2z" fill="#FFF"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(6),s=(i=a)&&i.__esModule?i:{default:i},l=n(10),u=n(121);var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.url=n.options.env.webmediaApiHit,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ContainerPlugin),r(e,[{key:"name",get:function(){return"webmedia_api_hit"}},{key:"type",get:function(){return o.Browser.isMobile?"mobile_browser":"desktop"}}]),r(e,[{key:"bindEvents",value:function(){this.stopListening(),this.listenToOnce(this.container.playback,s.default.WM_RESOURCE_READY,this.fillIds),this.listenToOnce(this.container.playback,o.Events.PLAYBACK_PLAY,this.seed),this.listenToOnce(this.container.playback,o.Events.PLAYBACK_ENDED,this.bindEvents),this.listenToOnce(this.container.playback,o.Events.PLAYBACK_STOP,this.bindEvents)}},{key:"fillIds",value:function(t){this.videoId=t.id,this.programId=t.programId}},{key:"seed",value:function(){var t=this;if(this.videoId&&this.programId){var e="hitStats_"+ +new Date,n="/hits/"+this.videoId+"?type="+this.type+"&callback="+e,i=""+this.url+n;l.Ajax.jsonp({url:i,callbackName:e,timeout:5e3}).then(function(e){return t.hit(e)},this.logError)}else this.logError("no argument was passed")}},{key:"hit",value:function(t){var e=t.data,n=""+e+(0,u.hexGrf)(e+"w3bM3d!A"),i="hitIncStats_"+ +new Date,r="/hits/"+this.videoId+"/"+this.programId+"/"+n+"?type="+this.type+"&callback="+i,o=""+this.url+r;(0,l.loadUrlAsImage)(o)}},{key:"logError",value:function(t){o.Log.error(this.name,"Webmedia api hit was not possible because ",t)}}]),e}();e.default=c,t.exports=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(353),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=d(n(354)),a=d(n(6)),s=d(n(15)),l=d(n(10)),u=d(n(355)),c=d(n(356));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.render(),n.createCachedElements(),n.playerInfo=r.PlayerInfo.getInstance(n.options.playerId),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.UIContainerPlugin),i(e,[{key:"attributes",get:function(){return{class:"subtitle__wrapper","data-subtitle":""}}},{key:"name",get:function(){return"subtitle"}},{key:"template",get:function(){return(0,r.template)(c.default)}}]),i(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.container,r.Events.CONTAINER_TIMEUPDATE,this.updateSubtitle),this.listenTo(this.container,a.default.WM_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(this.container,a.default.WM_SUBTITLE_AVAILABLE,this.onSubtitleAvailable),this.listenTo(this.container,r.Events.CONTAINER_MEDIACONTROL_SHOW,function(){return t.onMediaControlShow()}),this.listenTo(this.container,r.Events.CONTAINER_MEDIACONTROL_HIDE,function(){return t.onMediaControlHide()}),this.listenTo(this.container,a.default.WM_MASTERTOPIP,function(){return t.$el.hide()}),this.listenTo(this.container,a.default.WM_PIPTOMASTER,function(){return t.$el.show()}),r.Mediator.on(this.options.playerId+":"+r.Events.PLAYER_RESIZE,this.onPlayerResize,this),this.listenToOnce(this.container,r.Events.CONTAINER_PLAY,this.onPlay)}},{key:"onPlay",value:function(){this.createCachedElements(),this.updateSizeWithPlayerInfoData(),this.updateResponsiveStyle()}},{key:"updateSizeWithPlayerInfoData",value:function(){var t=this.playerInfo.computedSize&&this.playerInfo.computedSize.width,e=this.playerInfo.computedSize&&this.playerInfo.computedSize.height;this.currentWidth=t&&"number"==typeof t?t:this.currentWidth,this.currentHeight=e&&"number"==typeof e?e:this.currentHeight}},{key:"onSubtitleAvailable",value:function(t,e){this.availableSubtitles=t,this.availableContents=e.map(function(t){return t&&new o.default(t)}),this.setInitialSubtitle()}},{key:"onMediaControlShow",value:function(){this.updateMediaControlOffset()}},{key:"onMediaControlHide",value:function(){this.$el.css({transform:"translateY(0px)"})}},{key:"onPlayerResize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.width&&"number"==typeof t.width&&(this.currentWidth=t.width,this.currentHeight=t.height,this.updateResponsiveStyle())}},{key:"updateResponsiveStyle",value:function(){this.updateSize(),this.updateStyle()}},{key:"setInitialSubtitle",value:function(){var t=this.availableSubtitles.find(function(t){return t.selected});this.onSubtitleChanged(t)}},{key:"onSubtitleChanged",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.availableContents[t.id];e?(this.srtParser=e,this.$el.show()):(delete this.srtParser,delete this.currentItem,this.$subtitle.html(""),this.$el.hide())}},{key:"updateSize",value:function(){l.default.applySizeClass(this.$el,this.container.$el.width())}},{key:"updateStyle",value:function(){this.updateFontSize(),this.updateVerticalPosition(),this.updateMediaControlOffset()}},{key:"updateMediaControlOffset",value:function(){this.$el.css({transform:"translateY("+this.getMediaControlOffset()+"px)"})}},{key:"updateFontSize",value:function(){this.$subtitle.css({fontSize:this.getFontSize()})}},{key:"updateVerticalPosition",value:function(){this.$el.css({bottom:this.getVerticalPosition()})}},{key:"updateSubtitle",value:function(t){var e=1e3*t.current;if(this.srtParser){var n=this.srtParser.isCurrentSubtitle(this.currentItem&&this.currentItem.subtitle,e);n||(this.currentItem=this.srtParser.subtitleAt(this.currentItem&&this.currentItem.index+1),(n=this.srtParser.isCurrentSubtitle(this.currentItem&&this.currentItem.subtitle,e))||(this.currentItem=this.srtParser.subtitleBy(e)),this.currentItem&&this.$subtitle.html(this.currentItem.subtitle.content),this.currentItem?this.$subtitle.removeClass("subtitle--hidden"):this.$subtitle.addClass("subtitle--hidden"))}}},{key:"getMediaControlLowerHeight",value:function(){return this.$mediaControlPanelLower&&this.$mediaControlPanelLower.getBoundingClientRect().height||80}},{key:"getMediaControlOffset",value:function(){var t=this.getMediaControlLowerHeight()-this.$el.css("bottom").replace("px","");return t<0?0:-t}},{key:"getVerticalPosition",value:function(){return this.currentHeight/12}},{key:"getFontSize",value:function(){return this.currentWidth<560?14:2.5*this.currentWidth/100}},{key:"createCachedElements",value:function(){this.$subtitle=this.$el.find(".subtitle");var t=".clappr-player#wp3-player-"+this.options.playerId+" .media-control-panel__lower";this.$mediaControlPanelLower=document.querySelector(t)}},{key:"shouldRender",value:function(t){return this.subtitleHidden||t!==this.currentItem}},{key:"render",value:function(){var t=s.default.getStyleFrom(u.default,{playerId:this.options.playerId});return this.$el.html(this.template()),this.$el.append(t[0]),this.$el.hide(),this.container.$el.append(this.$el),this}}]),e}();e.default=h,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0);var o=/\n?(\r?\n){2}/,a=/\r?\n/,s=/([0-9]{2}):([0-9]{2}):([0-9]{2}),([0-9]*)?/,l=/[0-9:,]+/g,u=/[^\S\r\n]+$/gm,c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.subtitleItems=[];var i=t.replace(u,"").split(o).filter(function(t){return n.isValid(t)});return n.subtitleItems=i.map(function(t){return n.parseSubtitle(t)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.BaseObject),i(e,[{key:"isCurrentSubtitle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return e>=t.start&&e<=t.end}},{key:"subtitleAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.subtitleItems[t]}},{key:"subtitleBy",value:function(t){for(var e=0,n=this.subtitleItems.length-1,i=Math.floor((e+n)/2);!this.isCurrentSubtitle(this.subtitleItems[i],t)&&e<n;)t>this.subtitleItems[i].start?e=i+1:n=i-1,i=Math.floor((e+n)/2);return this.isCurrentSubtitle(this.subtitleItems[i],t)?{index:i,subtitle:this.subtitleItems[i]}:void 0}},{key:"isValid",value:function(t){return t&&""!==t.trim()}},{key:"millisFromTimestamp",value:function(t){t=t.match(s);var e=60*parseInt(t[1])*60*1e3;return e+=60*parseInt(t[2])*1e3,e+=1e3*parseInt(t[3]),t[4]&&(e+=parseInt(t[4])),e}},{key:"parseSubtitle",value:function(t){var e=-1,n=-1,i="",r=t.split(a);if(r.length>=2){var o=r[1].match(l);if(o[0]&&(e=this.millisFromTimestamp(o[0])),o[1]&&(n=this.millisFromTimestamp(o[1])),-1!==e&&-1!==n)i=r.slice(2).join("<br>");return{start:e,end:n,content:i}}}}]),e}();e.default=c,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .subtitle{background-color:rgba(0,0,0,.7);border-radius:.1429em;position:relative;font-family:opensans-regular,sans-serif;font-size:14px;color:#f1f1f1;line-height:1.4;padding:.0714em .4286em .1429em;margin:0 auto}.clappr-player#wp3-player-0 .subtitle--hidden{visibility:hidden;opacity:0}.clappr-player#wp3-player-0 .subtitle__wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;bottom:0;position:absolute;width:100%;z-index:993;will-change:transform;transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out}.clappr-player#wp3-player-0 .cast-connecting .subtitle__wrapper,.clappr-player#wp3-player-0 .cast-enabled .subtitle__wrapper{display:none}",""])},function(t,e){t.exports='<p class="subtitle"></p>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(358),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=c(n(15)),a=c(n(359)),s=c(n(360)),l=c(n(6)),u=c(n(5));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.host=n.options.env.waitingRoomHost,n.rendered=!1,n.queryString="",n.response={},n.authorizeCallback=function(){n.container.playback.trigger(l.default.WM_WROOM_AUTHORIZED,n.response)},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.UIContainerPlugin),i(e,[{key:"name",get:function(){return"waiting_room"}},{key:"template",get:function(){return(0,r.template)(s.default)}},{key:"attributes",get:function(){return{class:"waiting-room"}}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.container.playback,l.default.WM_WROOM_AUTHORIZE,this.authorize)}},{key:"authorize",value:function(t){var e=this;this.data=t,u.default.ajax({url:this.host+this.queryString,cache:!0,dataType:"jsonp",timeout:5e3,success:function(t){return e.onResponse(t)},error:function(){return e.authorizeCallback()}})}},{key:"onResponse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.response=t,t.pass||void 0===t.pass?(this.rendered&&this.$el.hide(),this.authorizeCallback()):(this.queryString="?token="+t.token,this.setRetryInterval(),this.render(),this.retryID=setTimeout(this.retry.bind(this),this.retryInterval),this.countdownID=setInterval(this.updateCountdown.bind(this),1e3),this.countdownStart=Date.now(),this.container.playback.trigger(l.default.WM_WROOM_WAITING))}},{key:"retry",value:function(){clearInterval(this.retryID),clearInterval(this.countdownID),this.authorize(this.data),this.countdownStart=Date.now()}},{key:"updateCountdown",value:function(){var t=this.retryInterval-(Date.now()-this.countdownStart);this.$el.find(".waiting-room__countdown").text(this.toSeconds(t))}},{key:"isPip",value:function(t){t?this.$el.find(".waiting-room__main-text").fadeOut("fast"):this.$el.find(".waiting-room__main-text").fadeIn(1e3)}},{key:"toSeconds",value:function(t){return Math.floor(t/1e3)}},{key:"setRetryInterval",value:function(){this.retryInterval=Math.round(-2e4*Math.random())+5e4}},{key:"render",value:function(){if(!this.rendered){this.$el.html(this.template());var t=o.default.getStyleFrom(a.default,{baseUrl:this.options.baseUrl,playerId:this.options.playerId});return this.$el.append(t[0]),this.container.$el.append(this.$el),this.rendered=!0,this}}}]),e}();e.default=d,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .waiting-room{display:-ms-flexbox;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#202020;background-size:cover;z-index:999;position:absolute;height:100%;width:100%;top:0}.clappr-player#wp3-player-0 .waiting-room__aligner{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:100%}.clappr-player#wp3-player-0 .waiting-room__main-text{color:#ccc;font-family:opensans-bold,sans-serif;font-size:18px;width:100%;left:0}.clappr-player#wp3-player-0 .waiting-room__countdown{color:#ccc;font-family:opensans-bold,sans-serif;font-size:18px;margin:0 auto;background-color:rgba(0,0,0,.5);border-radius:50%;width:50px;height:50px;line-height:50px;display:inline-block;text-align:center}",""])},function(t,e){t.exports='<div class="waiting-room__aligner">\n<div class="waiting-room__main-text">Estamos lotados! Tentaremos carregar a transmisso novamente em </div>\n<p class="waiting-room__countdown"></p>\n</div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=h(o),s=h(n(5)),l=h(n(120)),u=h(n(77)),c=h(n(6)),d=n(318);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Player),i(e,[{key:"_addEventListeners",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_addEventListeners",this).call(this),this.listenTo(this.core,c.default.WM_PIP_ADDED,this.onPipAdded),this.listenTo(this.core,c.default.WM_PIP_DISCARDED,this.onPipDiscarded),this.listenTo(this.core,c.default.WM_MASTER_ADDED,this.onMasterAdded),this.listenTo(this.core,c.default.WM_MASTER_CHANGED,this.onMasterChanged),this.listenTo(this.core.mediaControl,o.Events.MEDIACONTROL_SHOW,function(){return t.trigger(c.default.PLAYER_MEDIACONTROL_SHOW)}),this.listenTo(this.core.mediaControl,o.Events.MEDIACONTROL_HIDE,function(){return t.trigger(c.default.PLAYER_MEDIACONTROL_HIDE)})}},{key:"_addContainerEventListeners",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_addContainerEventListeners",this).call(this);var t=this.core.getCurrentContainer(),n=this.core.getCurrentPlayback();this.listenTo(t,c.default.WM_PIPTOMASTER,this.onPipToMaster),this.listenTo(t,c.default.WM_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(t,c.default.WM_AUDIO_CHANGED,this.onAudioChanged),this.listenTo(n,c.default.WM_RESOURCE_READY,this.onResourceReady),this.listenTo(n,c.default.WM_PLAYBACK_CAN_PLAY,this.onCanPlay)}},{key:"onSubtitleChanged",value:function(t){this.trigger(c.default.WM_SUBTITLE_CHANGED,t)}},{key:"onAudioChanged",value:function(t){this.trigger(c.default.WM_AUDIO_CHANGED,t)}},{key:"onCanPlay",value:function(){this.trigger(c.default.PLAYER_CAN_PLAY)}},{key:"onPipAdded",value:function(){this.trigger(c.default.PLAYER_PIP_ADDED)}},{key:"onPipDiscarded",value:function(){this.trigger(c.default.PLAYER_PIP_DISCARDED)}},{key:"onMasterAdded",value:function(){this.trigger(c.default.PLAYER_MASTER_ADDED)}},{key:"onMasterChanged",value:function(){this.trigger(c.default.PLAYER_MASTER_CHANGED)}},{key:"onPipToMaster",value:function(){this.trigger(c.default.PLAYER_PIPTOMASTER)}},{key:"onResourceReady",value:function(t){if(this.options.onAuthorized){var e=t&&t.selectedResource&&t.selectedResource.hashData;e&&this.options.onAuthorized(e)}}},{key:"version",value:function(){return"5.6.6"}},{key:"allVersions",value:function(){return{Player:"5.6.6",Clappr:a.default.version,ShakaPlayer:l.default.Player.version,HLSjs:u.default.version}}},{key:"resize",value:function(t){(0,s.default)(this.element).css({width:t.width,height:t.height}),this.core&&r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resize",this).call(this,t)}},{key:"eventsMapping",get:function(){return Object.assign(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"eventsMapping",this),{onPipAdded:c.default.PLAYER_PIP_ADDED,onPipDiscarded:c.default.PLAYER_PIP_DISCARDED,onMasterAdded:c.default.PLAYER_MASTER_ADDED,onMasterChanged:c.default.PLAYER_MASTER_CHANGED,onPipToMaster:c.default.PLAYER_PIPTOMASTER,onMediaControlShow:c.default.PLAYER_MEDIACONTROL_SHOW,onMediaControlHide:c.default.PLAYER_MEDIACONTROL_HIDE,onCanPlay:c.default.PLAYER_CAN_PLAY,onSubtitleChanged:c.default.WM_SUBTITLE_CHANGED,onAudioChanged:c.default.WM_AUDIO_CHANGED})}},{key:"defaultOptions",get:function(){return d.DEFAULT_OPTIONS}}]),e}();e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(6),s=(i=a)&&i.__esModule?i:{default:i};var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.focusElement=t.focusElement,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.UIObject),r(e,[{key:"name",get:function(){return"basic_media_control"}},{key:"attributes",get:function(){return{class:"basic_media_control"}}}]),r(e,[{key:"configure",value:function(){}},{key:"setContainer",value:function(t){this.container&&this.stopListening(this.container),this.container=t,this.trigger(o.Events.MEDIACONTROL_CONTAINERCHANGED)}},{key:"setVolume",value:function(t){this.container.setVolume(t)}},{key:"setUserKeepVisible",value:function(){this.trigger(s.default.MEDIACONTROL_KEEPVISIBLE,!0)}},{key:"resetUserKeepVisible",value:function(){this.trigger(s.default.MEDIACONTROL_KEEPVISIBLE,!1)}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"destroy",value:function(){this.remove()}},{key:"show",value:function(t){o.Browser.isMobile&&t&&"mousemove"===t.type||this.trigger("BASIC_MEDIACONTROL_SHOW")}},{key:"hide",value:function(){this.container&&this.trigger("BASIC_MEDIACONTROL_HIDE")}},{key:"fullscreen",value:function(){this.trigger(o.Events.MEDIACONTROL_FULLSCREEN,this.name)}},{key:"render",value:function(){return this.$el.hide(),this.trigger(o.Events.MEDIACONTROL_RENDERED),this}}]),e}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMediaControlPlugins=e.getPluginsWithState=e.mergePlugins=e.Plugins=void 0;var i=F(n(10)),r=F(n(364)),o=F(n(368)),a=F(n(372)),s=F(n(376)),l=F(n(379)),u=F(n(383)),c=F(n(387)),d=F(n(396)),h=F(n(400)),p=F(n(404)),f=F(n(408)),y=F(n(410)),v=F(n(432)),g=F(n(436)),m=F(n(442)),b=F(n(454)),_=n(44),A=F(n(325)),E=F(n(463)),w=F(n(340)),T=F(n(466)),k=F(n(296)),S=F(n(302)),C=F(n(306)),O=F(n(341)),P=F(n(346)),R=F(n(468)),I=F(n(351)),x=F(n(352)),L=F(n(307)),D=F(n(469)),M=F(n(310)),N=F(n(357)),B=F(n(313)),U=F(n(475));function F(t){return t&&t.__esModule?t:{default:t}}e.Plugins={GloboMediaControl:r.default,Pip:f.default,Settings:y.default,LiveButton:p.default,ThumbPreview:v.default,IdPlayback:A.default,Comscore:C.default,Poster:O.default,Spinner:P.default,StreamSense:R.default,WebmediaAPIHit:I.default,Subtitle:x.default,Horizon:L.default,HorizonRecurrentSignals:D.default,WaitingRoom:N.default,VideoInfo:g.default,ClapprStats:T.default,Sentry:b.default,ErrorScreen:_.ErrorScreen,BitrateCapping:U.default},e.mergePlugins=function(t,e){var n={core:[b.default,r.default,o.default,s.default,p.default,l.default,u.default,v.default,h.default,a.default,y.default,g.default,f.default,d.default,_.ErrorScreen],playback:[A.default,E.default,w.default],container:[k.default,S.default,x.default,O.default,P.default,R.default,C.default,I.default,L.default,D.default,N.default,T.default,B.default,M.default,U.default]};return Object.keys(e).forEach(function(t){e[t].forEach(function(e){e.enabled&&n[t].push(e.plugin)})}),t&&(n.core=i.default.mergePlugins(n.core,t.core),n.playback=i.default.mergePlugins(n.playback,t.playback),n.container=i.default.mergePlugins(n.container,t.container)),n},e.getPluginsWithState=function(t){return{container:[],core:[{plugin:m.default,enabled:t.chromecast.enabled},{plugin:c.default,enabled:t.sharePlugin.enabled}]}},e.mergeMediaControlPlugins=function(){var t=["play_button","time_indicator","live_button","volume","seekbar","seekbar_info","fullscreen_button","settings","video_info","share"],e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return e&&-1===t.indexOf(e)});return t.concat(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(365),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(10),s=h(n(6)),l=n(54),u=h(n(15)),c=h(n(366)),d=h(n(367));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.container=t.options.container,n.keepVisible=!1,n.userDisabled=!1,n.userKeepVisible=!1,n.isRendered=!1,n.kibo=new l.Kibo(n.mediaControl.focusElement),(n.container&&n.container.mediaControlDisabled||n.core.options.chromeless)&&n.disable(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.UICorePlugin),r(e,[{key:"toggleMediaControl",value:function(){this.isVisible()?this.hideDelayed(0,!0):this.show()}},{key:"getPanel",value:function(t){return this.$el.find(".media-control-panel__"+t)}},{key:"name",get:function(){return"globo_media_control"}},{key:"disabled",get:function(){return this.userDisabled||this.container&&this.container.getPlaybackType()===o.Playback.NO_OP}},{key:"attributes",get:function(){return{class:"media-control"+(o.Browser.isMobile?" mobile":"")+(o.Browser.supportsTouchEvents?" touch":"")}}},{key:"events",get:function(){var t={click:"toggleMediaControl"},e={"mouseenter [data-controls]":"setUserKeepVisible","mouseleave [data-controls]":"resetUserKeepVisible"},n=i({},t,e,{touchend:this.resetUserKeepVisible});return o.Browser.isHybridDevice?n:o.Browser.isMobile?t:e}},{key:"template",get:function(){return(0,o.template)(d.default)}},{key:"mediaControl",get:function(){return this.core.mediaControl}}]),r(e,[{key:"getExternalInterface",value:function(){return{showMediaControlPanel:this.showPanel,hideMediaControlPanel:this.hidePanel}}},{key:"bindEvents",value:function(){var t=this;this.listenTo(this.mediaControl,o.Events.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.mediaControl,o.Events.MEDIACONTROL_CONTAINERCHANGED,this.setContainer),this.listenTo(this.mediaControl,"BASIC_MEDIACONTROL_SHOW",this.show),this.listenTo(this.mediaControl,"BASIC_MEDIACONTROL_HIDE",this.hide),this.listenTo(this.mediaControl,o.Events.CONTAINER_MEDIACONTROL_ENABLE,this.enable),this.listenTo(this.mediaControl,o.Events.CONTAINER_MEDIACONTROL_DISABLE,this.disable),this.listenTo(this.mediaControl,s.default.MEDIACONTROL_MODAL_SHOW,this.showModal),this.listenTo(this.mediaControl,s.default.MEDIACONTROL_MODAL_HIDE,this.hideModal),this.listenTo(this.mediaControl,s.default.MEDIACONTROL_KEEPVISIBLE,function(e){return e?t.setUserKeepVisible():t.resetUserKeepVisible()}),this.listenTo(this.mediaControl,s.default.MEDIACONTROL_ITEMCLICKED,this.resetFocus)}},{key:"bindContainerEvents",value:function(){this.container&&(this.container.trigger(o.Events.CONTAINER_PLAYBACKDVRSTATECHANGED,this.container.isDvrInUse()),o.Mediator.on(this.options.playerId+":"+o.Events.PLAYER_RESIZE,this.playerResize,this),this.listenTo(this.container,o.Events.CONTAINER_PLAY,this.updatePlaybackTypeClass),this.listenTo(this.container,o.Events.CONTAINER_STATE_BUFFERING,this.updatePlaybackTypeClass),this.listenTo(this.container,o.Events.CONTAINER_MEDIACONTROL_DISABLE,this.disable),this.listenTo(this.container,o.Events.CONTAINER_MEDIACONTROL_ENABLE,this.enable),this.listenTo(this.container,o.Events.CONTAINER_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.container,s.default.DFP_AD_SKIPPED,this.resetFocus),this.listenTo(this.container,s.default.DFP_AD_CLICKED,this.resetFocus),this.container.mediaControlDisabled&&this.disable())}},{key:"setContainer",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),o.Mediator.off(this.options.playerId+":"+o.Events.PLAYER_RESIZE,this.playerResize,this),this.bindContainerEvents(),this.updatePlaybackTypeClass()}},{key:"settingsUpdate",value:function(){var t=this;setTimeout(function(){t.playerResize(o.PlayerInfo.getInstance(t.options.playerId).computedSize)},100)}},{key:"createCachedElements",value:function(){this.$modal=this.$el.find(".media-control-panel__modal")}},{key:"initMediaControlPlugins",value:function(){var t=this;this.options.mediacontrol&&this.options.mediacontrol.plugins&&this.options.mediacontrol.plugins.forEach(function(e){return t.renderMediaControlPlugin(e)})}},{key:"renderMediaControlPlugin",value:function(t){var e=this.core.getPlugin(t);if(e){var n=e.panel,i=e.position,r=e.el;this.$el.find(".media-control-panel__"+n+" .media-control-position__"+i).append(r),e.render()}}},{key:"updatePlaybackTypeClass",value:function(){if(this.container){var t=this.container.getPlaybackType();this.$el.removeClass("vod live dvr ad dvr-disabled"),t&&this.$el.addClass(t),this.addDVRClass(t)}}},{key:"addDVRClass",value:function(t){"live"===t&&(this.container.isDvrEnabled()?this.container.isDvrInUse()&&this.$el.addClass("dvr"):this.$el.addClass("dvr-disabled"))}},{key:"setKeepVisible",value:function(){this.keepVisible=!0}},{key:"resetKeepVisible",value:function(){this.keepVisible=!1}},{key:"setUserKeepVisible",value:function(){this.userKeepVisible=!0}},{key:"resetUserKeepVisible",value:function(){this.userKeepVisible=!1}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=i({hide:!0},t),this.keepVisible=!1,this.userDisabled=!0,this.userKeepVisible=!1,t.hide&&this.mediaControl.hide(),this.updatePlaybackTypeClass()}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=i({show:!0},t),this.options.chromeless||(this.userDisabled=!1,t.show&&this.mediaControl.show())}},{key:"isVisible",value:function(){return!this.$el.hasClass("media-control-hide")}},{key:"show",value:function(){var t=this;clearTimeout(this.hideId),this.hideId=setTimeout(function(){return t.hideDelayed()},3e3),this.disabled||this.isVisible()||(this.mediaControl.trigger(o.Events.MEDIACONTROL_SHOW),this.$el.removeClass("media-control-hide"))}},{key:"hideDelayed",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.container&&(this.isVisible()&&(!o.Browser.supportsTouchEvents||this.container.isPlaying())||n)){var i=e||3e3;clearTimeout(this.hideId),(this.disabled||!1!==this.options.hideMediaControl)&&(!this.disabled&&(e||this.userKeepVisible||this.keepVisible)?this.hideId=setTimeout(function(){return t.hideDelayed()},i):this.mediaControl.hide())}}},{key:"hide",value:function(){this.keepVisible||this.userKeepVisible||(this.mediaControl.trigger(o.Events.MEDIACONTROL_HIDE),this.$el.addClass("media-control-hide"),this.hideModal())}},{key:"showPanel",value:function(t){var e=t.panel;this.getPanel(e).show()}},{key:"hidePanel",value:function(t){var e=t.panel;this.getPanel(e).hide()}},{key:"showModal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$modal.html(t),this.$modal.show().off("transitionend"),this.$modal.removeClass("modal--hide"),e.hidePanels&&this.updatePanelsVisibility({hide:!0}),this.updateClickToPausePlugin({enable:!1}),this.updateCastInfoVisibility({hidden:!0})}},{key:"hideModal",value:function(){var t=this,e=this.$modal&&this.$modal.contents();!e||e&&!e.length||(this.$modal.addClass("modal--hide").on("transitionend",function(){t.$modal.hide().off("transitionend"),t.$modal.html("")}),this.updatePanelsVisibility({hide:!1}),this.updateClickToPausePlugin({enable:!0}),this.updateCastInfoVisibility({hidden:!1}))}},{key:"updateCastInfoVisibility",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).hidden?"addClass":"removeClass";this.container&&this.container.$el[t]("chromecast-playback-overlay--hidden")}},{key:"updateClickToPausePlugin",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).enable?"enable":"disable",e=this.container.getPlugin("click_to_pause");!o.Browser.isMobile&&e&&e[t]()}},{key:"updatePanelsVisibility",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).hide?"addClass":"removeClass";this.$el[t]("media-control--panels-hide")}},{key:"destroy",value:function(){this.remove()}},{key:"playerResize",value:function(t){var e=this.currentWidth!==t.width;!this.disabled&&e&&((0,a.applySizeClass)(this.$el,t.width),this.currentWidth=t.width)}},{key:"resetFocus",value:function(){this.mediaControl.focusElement.focus()}},{key:"render",value:function(){if(!this.container||this.isRendered)return this;var t={baseUrl:this.options.baseUrl,playerId:this.options.playerId},e=u.default.getStyleFrom(c.default.toString(),t);return this.$el.html(this.template()),this.$el.append(e[0]),this.core.$el.append(this.$el),this.createCachedElements(),this.initMediaControlPlugins(),this.updatePlaybackTypeClass(),this.disabled&&this.hide(),this.isRendered=!0,this}}]),e}();e.default=p,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,'.media-control-notransition{transition:none!important}.clappr-player#wp3-player-0 .media-control{position:absolute;border-radius:0;bottom:0;left:0;right:0;margin-left:auto;margin-right:auto;width:100%;height:100%;z-index:997;opacity:1;will-change:opacity;transition:visibility .3s ease,opacity .3s ease;pointer-events:none}.clappr-player#wp3-player-0 .media-control:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;opacity:.6;background:#000;z-index:-1}.clappr-player#wp3-player-0 .media-control-dragging{pointer-events:auto}.clappr-player#wp3-player-0 .media-control-dragging,.clappr-player#wp3-player-0 .media-control-dragging *{cursor:-webkit-grabbing!important;cursor:grabbing!important}.clappr-player#wp3-player-0 .media-control-panel__lower,.clappr-player#wp3-player-0 .media-control-panel__upper{position:relative}.clappr-player#wp3-player-0 .media-control-panel__modal{opacity:1;will-change:opacity;visibility:visible;transition:visibility .3s ease,opacity .3s ease}.clappr-player#wp3-player-0 .media-control-panel__modal.modal--hide{opacity:0;visibility:hidden}.clappr-player#wp3-player-0 .media-control.media-control-hide{pointer-events:none;opacity:0}.clappr-player#wp3-player-0 .media-control.media-control-hide .media-control-element{pointer-events:none}.clappr-player#wp3-player-0 .media-control.media-control--no-background:before{opacity:0}.clappr-player#wp3-player-0 .media-control--panels-hide .media-control-panel__between,.clappr-player#wp3-player-0 .media-control--panels-hide .media-control-panel__lower,.clappr-player#wp3-player-0 .media-control--panels-hide .media-control-panel__middle,.clappr-player#wp3-player-0 .media-control--panels-hide .media-control-panel__upper{opacity:0;visibility:hidden}.clappr-player#wp3-player-0 .media-control.touch .media-control-panel__between{pointer-events:auto}.clappr-player#wp3-player-0 .media-control.w360 .media-control-panel{padding:0}.clappr-player#wp3-player-0 .media-control.w360 .media-control-panel__middle{width:100%;height:100%}.clappr-player#wp3-player-0 .media-control .media-control-panel{position:absolute;width:100%;height:100%;vertical-align:middle;pointer-events:none;padding:4px;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column nowrap}.clappr-player#wp3-player-0 .media-control .media-control-panel .opposites-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;position:relative}.clappr-player#wp3-player-0 .media-control .media-control-panel .media-control-position__left,.clappr-player#wp3-player-0 .media-control .media-control-panel .media-control-position__right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:300}.clappr-player#wp3-player-0 .media-control .media-control-panel .media-control-position__center{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.clappr-player#wp3-player-0 .media-control .media-control-panel__upper .media-control-position__center{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column nowrap}.clappr-player#wp3-player-0 .media-control .media-control-panel__lower .media-control-position__center{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-flow:column-reverse nowrap;flex-flow:column-reverse nowrap;position:relative;z-index:200}.clappr-player#wp3-player-0 .media-control .media-control-panel__middle{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;width:calc(100% - 8px);height:calc(100% - 8px)}.clappr-player#wp3-player-0 .media-control .media-control-panel__between{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.clappr-player#wp3-player-0 .media-control .media-control-panel__lower,.clappr-player#wp3-player-0 .media-control .media-control-panel__middle>*,.clappr-player#wp3-player-0 .media-control .media-control-panel__modal,.clappr-player#wp3-player-0 .media-control .media-control-panel__upper{pointer-events:auto}.clappr-player#wp3-player-0 .media-control.touch .media-control-button{opacity:1}.clappr-player#wp3-player-0 .media-control.touch .media-control-button[data-playpause]{width:48px;height:48px}.clappr-player#wp3-player-0 .media-control-panel__lower .media-control-element{padding-top:4px}.clappr-player#wp3-player-0 .media-control-element{padding:12px}.clappr-player#wp3-player-0 .media-control-button{display:inline-block;margin:0;border:0;cursor:pointer;background-color:transparent;text-align:center;width:24px;height:24px;box-sizing:content-box}.clappr-player#wp3-player-0 .media-control-button svg{width:100%;height:100%}.clappr-player#wp3-player-0 .media-control-button:focus{outline:none}.clappr-player#wp3-player-0 .media-control-button--hidden{display:none}.clappr-player#wp3-player-0 .media-control-button[data-chromecast] svg.player-cast-loading{width:24px;height:24px}.clappr-player#wp3-player-0 .media-control.ad{background:none;visibility:visible;opacity:1}.clappr-player#wp3-player-0 .media-control.ad.touch{visibility:hidden!important;pointer-events:none}.clappr-player#wp3-player-0 .media-control.ad.touch .media-control-button{visibility:hidden!important}.clappr-player#wp3-player-0 .media-control.ad.touch .media-control-panel__lower{visibility:visible!important}.clappr-player#wp3-player-0 .media-control.ad.touch .media-control-panel__modal{pointer-events:auto!important}.clappr-player#wp3-player-0 .media-control.ad.touch .media-control-panel>*{pointer-events:none}.clappr-player#wp3-player-0 .media-control.ad.touch .dfp-countdown{visibility:hidden;pointer-events:none}.clappr-player#wp3-player-0 .media-control.ad:after,.clappr-player#wp3-player-0 .media-control.ad:before{content:"";left:0;height:40px;opacity:1;position:absolute;transition:visibility .3s ease,opacity .3s ease;width:100%;will-change:opacity;z-index:-1}.clappr-player#wp3-player-0 .media-control.ad:before{top:0;background:none;background-image:linear-gradient(0deg,transparent,rgba(0,0,0,.5))}.clappr-player#wp3-player-0 .media-control.ad:after{bottom:0;background:none;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.5))}.clappr-player#wp3-player-0 .media-control.ad .media-control-panel__between,.clappr-player#wp3-player-0 .media-control.ad .media-control-panel__lower .opposites-container,.clappr-player#wp3-player-0 .media-control.ad .media-control-panel__middle,.clappr-player#wp3-player-0 .media-control.ad .media-control-panel__upper{opacity:1;transition:visibility .3s ease,opacity .3s ease;will-change:opacity}.clappr-player#wp3-player-0 .media-control.ad.media-control-hide .media-control-panel__between,.clappr-player#wp3-player-0 .media-control.ad.media-control-hide .media-control-panel__lower .opposites-container,.clappr-player#wp3-player-0 .media-control.ad.media-control-hide .media-control-panel__middle,.clappr-player#wp3-player-0 .media-control.ad.media-control-hide .media-control-panel__upper,.clappr-player#wp3-player-0 .media-control.ad.media-control-hide:after,.clappr-player#wp3-player-0 .media-control.ad.media-control-hide:before{opacity:0}.clappr-player#wp3-player-0 .media-control.ad.seekbar--secondary .bar-container[data-seekbar]{opacity:1}.clappr-player#wp3-player-0 .media-control.ad.seekbar--secondary .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{-webkit-transform:scale(1);transform:scale(1)}.clappr-player#wp3-player-0 .media-control.ad .dfp-countdown{display:block}.clappr-player#wp3-player-0 .media-control.ad .media-control-button svg path[fill]{fill:#ffff93!important}.clappr-player#wp3-player-0 .media-control.ad .media-control-button[data-settings],.clappr-player#wp3-player-0 .media-control.ad .media-control-button[data-share]{display:none}.clappr-player#wp3-player-0 .media-control.ad .chromecast-button,.clappr-player#wp3-player-0 .media-control.ad .live-button,.clappr-player#wp3-player-0 .media-control.ad .time-indicator{display:none!important}.clappr-player#wp3-player-0 .media-control.ad .bar-container{padding:0}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-volume] .bar-fill-1[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-volume] .bar-fill-2[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-seekbar] .bar-fill-1[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-seekbar] .bar-fill-2[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-volume] .bar-fill-2[data-seekbar]{background-color:#ffff93!important}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-volume] .bar-hover[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-volume] .bar-hover[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-seekbar] .bar-hover[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-seekbar] .bar-hover[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-volume]{opacity:0}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-scrubber[data-volume] .bar-scrubber-icon[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-seekbar]{display:none}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume]{background-color:#ffff93!important}.clappr-player#wp3-player-0 .media-control.ad .bar-container__placeholder{display:none}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar]{position:fixed;width:100%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);top:calc(100% - 4px);height:4px;margin-bottom:0;overflow:hidden;cursor:default}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar]{margin:0;height:100%;border-radius:0;background-color:hsla(0,0%,100%,.4);box-shadow:none;-webkit-transform:scaleY(1);transform:scaleY(1);left:0}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar]{display:none}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{border-radius:0}.clappr-player#wp3-player-0 .media-control.live{min-height:auto}.clappr-player#wp3-player-0 .media-control.live .media-control-panel .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:red}.clappr-player#wp3-player-0 .media-control.live .media-control-panel .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{background-color:#fff;display:none}.clappr-player#wp3-player-0 .media-control.live .media-control-panel .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{background-color:red}.clappr-player#wp3-player-0 .media-control.live .media-control-panel .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{display:block}.clappr-player#wp3-player-0 .media-control.live.dvr-disabled .media-control-panel .bar-container[data-seekbar]{pointer-events:none}.clappr-player#wp3-player-0 .media-control.live.dvr-disabled .media-control-panel .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar],.clappr-player#wp3-player-0 .media-control.live .time-indicator{display:none}.clappr-player#wp3-player-0 .media-control.dvr .media-control-panel .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#fff}.clappr-player#wp3-player-0 .media-control.dvr .media-control-panel .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{background-color:red}.clappr-player#wp3-player-0 .media-control.dvr .media-control-panel .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{background-color:#fff}.clappr-player#wp3-player-0 .media-control.dvr .media-control-panel .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{display:block}',""])},function(t,e){t.exports='<div class="media-control-panel">\n  <div class="media-control-panel__back-layer">\n    <div class="media-control-position__left"></div>\n    <div class="media-control-position__center"></div>\n    <div class="media-control-position__right"></div>\n  </div>\n  <div class="media-control-panel__upper">\n    <div class="opposites-container">\n      <div class="media-control-position__left"></div>\n      <div class="media-control-position__right"></div>\n    </div>\n    <div class="media-control-position__center"></div>\n  </div>\n  <div class="media-control-panel__middle">\n    <div class="media-control-position__left"></div>\n    <div class="media-control-position__center"></div>\n    <div class="media-control-position__right"></div>\n  </div>\n  <div class="media-control-panel__between">\n    <div class="media-control-position__left"></div>\n    <div class="media-control-position__center"></div>\n    <div class="media-control-position__right"></div>\n  </div>\n  <div class="media-control-panel__lower" data-controls>\n    <div class="media-control-position__center"></div>\n    <div class="opposites-container">\n      <div class="media-control-position__left"></div>\n      <div class="media-control-position__right"></div>\n    </div>\n  </div>\n  <div class="media-control-panel__front-layer">\n    <div class="media-control-position__left"></div>\n    <div class="media-control-position__center"></div>\n    <div class="media-control-position__right"></div>\n  </div>\n  <div class="media-control-panel__modal"></div>\n</div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(369),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=u(n(38)),a=u(n(6)),s=u(n(370)),l=u(n(371));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"name",get:function(){return"play_button"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return r.Browser.supportsTouchEvents?"between":"lower"}},{key:"position",get:function(){return r.Browser.supportsTouchEvents?"center":"left"}},{key:"attributes",get:function(){return{class:"media-control-button","data-playpause":"","aria-label":"play"}}},{key:"events",get:function(){return{click:this.togglePlayPause}}},{key:"isPauseDisabled",get:function(){var t=this.container&&this.container.getPlaybackType()===r.Playback.LIVE,e=this.container.playback&&!this.container.playback.dvrEnabled;return t&&e}}]),i(e,[{key:"destroy",value:function(){this.unbindKeyEvents()}},{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,r.Events.CONTAINER_PLAY,this.changeTogglePlay),this.listenTo(this.container,r.Events.CONTAINER_PAUSE,this.changeTogglePlay),this.listenTo(this.container,r.Events.CONTAINER_STOP,this.changeTogglePlay),this.listenTo(this.container,r.Events.CONTAINER_ENDED,this.changeTogglePlay),this.listenTo(this.container,a.default.WM_SPINNER_START,this.hidePlayButton),this.listenTo(this.container,a.default.WM_SPINNER_STOP,this.showPlayButton))}},{key:"hidePlayButton",value:function(){r.Browser.supportsTouchEvents&&this.$el.hide()}},{key:"showPlayButton",value:function(){r.Browser.supportsTouchEvents&&this.$el.show()}},{key:"bindKeyEvents",value:function(){var t=this;this.kibo&&(this.unbindKeyEvents(),this.bindKeyAndShow("space",function(){return t.togglePlayPause()}))}},{key:"unbindKeyEvents",value:function(){this.kibo&&this.kibo.off("space")}},{key:"onContainerChanged",value:function(){this.bindContainerEvents(),this.changeTogglePlay()}},{key:"changeTogglePlay",value:function(){this.$el.html(""),this.container&&this.container.isPlaying()?(this.isPauseDisabled?this.$el.hide():(this.$el.append(l.default),this.$el.attr("aria-label","pause"),this.$el.removeClass("play"),this.$el.addClass("pause"),this.$el.show()),this.trigger(r.Events.MEDIACONTROL_PLAYING)):(this.$el.append(s.default),this.$el.attr("aria-label","play"),this.$el.removeClass("stop pause"),this.$el.addClass("play"),this.$el.show(),this.trigger(r.Events.MEDIACONTROL_NOTPLAYING)),this.applyButtonStyle(this.$el)}},{key:"togglePlayPause",value:function(){if(!this.isPauseDisabled)return this.container.isPlaying()?this.container.pause():this.container.play(),!1}},{key:"render",value:function(){return this.bindKeyEvents(),this.changeTogglePlay(),this}}]),e}();e.default=c,t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path fill="#FFF" d="M8 5v14l11-7z"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" fill="#FFF"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(373),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=l(n(38)),a=l(n(374)),s=l(n(375));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.fullScreenOnVideoTagSupported=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"name",get:function(){return"fullscreen_button"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"right"}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"screenOrientationAvailable",get:function(){return screen&&screen.orientation}},{key:"isIdle",get:function(){var t=this.container.getPlugin("poster");return t&&!t.$el.hasClass("poster--hidden")}},{key:"attributes",get:function(){return{class:"media-control-button","data-fullscreen":"","aria-label":"fullscreen"}}},{key:"events",get:function(){return{click:this.onClick}}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),r.Browser.isMobile&&this.bindScreenOrientationChange(),this.bindContainerEvents()}},{key:"bindScreenOrientationChange",value:function(){this.screenOrientationAvailable&&screen.orientation.addEventListener("change",this.onScreenOrientationChange.bind(this))}},{key:"onScreenOrientationChange",value:function(){this.isIdle||(screen.orientation.type.startsWith("landscape")?!r.Utils.Fullscreen.isFullscreen()&&this.toggleFullscreen():r.Utils.Fullscreen.isFullscreen()&&this.toggleFullscreen())}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.fullScreenOnVideoTagSupported=null,this.container&&(r.Mediator.off(this.core.options.playerId+":"+r.Events.PLAYER_RESIZE,this.changeToggleFullscreen,this),r.Mediator.on(this.core.options.playerId+":"+r.Events.PLAYER_RESIZE,this.changeToggleFullscreen,this),this.listenTo(this.container,r.Events.CONTAINER_DBLCLICK,this.toggleFullscreen),this.playback.videoEl&&"video"===this.playback.videoEl.nodeName.toLowerCase()&&this.listenToOnce(this.container,r.Events.CONTAINER_LOADEDMETADATA,this.onLoadedMetadataOnVideoTag),(r.Browser.isIE&&!r.Browser.isIE11||r.Browser.supportsTouchEvents)&&this.stopListening(this.container,r.Events.CONTAINER_DBLCLICK))}},{key:"bindKeyEvents",value:function(){var t=this;this.kibo&&(this.unbindKeyEvents(),this.bindKeyAndShow("f",function(){return t.toggleFullscreen()}))}},{key:"unbindKeyEvents",value:function(){this.kibo&&this.kibo.off("f")}},{key:"onLoadedMetadataOnVideoTag",value:function(){!r.Utils.Fullscreen.fullscreenEnabled()&&this.playback.videoEl.webkitSupportsFullscreen&&(this.fullScreenOnVideoTagSupported=!0,this.render())}},{key:"changeToggleFullscreen",value:function(){this.$el.html(""),r.Utils.Fullscreen.isFullscreen()?this.$el.append(s.default):this.$el.append(a.default),this.applyButtonStyle(this.$el)}},{key:"onClick",value:function(){this.toggleFullscreen(),r.Browser.isMobile&&this.lockScreenInLandscape()}},{key:"lockScreenInLandscape",value:function(){this.screenOrientationAvailable&&matchMedia("(orientation: portrait)").matches&&screen.orientation.lock("landscape").then(this.unlockOnOrientationChange.bind(this))}},{key:"unlockOnOrientationChange",value:function(){if(window.DeviceOrientationEvent&&this.screenOrientationAvailable){var t=void 0;window.addEventListener("deviceorientation",function e(n){if(Math.abs(n.gamma)>10||Math.abs(n.beta)<10)return t,void(t="landscape");(Math.abs(n.gamma)<10||Math.abs(n.beta)>10)&&"landscape"==t&&(screen.orientation.unlock(),window.removeEventListener("deviceorientation",e))})}}},{key:"toggleFullscreen",value:function(){this.container.fullscreen(),this.mediaControl.fullscreen(),this.mediaControlPlugin.resetUserKeepVisible()}},{key:"render",value:function(){if(this.fullScreenOnVideoTagSupported||r.Utils.Fullscreen.fullscreenEnabled())return this.bindKeyEvents(),this.changeToggleFullscreen(),this}}]),e}();e.default=u,t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M19 21h-4v-2h4v-4h2v6h-2zm0-18h2v6h-2V5h-4V3h4zM5 19h4v2H3v-6h2v4zM5 3h4v2H5v4H3V3h2z" fill="#FFF"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M7 15h2v6H7v-4H3v-2h4zm10-8h4v2h-6V3h2v4zM7 9H3V7h4V3h2v6H7zm10 6h4v2h-4v4h-2v-6h2z" fill="#FFF"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(377),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=u(n(38)),a=u(n(6)),s=u(n(15)),l=u(n(378));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"name",get:function(){return"time_indicator"}},{key:"tagName",get:function(){return"div"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"left"}},{key:"playback",get:function(){return this.container&&this.container.playback}},{key:"hasSizeChanged",get:function(){return this.lastSize===this.actualSize}},{key:"attributes",get:function(){return{class:"time-indicator"}}},{key:"events",get:function(){return{click:this.toggleTimeIndicator}}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),r.Mediator.on(this.options.playerId+":"+r.Events.PLAYER_RESIZE,this.onPlayerResize,this),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,r.Events.CONTAINER_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.playback,a.default.WM_VIDEO_METADATA_LOADED,this.setDuration))}},{key:"setDuration",value:function(t){var e=r.Utils.formatTime(t.duration/1e3);this.$duration.text(e),this.$rightContainer=this.mediaControlPlugin.$el.find(".media-control-panel__lower .media-control-position__right")}},{key:"onPlayerResize",value:function(t){t.width&&"number"==typeof t.width&&this.$rightContainer&&(this.actualSize=t,this.shouldCollapse=this.actualSize.width-this.$rightContainer.width()<130,this.shouldCollapse?(this.$el.addClass("time-indicator--collapse"),this.$duration.hide()):(this.$el.removeClass("time-indicator--collapse"),this.$duration.show()),this.$position.show(),this.updateTimeIndicator(),this.lastSize=this.actualSize)}},{key:"onTimeUpdate",value:function(t){"ad"!==t.playbackType&&(this.currentPositionValue=t.current<0?t.total:t.current,this.currentDurationValue=t.total,null!==this.currentPositionValue&&null!==this.currentDurationValue&&this.updateTimeIndicator())}},{key:"updateTimeIndicator",value:function(){this.updatePosition(),this.shouldCollapse?this.updateRemainingTime():this.updateDuration()}},{key:"updatePosition",value:function(){if(!this.hasSizeChanged||parseInt(this.currentPositionValue)!==parseInt(this.lastPositionValue)){var t=r.Utils.formatTime(this.currentPositionValue);this.$position.text(t),this.lastPositionValue=this.currentPositionValue}}},{key:"updateRemainingTime",value:function(){var t=-1*(this.currentPositionValue-this.currentDurationValue);if(!this.hasSizeChanged||parseInt(t)!==parseInt(this.lastRemainingTime)){var e=t>1,n="";n=r.Utils.formatTime(e?t:0),n=(e?"-":"")+n,this.lastRemainingTime=t,this.$duration.text(n)}}},{key:"updateDuration",value:function(){if(!this.hasSizeChanged||parseInt(this.currentDurationValue)!==parseInt(this.lastDurationValue)){var t=r.Utils.formatTime(this.currentDurationValue);this.$duration.text(t),this.lastDurationValue=this.currentDurationValue}}},{key:"toggleTimeIndicator",value:function(t){t&&t.stopPropagation(),this.shouldCollapse&&(this.$position.is(":visible")?this.$position.hide():this.$position.show(),this.$duration.is(":visible")?this.$duration.hide():this.$duration.show())}},{key:"render",value:function(){this.$position=$("<span/>").attr("data-position","").html("00:00"),this.$separator=$("<span/>").addClass("separator").html("/"),this.$duration=$("<span/>").attr("data-duration","").html("00:00"),this.$el.empty();var t=s.default.getStyleFrom(l.default,{playerId:this.core.options.playerId});return this.$el.append(t[0]),this.$el.append(this.$position[0]),this.$el.append(this.$separator[0]),this.$el.append(this.$duration[0]),this}}]),e}();e.default=c,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .time-indicator{display:-webkit-box;display:-ms-flexbox;display:flex;height:24px;box-sizing:content-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:default;position:relative;font-family:opensans-regular,sans-serif;font-size:14px;line-height:16px;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .time-indicator .separator{display:inline;margin:0 5px;opacity:.5}.clappr-player#wp3-player-0 .time-indicator--collapse{cursor:pointer}.clappr-player#wp3-player-0 .time-indicator--collapse .separator,.clappr-player#wp3-player-0 .time-indicator--collapse [data-duration]{display:none}.clappr-player#wp3-player-0 .media-control:not(.mobile) .time-indicator{padding-left:0}.clappr-player#wp3-player-0 [data-duration],.clappr-player#wp3-player-0 [data-position]{display:inline}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(380),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=h(n(6)),a=h(n(38)),s=h(n(15)),l=h(n(381)),u=h(n(382)),c=h(n(319)),d=h(n(320));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.persistConfig=n.core.options.persistConfig,n.lastMuteOption=n.core.options.mute,n.isUserGesture=!1,n.stopDragHandler=function(t){return n.stopDrag(t)},n.updateDragHandler=function(t){return n.updateDrag(t)},$(document).bind("mouseup",n.stopDragHandler),$(document).bind("mousemove",n.updateDragHandler),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,[{key:"name",get:function(){return"volume"}},{key:"tagName",get:function(){return"div"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"right"}},{key:"template",get:function(){return(0,r.template)(l.default)}},{key:"volume",get:function(){return this.container.volume}},{key:"muted",get:function(){return 0===this.volume}},{key:"playback",get:function(){return this.core.getCurrentPlayback()||{}}},{key:"attributes",get:function(){return{class:"drawer-container volume-hide","data-volume":""}}},{key:"events",get:function(){return{mouseenter:this.showVolumeBar,mouseleave:this.hideVolumeBar,"click .bar-container[data-volume]":"onVolumeClick","click .drawer-icon[data-volume]":"toggleMute","mousedown .bar-container[data-volume]":"startVolumeDrag"}}},{key:"mutedAutoplay",get:function(){return this.options.autoPlay&&this.playback.mutedAutoplay}}]),i(e,[{key:"destroy",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),$(document).unbind("mouseup",this.stopDragHandler),$(document).unbind("mousemove",this.updateDragHandler)}},{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged)}},{key:"updateContainer",value:function(){this.unbindContainerEvents(),this.container=this.core.getCurrentContainer(),this.container&&this.bindContainerEvents()}},{key:"onContainerChanged",value:function(){this.updateContainer(),this.lastMuteOption=void 0,this.setInitialVolume()}},{key:"bindContainerEvents",value:function(){this.listenTo(this.container,r.Events.CONTAINER_VOLUME,this.onContainerVolumeUpdate),this.listenTo(this.container,r.Events.CONTAINER_OPTIONS_CHANGE,this.onMuteOptionUpdate),this.listenTo(this.playback,o.default.WM_PLAY_REQUESTED,this.setInitialVolume)}},{key:"unbindContainerEvents",value:function(){this.container&&this.stopListening(this.container)}},{key:"getInitialVolume",value:function(){var t=this.persistConfig?r.Utils.Config.restore("volume"):100;return this.lastVolume=t,(this.core.options.mute||this.mutedAutoplay)&&(t=0),this.currentVolume=t,t}},{key:"setInitialVolume",value:function(){this.setVolume(this.getInitialVolume(),{initial:!0})}},{key:"onMuteOptionUpdate",value:function(){var t=void 0===this.core.options.mute,e=this.core.options.mute!==this.lastMuteOption;if(!t&&e){var n=this.core.options.mute?0:this.lastVolume;this.setVolume(n,{initial:!0}),this.lastMuteOption=this.core.options.mute}}},{key:"toggleMute",value:function(t){t&&t.stopPropagation(),this.isUserGesture=!0,this.setVolume(this.muted?this.lastVolume||100:0)}},{key:"onContainerVolumeUpdate",value:function(t){t=void 0!==t&&t>=0?t:this.volume,this.updateVolumeUI(t),this.draggingVolumeBar||(this.currentVolume>0&&this.muted?this.container.trigger(o.default.WM_MUTED,this.lastVolume,this.isUserGesture):this.currentVolume<=0&&!this.muted&&this.container.trigger(o.default.WM_UNMUTED,this.lastVolume,this.isUserGesture),this.isUserGesture=!1,this.lastVolume=this.currentVolume!==t?this.currentVolume:this.lastVolume,this.currentVolume=t)}},{key:"updateVolumeUI",value:function(t){var e=this;this.container.isReady?this.$volumeBarContainer&&(this.updateVolumeBar(t),this.updateVolumeIcon(t)):this.mediaControl.listenToOnce(this.container,r.Events.CONTAINER_READY,function(){return e.updateVolumeUI(t)})}},{key:"setVolume",value:function(t){var e=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).initial;t=Math.min(100,Math.max(t,0)),this.persistConfig&&!n&&r.Utils.Config.persist("volume",t);var i=function(){e.container.isReady?e.container.setVolume(t):e.mediaControl.listenToOnce(e.container.playback,o.default.WM_PLAYBACK_WILL_PLAY,function(){e.container.setVolume(e.getInitialVolume())})};this.container?i():this.mediaControl.listenToOnce(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,function(){i()})}},{key:"onVolumeClick",value:function(t){this.setVolume(this.getVolumeFromUIEvent(t))}},{key:"getVolumeFromUIEvent",value:function(t){var e=100*(1-(t.pageY-this.$volumeBarContainer.offset().top)/this.$volumeBarContainer.height());return Math.min(100,Math.max(e,0))}},{key:"updateVolumeBar",value:function(t){var e=this.$volumeBarContainer.height(),n=this.$volumeBarBackground.height(),i=(e-n)/2,r=n*t/100-this.$volumeBarScrubber.height()/2+i;this.$volumeBarFill.css({height:t+"%"}),this.$volumeBarScrubber.css({bottom:r})}},{key:"updateVolumeIcon",value:function(t){this.$volumeIcon.html(""),t>0?this.$volumeIcon.append(c.default):this.$volumeIcon.append(d.default)}},{key:"startVolumeDrag",value:function(t){this.draggingVolumeBar=!0,this.mediaControlPlugin.$el.addClass("media-control-dragging"),this.mediaControlPlugin.setKeepVisible(),t&&t.preventDefault()}},{key:"stopDrag",value:function(t){this.draggingVolumeBar&&(this.mediaControlPlugin.resetKeepVisible(),this.mediaControlPlugin.$el.removeClass("media-control-dragging"),this.draggingVolumeBar=!1,this.isUserGesture=!0,this.setVolume(this.getVolumeFromUIEvent(t)))}},{key:"updateDrag",value:function(t){this.draggingVolumeBar&&(t.preventDefault(),this.setVolume(this.getVolumeFromUIEvent(t)))}},{key:"showVolumeBar",value:function(){r.Browser.supportsTouchEvents||(this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.$el.removeClass("volume-hide"),this.mediaControl.trigger(o.default.WM_VOLUME_SHOW),this.isVolumeBarVisible=!0)}},{key:"hideVolumeBar",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isVolumeBarVisible&&this.$volumeBarContainer&&("number"!=typeof e.timeout&&(e.timeout=150),this.draggingVolumeBar?this.hideVolumeId=setTimeout(function(){return t.hideVolumeBar(e)},e.timeout):(this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.hideVolumeId=setTimeout(function(){t.$el.addClass("volume-hide"),t.mediaControl.trigger(o.default.WM_VOLUME_HIDE),t.isVolumeBarVisible=!1},e.timeout)))}},{key:"createCachedElements",value:function(){this.hasCachedElements=!0,this.$volumeBarContainer=this.$el.find(".bar-container"),this.$volumeIcon=this.$el.find(".drawer-icon"),this.$volumeBarBackground=this.$el.find(".bar-background"),this.$volumeBarFill=this.$el.find(".bar-fill-1"),this.$volumeBarScrubber=this.$el.find(".bar-scrubber")}},{key:"render",value:function(){if(!this.hasCachedElements){this.$el.html(this.template());var t=s.default.getStyleFrom(u.default,{playerId:this.core.options.playerId});return this.$el.append(t[0]),this.createCachedElements(),this.$volumeIcon.html(c.default),this}}}]),e}();e.default=p,t.exports=e.default},function(t,e){t.exports='<div class="drawer-icon-container" data-volume>\n  <button class="drawer-icon media-control-button" data-volume></button>\n</div>\n\n<div class="bar-container" data-volume>\n  <div class="bar-background" data-volume>\n    <div class="bar-fill-1" data-volume></div>\n    <div class="bar-hover" data-volume></div>\n  </div>\n  <div class="bar-scrubber" data-volume>\n    <div class="bar-scrubber-icon" data-volume></div>\n  </div>\n</div>\n'},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,'.clappr-player#wp3-player-0 .drawer-container[data-volume]{position:relative;cursor:pointer}.clappr-player#wp3-player-0 .drawer-container[data-volume] .media-control-button{padding:0}.clappr-player#wp3-player-0 .drawer-container[data-volume].volume-hide .bar-container[data-volume]{opacity:0;visibility:hidden}.clappr-player#wp3-player-0 .drawer-icon-container{width:24px;height:24px}.clappr-player#wp3-player-0 .bar-container[data-volume]{will-change:visibility,opacity;position:absolute;bottom:42px;width:30px;height:115px;left:8px;border-radius:4px;background-color:rgba(0,0,0,.85);transition:visibility .3s ease,opacity .3s ease}.clappr-player#wp3-player-0 .bar-container[data-volume]:after{content:"";width:100%;position:absolute;height:10px;bottom:-10px;left:0}.clappr-player#wp3-player-0 .bar-container[data-volume] .bar-background[data-volume]{position:relative;top:15px;width:2px;margin-left:14px;background:hsla(0,0%,100%,.2);border-radius:10px;height:calc(100% - 30px);overflow:hidden;box-shadow:inset 0 0 2px 0 rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume]{position:absolute;bottom:0;background:#fff;width:100%;height:0;transition:height .2s ease}.clappr-player#wp3-player-0 .bar-container[data-volume] .bar-scrubber[data-volume]{position:absolute;left:9px;width:12px;height:12px;bottom:40%;transition:bottom .2s ease}.clappr-player#wp3-player-0 .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume]{width:100%;height:100%;border-radius:6px;background-color:#fff;box-shadow:0 0 1px #000}',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(384),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=h(n(6)),s=h(n(38)),l=h(n(15)),u=h(n(5)),c=h(n(385)),d=h(n(386));function h(t){return t&&t.__esModule?t:{default:t}}var p=["1","2","3","4","5","6","7","8","9","0"],f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.stopDragHandler=function(t){return n.stopDrag(t)},n.updateDragHandler=function(t){return n.updateDrag(t)},o.Browser.supportsTouchEvents&&((0,u.default)(document).bind("touchend",n.stopDragHandler),(0,u.default)(document).bind("touchmove",n.updateDragHandler)),o.Browser.supportsTouchEvents&&!o.Browser.isHybridDevice||((0,u.default)(document).bind("mouseup",n.stopDragHandler),(0,u.default)(document).bind("mousemove",n.updateDragHandler)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),r(e,[{key:"name",get:function(){return"seekbar"}},{key:"tagName",get:function(){return"div"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"center"}},{key:"template",get:function(){return(0,o.template)(c.default)}},{key:"settings",get:function(){return this.container?this.container.settings:{}}},{key:"isLivePlayback",get:function(){return this.container&&this.container.getPlaybackType()===o.Playback.LIVE}},{key:"attributes",get:function(){return{class:"bar-container","data-seekbar":""}}},{key:"events",get:function(){var t={click:this.seek,touchmove:this.startActionOnSeekBar,touchend:this.leaveActionOnSeekBar,touchstart:this.startSeekDrag},e={click:this.seek,mousemove:this.startActionOnSeekBar,mouseleave:this.leaveActionOnSeekBar,"mousedown .bar-scrubber[data-seekbar]":"startSeekDrag"},n=i({},t,e);return o.Browser.isHybridDevice?n:o.Browser.supportsTouchEvents?t:e}}]),r(e,[{key:"destroy",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),(0,u.default)(document).unbind("mouseup",this.stopDragHandler),(0,u.default)(document).unbind("touchend",this.stopDragHandler),(0,u.default)(document).unbind("mousemove",this.updateDragHandler),(0,u.default)(document).unbind("touchmove",this.updateDragHandler),this.unbindKeyEvents()}},{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,a.default.WM_VOLUME_SHOW,this.setSecondaryMode),this.listenTo(this.mediaControl,a.default.WM_VOLUME_HIDE,this.resetSecondaryMode),this.listenTo(this.mediaControl,o.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){o.Mediator.off(this.options.playerId+":"+o.Events.PLAYER_RESIZE,this.playerResize,this),this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.container&&(o.Mediator.on(this.options.playerId+":"+o.Events.PLAYER_RESIZE,this.playerResize,this),this.listenTo(this.container,o.Events.CONTAINER_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.container,o.Events.CONTAINER_PROGRESS,this.updateProgressBar),this.listenToOnce(this.container,o.Events.CONTAINER_PLAY,this.bindKeyEvents),this.listenTo(this.container,o.Events.CONTAINER_ENDED,this.onContainerEnd),this.setSeekPercentage(0))}},{key:"createCachedElements",value:function(){this.$seekBarContainer=this.$el,this.$seekBarHover=this.$el.find(".bar-hover[data-seekbar]"),this.$seekBarLoaded=this.$el.find(".bar-fill-1[data-seekbar]"),this.$seekBarPosition=this.$el.find(".bar-fill-2[data-seekbar]"),this.$seekBarScrubber=this.$el.find(".bar-scrubber[data-seekbar]"),this.$seekBarScrubberIcon=this.$el.find(".bar-scrubber-icon[data-seekbar]"),o.Browser.isMobile&&(this.$seekBarHover.addClass("bar-hover-disable"),this.$seekBarScrubber.addClass("bar-scrubber-mobile")),this.mediaControl.$seekBarContainer=this.$seekBarContainer}},{key:"onContainerEnd",value:function(){this.unbindKeyEvents(),this.listenToOnce(this.container,o.Events.CONTAINER_PLAY,this.bindKeyEvents)}},{key:"bindKeyEvents",value:function(){var t=this;this.kibo&&(this.unbindKeyEvents(),this.bindKeyAndShow("left",function(){return t.seekRelative(-5)}),this.bindKeyAndShow("right",function(){return t.seekRelative(5)}),this.bindKeyAndShow("shift left",function(){return t.seekRelative(-10)}),this.bindKeyAndShow("shift right",function(){return t.seekRelative(10)}),this.bindKeyAndShow("shift ctrl left",function(){return t.seekRelative(-15)}),this.bindKeyAndShow("shift ctrl right",function(){return t.seekRelative(15)}),p.forEach(function(e){t.bindKeyAndShow(e,function(){return t.settings.seekEnabled&&t.container.seekPercentage(10*e+.1)})}))}},{key:"unbindKeyEvents",value:function(){this.kibo&&(this.kibo.off("left"),this.kibo.off("right"),this.kibo.off("shift left"),this.kibo.off("shift right"),this.kibo.off("shift ctrl left"),this.kibo.off("shift ctrl right"),this.kibo.off(p))}},{key:"playerResize",value:function(){this.setSeekPercentage(this.currentSeekPercentage)}},{key:"seekRelative",value:function(t){if(this.settings.seekEnabled){var e=this.container.getCurrentTime(),n=this.container.getDuration(),i=Math.min(Math.max(e+t,0),n);i=Math.min(100*i/n,100),this.container.seekPercentage(i)}}},{key:"setSeekPercentage",value:function(t){t=Math.min(t,100);var e=this.$seekBarContainer.width()*t/100-this.$seekBarScrubber.width()/2;e=Math.max(e,-(this.$seekBarScrubber.width()-this.$seekBarScrubberIcon.width())/2),e=Math.min(e,this.$seekBarContainer.width()-this.$seekBarScrubber.width()/2-this.$seekBarScrubberIcon.width()/2),this.currentSeekPercentage=t;var n=this.$seekBarScrubberIcon.width()/4;isNaN(n)||isNaN(t)||isNaN(e)||(this.$seekBarPosition.css({width:"calc("+t+"% + "+n+"px)"}),this.$seekBarScrubber.css({transform:"translateX("+e+"px)"}))}},{key:"stopDrag",value:function(t){this.draggingSeekBar&&(this.draggingSeekBar&&this.seek(t),this.mediaControlPlugin.$el.removeClass("media-control-dragging"),this.$seekBarLoaded.removeClass("media-control-notransition"),this.$seekBarPosition.removeClass("media-control-notransition"),this.$seekBarScrubber.removeClass("media-control-notransition media-control-dragging"),this.draggingSeekBar=!1,this.mediaControlPlugin.resetKeepVisible())}},{key:"lastTouchEvent",value:function(t){var e=t.originalEvent?t.originalEvent:t;return e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e.changedTouches&&e.changedTouches.length>0?e.changedTouches[e.changedTouches.length-1]:{}}},{key:"updateDrag",value:function(t){if(this.draggingSeekBar){t.preventDefault();var e=((t.pageX||this.lastTouchEvent(t).pageX)-this.$seekBarContainer.offset().left)/this.$seekBarContainer.width()*100;e=Math.min(100,Math.max(e,0)),this.setSeekPercentage(e)}}},{key:"startSeekDrag",value:function(t){this.settings.seekEnabled&&(this.draggingSeekBar=!0,this.mediaControlPlugin.setKeepVisible(),this.mediaControlPlugin.$el.addClass("media-control-dragging"),this.$seekBarLoaded.addClass("media-control-notransition"),this.$seekBarPosition.addClass("media-control-notransition"),this.$seekBarScrubber.addClass("media-control-notransition"),o.Browser.isHybridDevice&&t&&t.preventDefault())}},{key:"startActionOnSeekBar",value:function(t){if(this.settings.seekEnabled){var e=(t.pageX||this.lastTouchEvent(t).pageX)-this.$seekBarContainer.offset().left-this.$seekBarHover.width()/2;this.$seekBarHover.css({left:e})}this.mediaControl.trigger(o.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,t)}},{key:"leaveActionOnSeekBar",value:function(t){this.mediaControl.trigger(o.Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR,t)}},{key:"seek",value:function(t){if(this.settings.seekEnabled){var e=((t.pageX||this.lastTouchEvent(t).pageX)-this.$seekBarContainer.offset().left)/this.$seekBarContainer.width()*100;return e=Math.min(100,Math.max(e,0)),this.container.seekPercentage(e),this.setSeekPercentage(e),!1}}},{key:"updateProgressBar",value:function(t){var e=t.start/t.total*100,n=t.current/t.total*100;this.$seekBarLoaded.css({left:e+"%",width:n-e+"%"})}},{key:"onTimeUpdate",value:function(t){this.draggingSeekBar||(this.currentPositionValue=t.current<0?0:t.current,this.currentDurationValue=t.total,this.renderSeekBar())}},{key:"renderSeekBar",value:function(){null!==this.currentPositionValue&&null!==this.currentDurationValue&&(this.currentSeekBarPercentage=this.isLivePlayback?100:0,this.isLivePlayback&&!this.container.isDvrInUse()||(this.currentSeekBarPercentage=this.currentPositionValue/this.currentDurationValue*100),this.setSeekPercentage(this.currentSeekBarPercentage))}},{key:"setSecondaryMode",value:function(){this.mediaControlPlugin.$el.addClass("seekbar--secondary")}},{key:"resetSecondaryMode",value:function(){this.mediaControlPlugin.$el.removeClass("seekbar--secondary")}},{key:"render",value:function(){this.$el.html(this.template());var t=l.default.getStyleFrom(d.default,{playerId:this.core.options.playerId}),e=(0,u.default)("<div>").addClass("bar-container__placeholder");return this.$el.append(t[0]),this.$el.parent().append(e),this.createCachedElements(),this}}]),e}();e.default=f,t.exports=e.default},function(t,e){t.exports='<div class="bar-background" data-seekbar>\n  <div class="bar-fill-1" data-seekbar></div>\n  <div class="bar-fill-2" data-seekbar></div>\n  <div class="bar-hover" data-seekbar></div>\n</div>\n<div class="bar-scrubber" data-seekbar>\n  <div class="bar-scrubber-icon" data-seekbar></div>\n</div>\n'},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .media-control-panel__lower .bar-container[data-seekbar]{padding:12px 0}.clappr-player#wp3-player-0 .media-control.touch .bar-container[data-seekbar]:hover .bar-background[data-seekbar]{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.clappr-player#wp3-player-0 .media-control.touch .bar-container[data-seekbar]:hover .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{-webkit-transform:none;transform:none}.clappr-player#wp3-player-0 .media-control-dragging .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{-webkit-transform:scale(2)!important;transform:scale(2)!important}.clappr-player#wp3-player-0 .bar-container__placeholder{height:36px}.clappr-player#wp3-player-0 .bar-container[data-seekbar]{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:calc(100% - 24px);height:24px;cursor:pointer;box-sizing:content-box;transition:visibility .3s ease,opacity .3s ease;-ms-touch-action:manipulation;touch-action:manipulation;top:calc(50% + 6px);left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar]{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-item-align:center;align-self:center;width:100%;height:2px;background-color:hsla(0,0%,100%,.2);overflow:hidden;top:50%;left:50%;will-change:transform;-webkit-transform-origin:top;transform-origin:top;-webkit-transform:scaleY(1) translate(-50%,-50%);transform:scaleY(1) translate(-50%,-50%);transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar],.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{position:absolute;top:0;left:0;width:0;height:100%}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar]{background-color:hsla(0,0%,100%,.3);transition:width .1s ease}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#fff}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{display:none;position:absolute;width:5px;height:100%;background-color:red}.clappr-player#wp3-player-0 .bar-container[data-seekbar]:hover .bar-background[data-seekbar]{-webkit-transform:scaleY(2) translate(-50%,-50%);transform:scaleY(2) translate(-50%,-50%)}.clappr-player#wp3-player-0 .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{display:block}.clappr-player#wp3-player-0 .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover-disable[data-seekbar]{display:none}.clappr-player#wp3-player-0 .bar-container[data-seekbar]:hover .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{-webkit-transform:scale(1.5);transform:scale(1.5)}.clappr-player#wp3-player-0 .bar-container[data-seekbar].seek-disabled{cursor:default}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-item-align:center;align-self:center;left:0;width:8px;height:8px;text-align:center;z-index:200}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{display:inline-block;position:absolute;left:0;background-color:#fff;border-radius:50%;height:100%;width:100%;will-change:transform;-webkit-transform:scale(1);transform:scale(1);transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-scrubber-mobile[data-seekbar]{transition:unset}.clappr-player#wp3-player-0 .seekbar--secondary .bar-container[data-seekbar]{opacity:.5}.clappr-player#wp3-player-0 .seekbar--secondary .thumb-preview{display:none!important}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(388),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=n(10),a=n(389),s=g(n(38)),l=g(n(6)),u=g(n(15)),c=g(n(390)),d=g(n(391)),h=g(n(392)),p=g(n(290)),f=g(n(393)),y=g(n(394)),v=g(n(395));function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.shouldRender=!1,n.$el.on("click",function(){return n.showShareBox()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),i(e,[{key:"name",get:function(){return"share"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"upper"}},{key:"position",get:function(){return"right"}},{key:"template",get:function(){return(0,r.template)(c.default)}},{key:"modal",get:function(){return this.mediaControlPlugin.$modal}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"attributes",get:function(){return{class:"media-control-button","data-share":"","data-controls":""}}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,l.default.WM_SHARE_SHOW,this.start),this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents)}},{key:"start",value:function(){var t=this,e=this.modal.find(".share__box"),n=this.modal.find(".share__close");e&&e.on("click",function(e){e&&e.stopPropagation(),t.hideModal()}),n&&n.append(p.default)}},{key:"bindContainerEvents",value:function(){this.listenTo(this.playback,l.default.WM_VIDEO_METADATA_LOADED,this.onMetadataLoaded),this.listenTo(this.playback,l.default.WM_RESOURCE_SELECTED,this.checkUrl),this.listenTo(this.container,r.Events.CONTAINER_SETTINGSUPDATE,this.shouldHideModal)}},{key:"onMetadataLoaded",value:function(t){this.video=t,this.shareUrl=this.video.urlForConsumption.replace(/(^\w+:|^)\/\//,"");var e=this.core.options.share&&this.core.options.share.socialList;this.loadSocialList(e||[])}},{key:"checkUrl",value:function(){this.shouldRender=!0,this.render()}},{key:"shouldHideModal",value:function(){var t=this.playback&&this.playback.getPlaybackType();"vod"!==t&&"live"!==t&&this.hideModal()}},{key:"loadSocialList",value:function(t){t&&t.length>0?this.socialList=this.verifySocialList(t):this.socialList=this.getDefaultSocialList()}},{key:"verifySocialList",value:function(t){var e=this,n=[];return t.forEach(function(t){e.getDefaultSocialList().forEach(function(e){e.name===t&&n.push(e)})}),n}},{key:"getDefaultSocialList",value:function(){var t=this;return[{name:"facebook",element:f.default,onClickAction:function(){(0,a.facebookWindow)(t.video.urlForConsumption,t.video.title)}},{name:"twitter",element:y.default,onClickAction:function(){(0,a.twitterWindow)(t.video.urlForConsumption,t.video.title,t.video.program)}},{name:"link",element:v.default,onClickAction:function(e){e.stopPropagation(),t.showLinkCopiedBox(),(0,o.copyToClipboard)(t.video.urlForConsumption,t.modal)}}]}},{key:"hideModal",value:function(){var t=this.modal&&this.modal.find(".share__box"),e=t&&t.contents();!e||e&&!e.length||(t.off("click"),this.mediaControl.trigger(l.default.WM_SHARE_HIDE),this.mediaControl.trigger(l.default.MEDIACONTROL_MODAL_HIDE),this.mediaControlPlugin.resetKeepVisible(),this.mediaControlPlugin.resetFocus(),this.hasPlayingBeforeModal&&this.playback.play())}},{key:"render",value:function(){if(this.shouldRender){this.shouldRender=!1,this.$el.html("");var t=u.default.getStyleFrom(d.default,{playerId:this.core.options.playerId});return this.$el.append(t[0]),this.$el.append(h.default),this}}},{key:"bindShareEvents",value:function(){var t=this;this.socialList.forEach(function(e){var n=t.modal.find(".share__button[data-share-item="+e.name+"]");"function"==typeof e.onClickAction&&n.on("click",e.onClickAction)})}},{key:"showShareBox",value:function(t){t&&t.stopPropagation(),this.hasPlayingBeforeModal=this.playback.isPlaying(),this.hasPlayingBeforeModal&&this.playback.pause();var e=this.template({shareItems:this.socialList,videoUrl:this.shareUrl});this.mediaControl.trigger(l.default.MEDIACONTROL_MODAL_SHOW,e,{hidePanels:!0}),this.mediaControl.trigger(l.default.WM_SHARE_SHOW),this.mediaControlPlugin.setKeepVisible(),this.bindShareEvents();var n=this.modal.find(".share__button, .share__item-copied-box, .share__title");n&&n.on("click",function(t){return t.stopPropagation()})}},{key:"showLinkCopiedBox",value:function(){var t=this.modal.find(".share__box");t&&t.addClass("share__box--link-copied")}}]),e}();e.default=m,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){return encodeURIComponent(t+"?utm_source="+e+"&utm_medium=share-player-desktop")}function r(t,e){var n=window.screen.width/2-260,i=window.screen.height/2-300,r="height=500,width=500,left="+n+",top="+i+",screenX="+n+",screenY="+i+",\n               resizable=yes,status=no,toolbar=no,menubar=no,scrollbars=no,location=no,directories=no";window.open(t,e,r)}function o(t){return t?"#"+t.split(" ").map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("").replace(/[-:]/g,""):""}Object.defineProperty(e,"__esModule",{value:!0}),e.openShareWindow=r,e.facebookWindow=function(t,e){var n=i(t,"facebook"),o="?app_id=289255557788943&display=popup&href="+n;-1!=t.search("globoplay")&&(o+="&hashtag="+encodeURIComponent("#GloboPlay"));r("https://www.facebook.com/dialog/share"+o,e)},e.twitterWindow=function(t,e,n){var a=o(n),s=-1!=t.search("globoplay")?" pelo #GloboPlay":"",l=a&&s?"Assista "+a:""+e,u=i(t,"twitter"),c=encodeURIComponent(""+l+s);r("https://twitter.com/intent/tweet?text="+c+"&url="+u,e)},e.getVideoProgramHashtag=o},function(t,e){t.exports='<div class="share__box">\n  <% for (var i = 0; i < shareItems.length; i++) { %>\n    <button class="share__button" data-share-item="<%= shareItems[i].name %>"> <%= shareItems[i].element %> </button>\n  <% } %>\n  <h1 class="share__title">Link Copiado</h1>\n  <div class="share__item-copied-box">\n    <h2 class="share__subtitle"><%= videoUrl %></h2>\n  </div>\n  <button class="share__close" ></button>\n</div>\n'},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .media-control.touch .share__button,.clappr-player#wp3-player-0 .media-control.touch .share__close{opacity:1}.clappr-player#wp3-player-0 .media-control.w360 .share__box--link-copied .share__button[data-share-item=link]{-webkit-transform:translate(-286%);transform:translate(-286%)}.clappr-player#wp3-player-0 .media-control.w360 .share__button{width:40px;height:40px;padding:4px;margin-left:32px}.clappr-player#wp3-player-0 .media-control.w360 .share__button:first-child{margin-left:0}.clappr-player#wp3-player-0 .media-control.w360 .share__button:nth-last-child(3){margin-right:0}.clappr-player#wp3-player-0 .media-control.w360 .share__close{box-sizing:content-box;padding:12px;top:0;right:0}.clappr-player#wp3-player-0 .share__box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;right:0;bottom:0;z-index:998;height:100%;width:100%}.clappr-player#wp3-player-0 .share__box--link-copied .share__button{visibility:hidden}.clappr-player#wp3-player-0 .share__box--link-copied .share__button[data-share-item=link]{visibility:visible;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease;-webkit-transform:translate(-344%);transform:translate(-344%);opacity:1;cursor:default}.clappr-player#wp3-player-0 .share__box--link-copied .share__item-copied-box,.clappr-player#wp3-player-0 .share__box--link-copied .share__title{transition:visibility .7s ease,opacity .7s ease;visibility:visible;opacity:1}.clappr-player#wp3-player-0 .share__button{padding:0;background-color:transparent;border:0;opacity:.6;cursor:pointer;transition:opacity .2s ease;outline:none;width:48px;height:48px;margin-left:56px;box-sizing:content-box}.clappr-player#wp3-player-0 .share__button:focus,.clappr-player#wp3-player-0 .share__button:hover{opacity:1}.clappr-player#wp3-player-0 .share__button svg{width:100%}.clappr-player#wp3-player-0 .share__button:first-child{margin-left:0}.clappr-player#wp3-player-0 .share__button:nth-last-child(3){margin-right:0}.clappr-player#wp3-player-0 .share__item-copied-box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;position:absolute;top:calc(50% + 22px);left:0;opacity:0;visibility:hidden}.clappr-player#wp3-player-0 .share__title{position:absolute;font-size:16px;cursor:default;visibility:hidden;top:calc(50% - 13px);left:calc(50% - 22px)}.clappr-player#wp3-player-0 .share__subtitle,.clappr-player#wp3-player-0 .share__title{font-family:opensans-regular,sans-serif;color:#fff;text-shadow:0 2px 5px rgba(0,0,0,.8)}.clappr-player#wp3-player-0 .share__subtitle{padding:0 35px;max-width:100%;word-wrap:break-word;font-size:12px;letter-spacing:-.5px;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;margin:0}.clappr-player#wp3-player-0 .share__close{background-color:transparent;border:0;padding:0;transition:opacity .3s ease;opacity:.6;position:absolute;top:16px;right:16px;width:24px;height:24px;outline:none;cursor:pointer}.clappr-player#wp3-player-0 .share__close:focus,.clappr-player#wp3-player-0 .share__close:hover{opacity:1}.clappr-player#wp3-player-0 .share__close svg{width:100%;height:100%}",""])},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M17 16.08c-.76 0-1.44.3-1.96.77L7.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L7.04 9.81C6.5 9.31 5.79 9 5 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92 0-1.61-1.31-2.92-2.92-2.92z" fill="#FFF"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M15.04 20v-6.196h2.08l.31-2.415h-2.39V9.848c0-.7.194-1.176 1.196-1.176h1.28v-2.16c-.222-.03-.981-.095-1.864-.095-1.844 0-3.106 1.125-3.106 3.192v1.78h-2.085v2.415h2.085V20H4.883C4.395 20 4 19.605 4 19.117V4.883C4 4.395 4.395 4 4.883 4h14.234c.488 0 .883.395.883.883v14.234c0 .488-.395.883-.883.883H15.04z" fill="#FFF"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M8.66 19.617c6.794 0 10.508-5.623 10.508-10.499 0-.16-.003-.319-.01-.477.72-.52 1.348-1.17 1.842-1.91-.662.293-1.374.491-2.12.58.762-.457 1.347-1.18 1.623-2.04-.713.422-1.504.729-2.345.895C17.484 5.449 16.525 5 15.462 5c-2.039 0-3.693 1.653-3.693 3.69 0 .29.033.57.096.841-3.07-.154-5.79-1.623-7.612-3.855-.318.545-.5 1.178-.5 1.854 0 1.28.652 2.41 1.643 3.072-.606-.019-1.175-.185-1.673-.462v.048c0 1.787 1.273 3.279 2.963 3.617-.31.084-.637.13-.974.13-.238 0-.47-.024-.694-.067.47 1.466 1.833 2.533 3.45 2.563-1.264.99-2.857 1.58-4.587 1.58-.298 0-.592-.017-.881-.051 1.634 1.046 3.575 1.657 5.661 1.657" fill="#FFF" fill-rule="nonzero"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" fill="#FFF"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(397),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=n(10),a=h(n(6)),s=h(n(15)),l=h(n(398)),u=h(n(399)),c=h(n(319)),d=h(n(320));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.UICorePlugin),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents)}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.idPlayback=this.container.playback,this.listenToOnce(this.container,r.Events.CONTAINER_PLAY,this.showUnmuteModal),this.listenToOnce(this.container,a.default.WM_UNMUTED,this.hideUnmuteModal)}},{key:"bindUnmuteModalEvents",value:function(){this.modal.on("click",this.onUnmuteModalClick.bind(this))}},{key:"showUnmuteModal",value:function(){var t=this,e=this.options.chromeless&&!r.Browser.isMobile,n=this.options.mute||this.mutedAutoplay&&!o.autoplayManager.playerHasConsent;!e&&this.options.autoPlay&&n&&(this.renderUnmuteModal(),this.isVisible=!0,setTimeout(function(){t.hideLabel()},5e3))}},{key:"renderUnmuteModal",value:function(){var t=(0,r.template)(l.default)({volumeOffIcon:d.default,volumeOnIcon:c.default}),e=s.default.getStyleFrom(u.default,{playerId:this.core.options.playerId});this.mediaControl.trigger(a.default.MEDIACONTROL_MODAL_SHOW,t,{hidePanels:!0}),this.modal.find(".unmute-modal").append(e[0]),this.mediaControlPlugin.setKeepVisible(),this.bindUnmuteModalEvents(),this.mediaControlPlugin.$el.addClass("media-control--no-background")}},{key:"onUnmuteModalClick",value:function(t){var e=this;t&&t.stopPropagation(),this.idPlayback.consent(),this.core.getPlugin("volume").toggleMute(),this.hideLabel(),this.toggleUnmuteButton(),setTimeout(function(){e.hideUnmuteModal()},1e3)}},{key:"hideUnmuteModal",value:function(){this.isVisible&&(this.modal.off("click"),this.mediaControl.trigger(a.default.MEDIACONTROL_MODAL_HIDE),this.isVisible=!1,this.mediaControlPlugin.resetKeepVisible(),this.mediaControlPlugin.resetFocus(),this.mediaControlPlugin.$el.removeClass("media-control--no-background"))}},{key:"toggleUnmuteButton",value:function(){this.modal&&(this.modal.find(".unmute-modal__button--off").addClass("unmute-modal__button--hide"),this.modal.find(".unmute-modal__button--on").removeClass("unmute-modal__button--hide"))}},{key:"hideLabel",value:function(){this.modal&&(this.modal.find(".unmute-modal__label").addClass("unmute-modal__label--hide"),this.modal.find(".unmute-modal__button-box").addClass("unmute-modal__button-box--no-label"))}},{key:"render",value:function(){return this.$el.html(""),this}},{key:"name",get:function(){return"tap_to_unmute"}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}},{key:"template",get:function(){return(0,r.template)(l.default)}},{key:"modal",get:function(){return this.mediaControlPlugin&&this.mediaControlPlugin.$modal}},{key:"playback",get:function(){return this.idPlayback||{}}},{key:"mutedAutoplay",get:function(){return this.playback.mutedAutoplay}}]),e}();e.default=p,t.exports=e.default},function(t,e){t.exports='<div class="unmute-modal">\n  <div class="unmute-modal__button-box">\n    <button class="unmute-modal__button unmute-modal__button--on unmute-modal__button--hide"><%= volumeOnIcon %></button>\n    <button class="unmute-modal__button unmute-modal__button--off"><%= volumeOffIcon %></button>\n    <span class=\'unmute-modal__label\'>Ativar som</span>\n  </div>\n</div>\n'},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .unmute-modal{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;position:absolute;right:0;bottom:0;z-index:998;height:100%;width:100%}.clappr-player#wp3-player-0 .unmute-modal__button-box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:32px;background-color:hsla(0,0%,7%,.8);width:118px;transition:width .5s ease;box-sizing:border-box;margin:12px;border-radius:4px}.clappr-player#wp3-player-0 .unmute-modal__button-box--no-label{width:40px}.clappr-player#wp3-player-0 .unmute-modal__button{background-color:transparent;border:0;opacity:1;cursor:pointer;margin:0;padding:0;transition:visibility .3s ease,opacity .3s ease;outline:none}.clappr-player#wp3-player-0 .unmute-modal__button--hide{display:none}.clappr-player#wp3-player-0 .unmute-modal__button:focus,.clappr-player#wp3-player-0 .unmute-modal__button:hover{opacity:1}.clappr-player#wp3-player-0 .unmute-modal__button svg{height:24px;width:24px}.clappr-player#wp3-player-0 .unmute-modal__label{font-family:opensans-regular,sans-serif;font-size:14px;line-height:1.14;color:#fff;width:77px;padding-left:7px;opacity:1;transition:width .5s ease;margin-top:-2px}.clappr-player#wp3-player-0 .unmute-modal__label--hide{width:0;opacity:0;padding:0}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(401),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=c(n(6)),a=c(n(402)),s=c(n(403)),l=c(n(15)),u=c(n(5));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.$thumbPreview=n.core.getPlugin("thumb_preview").$el,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.UICorePlugin),i(e,[{key:"name",get:function(){return"cuepoints"}},{key:"attributes",get:function(){return{class:"cuepoints"}}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"seekbar",get:function(){return this.core.getPlugin("seekbar")}},{key:"template",get:function(){return(0,r.template)(s.default)}},{key:"playbackType",get:function(){return this.container&&this.container.getPlaybackType()}},{key:"playback",get:function(){return this.container&&this.container.playback}},{key:"events",get:function(){return{mouseenter:"showDetails",mouseleave:"hideDetails",click:"clicked"}}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.playback&&this.stopListening(this.playback),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,r.Events.CONTAINER_SETTINGSUPDATE,this.render),this.listenTo(this.playback,o.default.WM_VIDEO_METADATA_LOADED,this.parseCuepoints),this.listenTo(this.playback,o.default.WM_RESOURCE_READY,this.render))}},{key:"containerChanged",value:function(){this.seekbar.$el.find(".cuepoint").remove(),this.cuepoints=[],this.bindContainerEvents()}},{key:"parseCuepoints",value:function(t){this.duration=t.duration;var e=this.core.options.cuepoints&&this.core.options.cuepoints.values;if(e)this.cuepoints=e;else{var n=t&&t.cuepoints||[];this.cuepoints=n.map(function(t){return t.time/=1e3,t})}}},{key:"clicked",value:function(t){t.stopPropagation(),this.container.seek(this.cuepoints[(0,u.default)(t.target).index()].time)}},{key:"showDetails",value:function(t){var e=this.$thumbPreview.find(".thumb-preview__position"),n=(0,u.default)(t.target).index();e.toggleClass("thumb-preview__position cuepoint__details"),e.empty();var i=(0,u.default)("<div/>",{class:"cuepoint__details-title"}),o=(0,u.default)("<div/>",{class:"cuepoint__details-time"});i.text(this.cuepoints[n].title||"Bloco "+(n+2)),o.text(r.Utils.formatTime(this.cuepoints[n].time)),e.append(i,o),this.seekbar.$el.find(".bar-hover[data-seekbar]").css("visibility","hidden")}},{key:"hideDetails",value:function(t){this.$thumbPreview.find(".cuepoint__details").toggleClass("thumb-preview__position cuepoint__details"),this.seekbar.$el.find(".bar-hover[data-seekbar]").css("visibility","visible")}},{key:"render",value:function(){var t=this;if(this.cuepoints&&this.cuepoints.length&&"ad"!==this.playbackType){this.seekbar.$el.find(".cuepoint").remove();var e=l.default.getStyleFrom(a.default,{playerId:this.core.options.playerId});this.$el.html(this.template({cuepoints:this.cuepoints})),this.$el.append(e[0]),this.cuepoints.forEach(function(e,n){var i=t.duration||0,r=100*e.time/(i/1e3);t.$el.find(".cuepoint").eq(n).css("left",r+"%")}),this.seekbar.$el.append(this.el)}}}]),e}();e.default=d,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,'.clappr-player#wp3-player-0 .bar-container[data-seekbar]:hover .cuepoint:before{-webkit-transform:scale(1.35);transform:scale(1.35)}.clappr-player#wp3-player-0 .cuepoint{position:absolute;height:100%;width:2px;bottom:0;z-index:200}.clappr-player#wp3-player-0 .cuepoint:before{position:absolute;display:inline-block;width:100%;height:2px;content:"";left:-2px;top:21px;background-color:#000;border-radius:50%;border:2px solid #fff;will-change:transform;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.clappr-player#wp3-player-0 .cuepoint:hover:before{-webkit-transform:scale(2)!important;transform:scale(2)!important}.clappr-player#wp3-player-0 .cuepoint__details{width:100%;height:100%;line-height:16px;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:100}.clappr-player#wp3-player-0 .cuepoint__details-title{font-family:opensans-regular,sans-serif;font-size:14px;text-shadow:0 0 2px rgba(0,0,0,.5);padding:4px 9px;-webkit-line-clamp:3;-webkit-box-orient:vertical;text-align:left;overflow:hidden;position:absolute;left:0}.clappr-player#wp3-player-0 .cuepoint__details-time{padding:3px 8px 2px;font-family:opensans-regular,sans-serif;font-size:14px;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5);border-radius:2px;border-bottom-left-radius:0;border-bottom-right-radius:0;background-color:rgba(0,0,0,.5);display:-webkit-box;display:-ms-flexbox;display:flex;z-index:100;-ms-flex-item-align:end;align-self:flex-end}',""])},function(t,e){t.exports="<% for (var i = 0; i < cuepoints.length; i++) { %>\n<div class='cuepoint'></div>\n<% } %>\n"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(405),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=u(n(15)),a=u(n(38)),s=u(n(406)),l=u(n(407));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,[{key:"name",get:function(){return"live_button"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"left"}},{key:"attributes",get:function(){return{class:"live-button live-button--hide"}}},{key:"template",get:function(){return(0,r.template)(l.default)}},{key:"events",get:function(){return{click:this.click}}},{key:"isLive",get:function(){return this.container&&this.container.getPlaybackType()===r.Playback.LIVE}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged)}},{key:"onContainerChanged",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.listenTo(this.container,r.Events.CONTAINER_SETTINGSUPDATE,this.onContainerUpdate),this.updateState()}},{key:"onContainerUpdate",value:function(){this.stopListening(this.container),this.listenTo(this.container,r.Events.CONTAINER_PLAYBACKDVRSTATECHANGED,this.toggleButton),this.listenTo(this.container,r.Events.CONTAINER_PLAY,this.updateState),this.listenTo(this.container,r.Events.CONTAINER_PAUSE,this.enableButton),this.listenTo(this.container,r.Events.CONTAINER_STOP,this.enableButton)}},{key:"toggleButton",value:function(t){this.dvrInUse=t,this.dvrInUse?this.enableButton():this.disableButton()}},{key:"click",value:function(){this.dvrInUse&&(this.core.mediaControl.container.isPlaying()||this.core.mediaControl.container.play(),this.core.mediaControl.container.seek(this.core.mediaControl.container.getDuration()))}},{key:"updateState",value:function(){this.isLive?this.show():this.hide(),this.dvrInUse?this.enableButton():this.disableButton()}},{key:"show",value:function(){this.$el.removeClass("live-button--hide")}},{key:"hide",value:function(){this.$el.addClass("live-button--hide")}},{key:"enableButton",value:function(){this.$el.addClass("live-button--dvr")}},{key:"disableButton",value:function(){this.$el.removeClass("live-button--dvr")}},{key:"render",value:function(){var t=o.default.getStyleFrom(s.default,{playerId:this.core.options.playerId});return this.$el.html(this.template()),this.$el.append(t[0]),this}}]),e}();e.default=c,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,'.clappr-player#wp3-player-0 .media-control.dvr-disabled .live-button,.clappr-player#wp3-player-0 .media-control.mobile .live-button{margin-left:12px}.clappr-player#wp3-player-0 .live-button{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;border:0;color:#fff;background:transparent;cursor:default;pointer-events:none}.clappr-player#wp3-player-0 .live-button.media-control-element{padding-left:0;padding-right:0}.clappr-player#wp3-player-0 .live-button:focus{outline:none}.clappr-player#wp3-player-0 .live-button:before{content:"";position:absolute;width:10px;height:10px;top:7px;background:red;border-radius:20px;z-index:-1;box-shadow:0 0 3px 1px rgba(0,0,0,.2);transition:width .2s ease,height .2s ease,top .2s ease;will-change:width,height,top}.clappr-player#wp3-player-0 .live-button--live-label,.clappr-player#wp3-player-0 .live-button--watch-label{color:#fff;z-index:2;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.clappr-player#wp3-player-0 .live-button--watch-label{font-family:opensans-regular,sans-serif;width:0;margin-left:15px;font-size:14px;line-height:1;opacity:0;overflow:hidden;transition:width .2s ease,opacity .2s ease;will-change:width,opacity}.clappr-player#wp3-player-0 .live-button--live-label{font-family:opensans-bold,sans-serif;text-transform:uppercase;font-size:12px;line-height:1.33;text-shadow:0 0 2px rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .live-button--dvr{cursor:pointer;pointer-events:all}.clappr-player#wp3-player-0 .live-button--dvr.media-control-element{padding-right:12px}.clappr-player#wp3-player-0 .live-button--dvr:before{width:123px;height:24px;top:0}.clappr-player#wp3-player-0 .live-button--dvr .live-button--watch-label{opacity:1;width:46px;margin-left:12px}.clappr-player#wp3-player-0 .live-button--hide{display:none}',""])},function(t,e){t.exports='<span class="live-button--watch-label">assistir</span> <span class="live-button--live-label">ao vivo</span>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=l(n(6)),a=l(n(15)),s=l(n(409));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.core=t,n.mediaControl=n.core.mediaControl,n.allowPipToMaster=!!n.core.options.allowPipToMaster;var i=a.default.getStyleFrom(s.default,{playerId:n.core.options.playerId});return n.core.$el.append(i[0]),n.setupContainers(),n.addListeners(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.CorePlugin),i(e,[{key:"name",get:function(){return"pip"}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}}]),i(e,[{key:"getExternalInterface",value:function(){return{addPip:this.addPip,discardPip:this.discardPip,addMaster:this.addMaster,changeMaster:this.changeMaster,getPipSource:this.getPipSource,pipToMaster:this.pipToMaster,hasPip:this.hasPip}}},{key:"addListeners",value:function(){var t=this;this.listenTo(this.core.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.mediaControlContainerChanged),this.listenTo(this.core.mediaControl,r.Events.MEDIACONTROL_SHOW,this.onMediaControlShow),this.listenTo(this.core.mediaControl,r.Events.MEDIACONTROL_HIDE,this.onMediaControlHide),this.listenTo(this.core.mediaControl,r.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,function(e){return t.onMouseMove(e)}),this.listenTo(this.core.mediaControl,r.Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR,this.onMouseLeave),this.listenTo(this.core.mediaControl,o.default.WM_SETTINGS_SHOW,this.setSettingsUnobtrusiveMode),this.listenTo(this.core.mediaControl,o.default.WM_SETTINGS_HIDE,this.removeSettingsUnobtrusiveMode),this.listenTo(this.core.mediaControl,o.default.WM_VOLUME_SHOW,this.setVolumeUnobtrusiveMode),this.listenTo(this.core.mediaControl,o.default.WM_VOLUME_HIDE,this.removeVolumeUnobtrusiveMode),this.listenTo(this.core.mediaControl,o.default.WM_SHARE_SHOW,this.setUnobtrusiveMode),this.listenTo(this.core.mediaControl,o.default.WM_SHARE_HIDE,this.removeUnobtrusiveMode)}},{key:"mediaControlContainerChanged",value:function(){this.core.options.dfp&&(this.stopListening(this.core.options.dfp),this.listenTo(this.core.options.dfp,o.default.DFP_AD_STARTED,this.setUnobtrusiveMode),this.listenTo(this.core.options.dfp,o.default.DFP_AD_COMPLETED,this.removeUnobtrusiveMode),this.listenTo(this.core.options.dfp,o.default.DFP_AD_CLOSED,this.removeUnobtrusiveMode),this.listenTo(this.core.options.dfp,o.default.DFP_AD_SKIPPED,this.removeUnobtrusiveMode)),this.masterContainer=this.core.mediaControl.container,this.setMasterStyle(this.masterContainer,!1)}},{key:"setupContainers",value:function(){this.core.containers.length>0&&(this.masterContainer=this.core.containers[0],this.setMasterStyle(this.masterContainer,!1),this.core.mediaControl.setContainer(this.masterContainer),this.core.mediaControl.render(),2===this.core.containers.length&&(this.pipContainer=this.core.containers[1],this.setPipStyle(this.pipContainer,!1),this.masterContainer.playback&&this.masterContainer.playback.playWhenReady()||this.masterContainer.play(),this.pipContainer.playback&&this.pipContainer.playback.playWhenReady()||this.pipContainer.play(),this.pipContainer.setVolume(0),this.pipContainer.playback.isPip(!0),this.listenToPipClick()))}},{key:"onMouseMove",value:function(t){this.isOnUnobtrusiveMode||((!t||this.core.mediaControl.container.playback.settings.seekEnabled&&!["thumb","thumb-position"].includes(t.target.className))&&this.pipContainer?this.pipContainer.$el.addClass("unobtrusive-mode"):this.onMouseLeave())}},{key:"onMouseLeave",value:function(){this.isOnUnobtrusiveMode||this.pipContainer&&this.pipContainer.$el.removeClass("unobtrusive-mode")}},{key:"hasPip",value:function(){return!!this.pipContainer}},{key:"getPipSource",value:function(){return this.pipContainer.playback.src}},{key:"canAddMaster",value:function(){return this.masterContainer&&"ad"!==this.masterContainer.getPlaybackType()}},{key:"addPip",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.core.getCurrentPlayback(),i=this.core.getCurrentContainer();!!n.getPlaybackType()&&"ad"!==n.getPlaybackType()&&n.isPlaying()?(this.discardPip(),this.pipContainer=this.core.createContainer(e,{onPip:!0}),this.addPipCallback()):i.once(r.Events.CONTAINER_PLAY,function(){return t.addPip(e)})}},{key:"addPipCallback",value:function(){var t=this,e=this.pipContainer.playback;e.once(o.default.WM_PLAYBACK_WILL_PLAY,function(){return t.pipContainer.setVolume(0)}),this.setPipStyle(this.pipContainer),e&&e.playWhenReady()||this.pipContainer.play(),this.stopListening(this.pipContainer),this.listenToPipClick(),this.listenTo(this.pipContainer,r.Events.CONTAINER_ENDED,this.discardPip),this.listenTo(this.pipContainer,r.Events.CONTAINER_MOUSE_ENTER,this.mouseEnterPip),this.listenTo(this.pipContainer,r.Events.CONTAINER_MOUSE_LEAVE,this.mouseLeavePip),this.listenTo(this.masterContainer,r.Events.CONTAINER_ENDED,this.pipToMaster),e.isPip(!0),this.core.trigger(o.default.WM_PIP_ADDED)}},{key:"mouseEnterPip",value:function(){this.pipContainer.$el.addClass("mouse-over"),this.pipContainer.setVolume(this.masterContainer.volume),this.masterContainer.setVolume(0)}},{key:"mouseLeavePip",value:function(){this.pipContainer.$el.removeClass("mouse-over"),this.masterContainer.setVolume(this.pipContainer.volume),this.pipContainer.setVolume(0)}},{key:"discardPip",value:function(){this.pipContainer&&(this.stopListening(this.pipContainer),this.discardContainer(this.pipContainer),this.pipContainer=void 0,this.core.trigger(o.default.WM_PIP_DISCARDED))}},{key:"discardMaster",value:function(){this.masterContainer&&(this.stopListening(this.masterContainer),this.discardContainer(this.masterContainer),this.masterContainer=void 0)}},{key:"setMasterContainer",value:function(t){this.discardMaster(),this.masterContainer=t,this.setMasterStyle(this.masterContainer),this.listenTo(this.masterContainer,r.Events.CONTAINER_ENDED,this.pipToMaster),this.masterContainer.playback&&this.masterContainer.playback.playWhenReady()||this.masterContainer.play()}},{key:"addMaster",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.canAddMaster()&&this.masterContainer){this.stopListening(this.masterContainer),this.tmpContainer=this.masterContainer,this.tmpContainer.$el.addClass("pip-transition");var e=this.core.createContainer(t.toString(),{onMaster:!0});this.addMasterCallback(e)}}},{key:"addMasterContainer",value:function(t){this.masterContainer&&(this.tmpContainer=this.masterContainer,this.tmpContainer.$el.addClass("pip-transition"),this.addMasterCallback(t))}},{key:"addMasterCallback",value:function(t){var e=Math.max(this.masterContainer.volume,this.pipContainer&&this.pipContainer.volume||0);this.tmpContainer.setVolume(0),this.masterContainer=t,this.pipContainer&&this.discardPip(),this.pipContainer=this.tmpContainer,this.setPipStyle(this.pipContainer),this.setMasterStyle(this.masterContainer);var n=this.masterContainer.playback,i=n&&n.playWhenReady.bind(n)||this.masterContainer.play.bind(this.masterContainer);this.masterContainer.isReady?i():this.listenTo(n,o.default.WM_PLAYBACK_WILL_PLAY,function(){return i()}),this.animateMasterToPip(),this.listenTo(this.pipContainer,r.Events.CONTAINER_MOUSE_ENTER,this.mouseEnterPip),this.listenTo(this.pipContainer,r.Events.CONTAINER_MOUSE_LEAVE,this.mouseLeavePip),this.tmpContainer=void 0,this.masterContainer.setVolume(e),this.pipContainer.trigger(o.default.WM_MASTERTOPIP),this.core.trigger(o.default.WM_MASTER_ADDED)}},{key:"animateMasterToPip",value:function(){this.listenTo(this.masterContainer,r.Events.CONTAINER_ENDED,this.pipToMaster),this.pipContainer.playback.isPip(!0),this.setPipStyle(this.pipContainer),this.core.mediaControl.setContainer(this.masterContainer),this.listenToPipClick()}},{key:"changeMaster",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.masterContainer){this.stopListening(this.masterContainer),this.tmpContainer=this.masterContainer,this.tmpContainer.$el.addClass("pip-transition");var e=this.core.createContainer(t.toString(),{onMaster:!0});this.changeMasterCallback(e)}}},{key:"changeMasterCallback",value:function(t){this.masterContainer.destroy(),this.masterContainer=t,this.tmpContainer=void 0,this.setMasterStyle(this.masterContainer),this.listenTo(this.masterContainer,r.Events.CONTAINER_ENDED,this.pipToMaster);var e=this.masterContainer.playback,n=e&&e.playWhenReady.bind(e)||this.masterContainer.play.bind(this.masterContainer);this.masterContainer.isReady?n():this.listenTo(this.masterContainer.playback,o.default.WM_PLAYBACK_WILL_PLAY,function(){return n()}),this.core.mediaControl.setContainer(this.masterContainer),this.core.trigger(o.default.WM_MASTER_CHANGED)}},{key:"listenToPipClick",value:function(){this.pipContainer&&this.allowPipToMaster&&(this.stopListening(this.pipContainer),this.listenTo(this.pipContainer,r.Events.CONTAINER_CLICK,this.pipToMaster.bind(this)))}},{key:"discardContainer",value:function(t){t.destroy()}},{key:"pipToMaster",value:function(){var t=this;return this.stopListening(this.masterContainer),this.stopListening(this.pipContainer),this.pipContainer&&(this.pipContainer.$el.addClass("pip-transition"),this.setMasterStyle(this.pipContainer),this.pipContainer.$el.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){t.pipContainer.$el.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),t.pipToMasterCallback()})),this}},{key:"pipToMasterCallback",value:function(){var t=Math.max(this.masterContainer.volume,this.pipContainer.volume);this.discardMaster(),this.pipContainer.playback.isPip(!1),this.masterContainer=this.pipContainer,this.pipContainer=void 0,this.core.mediaControl.setContainer(this.masterContainer),this.mediaControlPlugin.updatePlaybackTypeClass(),this.mediaControlPlugin.enable(),this.masterContainer.setVolume(t),this.masterContainer.trigger(o.default.WM_PIPTOMASTER)}},{key:"onMediaControlShow",value:function(){this.mediaControlPlugin.disabled||this.pipContainer&&this.pipContainer.$el.addClass("pip-transition over-media-control")}},{key:"onMediaControlHide",value:function(){this.mediaControlPlugin.keepVisible||(this.masterContainer&&this.masterContainer.$el.removeClass("over-media-control"),this.pipContainer&&(this.pipContainer.$el.addClass("pip-transition"),this.pipContainer.$el.removeClass("over-media-control")))}},{key:"setAnimatedTransition",value:function(t,e){e?t.$el.addClass("pip-transition"):t.$el.removeClass("pip-transition")}},{key:"setPipStyle",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setAnimatedTransition(t,e),t.$el.attr("data-pip",""),t.$el.addClass("pip-container"),t.$el.removeClass("over-media-control master-container"),t.hasPlugin("click_to_pause")&&(t.getPlugin("click_to_pause").disable(),t.getPlugin("click_to_pause").settingsUpdate()),this.mediaControlPlugin.isVisible()&&this.onMediaControlShow()}},{key:"setMasterStyle",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setAnimatedTransition(t,e),t.$el.attr("data-pip",""),t.$el.addClass("master-container"),t.$el.removeClass("over-media-control pip-container"),t.hasPlugin("click_to_pause")&&(!r.Browser.supportsTouchEvents&&t.getPlugin("click_to_pause").enable(),t.getPlugin("click_to_pause").settingsUpdate())}},{key:"setUnobtrusiveMode",value:function(){this.isOnUnobtrusiveMode=!0,this.pipContainer&&this.pipContainer.$el.addClass("unobtrusive-mode")}},{key:"removeUnobtrusiveMode",value:function(){this.volumeUnobtrusive||this.settingsUnobtrusive||(this.isOnUnobtrusiveMode=!1,this.pipContainer&&this.pipContainer.$el.removeClass("unobtrusive-mode"))}},{key:"setVolumeUnobtrusiveMode",value:function(){this.volumeUnobtrusive=!0,this.setUnobtrusiveMode()}},{key:"removeVolumeUnobtrusiveMode",value:function(){this.volumeUnobtrusive=!1,this.removeUnobtrusiveMode()}},{key:"setSettingsUnobtrusiveMode",value:function(){this.settingsUnobtrusive=!0,this.setUnobtrusiveMode()}},{key:"removeSettingsUnobtrusiveMode",value:function(){this.settingsUnobtrusive=!1,this.removeUnobtrusiveMode()}}]),e}();e.default=u,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .pip-transition[data-pip]{transition:all .3s ease-out}.clappr-player#wp3-player-0.nocursor .container[data-container].master-container[data-pip],.clappr-player#wp3-player-0.nocursor .container[data-container].master-container[data-pip].pointer-enabled,.clappr-player#wp3-player-0.nocursor .container[data-container].pip-container[data-pip],.clappr-player#wp3-player-0.nocursor .container[data-container].pip-container[data-pip].pointer-enabled{cursor:none}.clappr-player#wp3-player-0 .container[data-container].master-container[data-pip]{cursor:default;width:100%;height:100%;font-size:100%;position:absolute;bottom:0;right:0;padding:0;margin:0;border:none}.clappr-player#wp3-player-0 .container[data-container].master-container[data-pip].pointer-enabled{cursor:pointer}.clappr-player#wp3-player-0 .container[data-container].master-container[data-pip].pip-transition{z-index:1000}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip]{cursor:default;width:24%;height:24%;min-width:0;font-size:24%;z-index:1000;position:absolute;padding:0;margin:0;right:23px;bottom:23px;border-radius:3px;border:2px solid hsla(0,0%,100%,.25);background-clip:padding-box;-webkit-background-clip:padding-box}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip].pointer-enabled{cursor:pointer}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip].over-media-control{-webkit-transform:translateY(-43px);transform:translateY(-43px)}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip].mouse-over{border-color:hsla(0,0%,100%,.5)}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip].unobtrusive-mode{opacity:.3;z-index:993}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(411),t.exports=e.default},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=_(n(38)),s=_(n(6)),l=_(n(15)),u=_(n(412)),c=_(n(419)),d=_(n(421)),h=_(n(5)),p=_(n(427)),f=_(n(428)),y=_(n(429)),v=_(n(430)),g=_(n(323)),m=_(n(290)),b=_(n(431));function _(t){return t&&t.__esModule?t:{default:t}}var A=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.hideSettingsBoxHandler=function(){return n.hideSettingsBox()},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"getExternalInterface",value:function(){return{getSelectedSettings:this.getSelectedSettings,getDefaultSettings:this.getDefaultSettings}}},{key:"name",get:function(){return"settings"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"right"}},{key:"template",get:function(){return(0,o.template)(y.default)}},{key:"attributes",get:function(){return{class:"media-control-button","data-settings":""}}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"events",get:function(){return{click:"toggleSettingsBox"}}},{key:"selectors",get:function(){return this._selectors=this._selectors||[new u.default(this.core),new d.default(this.core),new c.default(this.core)],this._selectors}},{key:"availableSelectors",get:function(){return this.selectors.filter(function(t){return t.shouldRender()})}}]),r(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.mediaControl,o.Events.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged),this.listenTo(this.mediaControl,o.Events.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.mediaControl,s.default.WM_VOLUME_SHOW,this.setSecondaryMode),this.listenTo(this.mediaControl,s.default.WM_VOLUME_HIDE,this.resetSecondaryMode),this.listenTo(this.mediaControl,o.Events.MEDIACONTROL_HIDE,this.onMediaControlhide),this.listenTo(this.mediaControl,s.default.MEDIACONTROL_MODAL_HIDE,this.onModalHide),this.selectors.forEach(function(e){t.listenTo(e,s.default.WM_SETTINGS_OPTIONS_CHANGED,t.render)})}},{key:"onMediaControlhide",value:function(){this.mediaControlPlugin.keepVisible||this.resetSettings()}},{key:"onModalHide",value:function(){this.mediaControlPlugin.$modal.removeClass("settings__modal"),this.resetSettings()}},{key:"setSecondaryMode",value:function(){this.isSettingsBoxVisible&&this.mediaControlPlugin.$el.addClass("settings--secondary")}},{key:"resetSecondaryMode",value:function(){this.mediaControlPlugin.$el.removeClass("settings--secondary")}},{key:"bindContainerEvents",value:function(){this.unbindContainerEvents(),o.Mediator.on(this.options.playerId+":"+o.Events.PLAYER_RESIZE,this.onPlayerResize,this)}},{key:"unbindContainerEvents",value:function(){o.Mediator.off(this.options.playerId+":"+o.Events.PLAYER_RESIZE,this.onPlayerResize,this)}},{key:"bindSettingsEvents",value:function(){var t=this;this.unbindSettingsEvents(),this.$settingsBox=this.mediaControlPlugin.$modal.find(".settings__box"),this.$settingsBox.on("click",function(t){return t.stopPropagation()}),this.$settingsMenuitem=this.mediaControlPlugin.$modal.find(".settings__menu-item"),this.$settingsMenuitem.on("click",this.clickMenu.bind(this)),i.nextTick(function(){(0,h.default)(document).one("click",t.hideSettingsBoxHandler),t.listenTo(t.mediaControl,s.default.MEDIACONTROL_ITEMCLICKED,t.hideSettingsBoxHandler)})}},{key:"unbindSettingsEvents",value:function(){this.$settingsMenuitem&&this.$settingsMenuitem.off("click");var t=this.mediaControlPlugin.$modal.find(".settings__options-title");t&&t.off("click"),this.$settingsClose&&this.$settingsClose.off("click"),(0,h.default)(document).off("click",this.hideSettingsBoxHandler),this.stopListening(this.mediaControl,s.default.MEDIACONTROL_ITEMCLICKED,this.hideSettingsBoxHandler)}},{key:"onContainerChanged",value:function(){this.resetSettings(),this.render(),this.bindContainerEvents()}},{key:"onPlayerResize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.width&&"number"==typeof t.width&&(this.currentWidth=t.width,this.updateSettingsBoxMaxHeight(),this.updateSettingsFullScreenState())}},{key:"updateSettingsFullScreenState",value:function(){this.isSettingsBoxVisible&&(this.settingsFullScreenEnabled=this.currentWidth<540,this.settingsFullScreenEnabled?this.showSettingsFullScreen():this.hideSettingsFullScreen())}},{key:"getPanelBetweenHeight",value:function(){var t=this.mediaControlPlugin.$el.find(".media-control-panel__between");return t&&t.height()}},{key:"getSettingBoxHeaderHeight",value:function(){var t=this.mediaControlPlugin.$modal.find(".settings__header");return t&&t.height()}},{key:"updateSettingsBoxMaxHeight",value:function(){if(this.isSettingsBoxVisible){var t=this.getPanelBetweenHeight(),e=this.getSettingBoxHeaderHeight();if(t>=0&&e>=0){var n=t-e;this.mediaControlPlugin.$modal.find(".settings__body").css({maxHeight:n})}}}},{key:"clickMenu",value:function(t){t.stopPropagation();var e=(0,h.default)(t.target).data("selector-name"),n=this.selectors.find(function(t){return t.name===e});this.fromMenuToOptions(),this.renderOptions(n)}},{key:"renderOptions",value:function(t){this.mediaControlPlugin.$modal.find(".settings__options").html(t.render().el),this.mediaControlPlugin.$modal.find(".settings__title").html(t.title),this.mediaControlPlugin.$modal.find(".settings__title").addClass("settings__title-option"),this.mediaControlPlugin.$modal.find(".settings__header").on("click",this.fromOptionsToMenu.bind(this))}},{key:"fromMenuToOptions",value:function(){this.mediaControlPlugin.$modal.find(".settings__box").addClass("settings__box--options-rendered"),this.mediaControlPlugin.$modal.find(".settings__menu").addClass("settings__menu--hidden"),this.mediaControlPlugin.$modal.find(".settings__options").removeClass("settings__options--hidden"),this.mediaControlPlugin.$modal.find(".settings__back-icon").removeClass("settings__back-icon--hidden"),this.updateSettingsBoxMaxHeight()}},{key:"fromOptionsToMenu",value:function(t){t&&t.stopPropagation(),this.mediaControlPlugin.$modal.find(".settings__box").removeClass("settings__box--options-rendered"),this.mediaControlPlugin.$modal.find(".settings__menu").removeClass("settings__menu--hidden"),this.mediaControlPlugin.$modal.find(".settings__options").addClass("settings__options--hidden"),this.mediaControlPlugin.$modal.find(".settings__back-icon").addClass("settings__back-icon--hidden"),this.mediaControlPlugin.$modal.find(".settings__title").html("Configuraes"),this.mediaControlPlugin.$modal.find(".settings__title").removeClass("settings__title-option"),this.updateSettingsBoxMaxHeight(),this.updateAllSelectors()}},{key:"toggleSettingsBox",value:function(t){t.stopPropagation(),this.isSettingsBoxVisible?this.hideSettingsBox():this.showSettingsBox()}},{key:"showSettingsBox",value:function(){var t=this.template({selectors:this.availableSelectors,arrowIcon:g.default,backIcon:b.default,closeIcon:m.default});this.mediaControl.trigger(s.default.MEDIACONTROL_MODAL_SHOW,t),this.mediaControlPlugin.$modal.addClass("settings__modal"),this.mediaControl.trigger(s.default.WM_SETTINGS_SHOW),this.isSettingsBoxVisible=!0,this.bindSettingsEvents(),this.updateSettingsBoxMaxHeight(),this.updateSettingsFullScreenState(),this.mediaControlPlugin.setKeepVisible()}},{key:"updateAllSelectors",value:function(){var t=this;this.availableSelectors.forEach(function(e){t.updateSelectorValue(e)})}},{key:"updateSelectorValue",value:function(t){var e="li[data-selector-name="+t.name+"] .settings__menu-item-value",n=this.$settingsBox&&this.$settingsBox.find(e);n&&n.html(t.selected)}},{key:"showSettingsFullScreen",value:function(){this.isSettingsBoxVisible&&(this.mediaControlPlugin.updatePanelsVisibility({hide:!0}),this.$settingsBox&&this.$settingsBox.addClass("settings__fullscreen"),this.hasPlayingBeforeModal=this.playback.isPlaying(),this.hasPlayingBeforeModal&&this.playback.pause(),this.$settingsClose=this.mediaControlPlugin.$modal.find(".settings__close"),this.$settingsClose&&this.$settingsClose.removeClass("settings__close--hidden"),this.$settingsClose&&this.$settingsClose.on("click",this.hideSettingsBox.bind(this)))}},{key:"hideSettingsBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isSettingsBoxVisible&&(this.unbindSettingsEvents(),this.mediaControl.trigger(s.default.MEDIACONTROL_MODAL_HIDE,t),this.mediaControl.trigger(s.default.WM_SETTINGS_HIDE),this.mediaControlPlugin.resetKeepVisible(),this.hasPlayingBeforeModal&&this.playback.play())}},{key:"hideSettingsFullScreen",value:function(){this.$settingsBox&&this.$settingsBox.removeClass("settings__fullscreen"),this.mediaControlPlugin.updatePanelsVisibility({hide:!1})}},{key:"resetSettings",value:function(){this.isSettingsBoxVisible=!1}},{key:"getSelectedSettings",value:function(){var t={};return this.availableSelectors.forEach(function(e){t[e.optionName]=e.getCurrentOption()}),t}},{key:"getDefaultSettings",value:function(){var t={};return this.selectors.forEach(function(e){t[e.optionName]=e.defaultOption}),t}},{key:"shouldRender",value:function(){return this.availableSelectors.length>0&&!["ad","live"].includes(this.core.getPlaybackType())}},{key:"render",value:function(){this.$el.html("");var t=l.default.getStyleFrom(p.default,{playerId:this.core.options.playerId}),e=l.default.getStyleFrom(f.default,{playerId:this.core.options.playerId});return this.$el.append(t[0]).append(e[0]),this.shouldRender()?(this.$el.removeClass("media-control-button--hidden"),this.$el.attr("style",""),this.$el.append(v.default)):this.$el.addClass("media-control-button--hidden"),this}}]),e}();e.default=A,t.exports=e.default}).call(this,n(30))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=d(n(413)),a=d(n(414)),s=d(n(415)),l=d(n(291)),u=d(n(6)),c=d(n(418));function d(t){return t&&t.__esModule?t:{default:t}}var h={max:"M&aacute;xima",high:"Alta",mid:"M&eacute;dia",low:"Baixa",auto:"Autom&aacute;tica"},p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.default),i(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.core.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.playback&&(this.listenTo(this.playback,u.default.WM_VIDEO_METADATA_LOADED,function(e){return t.video=e}),this.listenTo(this.playback,u.default.WM_PLAYBACK_WILL_PLAY,this.setup),this.playback&&this.playback.isReady&&this.setup())}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents()}},{key:"setup",value:function(){var t=this.playback.getInnerPlaybackName();if(this.video&&t){if(this.selector&&this.stopListening(this.selector),["html5_video","flash"].includes(t))this.selector=new s.default(this.core,this.video);else if("flashls"===t)this.selector=new a.default(this.core);else{if("hls"!==t)return void r.Log.info(this.name,"could not setup quality selector");this.selector=new o.default(this.core)}this.listenTo(this.selector,u.default.WM_LEVELSELECTOR_READY,this.parseLevels),this.selector.ready&&this.parseLevels()}else r.Log.info(this.name,"should not setup quality selector")}},{key:"parseLevels",value:function(){var t=this.selector.levels||[];this.availableOptions=t.map(function(t){return Object.assign({},t,{name:t.label,label:h[t.label]})}),this.trigger(u.default.WM_SETTINGS_OPTIONS_CHANGED),this.container.trigger(u.default.WM_SETTINGS_LEVEL_SELECTED,this.availableOptions)}},{key:"playbackUpdate",value:function(t){this.currentQualityId!==t&&(this.selector.levelSwitch(t),this.currentQualityId=t)}},{key:"getCurrentOption",value:function(){var t=this;return this.availableOptions.find(function(e){return e.id===t.currentQualityId})||this.availableOptions[0]}},{key:"name",get:function(){return"quality_selector"}},{key:"optionName",get:function(){return"quality"}},{key:"title",get:function(){return"Qualidade"}},{key:"icon",get:function(){return c.default}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"defaultOption",get:function(){return"auto"}}]),e}();e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=s(n(6)),a=s(n(321));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.ready=!1,n.levels=[],n.container=n.core.getCurrentContainer(),n.playback=n.core.mediaControl.container.playback.playback,n.bindEvents(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.BaseObject),i(e,[{key:"bindEvents",value:function(){this.listenToOnce(this.playback,r.Events.PLAYBACK_LEVELS_AVAILABLE,this.fillLevels)}},{key:"labelFor",value:function(t){return t>=4e5&&t<8e5?"low":t>=8e5&&t<18e5?"mid":t>=18e5&&t<28e5?"high":"max"}},{key:"fillLevels",value:function(){var t=this;(this.playback.levels||[]).forEach(function(e){var n=e.level.bitrate;n<4e5||t.levels.push({id:e.id,label:t.labelFor(n),selected:!1})}),this.levels.push({id:-1,label:"auto",selected:!0}),this.levels=(0,a.default)(this.levels.reverse(),"label"),this.ready=!0,this.trigger(o.default.WM_LEVELSELECTOR_READY)}},{key:"levelSwitch",value:function(t){this.playback.currentLevel=t,this.container.trigger(o.default.WM_SETTINGS_LEVEL_SELECTED,this.levels)}}]),e}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=s(n(6)),a=s(n(321));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.ready=!1,n.levels=[],n.playback=n.core.mediaControl.container.playback.playback,n.bindEvents(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.BaseObject),i(e,[{key:"bindEvents",value:function(){this.listenToOnce(this.playback,r.Events.PLAYBACK_LOADEDMETADATA,this.fillLevels),this.listenToOnce(this.playback,r.Events.PLAYBACK_PROGRESS,this.fillLevels)}},{key:"labelFor",value:function(t){return t>=4e5&&t<8e5?"low":t>=8e5&&t<18e5?"mid":t>=18e5&&t<28e5?"high":"max"}},{key:"fillLevels",value:function(){var t=this;this.levels.length>0||(this.levels.push({id:-1,label:"auto",selected:!0}),this.playback.levels.forEach(function(e){var n=e.level.bitrate;n<4e5||t.levels.push({id:e.id,label:t.labelFor(n),selected:!1})}),this.levels=(0,a.default)(this.levels.reverse(),"label"),this.ready=!0,this.trigger(o.default.WM_LEVELSELECTOR_READY))}},{key:"levelSwitch",value:function(t){var e=-1===t?120:0;this.playback.setMaxBufferLength(e),this.playback.setCurrentLevel(t)}}]),e}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(6),s=(i=a)&&i.__esModule?i:{default:i},l=n(10);var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.ready=!1,i.core=t,i.fillLevels(n),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.BaseObject),r(e,[{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"currentLevel",get:function(){return this.playback.options.selectedLevel||this.playback.options.preferredLevel}}]),r(e,[{key:"fillLevels",value:function(t){var e=t.resources,n={1080:"max",720:"high",480:"mid",360:"low"};for(var i in this.levels=[],e)if(e[i].height){var r={id:e[i].height,label:n[e[i].height],selected:e[i].height===(this.currentLevel||360)};this.levels.push(r)}this.levels=this.sortBy(this.levels,"id").reverse(),this.ready=!0,this.trigger(s.default.WM_LEVELSELECTOR_READY)}},{key:"sortBy",value:function(t,e){return t.sort(function(t,n){return t[e]-n[e]})}},{key:"levelSwitch",value:function(t){t!==this.currentLevel&&(this.core.configure({selectedLevel:t}),this.playback.selectLevel(t),l.LocalStorage.store("selectedlevel",t))}}]),e}();e.default=u,t.exports=e.default},function(t,e){t.exports='<ul class="settings__options-menu">\n  <% for (var i = 0; i < options.length; i++) { %>\n    <% if (options[i].selected) { %>\n      <li data-option-id="<%= options[i].id %>" class="settings__options-item settings__options-item--active">\n        <span class=\'settings__options-active-icon\'><%= activeIcon %></span><span class="label" data-option-id="<%= options[i].id %>"><%= options[i].label %></span>\n      </li>\n    <% } else { %>\n      <li data-option-id="<%= options[i].id %>" class="settings__options-item">\n        <span class="label" data-option-id="<%= options[i].id %>"><%= options[i].label %></span>\n      </li>\n    <% } %>\n  <% } %>\n</ul>\n'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path fill="#FFF" d="M8.59 15.58l-4.17-4.17L3 12.82l5.59 5.59 12-12L19.18 5z"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M19.64 12.98c.042-.32.073-.64.073-.98 0-.34-.031-.66-.072-.98l2.169-1.65c.195-.15.247-.42.123-.64l-2.056-3.46c-.123-.22-.4-.3-.627-.22l-2.56 1c-.534-.4-1.11-.73-1.737-.98l-.39-2.65c-.032-.24-.248-.42-.505-.42H9.946c-.257 0-.473.18-.504.42l-.39 2.65c-.627.25-1.203.59-1.738.98l-2.56-1c-.236-.09-.503 0-.627.22L2.071 8.73c-.133.22-.072.49.124.64l2.169 1.65c-.041.32-.072.65-.072.98 0 .33.03.66.072.98l-2.17 1.65c-.195.15-.246.42-.123.64l2.056 3.46c.124.22.401.3.627.22l2.56-1c.535.4 1.11.73 1.738.98l.39 2.65c.031.24.247.42.504.42h4.112c.257 0 .473-.18.504-.42l.39-2.65c.628-.25 1.204-.59 1.738-.98l2.56 1c.236.09.504 0 .627-.22l2.056-3.46c.124-.22.072-.49-.123-.64l-2.17-1.65zm-7.638 2.52c-1.984 0-3.598-1.57-3.598-3.5s1.614-3.5 3.598-3.5c1.984 0 3.598 1.57 3.598 3.5s-1.614 3.5-3.598 3.5z" fill="#FFF"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=c(n(6)),a=c(n(291)),s=n(292),l=c(n(5)),u=c(n(420));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.setInitialValues(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,[{key:"name",get:function(){return"subtitle_selector"}},{key:"optionName",get:function(){return"subtitle"}},{key:"title",get:function(){return"Legenda"}},{key:"isReady",get:function(){return this.video&&this.playback.getInnerPlaybackName()}},{key:"icon",get:function(){return u.default}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"initialSubtitleOption",get:function(){return this.core.options.defaultSubtitle}},{key:"defaultOption",get:function(){return this.initialSubtitleOption||s.PREFERRED_SUBTITLE}}]),i(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.core.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.playback&&(this.listenTo(this.playback,o.default.WM_VIDEO_METADATA_LOADED,function(e){return t.video=e}),this.listenTo(this.playback,o.default.WM_RESOURCE_READY,this.setup))}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents()}},{key:"setInitialValues",value:function(){this.availableOptions=[],this.availableContents=[],this.currentSubtitleId=null}},{key:"setup",value:function(){this.setInitialValues(),this.isReady&&this.video.subtitleResource&&l.default.ajax({url:this.video.subtitleResource.url,timeout:3e3,success:this.onSubtitleLoadSuccess.bind(this),error:this.onSubtitleLoadError.bind(this)})}},{key:"onSubtitleLoadSuccess",value:function(t){var e=this;s.SUBTITLES_LIST.forEach(function(n){e.availableOptions.push(n),e.availableContents.push(n.language===s.SUBTITLE_LANGUAGES.por.language?t:"")}),this.setInitialSubtitle(),this.container.trigger(o.default.WM_SUBTITLE_AVAILABLE,this.availableOptions,this.availableContents),this.trigger(o.default.WM_SETTINGS_OPTIONS_CHANGED)}},{key:"onSubtitleLoadError",value:function(t){r.Log.error(this.name,t)}},{key:"findSubtitleOption",value:function(t){return this.availableOptions.find(function(e){return e.language===t})}},{key:"setInitialSubtitle",value:function(){if(this.availableOptions.length){var t=this.findSubtitleOption(this.initialSubtitleOption),e=this.findSubtitleOption(s.PREFERRED_SUBTITLE),n=t||e;this.playbackUpdate(n.id,!1),this.interfaceUpdate(n.id)}}},{key:"playbackUpdate",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.currentSubtitleId!==t&&(this.selectedSubtitle=this.availableOptions[t],this.selectedSubtitle.selected=!0,this.currentSubtitleId=t,e&&this.container.trigger(o.default.WM_SUBTITLE_CHANGED,this.selectedSubtitle))}},{key:"getCurrentOption",value:function(){return this.selectedSubtitle}}]),e}();e.default=d,t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z" fill="#FFF"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=p(n(422)),a=p(n(423)),s=p(n(424)),l=p(n(425)),u=p(n(291)),c=p(n(6)),d=n(122),h=p(n(426));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.playback&&this.listenTo(this.playback,c.default.WM_PLAYBACK_WILL_PLAY,this.setup),this.playback&&this.playback.isReady&&this.setup()}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents()}},{key:"setup",value:function(){var t=this;this.availableOptions=[];var e=this.playback.getInnerPlaybackName();if(e){if(this.selector&&this.stopListening(this.selector),"dash_shaka_playback"===e)this.selector=new o.default(this.core);else if("hls"===e)this.selector=new a.default(this.core);else if(["html5_video","hls_fairplay_playback"].includes(e))this.selector=new s.default(this.core);else{if("cast"!==e)return void r.Log.info(this.name,"could not setup audio selector");this.selector=new l.default(this.core)}this.listenTo(this.selector,c.default.WM_AUDIOSELECTOR_READY,this.onSelectorReady),this.listenTo(this.selector,c.default.WM_AUDIO_CHANGED,this.onAudioChanged),this.listenTo(this.selector,c.default.WM_AUDIO_AVAILABLE,function(e){t.core.getCurrentContainer().trigger(c.default.WM_AUDIO_AVAILABLE,e)}),this.selector.setup()}else r.Log.info(this.name,"should not setup audio selector")}},{key:"onSelectorReady",value:function(){this.availableOptions=this.selector.availableOptions,this.trigger(c.default.WM_SETTINGS_OPTIONS_CHANGED)}},{key:"playbackUpdate",value:function(t){this.selector.audioSwitch(t)}},{key:"onAudioChanged",value:function(t){this.container.trigger(c.default.WM_AUDIO_CHANGED,t)}},{key:"getCurrentOption",value:function(){return this.selector.getCurrentOption()}},{key:"name",get:function(){return"audio_selector"}},{key:"optionName",get:function(){return"audio"}},{key:"title",get:function(){return"&Aacute;udio"}},{key:"icon",get:function(){return h.default}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"defaultOption",get:function(){return this.core.options.defaultAudio||d.PREFERRED_AUDIO_LANGUAGE}}]),e}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(293),a=(i=o)&&i.__esModule?i:{default:i};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"setup",value:function(){this.audioTracks.length>1&&(this.parseAudioTracks(),this.setInitialAudio())}},{key:"parseAudioTracks",value:function(){var t=this;this.availableOptions=[],this.audioTracks.forEach(function(e){var n=t.getAudioInfo(e);n&&t.availableOptions.push(n)}),this.onReady()}},{key:"updateAudioPlayback",value:function(){this.playback&&this.playback._player&&this.playback._player.selectAudioLanguage(this.selectedAudio.language)}},{key:"audioTracks",get:function(){return this.playback._player.getAudioLanguages()||[]}}]),e}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(77)),o=a(n(293));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"setup",value:function(){var t=this;this.playback._hls&&(this.audioTracks.length>1?(this.parseAudioTracks(),this.setInitialAudio()):this.playback._hls.on(r.default.Events.AUDIO_TRACKS_UPDATED,function(){return t.setup()}))}},{key:"parseAudioTracks",value:function(){var t=this;this.availableOptions=[],this.audioTracks.forEach(function(e){var n=(e.lang||e.name||"").toLowerCase(),i=t.getAudioInfo(n,e.id);i&&t.availableOptions.push(i)}),this.onReady()}},{key:"updateAudioPlayback",value:function(){this.playback&&this.playback._hls&&(this.playback._hls.audioTrack=this.selectedAudio.id)}},{key:"audioTracks",get:function(){return this.playback._hls.audioTracks||[]}}]),e}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(293),s=(i=a)&&i.__esModule?i:{default:i};var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"setup",value:function(){this.audioTracks.length>1&&(this.parseAudioTracks(),this.setInitialAudio())}},{key:"parseAudioTracks",value:function(){var t=this;this.availableOptions=[],this.audioTracks.forEach(function(e){var n=(e.language||e.label||"").toLowerCase(),i=t.getAudioInfo(n,e.id);i&&t.availableOptions.push(i)}),this.onReady()}},{key:"updateAudioPlayback",value:function(){var t=this;this.audioTracks.forEach(function(e){if(e.id.toString()===t.selectedAudio.id.toString())return e.enabled=!0,!1})}},{key:"audioTracks",get:function(){var t=this.playback&&this.playback.el&&this.playback.el.audioTracks;return"object"===(void 0===t?"undefined":r(t))&&(t=Object.keys(t).map(function(e){return t[e]})),t||[]}}]),e}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(6),s=(i=a)&&i.__esModule?i:{default:i};var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.ready=!1,n.playback=n.core.getCurrentPlayback().playback,n.bindEvents(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.BaseObject),r(e,[{key:"audioTracks",get:function(){return this.playback.getAudioStreams()||[]}}]),r(e,[{key:"bindEvents",value:function(){this.listenTo(this.playback,o.Events.PLAYBACK_PLAY,this.setup)}},{key:"setup",value:function(){this.audioTracks.length>1&&this.parseAudioTracks()}},{key:"parseAudioTracks",value:function(){this.ready=!0,this.trigger(s.default.WM_AUDIOSELECTOR_READY),this.trigger(s.default.WM_AUDIO_AVAILABLE,this.audioTracks)}}]),e}();e.default=l,t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z" fill="#FFF"></path></g></svg>'},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .media-control.touch .media-control-panel__modal .settings__menu-item-option,.clappr-player#wp3-player-0 .media-control.touch .media-control-panel__modal .settings__menu-item-selected{padding-top:8px;padding-bottom:8px}.clappr-player#wp3-player-0 .media-control.touch .media-control-panel__modal .settings__options-item{padding:8px 32px 8px 60px}.clappr-player#wp3-player-0 .media-control.touch .media-control-panel__modal .settings__options-item--active{padding-left:4px}.clappr-player#wp3-player-0 .media-control.settings--secondary .settings__box{opacity:.3}.clappr-player#wp3-player-0 .media-control.settings--secondary .media-control-panel__modal{z-index:-1}.clappr-player#wp3-player-0 .media-control-panel__modal.settings__modal{z-index:998}.clappr-player#wp3-player-0 .media-control.w360 .settings__box,.clappr-player#wp3-player-0 .media-control.w480 .settings__box,.clappr-player#wp3-player-0 .media-control.w540 .settings__box{background-color:transparent}.clappr-player#wp3-player-0 .settings__box{position:absolute;right:12px;bottom:64px;cursor:default;border-radius:4px;background-color:hsla(0,0%,7%,.8);z-index:998;box-sizing:content-box;transition:visibility .3s ease,opacity .3s ease;will-change:opacity}.clappr-player#wp3-player-0 .settings__box--options-rendered .settings__header{display:-webkit-box;display:-ms-flexbox;display:flex}.clappr-player#wp3-player-0 .settings__box--options-rendered .settings__title{padding-right:32px}.clappr-player#wp3-player-0 .settings__header{display:none;-ms-flex-negative:0;flex-shrink:0;border-bottom:1px solid hsla(0,0%,100%,.2);cursor:pointer}.clappr-player#wp3-player-0 .settings__header-info-container{display:-webkit-box;display:-ms-flexbox;display:flex}.clappr-player#wp3-player-0 .settings__header--hidden{display:none!important}.clappr-player#wp3-player-0 .settings__body{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2;box-sizing:content-box;padding:8px 0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-height:180px;overflow:auto}.clappr-player#wp3-player-0 .settings__menu,.clappr-player#wp3-player-0 .settings__options,.clappr-player#wp3-player-0 .settings__options-menu,.clappr-player#wp3-player-0 .settings__options-wrapper{max-height:inherit;overflow:inherit}.clappr-player#wp3-player-0 .settings__title{display:-webkit-box;display:-ms-flexbox;display:flex;padding:12px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:.5;font-family:opensans-regular;letter-spacing:-.5;font-size:15px;line-height:1;color:#fff;text-transform:capitalize}.clappr-player#wp3-player-0 .settings__title-option{padding-left:0}.clappr-player#wp3-player-0 .settings__close{display:none;box-sizing:content-box;width:24px;height:24px;padding:12px;cursor:pointer}.clappr-player#wp3-player-0 .settings__close svg{width:100%;height:100%}.clappr-player#wp3-player-0 .settings__separator{display:block;width:100%;height:1px;border:0;background-color:#666;opacity:.4;margin:12px 0}.clappr-player#wp3-player-0 .settings__menu{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;list-style-type:none;background:none;padding:0;margin:0;height:auto;cursor:pointer}.clappr-player#wp3-player-0 .settings__menu-item{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-item-align:stretch;align-self:stretch;position:static;line-height:1.14;padding:0;margin:0;background:none}.clappr-player#wp3-player-0 .settings__menu-item-option{padding:4px 0 4px 16px}.clappr-player#wp3-player-0 .settings__menu-item-selected{padding:4px 16px 4px 24px}.clappr-player#wp3-player-0 .settings__menu-item:hover{cursor:pointer}.clappr-player#wp3-player-0 .settings__menu-item-option{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;pointer-events:none}.clappr-player#wp3-player-0 .settings__menu-item-icon{width:16px;height:16px;margin-right:8px}.clappr-player#wp3-player-0 .settings__menu-item-icon svg{width:100%;height:100%}.clappr-player#wp3-player-0 .settings__menu-item-title{display:inline;pointer-events:none;font-family:opensans-regular,sans-serif;text-transform:capitalize;font-size:14px;line-height:1.14;color:#fff;opacity:1}.clappr-player#wp3-player-0 .settings__menu-item-selected{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:24px;pointer-events:none}.clappr-player#wp3-player-0 .settings__menu-item-arrow-icon{width:24px;height:24px;margin-left:8px}.clappr-player#wp3-player-0 .settings__menu-item-arrow-icon svg{width:100%;height:100%}.clappr-player#wp3-player-0 .settings__menu-item-value{font-family:opensans-regular,sans-serif;font-size:14px;color:#fff;opacity:.5;cursor:pointer}.clappr-player#wp3-player-0 .settings__menu-item-title,.clappr-player#wp3-player-0 .settings__menu-item-value{height:16px}.clappr-player#wp3-player-0 .settings__menu--hidden{display:none!important}.clappr-player#wp3-player-0 .settings__back-icon{display:-webkit-box;display:-ms-flexbox;display:flex;cursor:pointer;width:24px;height:24px;padding:12px;margin-right:4px;box-sizing:content-box}.clappr-player#wp3-player-0 .settings__back-icon svg{width:100%;height:100%}.clappr-player#wp3-player-0 .settings__back-icon--hidden{display:none!important}.clappr-player#wp3-player-0 .settings__options{display:-webkit-box;display:-ms-flexbox;display:flex;cursor:pointer;width:100%}.clappr-player#wp3-player-0 .settings__options-wrapper{margin:0 auto;width:100%}.clappr-player#wp3-player-0 .settings__options-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.clappr-player#wp3-player-0 .settings__options-title{display:-webkit-box;display:-ms-flexbox;display:flex;cursor:pointer;opacity:.7;font-family:opensans-regular,sans-serif;color:#fff;text-transform:capitalize;text-align:left;font-size:14px}.clappr-player#wp3-player-0 .settings__options-menu{list-style-type:none;background:none;padding:0;margin:0}.clappr-player#wp3-player-0 .settings__options-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;box-sizing:content-box;height:24px;padding:4px 32px 4px 56px;background:none;font-family:opensans-regular,sans-serif;font-size:14px;line-height:1.14;color:#fff;opacity:1}.clappr-player#wp3-player-0 .settings__options-item .label{display:inline-block;text-overflow:ellipsis;white-space:nowrap}.clappr-player#wp3-player-0 .settings__options-item--active{margin-left:0;font-family:opensans-regular,sans-serif;opacity:1;padding-left:0}.clappr-player#wp3-player-0 .settings__options-active-icon{display:inline-block;width:24px;height:24px;padding:0 16px;box-sizing:content-box}.clappr-player#wp3-player-0 .settings__options-active-icon svg{width:100%;height:100%}.clappr-player#wp3-player-0 .settings__options--hidden{display:none!important}",""])},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;border-radius:0;right:0;bottom:0;padding:0}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__header{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:8px}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__body{max-height:calc(100% - 57px)!important;max-width:336px;padding:0}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__menu{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-height:100%}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__menu-item-title{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__menu-item-value{line-height:1.14}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__options{max-height:100%}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__options-wrapper{margin-left:20%}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__options-title{height:24px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__options-item{padding-right:88px}.clappr-player#wp3-player-0 .media-control .settings__box.settings__fullscreen .settings__close{display:-webkit-box;display:-ms-flexbox;display:flex}",""])},function(t,e){t.exports='<div class="settings__box" data-controls>\n  <div class="settings__header">\n    <div class="settings__header-info-container">\n      <span class="settings__back-icon settings__back-icon--hidden"><%= backIcon %></span>\n      <span class="settings__title">configuraes</span>\n    </div>\n    <span class="settings__close settings__close--hidden" ><%= closeIcon %></span>\n  </div>\n  <div class="settings__body">\n    <ul class="settings__menu">\n      <% for (var i = 0; i < selectors.length; i++) { %>\n        <li data-selector-name="<%= selectors[i].name %>" class="settings__menu-item">\n          <span class="settings__menu-item-option">\n            <span class="settings__menu-item-icon"><%= selectors[i].icon %></span>\n            <span class="settings__menu-item-title"><%= selectors[i].title %></span>\n          </span>\n          <span class="settings__menu-item-selected">\n            <span class="settings__menu-item-value"><%= selectors[i].selected %></span>\n            <span class="settings__menu-item-arrow-icon"><%= arrowIcon %></span>\n          </span>\n        </li>\n      <% } %>\n    </ul>\n    <div class="settings__options settings__options--hidden"></div>\n  </div>\n</div>\n'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" fill="#FFF" fill-rule="nonzero"></path></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path fill="#FFF" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"></path></g></svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=c(n(15)),a=c(n(6)),s=c(n(433)),l=c(n(434)),u=c(n(435));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.supportedTypes={vod:{thumb:function(t){return n.updateThumbForVod(t)},text:function(t){return n.thumbTextForVod(t)}},live:{thumb:function(t){return n.updateThumbForLive(t)},text:function(t){return n.thumbTextForLive(t)}}},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.UICorePlugin),i(e,[{key:"name",get:function(){return"thumb_preview"}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"template",get:function(){return(0,r.template)(l.default)}},{key:"attributes",get:function(){return{class:"thumb-preview"}}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}},{key:"seekbar",get:function(){return this.core.getPlugin("seekbar")}}]),i(e,[{key:"bindEvents",value:function(){this.mediaControl&&(r.Mediator.on(this.core.options.playerId+":"+r.Events.PLAYER_RESIZE,this.checkOutline,this),this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,this.show),this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,this.calculatePosition),this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR,this.hide),this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_HIDE,this.hide),this.listenTo(this.mediaControl,a.default.WM_SETTINGS_SHOW,this.setInactiveMode),this.listenTo(this.mediaControl,a.default.WM_SETTINGS_HIDE,this.resetInactiveMode),this.listenTo(this.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.trigger("plugin:thumbpreview:ready"),this.bindContainerEvents())}},{key:"setInactiveMode",value:function(){this.$el.addClass("thumb-preview--inactive")}},{key:"resetInactiveMode",value:function(){this.$el.removeClass("thumb-preview--inactive")}},{key:"bindContainerEvents",value:function(){this.mediaControl.container&&(this.container&&this.stopListening(this.container),this.container=this.mediaControl.container,this.listenTo(this.container,r.Events.CONTAINER_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.container.playback,a.default.WM_VIDEO_METADATA_LOADED,this.onMetadataLoaded))}},{key:"checkOutline",value:function(){r.Utils.Fullscreen.isFullscreen()&&r.Browser.isIE11?this.$el.find(".thumb-preview__thumb").addClass("thumb-preview__thumb--no-outline"):this.$el.find(".thumb-preview__thumb").removeClass("thumb-preview__thumb--no-outline")}},{key:"onMetadataLoaded",value:function(t){this.thumbUrl=t.selectedResource&&t.selectedResource.thumbUrl}},{key:"updateThumbForVod",value:function(t){if(this.lastTimestamp!==t)if(this.lastTimestamp=t,this.thumbUrl){var e=Math.floor(t/60),n=Math.floor(t%60/5),i=this.thumbUrl+"/x96/tile/"+e+".jpg";this.$el.css({height:this.thumbSize.height,width:this.thumbSize.width}),this.$el.find(".thumb-preview__thumb").css({"background-image":"url("+i+")","background-position":"center "+n*-this.thumbSize.height+"px"}),this.mediaControlPlugin.$el.removeClass("thumb-preview-basic")}else this.mediaControlPlugin.$el.addClass("thumb-preview-basic")}},{key:"thumbTextForVod",value:function(t){return t.formattedTime}},{key:"updateThumbForLive",value:function(t){var e=this;this.throttledUpdateThumb||(this.throttledUpdateThumb=(0,s.default)(function(t){var n=Math.floor(Date.now()/1e3),i=e.mediaControl.container.playback.getDuration(),r=10*Math.floor((n-(i-t))/10),o=e.core.options.env.thumbsHost+e.core.getCurrentPlayback().video.transmission.signal+"/snapshot/172/97/?utc="+r;e.$el.css({height:e.thumbSize.height,width:e.thumbSize.width}),e.$el.find(".thumb-preview__thumb").css({"background-image":"url("+o+")","background-size":"cover"})},500,!0)),this.mediaControl.container.playback.dvrEnabled&&this.throttledUpdateThumb(t)}},{key:"thumbTextForLive",value:function(t){if(100===this.mediaControl.currentSeekPercentage){var e=this.mediaControl.container.playback.getDuration()-t.timestamp;return"Voltar "+this.formatTimeInterval(e)}return t.formattedTime}},{key:"show",value:function(t){this.$el.removeClass("thumb-preview--hidden"),this.canShow(t)?(this.$el.css({"z-index":997}),this.$el.removeClass("thumb-preview--hidden")):this.hide()}},{key:"canShow",value:function(t){return this.mediaControl.container.playback.settings.seekEnabled&&Object.keys(this.supportedTypes).includes(this.playbackType)}},{key:"hide",value:function(){this.$el.addClass("thumb-preview--hidden")}},{key:"settingsUpdate",value:function(){this.playbackType=this.mediaControl.container.getPlaybackType(),this.thumbSize={width:170,height:96}}},{key:"containerChanged",value:function(){var t=this,e=this.core.getPlugin("seek_time");e.render=function(){return t.render()},e.update=function(e){return t.update(e)},this.resetInactiveMode(),this.bindContainerEvents(),this.settingsUpdate()}},{key:"render",value:function(){var t=this.core.getPlugin("seek_time");if(this.mediaControl&&t){this.$el.html(this.template());var e=o.default.getStyleFrom(u.default,{playerId:this.core.options.playerId});this.$el.append(e[0]),t.setElement(this.el),this.seekbar.$seekBarContainer.append(this.el),this.$el.addClass("thumb-preview--hidden")}else this.listenToOnce(this,"plugin:thumbpreview:ready",this.render);this.checkOutline()}},{key:"calculatePosition",value:function(t){var e=t.touches&&t.touches.length>0&&t.touches[t.touches.length-1]||{},n=(t.pageX||e.pageX)-this.seekbar.$seekBarContainer.offset().left;this.hoverPosition=Math.min(1,Math.max(n/this.mediaControl.$seekBarContainer.width(),0))}},{key:"update",value:function(){var t=this.core.getPlugin("seek_time");if(this.hoverPosition&&t.hoveringOverSeekBar){var e=this.hoverPosition*this.core.getCurrentContainer().getDuration(),n=r.Utils.formatTime(e),i=this.seekbar.$seekBarContainer;if(!i.length)return;if(isNaN(e))return;if(Object.keys(this.supportedTypes).includes(this.playbackType)){var o=this.supportedTypes[this.playbackType].thumb,a=this.supportedTypes[this.playbackType].text,s=i.width(),l=this.$el.width()/2,u=this.hoverPosition*s-l,c=s-this.$el.width();u=Math.max(0,Math.min(u,c)),this.$el.css("left",u),this.$el.find(".thumb-preview__position").text(a({timestamp:e,formattedTime:n})),this.core.mediaControl.$el.hasClass("w425")||o(e)}}}},{key:"formatTimeInterval",value:function(t){var e=!1;t*=1e3;var n=(t=parseInt(t/1e3,10))%60,i=(t=parseInt(t/60,10))%60,r=(t=parseInt(t/60,10))%24,o="";return r&&r>0&&(o+=r.toString().slice(-2)+"h",e=!0),i&&i>0&&(o+=i.toString().slice(-2)+"m"),e||(o+=("0"+n).slice(-2)+"s"),o.trim()}}]),e}();e.default=d,t.exports=e.default},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="Expected a function",r=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,h="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,p=d||h||Function("return this")(),f=Object.prototype.toString,y=Math.max,v=Math.min,g=function(){return p.Date.now()};function m(t,e,n){var r,o,a,s,l,u,c=0,d=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError(i);function f(e){var n=r,i=o;return r=o=void 0,c=e,s=t.apply(i,n)}function m(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-c>=a}function _(){var t=g();if(m(t))return E(t);l=setTimeout(_,function(t){var n=e-(t-u);return h?v(n,a-(t-c)):n}(t))}function E(t){return l=void 0,p&&r?f(t):(r=o=void 0,s)}function w(){var t=g(),n=m(t);if(r=arguments,o=this,u=t,n){if(void 0===l)return function(t){return c=t,l=setTimeout(_,e),d?f(t):s}(u);if(h)return l=setTimeout(_,e),f(u)}return void 0===l&&(l=setTimeout(_,e)),s}return e=A(e)||0,b(n)&&(d=!!n.leading,a=(h="maxWait"in n)?y(A(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=u=o=l=void 0},w.flush=function(){return void 0===l?s:E(g())},w}function b(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}function _(t){return"symbol"==(void 0===t?"undefined":n(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&f.call(t)==o}function A(t){if("number"==typeof t)return t;if(_(t))return r;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=l.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):s.test(t)?r:+t}t.exports=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError(i);return b(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),m(t,e,{leading:r,maxWait:e,trailing:o})}}).call(this,n(53))},function(t,e){t.exports='<div class="thumb-preview__thumb"></div>\n<div class="thumb-preview__position"></div>\n'},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .media-control.touch .thumb-preview{bottom:52px}.clappr-player#wp3-player-0 .thumb-preview{opacity:1;visibility:visible;transition:visibility .3s ease,opacity .3s ease;position:absolute;bottom:44px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.clappr-player#wp3-player-0 .thumb-preview--hidden{opacity:0;visibility:hidden}.clappr-player#wp3-player-0 .thumb-preview--inactive{display:none}.clappr-player#wp3-player-0 .thumb-preview__thumb{position:absolute;background-color:rgba(0,0,0,.75);border-radius:2px;outline:1px solid transparent;background-repeat:no-repeat;left:0;bottom:0;width:100%;height:100%}.clappr-player#wp3-player-0 .thumb-preview__thumb--no-outline{outline:0!important}.clappr-player#wp3-player-0 .thumb-preview__position{padding:2px 8px 3px;font-family:opensans-regular,sans-serif;font-size:14px;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5);border-radius:2px;border-bottom-left-radius:0;border-bottom-right-radius:0;background-color:rgba(0,0,0,.5);display:-webkit-box;display:-ms-flexbox;display:flex;z-index:100;-ms-flex-item-align:end;align-self:flex-end}.clappr-player#wp3-player-0 .thumb-preview-basic .thumb-preview,.clappr-player#wp3-player-0 .w425 .thumb-preview{border-radius:3px;background-color:rgba(0,0,0,.5);width:auto;height:16px}.clappr-player#wp3-player-0 .thumb-preview-basic .thumb-preview__position,.clappr-player#wp3-player-0 .w425 .thumb-preview__position{display:inline-block;overflow:hidden;position:static;padding:0 6px;width:auto;height:auto;font-size:10px;line-height:16px}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(437),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=y(n(38)),s=y(n(6)),l=y(n(15)),u=y(n(10)),c=y(n(438)),d=y(n(290)),h=y(n(439)),p=y(n(440)),f=y(n(441));function y(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,o.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){var t=this;this.container&&this.stopListening(this.container),this.container&&this.container.playback&&this.stopListening(this.container.playback),this.container=this.core.getCurrentContainer(),this.container&&(o.Mediator.on(this.options.playerId+":"+o.Events.PLAYER_RESIZE,this.onPlayerResize,this),this.listenTo(this.container.playback,s.default.WM_VIDEO_METADATA_LOADED,this.initialize),this.listenTo(this.container,s.default.WM_PIPTOMASTER,this.onPipToMaster),this.listenTo(this.container,s.default.DFP_AD_STARTED,this.updateState),this.listenTo(this.container,s.default.WM_MASTERTOPIP,function(){return t.$el.addClass("video-info--hidden")}),this.listenTo(this.container.playback,o.Events.PLAYBACK_PLAY_INTENT,this.updateState),this.container.options.chromeless&&this.disable())}},{key:"initialize",value:function(t){this.videoProgram=t.program,this.videoTitle=t.title,o.Browser.isChromecast&&this.render()}},{key:"onPlayerResize",value:function(t){this.playerSize=t,this.render()}},{key:"onPipToMaster",value:function(){this.videoProgram=this.container.playback.video.program,this.videoTitle=this.container.playback.video.title,this.render()}},{key:"updateState",value:function(){(this.currentState!==this.renderedState||o.Browser.isMobile)&&(this.$el.removeClass(this.allStates),this.$el.addClass("video-info--"+this.currentState),this.displayInlineMode||this.displayFullScreenMode||"ad"===this.container.getPlaybackType()?this.$el.removeClass("video-info--hidden"):this.$el.addClass("video-info--hidden"),this.renderedState=this.currentState)}},{key:"render",value:function(){if(this.container){o.Browser.isChromecast&&(this.$el.remove(),this.container.$el.append(this.$el)),this.updateState();var t=i({},this.videoInfoHTMLData,{modalMode:!1});return!this.currentState.includes("video-info--ad")&&this.$el.html(this.shouldUseInfoButton?this.buttonTemplate():this.template(t)),this.$el.append(l.default.getStyleFrom(h.default,{playerId:this.options.playerId})[0]),this.shouldUseInfoButton&&this.$el.find(".drawer-info-icon").html(c.default),this}}},{key:"showModalvideoInfo",value:function(t){var e=this,n=i({},this.videoInfoHTMLData,{modalMode:!0});t&&t.stopPropagation(),this.mediaControl.trigger(s.default.MEDIACONTROL_MODAL_SHOW,this.template(n),{hidePanels:!0}),this.mediaControlPlugin.$el.addClass("media-control--keep-video-info");var r=this.modal.find(".video-info__mobile-container"),o=this.modal.find(".video-info__close");r&&r.on("click",function(t){t&&t.stopPropagation(),e.hideModal()}),o&&o.append(d.default),this.mediaControlPlugin.setKeepVisible()}},{key:"hideModal",value:function(){this.modal&&this.modal.find(".video-info__mobile-container").off("click"),this.mediaControl.trigger(s.default.MEDIACONTROL_MODAL_HIDE),this.mediaControlPlugin.resetKeepVisible(),this.mediaControlPlugin.resetFocus(),this.mediaControlPlugin.$el.removeClass("media-control--keep-video-info")}},{key:"name",get:function(){return"video_info"}},{key:"panel",get:function(){return"upper"}},{key:"position",get:function(){return"left"}},{key:"videoInfoHTMLData",get:function(){return{program:this.videoProgram,title:this.videoTitle}}},{key:"template",get:function(){return(0,o.template)(p.default)}},{key:"buttonTemplate",get:function(){return(0,o.template)(f.default)}},{key:"shouldUseInfoButton",get:function(){return this.playerSize&&this.playerSize.width<=480}},{key:"modal",get:function(){return this.mediaControlPlugin.$modal}},{key:"allStates",get:function(){return"video-info--chromecast video-info--full video-info--inline video-info--ad video-info--live video-info--dvr"}},{key:"displayInlineMode",get:function(){return this.options.videoInfo.inlineEnabled&&this.$el.hasClass("video-info--inline")}},{key:"displayFullScreenMode",get:function(){return this.options.videoInfo.fullscreenEnabled&&this.$el.hasClass("video-info--full")}},{key:"currentState",get:function(){if(this.container){var t=o.Browser.isChromecast?"chromecast":u.default.Fullscreen.isFullscreen()?"full":"inline";this.status=[];var e=this.container.getPlaybackType();return"live"===e&&this.status.push("video-info--live"),this.container.isDvrInUse()&&this.status.push("video-info--dvr"),"ad"===e&&this.status.push("video-info--ad"),t+" "+this.status.join(" ")}}},{key:"events",get:function(){return{"click .drawer-info-icon[data-video-info]":"showModalvideoInfo"}}},{key:"attributes",get:function(){return{class:"video-info","data-video-info":""}}}]),e}();e.default=v,t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z" fill="#FFF"></path></g></svg>'},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,'.clappr-player#wp3-player-0 .media-control--keep-video-info .media-control-panel__upper{opacity:1!important;-webkit-transform:translateY(0)!important;transform:translateY(0)!important}.clappr-player#wp3-player-0 .media-control--keep-video-info .video-info{visibility:visible}.clappr-player#wp3-player-0 .media-control.w320 .video-info,.clappr-player#wp3-player-0 .media-control.w360 .video-info,.clappr-player#wp3-player-0 .media-control.w480 .video-info{height:48px}.clappr-player#wp3-player-0 .media-control.w320 .video-info--full,.clappr-player#wp3-player-0 .media-control.w320 .video-info--inline,.clappr-player#wp3-player-0 .media-control.w360 .video-info--full,.clappr-player#wp3-player-0 .media-control.w360 .video-info--inline,.clappr-player#wp3-player-0 .media-control.w480 .video-info--full,.clappr-player#wp3-player-0 .media-control.w480 .video-info--inline{pointer-events:auto}.clappr-player#wp3-player-0 .media-control.w320 .video-info--full .drawer-info-icon,.clappr-player#wp3-player-0 .media-control.w320 .video-info--inline .drawer-info-icon,.clappr-player#wp3-player-0 .media-control.w360 .video-info--full .drawer-info-icon,.clappr-player#wp3-player-0 .media-control.w360 .video-info--inline .drawer-info-icon,.clappr-player#wp3-player-0 .media-control.w480 .video-info--full .drawer-info-icon,.clappr-player#wp3-player-0 .media-control.w480 .video-info--inline .drawer-info-icon{cursor:pointer;padding:0}.clappr-player#wp3-player-0 .media-control.w320 .video-info__mobile-container,.clappr-player#wp3-player-0 .media-control.w360 .video-info__mobile-container,.clappr-player#wp3-player-0 .media-control.w480 .video-info__mobile-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;right:0;bottom:0;z-index:998;height:100%;width:100%;background-color:rgba(0,0,0,.6)}.clappr-player#wp3-player-0 .media-control.w320 .video-info__mobile-header,.clappr-player#wp3-player-0 .media-control.w360 .video-info__mobile-header,.clappr-player#wp3-player-0 .media-control.w480 .video-info__mobile-header{height:36px;width:100%}.clappr-player#wp3-player-0 .media-control.w320 .video-info__data,.clappr-player#wp3-player-0 .media-control.w360 .video-info__data,.clappr-player#wp3-player-0 .media-control.w480 .video-info__data{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0;padding:0 12px 12px}.clappr-player#wp3-player-0 .media-control.w320 .video-info__close,.clappr-player#wp3-player-0 .media-control.w360 .video-info__close,.clappr-player#wp3-player-0 .media-control.w480 .video-info__close{background-color:transparent;border:0;box-sizing:content-box;padding:12px;transition:visibility .3s ease,opacity .3s ease;position:absolute;right:0;width:24px;height:24px;outline:none;cursor:pointer}.clappr-player#wp3-player-0 .media-control.w320 .video-info__close svg,.clappr-player#wp3-player-0 .media-control.w360 .video-info__close svg,.clappr-player#wp3-player-0 .media-control.w480 .video-info__close svg{width:100%;height:100%}.clappr-player#wp3-player-0 .video-info{box-sizing:border-box;color:#fff;pointer-events:none;text-shadow:none;z-index:996}.clappr-player#wp3-player-0 .video-info__data{display:-webkit-box;height:24px;-webkit-box-orient:vertical;visibility:visible;text-align:left}.clappr-player#wp3-player-0 .video-info__data-title{margin-bottom:6px;font-size:18px;line-height:24px}.clappr-player#wp3-player-0 .video-info__data-program,.clappr-player#wp3-player-0 .video-info__data-title{overflow:hidden;font-family:opensans-regular;letter-spacing:0;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .video-info__data-program{font-size:14px;line-height:16px}.clappr-player#wp3-player-0 .video-info__status{text-align:left;font-family:opensans-regular;font-size:16px;line-height:16px}.clappr-player#wp3-player-0 .video-info__data,.clappr-player#wp3-player-0 .video-info__status{transition:all .2s ease}.clappr-player#wp3-player-0 .video-info--chromecast{position:absolute;top:0;background-color:transparent;transition:opacity .2s ease-in}.clappr-player#wp3-player-0 .video-info--chromecast .video-info__data{margin:5vw 0 0 5vw}.clappr-player#wp3-player-0 .video-info--chromecast .video-info__data-title{font-size:3.4vh;line-height:4.4vh;margin-bottom:8px}.clappr-player#wp3-player-0 .video-info--chromecast .video-info__data-program{font-size:2.4vh;line-height:2.6vh}.clappr-player#wp3-player-0 .video-info--ad .video-info__data{display:none!important}.clappr-player#wp3-player-0 .video-info--ad .video-info__status{font-size:14px;line-height:normal;color:#ffff93}.clappr-player#wp3-player-0 .video-info--ad .video-info__status:after{content:"Publicidade"}.clappr-player#wp3-player-0 .video-info--hidden{visibility:hidden;opacity:0}',""])},function(t,e){t.exports='<% if (modalMode === true) { %>\n  <div class="video-info__mobile-container">\n    <div class="video-info__mobile-header">\n      <button class="video-info__close" ></button>\n    </div>\n<% } %>\n  <div class="video-info__data">\n    <div class="video-info__data-title"><%= title %></div>\n    <div class="video-info__data-program"><%= program %></div>\n  </div>\n  <div class="video-info__status"></div>\n<% if (modalMode === true) { %>\n</div>\n<% } %>\n'},function(t,e){t.exports='<button class="drawer-info-icon media-control-button" data-video-info></button>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(443),t.exports=e.default},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=n(10),l=A(n(6)),u=A(n(38)),c=A(n(15)),d=A(n(444)),h=A(n(446)),p=A(n(447)),f=A(n(448)),y=A(n(449)),v=A(n(450)),g=A(n(451)),m=A(n(5)),b=A(n(452)),_=n(453);function A(t){return t&&t.__esModule?t:{default:t}}var E=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentType="application/video-id",a.Browser.isChrome&&n.options.appId?(n.appId=n.options.appId,n.deviceState=_.DEVICE_STATE.IDLE,n.embedScript()):n.disable(),n.subtitlesAvailable=[],n.audiosAvailable=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),o(e,[{key:"version",get:function(){return"0.2.100"}},{key:"name",get:function(){return"chromecast"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"right"}},{key:"overlayTemplate",get:function(){return(0,a.template)(h.default)}},{key:"attributes",get:function(){return{class:"chromecast-button media-control-button","data-chromecast":""}}},{key:"events",get:function(){return{click:"click"}}},{key:"options",get:function(){return this.core.options.chromecast||(this.core.options.chromecast={})}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}},{key:"playback",get:function(){return this.core&&this.core.getCurrentPlayback()}},{key:"hasCastLib",get:function(){return window.chrome&&window.chrome.cast}},{key:"isCastAvailable",get:function(){return this.hasCastLib&&window.chrome.cast.isAvailable}}],[{key:"Movie",get:function(){return"movie"}},{key:"TvShow",get:function(){return"tv_show"}},{key:"Generic",get:function(){return"none"}},{key:"version",get:function(){return"0.2.100"}}]),o(e,[{key:"bindEvents",value:function(){this.container=this.container||this.core.getCurrentContainer(),this.listenTo(this.core.mediaControl,a.Events.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.core.mediaControl,a.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.container&&(this.listenTo(this.container,a.Events.CONTAINER_TIMEUPDATE,this.containerTimeUpdate),this.listenTo(this.container,a.Events.CONTAINER_PLAY,this.containerPlay),this.listenTo(this.container,a.Events.CONTAINER_ENDED,this.sessionStopped),this.listenTo(this.container,a.Events.CONTAINER_VOLUME,this.onVolumeChanged),this.listenTo(this.container,a.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,a.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferfull),this.listenTo(this.playback,l.default.WM_VIDEO_METADATA_LOADED,this.onMetadataLoaded),this.listenTo(this.container,l.default.WM_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(this.container,l.default.WM_AUDIO_CHANGED,this.onAudioChanged))}},{key:"onMetadataLoaded",value:function(t){this.providerId=t.providerId}},{key:"onVolumeChanged",value:function(t){var e=this;if(this.session){var n=t/100;this.session.setReceiverVolumeLevel(n,function(){return a.Log.info(e.name,"volume set")},function(t){return a.Log.error(e.name,t)})}}},{key:"onSubtitleChanged",value:function(t){if(this.session){var e={action:"SUBTITLE_CHANGED",payload:this.subtitlesAvailable.find(function(e){return e.language===t.language||e.id===t.id})};this.sendMessage(e)}}},{key:"onAudioChanged",value:function(t){if(this.session){var e={action:"AUDIO_CHANGED",payload:this.audiosAvailable.find(function(e){return e.language===t.language||e.id===t.id})};this.sendMessage(e)}}},{key:"enable",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enable",this).call(this),this.render(),this.embedScript()}},{key:"embedScript",value:function(){var t=this,e=function(){return i.nextTick(function(){return t.bootstrapCastApi()})};if(this.isCastAvailable)e();else{var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("async","async"),n.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),n.onload=e,document.body.appendChild(n)}}},{key:"bootstrapCastApi",value:function(){var t=this;this.isCastAvailable?this.initializeCastApi():window.__onGCastApiAvailable=function(e,n){e?t.initializeCastApi():(a.Log.warn(t.name,"GCastApi error",n),t.disable())}}},{key:"initializeCastApi",value:function(){var t=this,e=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,n=new chrome.cast.SessionRequest(this.appId),i=new chrome.cast.ApiConfig(n,function(e){return t.sessionListener(e)},function(e){return t.receiverListener(e)},e);chrome.cast.initialize(i,function(){return a.Log.debug(t.name,"init success")},function(){return a.Log.warn(t.name,"init error")})}},{key:"sessionListener",value:function(t){a.Log.debug(this.name,"new session id:"+t.sessionId),this.newSession(t)}},{key:"sessionUpdateListener",value:function(){this.session&&(a.Log.debug(this.name,this.session.status),this.session.status===chrome.cast.SessionStatus.STOPPED&&(this.sessionStopped(),this.session=null))}},{key:"receiverListener",value:function(t){t===chrome.cast.ReceiverAvailability.AVAILABLE?(a.Log.debug(this.name,"receiver found"),this.show()):(a.Log.debug(this.name,"receiver list empty"),this.hide())}},{key:"launchSuccess",value:function(t){clearInterval(this.connectAnimInterval),a.Log.debug(this.name,"launch success - session: "+t.sessionId),this.newSession(t)}},{key:"launchError",value:function(t){var e=this.mediaSession&&this.mediaSession.playerState!==chrome.cast.media.PlayerState.IDLE,n=this.mediaSession&&this.mediaSession.playerState===chrome.cast.media.PlayerState.PLAYING,i=t.code===chrome.cast.ErrorCode.CANCEL;e&&i||(a.Log.debug(this.name,"error on launch",t),this.renderDisconnected(),clearInterval(this.connectAnimInterval),(this.isPlayingBeforeConnect||n)&&(this.container.play(),this.container.seek(this.currentTime)))}},{key:"loadMediaSuccess",value:function(t,e){a.Log.debug(this.name,"new media session "+e+" ("+t+")"),this.originalPlayback=this.core.getCurrentPlayback();var n=Object.assign({},this.originalPlayback.options,{currentMedia:e,mediaControl:this.core.mediaControl,poster:this.container.options.poster,settings:this.originalPlayback.settings});this.src=this.originalPlayback.src,this.playbackProxy=new d.default(n),this.playbackProxy.render(),this.mediaSession=e,this.originalPlayback.$el.hide();var i=this.core.getCurrentContainer();i.$el.append(this.playbackProxy.$el),i.stopListening(),i.playback=this.playbackProxy,i.bindEvents(),i.settingsUpdate()}},{key:"loadMediaError",value:function(t){a.Log.warn(this.name,"media error",t)}},{key:"newSession",value:function(t){var e=this;this.session=t,this.deviceState=_.DEVICE_STATE.ACTIVE,this.renderConnected(),this.core.trigger(l.default.DFP_DISABLE),t.addUpdateListener(function(){return e.sessionUpdateListener()}),t.addMessageListener(_.MESSAGE_BUS_NAMESPACE,function(t,n){return e.wmpMessageListener(t,n)}),this.containerPlay()}},{key:"sessionStopped",value:function(){this.renderDisconnected();var t=this.core.getCurrentContainer(),e=void 0;this.mediaSession&&(e=this.mediaSession.playerState,this.mediaSession=null,this.playbackProxy.$el.remove(),this.originalPlayback.$el.show(),t.stopListening(),t.playback=this.originalPlayback,t.bindEvents(),t.settingsUpdate(),this.core.trigger(l.default.DFP_ENABLE)),this.playbackProxy&&((this.playbackProxy.isPlaying()||"PLAYING"===e)&&(t.play(),t.seek(this.currentTime)),this.playbackProxy.stop(),this.playbackProxy=null)}},{key:"sendMessage",value:function(t){var e=this;this.session.sendMessage(_.MESSAGE_BUS_NAMESPACE,t,function(t){return e.onMessageSuccess(t)},function(t){return e.onMessageFailure(t)})}},{key:"onMessageSuccess",value:function(t){a.Log.info(this.name,"message bus: send message success",t)}},{key:"onMessageFailure",value:function(t){a.Log.error(this.name,"message bus: send message error",t)}},{key:"loadMedia",value:function(){var t=this;if(!this.playback||this.playback.isReady){this.container.pause();var e=this.container.options.src;a.Log.debug(this.name,"loading... "+e);var n=this.createMediaInfo(e),i=new chrome.cast.media.LoadRequest(n);i.autoplay=!0,i.currentTime="ad"==this.core.getPlaybackType()?0:this.currentTime||0,this.session.loadMedia(i,function(e){return t.loadMediaSuccess("loadMedia",e)},function(e){return t.loadMediaError(e)})}}},{key:"createMediaInfo",value:function(t){var n=e.mimeTypeFor(t),i=this.core.options,r=i.dfp,o=r.watchedAds,a=this.getSelectedSettings();"ad"===this.core.getPlaybackType()&&(o+=1);var s={token:i.token||this.getTokenFromCookie(),adUnit:r.adUnit,adCustomData:r.adCustomData,adAccountId:r.adAccountId,adCmsId:r.adCmsId,watchedAds:o,ga:i.ga,defaultSubtitle:a.subtitle,defaultAudio:a.audio},l=new chrome.cast.media.MediaInfo(t);return l.contentType=this.contentType||n,l.customData=s,l.metadata=this.createMediaMetadata(),l}},{key:"getSelectedSettings",value:function(){var t=this.core.getPlugin("settings"),e=t.getSelectedSettings()||{},n=e.audio,i=(n=void 0===n?{}:n).language,o=e.subtitle,a=(o=void 0===o?{}:o).language,s=e.quality,l=(s=void 0===s?{}:s).name;return r({},t.getDefaultSettings()||{},{audio:i,subtitle:a,quality:l})}},{key:"getTokenFromCookie",value:function(){var t=this.providerId?"WMPTOKEN_"+this.providerId:_.DEFAULT_COOKIE_NAME;return(0,s.getCookie)(t)}},{key:"createMediaMetadata",value:function(){this.options.media||(this.options.media={});var t=this.options.media.type,n=this.createCastMediaMetadata(t);return n.title=this.options.media.title,n.subtitle=this.options.media.subtitle,n.releaseDate=this.options.media.releaseDate,t===e.TvShow?(n.episode=this.options.media.episode,n.originalAirdate=this.options.media.originalAirdate,n.season=this.options.media.season,n.seriesTitle=this.options.media.seriesTitle):t===e.Movie&&(n.studio=this.options.media.studio),this.options.media.images&&(n.images=this.options.media.images.map(function(t){return new chrome.cast.Image(t)})),!n.images&&this.core.options.poster&&(n.images=[new chrome.cast.Image(this.core.options.poster)]),n}},{key:"createCastMediaMetadata",value:function(t){switch(t){case e.Movie:return new chrome.cast.media.MovieMediaMetadata;case e.TvShow:return new chrome.cast.media.TvShowMediaMetadata;default:return new chrome.cast.media.GenericMediaMetadata}}},{key:"show",value:function(){this.$el.show()}},{key:"hide",value:function(){this.$el.hide()}},{key:"click",value:function(){var t=this;if(chrome.cast.requestSession(function(e){return t.launchSuccess(e)},function(e){return t.launchError(e)}),!this.session){this.isPlayingBeforeConnect=this.container.isPlaying(),this.container.pause();var e=0;clearInterval(this.connectAnimInterval),this.connectAnimInterval=setInterval(function(){t.renderConnecting(e),e=(e+1)%3},600)}}},{key:"containerChanged",value:function(){this.container=this.core.getCurrentContainer(),this.stopListening(),this.bindEvents(),this.currentTime=0}},{key:"containerTimeUpdate",value:function(t){this.currentTime=t.current}},{key:"containerPlay",value:function(){!this.session||this.mediaSession&&"IDLE"!==this.mediaSession.playerStatus||(a.Log.debug(this.name,"load media"),this.currentTime=this.currentTime||0,this.loadMedia())}},{key:"wmpMessageListener",value:function(t,e){if(this.session){var n=JSON.parse(e);this.handleAdBreak(n),this.handleMediaTracks(n)}}},{key:"handleAdBreak",value:function(t){"adBreakStarted"===t.name?(a.Log.debug(this.name,"ad break started"),this.playbackProxy&&(this.playbackProxy.settings.seekEnabled=!1,this.playbackProxy.trigger(a.Events.PLAYBACK_SETTINGSUPDATE))):"adBreakEnded"===t.name&&(a.Log.debug(this.name,"ad break ended"),this.playbackProxy&&(this.playbackProxy.settings.seekEnabled=!0,this.playbackProxy.trigger(a.Events.PLAYBACK_SETTINGSUPDATE)))}},{key:"handleMediaTracks",value:function(t){switch(t.action){case"SUBTITLE_AVAILABLE":this.subtitlesAvailable=t.payload;break;case"AUDIO_AVAILABLE":this.audiosAvailable=t.payload}}},{key:"createCachedElements",value:function(){this.$mediaControl=this.mediaControlPlugin&&this.mediaControlPlugin.$el,this.$settingsButton=this.$mediaControl.find(".media-control-button[data-settings]");var t=this.core.getCurrentContainer();t&&t.$el&&(this.$chromecastOverlay=t.$el.find(".chromecast-playback-overlay"),this.$chromecastIconContainer=this.$chromecastOverlay.find(".chromecast-icon"),this.$chromecastStatusContainer=this.$chromecastOverlay.find(".chromecast-status"),this.$labelDevice=this.$chromecastStatusContainer.find(".label-device"))}},{key:"renderOverlay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.status,n=t.icon,i=t.receiverName;this.removeOverlay();var r=this.core.getCurrentContainer(),o=this.overlayTemplate();r.$el.append(o),this.createCachedElements(),this.$chromecastOverlay.removeClass("connecting watching"),e&&this.$chromecastOverlay.addClass(e),n&&this.$chromecastIconContainer.html(n),i&&this.$labelDevice.html(i)}},{key:"removeOverlay",value:function(){this.$chromecastOverlay&&this.$chromecastOverlay.remove()}},{key:"renderConnecting",value:function(t){var e=[y.default,v.default,g.default];this.$el.html(e[t]),this.container&&this.container.$el.addClass("cast-connecting"),this.$mediaControl.addClass("media-control-disabled media-control--no-background"),this.mediaControlPlugin.setKeepVisible(),this.renderStyle(),this.renderOverlay({status:"connecting",icon:e[t]})}},{key:"renderConnected",value:function(){this.$el.html(f.default),this.$mediaControl.removeClass("media-control-disabled"),this.mediaControlPlugin.setKeepVisible(),this.container.$el.removeClass("cast-connecting"),this.container.$el.addClass("cast-enabled"),this.renderStyle();var t=this.session&&this.session.receiver&&this.session.receiver.friendlyName;this.renderOverlay({status:"watching",icon:f.default,receiverName:t})}},{key:"renderDisconnected",value:function(){this.$el.html(p.default),this.$mediaControl.removeClass("media-control-disabled"),this.mediaControlPlugin.resetKeepVisible(),this.container&&this.container.$el.removeClass("cast-enabled cast-connecting"),this.$mediaControl.removeClass("media-control--no-background"),this.renderStyle(),this.removeOverlay()}},{key:"renderStyle",value:function(){var t=c.default.getStyleFrom(b.default,{playerId:this.core.options.playerId});this.$el.append(t[0])}},{key:"render",value:function(){return this.createCachedElements(),this.session?this.renderConnected():this.renderDisconnected(),this.appendToMediaControl(),this}},{key:"onBuffering",value:function(){this.$chromecastIconContainer.addClass("hidden"),this.$chromecastStatusContainer.addClass("hidden")}},{key:"onBufferfull",value:function(){this.$chromecastIconContainer.removeClass("hidden"),this.$chromecastStatusContainer.removeClass("hidden")}},{key:"appendToMediaControl",value:function(){var t=this.$mediaControl&&this.$mediaControl.find(".media-control-button[data-fullscreen]");t.length>0?(0,m.default)(this.el).insertBefore(t):this.$mediaControl.find(".media-control-center-panel").append(this.el)}}],[{key:"mimeTypeFor",value:function(t){var e=(t.split("?")[0].match(/.*\.(.*)$/)||[])[1];return _.MIMETYPES[e]?_.MIMETYPES[e]:t.indexOf(".ism")>-1?"application/vnd.ms-sstr+xml":void 0}}]),e}();e.default=E,t.exports=e.default}).call(this,n(30))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(445),s=(i=a)&&i.__esModule?i:{default:i};var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.src=t.src,n.currentMedia=t.currentMedia,n.mediaControl=t.mediaControl,n.currentMedia.addUpdateListener(function(){return n.onMediaStatusUpdate()}),n.settings=t.settings,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Playback),r(e,[{key:"name",get:function(){return"chromecast_playback"}},{key:"template",get:function(){return(0,o.template)(s.default)}},{key:"attributes",get:function(){return{class:"chromecast-playback"}}},{key:"isReady",get:function(){return!0}}]),r(e,[{key:"render",value:function(){var t=this.template();this.$el.html(t),this.options.poster?this.$(".chromecast-playback-background").css("background-image","url("+this.options.poster+")"):this.$(".chromecast-playback-background").css("background-color","#666")}},{key:"play",value:function(){this.currentMedia.play()}},{key:"pause",value:function(){this.stopTimer(),this.currentMedia.pause()}},{key:"stop",value:function(){this.stopTimer(),this.currentMedia.stop()}},{key:"volume",value:function(t){var e=this,n=t/100,i=new chrome.cast.Volume(n,!1),r=new chrome.cast.media.VolumeRequest(i);this.currentMedia.setVolume(r,function(){return o.Log.info(e.name,"volume set")},function(t){return o.Log.warn(e.name,t)})}},{key:"seek",value:function(t){var e=this;this.stopTimer();var n=new chrome.cast.media.SeekRequest;n.currentTime=t,this.currentMedia.seek(n,function(){return e.startTimer()},function(){return o.Log.warn(e.name,"seek failed")})}},{key:"getVolume",value:function(){}},{key:"seekPercentage",value:function(t){if(t>=0&&t<=100){var e=this.getDuration();this.seek(t*e/100)}}},{key:"startTimer",value:function(){var t=this;this.timer=setInterval(function(){return t.updateMediaControl()},100)}},{key:"stopTimer",value:function(){clearInterval(this.timer),this.timer=null}},{key:"getDuration",value:function(){return this.currentMedia.media.duration}},{key:"isPlaying",value:function(){return"PLAYING"===this.currentMedia.playerState||"BUFFERING"===this.currentMedia.playerState}},{key:"getPlaybackType",value:function(){return"LIVE"==this.currentMedia.streamType?o.Playback.LIVE:o.Playback.VOD}},{key:"onMediaStatusUpdate",value:function(){this.isPlaying()&&!this.timer&&this.startTimer(),this.updateBufferState(),"PLAYING"===this.currentMedia.playerState?this.trigger(o.Events.PLAYBACK_PLAY,this.name):"IDLE"===this.currentMedia.playerState&&this.trigger(o.Events.PLAYBACK_ENDED,this.name)}},{key:"updateBufferState",value:function(){"BUFFERING"===this.currentMedia.playerState?(this.isBuffering=!0,this.trigger(o.Events.PLAYBACK_BUFFERING,this.name)):this.isBuffering&&(this.isBuffering=!1,this.trigger(o.Events.PLAYBACK_BUFFERFULL,this.name))}},{key:"updateMediaControl",value:function(){var t=this.currentMedia.getEstimatedTime(),e=this.currentMedia.media.duration;this.trigger(o.Events.PLAYBACK_TIMEUPDATE,{current:t,total:e},this.name)}},{key:"show",value:function(){this.$el.show()}},{key:"hide",value:function(){this.$el.hide()}}]),e}();e.default=l,t.exports=e.default},function(t,e){t.exports='<div class="chromecast-playback-background"></div>\n'},function(t,e){t.exports='<div class="chromecast-playback-overlay">\n  <div class="chromecast-icon"></div>\n  <div class="chromecast-status">\n    <span class="label-connecting">Conectando...</span>\n    <span class="label-watching">Assistindo em</span>\n    <span class="label-device"></span>\n  </div>\n</div>\n'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z" id="cast-off-a"></path><path id="cast-off-c" d="M0 0h24v24H0z"></path></defs><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><mask id="cast-off-b" fill="#fff"><use xlink:href="#cast-off-a"></use></mask><use fill="#FFF" xlink:href="#cast-off-a"></use><g mask="url(#cast-off-b)"><use fill="#FFF" xlink:href="#cast-off-c"></use><path stroke="#E5E5E5" d="M.5.5h23v23H.5z"></path></g></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" id="cast-on-a"></path><path id="cast-on-c" d="M0 0h24v24H0z"></path></defs><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><mask id="cast-on-b" fill="#fff"><use xlink:href="#cast-on-a"></use></mask><use fill="#FFF" xlink:href="#cast-on-a"></use><g mask="url(#cast-on-b)"><use fill="#FFF" xlink:href="#cast-on-c"></use><path stroke="#E5E5E5" d="M.5.5h23v23H.5z"></path></g></g></svg>'},function(t,e){t.exports='<svg class="player-cast-loading" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="ic_cast0_black_24dp" sketch:type="MSArtboardGroup"><g id="ic_remove_circle_white_24dp" sketch:type="MSLayerGroup"><path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z" id="Path" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" id="Path" fill="#000000" sketch:type="MSShapeGroup"></path><rect id="bounds" sketch:type="MSShapeGroup" x="0" y="0" width="24" height="24"></rect></g></g><g id="assets" sketch:type="MSLayerGroup" transform="translate(-240.000000, -106.000000)"><g id="64px" transform="translate(0.000000, 114.000000)"></g></g></g></svg>'},function(t,e){t.exports='<svg class="player-cast-loading" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="ic_cast1_black_24dp" sketch:type="MSArtboardGroup"><g id="ic_remove_circle_white_24dp" sketch:type="MSLayerGroup"><path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z" id="Path" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" id="cast" fill="#000000" sketch:type="MSShapeGroup"></path><rect id="bounds" sketch:type="MSShapeGroup" x="0" y="0" width="24" height="24"></rect></g></g><g id="assets" sketch:type="MSLayerGroup" transform="translate(-272.000000, -106.000000)"><g id="64px" transform="translate(0.000000, 114.000000)"></g></g></g></svg>'},function(t,e){t.exports='<svg class="player-cast-loading" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="ic_cast2_black_24dp" sketch:type="MSArtboardGroup"><g id="ic_remove_circle_white_24dp" sketch:type="MSLayerGroup"><path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z" id="Path" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" id="cast" fill="#000000" sketch:type="MSShapeGroup"></path><rect id="bounds" sketch:type="MSShapeGroup" x="0" y="0" width="24" height="24"></rect></g></g><g id="assets" sketch:type="MSLayerGroup" transform="translate(-304.000000, -106.000000)"><g id="64px" transform="translate(0.000000, 114.000000)"></g></g></g></svg>'},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 svg #cast,.clappr-player#wp3-player-0 svg #cast-on,.clappr-player#wp3-player-0 svg #Path{fill:#fff}.clappr-player#wp3-player-0 .chromecast-playback-overlay--hidden .chromecast-playback-overlay .chromecast-icon,.clappr-player#wp3-player-0 .chromecast-playback-overlay--hidden .chromecast-playback-overlay .chromecast-status{opacity:0}.clappr-player#wp3-player-0 .chromecast-playback{height:100%;width:100%}.clappr-player#wp3-player-0 .chromecast-playback .chromecast-playback-background{background-size:cover}.clappr-player#wp3-player-0 .chromecast-playback-background,.clappr-player#wp3-player-0 .chromecast-playback-overlay{position:absolute;height:100%;width:100%;top:0;left:0}.clappr-player#wp3-player-0 .chromecast-playback-overlay{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:100;background-color:rgba(0,0,0,.6);pointer-events:none;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-icon{top:-77px;left:16px;position:relative}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-icon svg{width:16px;height:16px}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status{position:relative;top:-76px;left:24px}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-connecting,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-watching{display:none}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-connecting,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-device,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-watching{font-family:opensans-regular,sans-serif;font-size:14px;color:#fff}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-device{font-weight:700}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-icon,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status{transition:opacity .2s ease}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-icon.hidden,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status.hidden{visibility:hidden;opacity:0}.clappr-player#wp3-player-0 .chromecast-playback-overlay.connecting .label-connecting,.clappr-player#wp3-player-0 .chromecast-playback-overlay.watching .label-watching{display:inline-block}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_COOKIE_NAME="GLBID",e.MESSAGE_BUS_NAMESPACE="urn:x-cast:wm.player",e.DEVICE_STATE={IDLE:0,ACTIVE:1,WARNING:2,ERROR:3},e.MIMETYPES={mp4:"video/mp4",ogg:"video/ogg","3gpp":"video/3gpp",webm:"video/webm",mkv:"video/x-matroska",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",ogv:"video/ogg","3gp":"video/3gpp"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(455),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=d(n(6)),s=d(n(456)),l=d(n(317)),u=d(n(29)),c=d(n(462));function d(t){return t&&t.__esModule?t:{default:t}}var h="player",p="player_external",f=window.WM&&window.WM.Settings||{};f.isRavenConfigured=void 0!==f.isRavenConfigured&&f.isRavenConfigured;var y=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.Raven=s.default.noConflict(),!l.default.Player.isDevMode()&&n.setup(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.CorePlugin),r(e,[{key:"name",get:function(){return"sentry"}},{key:"host",get:function(){return this.core.options&&this.core.options.env&&this.core.options.env.sentryHost}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"sessionData",get:function(){return{videoSessionId:u.default.getVideoSessionId(this.options.playerId)}}},{key:"isReady",get:function(){return f.isRavenConfigured},set:function(t){f.isRavenConfigured=t}}],[{key:"shouldSendCallback",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.sanitiseNoisyErrors(t);var n=(t.stacktrace||{}).frames||[],i=t.logger||"";return n.some(e.isPlayerOrApiError)||[h,p].includes(i)}},{key:"isPlayerOrApiError",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).filename||"",e=-1!==t.indexOf("player")||-1!==t.indexOf("WP3"),n=-1!==t.indexOf("api.min");return e||n}},{key:"sanitiseNoisyErrors",value:function(t){c.default.forEach(function(e){t.message&&t.message.includes(e)&&(t.message=e)})}}]),r(e,[{key:"getExternalInterface",value:function(){return{sendSentryMessage:this.captureMessage}}},{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,o.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.container&&(this.listenTo(this.container,a.default.DFP_AD_ERROR,this.onDFPError),this.listenTo(this.container,"wm:ga:error",this.onGAError))}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents()}},{key:"setup",value:function(){this.host&&!this.isReady&&(this.Raven.config(this.host,{release:"5.6.6",whitelistUrls:[],shouldSendCallback:e.shouldSendCallback}).install(),this.isReady=!0)}},{key:"captureMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,r=arguments[3];this.isReady&&this.Raven.captureMessage(t,{logger:n,tags:r,extra:i({},e,this.sessionData)})}},{key:"captureInternalError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="[Player] "+(t.code||t.type)+" - "+(t.description||t.message);this.captureMessage(n,t,h,e)}},{key:"onDFPError",value:function(t){this.captureInternalError(t,{origin:"DFP"})}},{key:"onGAError",value:function(t){this.captureInternalError(t,{origin:"GA"})}}]),e}();e.default=y,t.exports=e.default},function(t,e,n){"use strict";(function(e){var i=n(457),r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},o=r.Raven,a=new i;a.noConflict=function(){return r.Raven=o,a},a.afterLoad(),t.exports=a,t.exports.Client=i}).call(this,n(53))},function(t,e,n){"use strict";(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(458),o=n(324),a=n(459),s=n(460),l=n(294),u=l.isErrorEvent,c=l.isDOMError,d=l.isDOMException,h=l.isError,p=l.isObject,f=l.isPlainObject,y=l.isUndefined,v=l.isFunction,g=l.isString,m=l.isArray,b=l.isEmptyObject,_=l.each,A=l.objectMerge,E=l.truncate,w=l.objectFrozen,T=l.hasKey,k=l.joinRegExp,S=l.urlencode,C=l.uuid4,O=l.htmlTreeAsString,P=l.isSameException,R=l.isSameStacktrace,I=l.parseUrl,x=l.fill,L=l.supportsFetch,D=l.supportsReferrerPolicy,M=l.serializeKeysForMessage,N=l.serializeException,B=l.sanitize,U=n(461).wrapMethod,F="source protocol user pass host port path".split(" "),j=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function V(){return+new Date}var H="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},G=H.document,z=H.navigator;function Y(t,e){return v(e)?function(n){return e(n,t)}:e}function $(){for(var t in this._hasJSON=!("object"!==("undefined"==typeof JSON?"undefined":i(JSON))||!JSON.stringify),this._hasDocument=!y(G),this._hasNavigator=!y(z),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:H.SENTRY_RELEASE&&H.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:D()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=H.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=V(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=H.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}$.prototype={VERSION:"3.25.2",debug:!1,TraceKit:r,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var i=n._globalOptions;e&&_(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:i[t]=e}),n.setDSN(t),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=k(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&k(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&k(i.whitelistUrls),i.includePaths=k(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=A(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a;var s={tryCatch:!0},l=i.instrument;return"[object Object]"==={}.toString.call(l)?l=A(s,l):!1!==l&&(l=s),i.instrument=l,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(r.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this._parseDSN(t),n=e.path.lastIndexOf("/"),i=e.path.substr(1,n);this._dsn=t,this._globalKey=e.user,this._globalSecret=e.pass&&e.pass.substr(1),this._globalProject=e.path.substr(n+1),this._globalServer=this._getGlobalServer(e),this._globalEndpoint=this._globalServer+"/"+i+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return v(t)&&(n=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){var i=this;if(y(e)&&!v(t))return t;if(v(t)&&(e=t,t=void 0),!v(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}function r(){var r=[],o=arguments.length,a=!t||t&&!1!==t.deep;for(n&&v(n)&&n.apply(this,arguments);o--;)r[o]=a?i.wrap(t,arguments[o]):arguments[o];try{return e.apply(this,r)}catch(e){throw i._ignoreNextOnError(),i.captureException(e,t),e}}for(var o in e)T(e,o)&&(r[o]=e[o]);return r.prototype=e.prototype,e.__raven_wrapper__=r,r.__raven__=!0,r.__orig__=e,r},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{extra:{unhandledPromiseRejection:!0}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),H.addEventListener&&H.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return H.removeEventListener&&H.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(t,e){if(e=A({trimHeadFrames:0},e||{}),u(t)&&t.error)t=t.error;else{if(c(t)||d(t)){var n=t.name||(c(t)?"DOMError":"DOMException"),i=t.message?n+": "+t.message:n;return this.captureMessage(i,A(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(h(t))t=t;else{if(!f(t))return this.captureMessage(t,A(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var o=r.computeStackTrace(t);this._handleStackInfo(o,e)}catch(e){if(t!==e)throw e}return this},_getCaptureExceptionOptionsFromPlainObject:function(t,e){var n=Object.keys(e).sort(),i=A(t,{message:"Non-Error exception captured with keys: "+M(n),fingerprint:[a(n)],extra:t.extra||{}});return i.extra.__serialized__=N(e),i},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){var n,i=A({message:t+=""},e=e||{});try{throw new Error(t)}catch(t){n=t}n.name=null;var o=r.computeStackTrace(n),a=m(o.stack)&&o.stack[1];a&&"Raven.captureException"===a.func&&(a=o.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||e&&e.stacktrace){i.fingerprint=null==i.fingerprint?t:i.fingerprint,(e=A({trimHeadFrames:0},e)).trimHeadFrames+=1;var l=this._prepareFrames(o,e);i.stacktrace={frames:l.reverse()}}return i.fingerprint&&(i.fingerprint=m(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(t){var e=A({timestamp:V()/1e3},t);if(v(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(p(n)&&!b(n))e=n;else if(!1===n)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=Y(e,t),this},setBreadcrumbCallback:function(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=Y(e,t),this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=Y(e,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var t=H.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(G){var e=(t=t||{}).eventId||this.lastEventId();if(!e)throw new s("Missing eventId");var n=t.dsn||this._dsn;if(!n)throw new s("Missing DSN");var i=encodeURIComponent,r="";r+="?eventId="+i(e),r+="&dsn="+i(n);var o=t.user||this._globalContext.user;o&&(o.name&&(r+="&name="+i(o.name)),o.email&&(r+="&email="+i(o.email)));var a=this._getGlobalServer(this._parseDSN(n)),l=G.createElement("script");l.async=!0,l.src=a+"/api/embed/error-page/"+r,(G.head||G.body).appendChild(l)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var n,i;if(this._hasDocument){for(i in e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),G.createEvent?(n=G.createEvent("HTMLEvents")).initEvent(t,!0,!0):(n=G.createEventObject()).eventType=t,e)T(e,i)&&(n[i]=e[i]);if(G.createEvent)G.dispatchEvent(n);else try{G.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){var i;e._lastCapturedEvent=n;try{i=O(n.target)}catch(t){i="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:i})}}},_keypressEventHandler:function(){var t=this;return function(e){var n;try{n=e.target}catch(t){return}var i=n&&n.tagName;if(i&&("INPUT"===i||"TEXTAREA"===i||n.isContentEditable)){var r=t._keypressTimeout;r||t._breadcrumbEventHandler("input")(e),clearTimeout(r),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},1e3)}}},_captureUrlChange:function(t,e){var n=I(this._location.href),i=I(e),r=I(t);this._lastHref=e,n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var t=this,e=t._wrappedBuiltIns;function n(e){return function(n,i){for(var r=new Array(arguments.length),o=0;o<r.length;++o)r[o]=arguments[o];var a=r[0];return v(a)&&(r[0]=t.wrap(a)),e.apply?e.apply(this,r):e(r[0],r[1])}}var i=this._globalOptions.autoBreadcrumbs;function r(n){var r=H[n]&&H[n].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(x(r,"addEventListener",function(e){return function(r,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=t.wrap(o.handleEvent))}catch(t){}var l,u,c;return i&&i.dom&&("EventTarget"===n||"Node"===n)&&(u=t._breadcrumbEventHandler("click"),c=t._keypressEventHandler(),l=function(t){if(t){var e;try{e=t.type}catch(t){return}return"click"===e?u(t):"keypress"===e?c(t):void 0}}),e.call(this,r,t.wrap(o,void 0,l),a,s)}},e),x(r,"removeEventListener",function(t){return function(e,n,i,r){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return t.call(this,e,n,i,r)}},e))}x(H,"setTimeout",n,e),x(H,"setInterval",n,e),H.requestAnimationFrame&&x(H,"requestAnimationFrame",function(e){return function(n){return e(t.wrap(n))}},e);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<o.length;a++)r(o[a])},_instrumentBreadcrumbs:function(){var t=this,e=this._globalOptions.autoBreadcrumbs,n=t._wrappedBuiltIns;function i(e,n){e in n&&v(n[e])&&x(n,e,function(e){return t.wrap(e)})}if(e.xhr&&"XMLHttpRequest"in H){var r=H.XMLHttpRequest&&H.XMLHttpRequest.prototype;x(r,"open",function(e){return function(n,i){return g(i)&&-1===i.indexOf(t._globalKey)&&(this.__raven_xhr={method:n,url:i,status_code:null}),e.apply(this,arguments)}},n),x(r,"send",function(e){return function(){var n=this;function r(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(t){}t.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var o=["onload","onerror","onprogress"],a=0;a<o.length;a++)i(o[a],n);return"onreadystatechange"in n&&v(n.onreadystatechange)?x(n,"onreadystatechange",function(e){return t.wrap(e,void 0,r)}):n.onreadystatechange=r,e.apply(this,arguments)}},n)}e.xhr&&L()&&x(H,"fetch",function(e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var r,o=n[0],a="GET";if("string"==typeof o?r=o:"Request"in H&&o instanceof H.Request?(r=o.url,o.method&&(a=o.method)):r=""+o,-1!==r.indexOf(t._globalKey))return e.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:r,status_code:null};return e.apply(this,n).then(function(e){return s.status_code=e.status,t.captureBreadcrumb({type:"http",category:"fetch",data:s}),e}).catch(function(e){throw t.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),e})}},n),e.dom&&this._hasDocument&&(G.addEventListener?(G.addEventListener("click",t._breadcrumbEventHandler("click"),!1),G.addEventListener("keypress",t._keypressEventHandler(),!1)):G.attachEvent&&(G.attachEvent("onclick",t._breadcrumbEventHandler("click")),G.attachEvent("onkeypress",t._keypressEventHandler())));var o=H.chrome,a=!(o&&o.app&&o.app.runtime)&&H.history&&H.history.pushState&&H.history.replaceState;if(e.location&&a){var s=H.onpopstate;H.onpopstate=function(){var e=t._location.href;if(t._captureUrlChange(t._lastHref,e),s)return s.apply(this,arguments)};var l=function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t._captureUrlChange(t._lastHref,n+""),e.apply(this,arguments)}};x(H.history,"pushState",l,n),x(H.history,"replaceState",l,n)}if(e.console&&"console"in H&&console.log){var u=function(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};_(["debug","info","warn","error","log"],function(t,e){U(console,e,u)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){var e=(t=this._wrappedBuiltIns.shift())[0],n=t[1],i=t[2];e[n]=i}},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;_(this._plugins,function(e,n){var i=n[0],r=n[1];i.apply(t,[t].concat(r))})},_parseDSN:function(t){var e=j.exec(t),n={},i=7;try{for(;i--;)n[F[i]]=e[i]||""}catch(e){throw new s("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new s("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,i=[];if(t.stack&&t.stack.length&&(_(t.stack,function(e,r){var o=n._normalizeFrame(r,t.url);o&&i.push(o)}),e&&e.trimHeadFrames))for(var r=0;r<e.trimHeadFrames&&r<i.length;r++)i[r].in_app=!1;return i=i.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t,e){var n={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(n.filename=e),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(t,e,n,i,r,o){var a,s=(t?t+": ":"")+(e||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)&&!this._globalOptions.ignoreErrors.test(s))&&(r&&r.length?(n=r[0].filename||n,r.reverse(),a={frames:r}):n&&(a={frames:[{filename:n,lineno:i,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var l=A({exception:{values:[{type:t,value:e,stacktrace:a}]},transaction:n},o);this._send(l)}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=E(t.message,e)),t.exception){var n=t.exception.values[0];n.value=E(n.value,e)}var i=t.request;return i&&(i.url&&(i.url=E(i.url,this._globalOptions.maxUrlLength)),i.Referer&&(i.Referer=E(i.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var e,n,i,r=["to","from","url"],o=0;o<t.values.length;++o)if((n=t.values[o]).hasOwnProperty("data")&&p(n.data)&&!w(n.data)){i=A({},n.data);for(var a=0;a<r.length;++a)e=r[a],i.hasOwnProperty(e)&&i[e]&&(i[e]=E(i[e],this._globalOptions.maxUrlLength));t.values[o].data=i}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&z.userAgent&&(t.headers={"User-Agent":z.userAgent}),H.location&&H.location.href&&(t.url=H.location.href),this._hasDocument&&G.referrer&&(t.headers||(t.headers={}),t.headers.Referer=G.referrer),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&V()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return!(!e||t.message!==e.message||t.transaction!==e.transaction)&&(t.stacktrace||e.stacktrace?R(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||P(t.exception,e.exception))},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=L()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(t){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=V()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},i=this._getHttpData();i&&(n.request=i),t.trimHeadFrames&&delete t.trimHeadFrames,(t=A(n,t)).tags=A(A({},this._globalContext.tags),t.tags),t.extra=A(A({},this._globalContext.extra),t.extra),t.extra["session:duration"]=V()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||b(t[e]))&&delete t[e]}),v(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!b(t)&&(v(e.shouldSendCallback)&&!e.shouldSendCallback(t)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",t):"number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)))},_sanitizeData:function(t){return B(t,this._globalOptions.sanitizeKeys)},_getUuid:function(){return C()},_sendProcessedPayload:function(t,e){var n=this,i=this._globalOptions;if(this.isSetup())if(t=this._trimPacket(t),this._globalOptions.allowDuplicates||!this._isRepeatData(t)){this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var r={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(r.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this._globalEndpoint;(i.transport||this._makeRequest).call(this,{url:a,auth:r,data:t,options:i,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:a}),e&&e()},onError:function(i){n._logDebug("error","Raven transport failed to send: ",i),i.request&&n._setBackoffState(i.request),n._triggerEvent("failure",{data:t,src:a}),i=i||new Error("Raven send failed (no additional details provided)"),e&&e(i)}})}else this._logDebug("warn","Raven dropped repeat event: ",t)},_makeRequest:function(t){var e=t.url+"?"+S(t.auth),n=null,i={};if(t.options.headers&&(n=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(i=this._evaluateHash(t.options.fetchParameters)),L()){i.body=o(t.data);var r=A({},this._fetchDefaults),a=A(r,i);return n&&(a.headers=n),H.fetch(e,a).then(function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}}).catch(function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))})}var s=H.XMLHttpRequest&&new H.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+s.status);e.request=s,t.onError(e)}}:(s=new XDomainRequest,e=e.replace(/^https?:/,""),t.onSuccess&&(s.onload=t.onSuccess),t.onError&&(s.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=s,t.onError(e)})),s.open("POST",e),n&&_(n,function(t,e){s.setRequestHeader(t,e)}),s.send(o(t.data))))},_evaluateHash:function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e[n]="function"==typeof i?i():i}return e},_logDebug:function(t){this._originalConsoleMethods[t]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){y(e)?delete this._globalContext[t]:this._globalContext[t]=A(this._globalContext[t]||{},e)}},$.prototype.setUser=$.prototype.setUserContext,$.prototype.setReleaseContext=$.prototype.setRelease,t.exports=$}).call(this,n(53))},function(t,e,n){"use strict";(function(e){var i=n(294),r={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},a=[].slice,s="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function u(){return"undefined"==typeof document||null==document.location?"":document.location.href}r.report=function(){var t,e,n=[],c=null,d=null,h=null;function p(t,e){var i=null;if(!e||r.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[t].concat(a.call(arguments,2)))}catch(t){i=t}if(i)throw i}}function f(e,n,o,a,c){var d=i.isErrorEvent(c)?c.error:c,f=i.isErrorEvent(e)?e.message:e;if(h)r.computeStackTrace.augmentStackTraceWithInitialElement(h,n,o,f),y();else if(d&&i.isError(d))p(r.computeStackTrace(d),!0);else{var v,g={url:n,line:o,column:a},m=void 0;if("[object String]"==={}.toString.call(f))(v=f.match(l))&&(m=v[1],f=v[2]);g.func=s,p({name:m,message:f,url:u(),stack:[g]},!0)}return!!t&&t.apply(this,arguments)}function y(){var t=h,e=c;c=null,h=null,d=null,p.apply(null,[t,!1].concat(e))}function v(t,e){var n=a.call(arguments,1);if(h){if(d===t)return;y()}var i=r.computeStackTrace(t);if(h=i,d=t,c=n,setTimeout(function(){d===t&&y()},i.incomplete?2e3:0),!1!==e)throw t}return v.subscribe=function(i){e||(t=o.onerror,o.onerror=f,e=!0),n.push(i)},v.unsubscribe=function(t){for(var e=n.length-1;e>=0;--e)n[e]===t&&n.splice(e,1)},v.uninstall=function(){e&&(o.onerror=t,e=!1,t=void 0),n=[]},v}(),r.computeStackTrace=function(){function t(t){if(void 0!==t.stack&&t.stack){for(var e,n,i,r=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=t.stack.split("\n"),h=[],p=(/^(.*) is undefined$/.exec(t.message),0),f=d.length;p<f;++p){if(n=r.exec(d[p])){var y=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=c.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),i={url:y?null:n[2],func:n[1]||s,args:y?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(d[p]))i={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(d[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=l.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==p||n[5]||void 0===t.columnNumber||(h[0].column=t.columnNumber+1),i={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!i.func&&i.line&&(i.func=s),i.url&&"blob:"===i.url.substr(0,5)){var v=new XMLHttpRequest;if(v.open("GET",i.url,!1),v.send(null),200===v.status){var g=v.responseText||"",m=(g=g.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(m){var b=m[1];"~"===b.charAt(0)&&(b=("undefined"==typeof document||null==document.location?"":(document.location.origin||(document.location.origin=document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")),document.location.origin))+b.slice(1)),i.url=b.slice(0,-4)}}}h.push(i)}return h.length?{name:t.name,message:t.message,url:u(),stack:h}:null}}function e(t,e,n,i){var r={url:e,line:n};if(r.url&&r.line){if(t.incomplete=!1,r.func||(r.func=s),t.stack.length>0&&t.stack[0].url===r.url){if(t.stack[0].line===r.line)return!1;if(!t.stack[0].line&&t.stack[0].func===r.func)return t.stack[0].line=r.line,!1}return t.stack.unshift(r),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,o){for(var a,l,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],h={},p=!1,f=n.caller;f&&!p;f=f.caller)if(f!==i&&f!==r.report){if(l={url:null,func:s,line:null,column:null},f.name?l.func=f.name:(a=c.exec(f.toString()))&&(l.func=a[1]),void 0===l.func)try{l.func=a.input.substring(0,a.input.indexOf("{"))}catch(t){}h[""+f]?p=!0:h[""+f]=!0,d.push(l)}o&&d.splice(0,o);var y={name:t.name,message:t.message,url:u(),stack:d};return e(y,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),y}function i(e,i){var o=null;i=null==i?0:+i;try{if(o=t(e))return o}catch(t){if(r.debug)throw t}try{if(o=n(e,i+1))return o}catch(t){if(r.debug)throw t}return{name:e.name,message:e.message,url:u()}}return i.augmentStackTraceWithInitialElement=e,i.computeStackTraceFromStackProp=t,i}(),t.exports=r}).call(this,n(53))},function(t,e,n){"use strict";function i(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function r(t,e,n,r,o,a){return i((s=i(i(e,t),i(r,a)))<<(l=o)|s>>>32-l,n);var s,l}function o(t,e,n,i,o,a,s){return r(e&n|~e&i,t,e,o,a,s)}function a(t,e,n,i,o,a,s){return r(e&i|n&~i,t,e,o,a,s)}function s(t,e,n,i,o,a,s){return r(e^n^i,t,e,o,a,s)}function l(t,e,n,i,o,a,s){return r(n^(e|~i),t,e,o,a,s)}function u(t,e){var n,r,u,c,d;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var h=1732584193,p=-271733879,f=-1732584194,y=271733878;for(n=0;n<t.length;n+=16)r=h,u=p,c=f,d=y,p=l(p=l(p=l(p=l(p=s(p=s(p=s(p=s(p=a(p=a(p=a(p=a(p=o(p=o(p=o(p=o(p,f=o(f,y=o(y,h=o(h,p,f,y,t[n],7,-680876936),p,f,t[n+1],12,-389564586),h,p,t[n+2],17,606105819),y,h,t[n+3],22,-1044525330),f=o(f,y=o(y,h=o(h,p,f,y,t[n+4],7,-176418897),p,f,t[n+5],12,1200080426),h,p,t[n+6],17,-1473231341),y,h,t[n+7],22,-45705983),f=o(f,y=o(y,h=o(h,p,f,y,t[n+8],7,1770035416),p,f,t[n+9],12,-1958414417),h,p,t[n+10],17,-42063),y,h,t[n+11],22,-1990404162),f=o(f,y=o(y,h=o(h,p,f,y,t[n+12],7,1804603682),p,f,t[n+13],12,-40341101),h,p,t[n+14],17,-1502002290),y,h,t[n+15],22,1236535329),f=a(f,y=a(y,h=a(h,p,f,y,t[n+1],5,-165796510),p,f,t[n+6],9,-1069501632),h,p,t[n+11],14,643717713),y,h,t[n],20,-373897302),f=a(f,y=a(y,h=a(h,p,f,y,t[n+5],5,-701558691),p,f,t[n+10],9,38016083),h,p,t[n+15],14,-660478335),y,h,t[n+4],20,-405537848),f=a(f,y=a(y,h=a(h,p,f,y,t[n+9],5,568446438),p,f,t[n+14],9,-1019803690),h,p,t[n+3],14,-187363961),y,h,t[n+8],20,1163531501),f=a(f,y=a(y,h=a(h,p,f,y,t[n+13],5,-1444681467),p,f,t[n+2],9,-51403784),h,p,t[n+7],14,1735328473),y,h,t[n+12],20,-1926607734),f=s(f,y=s(y,h=s(h,p,f,y,t[n+5],4,-378558),p,f,t[n+8],11,-2022574463),h,p,t[n+11],16,1839030562),y,h,t[n+14],23,-35309556),f=s(f,y=s(y,h=s(h,p,f,y,t[n+1],4,-1530992060),p,f,t[n+4],11,1272893353),h,p,t[n+7],16,-155497632),y,h,t[n+10],23,-1094730640),f=s(f,y=s(y,h=s(h,p,f,y,t[n+13],4,681279174),p,f,t[n],11,-358537222),h,p,t[n+3],16,-722521979),y,h,t[n+6],23,76029189),f=s(f,y=s(y,h=s(h,p,f,y,t[n+9],4,-640364487),p,f,t[n+12],11,-421815835),h,p,t[n+15],16,530742520),y,h,t[n+2],23,-995338651),f=l(f,y=l(y,h=l(h,p,f,y,t[n],6,-198630844),p,f,t[n+7],10,1126891415),h,p,t[n+14],15,-1416354905),y,h,t[n+5],21,-57434055),f=l(f,y=l(y,h=l(h,p,f,y,t[n+12],6,1700485571),p,f,t[n+3],10,-1894986606),h,p,t[n+10],15,-1051523),y,h,t[n+1],21,-2054922799),f=l(f,y=l(y,h=l(h,p,f,y,t[n+8],6,1873313359),p,f,t[n+15],10,-30611744),h,p,t[n+6],15,-1560198380),y,h,t[n+13],21,1309151649),f=l(f,y=l(y,h=l(h,p,f,y,t[n+4],6,-145523070),p,f,t[n+11],10,-1120210379),h,p,t[n+2],15,718787259),y,h,t[n+9],21,-343485551),h=i(h,r),p=i(p,u),f=i(f,c),y=i(y,d);return[h,p,f,y]}function c(t){var e,n="",i=32*t.length;for(e=0;e<i;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function d(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var i=8*t.length;for(e=0;e<i;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function h(t){var e,n,i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return i}function p(t){return unescape(encodeURIComponent(t))}function f(t){return function(t){return c(u(d(t),8*t.length))}(p(t))}function y(t,e){return function(t,e){var n,i,r=d(t),o=[],a=[];for(o[15]=a[15]=void 0,r.length>16&&(r=u(r,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],a[n]=1549556828^r[n];return i=u(o.concat(d(e)),512+8*e.length),c(u(a.concat(i),640))}(p(t),p(e))}t.exports=function(t,e,n){return e?n?y(e,t):h(y(e,t)):n?f(t):h(f(t))}},function(t,e,n){"use strict";function i(t){this.name="RavenConfigError",this.message=t}i.prototype=new Error,i.prototype.constructor=i,t.exports=i},function(t,e,n){"use strict";var i=n(294);t.exports={wrapMethod:function(t,e,n){var r=t[e],o=t;if(e in t){var a="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),s=i.safeJoin(t," "),l={level:a,logger:"console",extra:{arguments:t}};"assert"===e?!1===t[0]&&(s="Assertion failed: "+(i.safeJoin(t.slice(1)," ")||"console.assert"),l.extra.arguments=t.slice(1),n&&n(s,l)):n&&n(s,l),r&&Function.prototype.apply.call(r,o,t)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["SecurityError: Failed to construct 'PresentationRequest': Presentation of an insecure document [cast"],t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(464),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=n(465),s=n(339);var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._isReadyState=!1,n.certificate=null,n.setupDRM(t.fairplay||{}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.HTML5Video),i(e,[{key:"name",get:function(){return"hls_fairplay_playback"}},{key:"events",get:function(){return Object.assign({},r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"events",this),{webkitneedkey:this.onNeedKey})}}]),i(e,[{key:"setupDRM",value:function(t){this.certificateUrl=t.certificate,this.serverUrl=t.server,this.certificateUrl&&this.loadCertificate()}},{key:"loadCertificate",value:function(){var t=this,e=new XMLHttpRequest;e.responseType="arraybuffer",e.addEventListener("load",function(e){return t.onCertificateLoaded(e)},!1),e.addEventListener("error",function(e){return t.onCertificateError(e)},!1),e.open("GET",this.certificateUrl,!0),e.send()}},{key:"onCertificateLoaded",value:function(t){var n=t.target;this.certificate=new Uint8Array(n.response),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_ready",this).call(this),o.Log.info(this.name,"Certificate loaded successfully")}},{key:"onCertificateError",value:function(t){var e=this.createError({code:"certificateError",description:"Failed to retrieve the server certificate",raw:t});this.trigger(o.Events.PLAYBACK_ERROR,e),o.Log.error(this.name,"Failed to retrieve the server certificate",e)}},{key:"onNeedKey",value:function(t){var e=t.target,n=t.initData,i=(0,a.extractContentId)(n);n=(0,a.concatInitDataIdAndCertificate)(n,i,this.certificate),this.createMediaKeys(e),this.createKeySession(e,n,i)}},{key:"createMediaKeys",value:function(t){if(!t.webkitKeys){var e=(0,a.getKeySystem)();if(e)t.webkitSetMediaKeys(new WebKitMediaKeys(e));else{var n=this.createError({code:"unsupportedKeySystem",description:"Could not create MediaKeys. Key System not supported"});this.trigger(o.Events.PLAYBACK_ERROR,n),o.Log.error(this.name,"Could not create MediaKeys. Key System not supported",n)}}}},{key:"createKeySession",value:function(t,e,n){if(t.webkitKeys){var i=t.webkitKeys.createSession("video/mp4",e);if(i)i.contentId=n,this.bindKeySessionEvents(i);else{var r=this.createError({code:"mediaKeysError",description:"Could not create key session"});this.trigger(o.Events.PLAYBACK_ERROR,r),o.Log.error(this.name,"Could not create key session",r)}}}},{key:"bindKeySessionEvents",value:function(t){var e=this;t.addEventListener("webkitkeymessage",function(t){return e.licenseRequestReady(t)},!1),t.addEventListener("webkitkeyadded",function(t){return e.onKeyAdded(t)},!1),t.addEventListener("webkitkeyerror",function(t){return e.onKeyError(t)},!1)}},{key:"onKeyAdded",value:function(t){o.Log.info(this.name,"Decryption key was added to session",t)}},{key:"onKeyError",value:function(t){var e=this.createError({code:"decryptionKeyError",description:"A decryption key error was encountered",level:"WARN",raw:t});o.Log.warn(this.name,"A decryption key error was encountered",e)}},{key:"licenseRequestReady",value:function(t){var e=this,n=t.target,i=t.message,r=new XMLHttpRequest,a="spc="+encodeURIComponent((0,s.base64EncodeUint8Array)(i));r.responseType="text",r.session=n,r.addEventListener("load",function(t){return e.onLicenseRequestLoaded(t)},!1),r.addEventListener("error",function(t){return e.onLicenseRequestError(t)},!1),r.open("POST",this.serverUrl,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(a),o.Log.info(this.name,"License request ready")}},{key:"onLicenseRequestLoaded",value:function(t){var e=t.target,n=e.session,i=JSON.parse(e.responseText.trim()),r=(0,s.base64DecodeUint8Array)(i.ckc);n.update(r),o.Log.info(this.name,"License loaded successfully")}},{key:"onLicenseRequestError",value:function(t){var e=this.createError({code:"licenseRequestError",description:"The license request failed",raw:t});this.trigger(o.Events.PLAYBACK_ERROR,e),o.Log.error(this.name,"The license request failed",e)}}]),e}();e.default=l,l.canPlay=function(t,e,n){var i=t.split("?")[0].match(/.*\.(.*)$/)||[],r=i.length>1&&"m3u8"===i[1].toLowerCase()||"application/x-mpegURL"===e||"application/vnd.apple.mpegurl"===e;return!!(o.Browser.isSafari&&r&&n)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractContentId=function(t){return(0,i.arrayToString)(t).match(/skd\:\/\/(.*)$/)[1]},e.concatInitDataIdAndCertificate=function(t,e,n){"string"==typeof e&&(e=(0,i.stringToArray)(e));var r=0,o=new ArrayBuffer(t.byteLength+4+e.byteLength+4+n.byteLength),a=new DataView(o);new Uint8Array(o,r,t.byteLength).set(t),r+=t.byteLength,a.setUint32(r,e.byteLength,!0),r+=4;var s=new Uint16Array(o,r,e.length);return s.set(e),r+=s.byteLength,a.setUint32(r,n.byteLength,!0),r+=4,new Uint8Array(o,r,n.byteLength).set(n),new Uint8Array(o,0,o.byteLength)},e.getKeySystem=function(){return WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4")?"com.apple.fps.1_0":null};var i=n(339)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=n(467),s=(i=a)&&i.__esModule?i:{default:i};var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._runEach=(0,s.default)(t,"options.clapprStats.runEach",5e3),n._onReport=(0,s.default)(t,"options.clapprStats.onReport",n._defaultReport),n._uriToMeasureLatency=(0,s.default)(t,"options.clapprStats.uriToMeasureLatency"),n._urisToMeasureBandwidth=(0,s.default)(t,"options.clapprStats.urisToMeasureBandwidth"),n._runBandwidthTestEvery=(0,s.default)(t,"options.clapprStats.runBandwidthTestEvery",10),n._bwMeasureCount=0,n._completion={watch:(0,s.default)(t,"options.clapprStats.onCompletion",[]),calls:[]},n._newMetrics(),n.on(e.REPORT_EVENT,n._onReport),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ContainerPlugin),r(e,[{key:"_now",value:function(){return window.performance&&"function"==typeof window.performance.now?window.performance.now():new Date}},{key:"_inc",value:function(t){this._metrics.counters[t]+=1}},{key:"_timerHasStarted",value:function(t){return void 0!==this["_start"+t]}},{key:"_start",value:function(t){this["_start"+t]=this._now()}},{key:"_stop",value:function(t){this._metrics.timers[t]+=this._now()-this["_start"+t]}},{key:"_defaultReport",value:function(t){console.log(t)}},{key:"name",get:function(){return"clappr_stats"}},{key:"_playbackName",get:function(){return this.container.playback.name}},{key:"_playbackType",get:function(){return this.container.getPlaybackType()}}]),r(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.container,o.Events.CONTAINER_BITRATE,this.onBitrate),this.listenTo(this.container,o.Events.CONTAINER_STOP,this.stopReporting),this.listenTo(this.container,o.Events.CONTAINER_ENDED,this.stopReporting),this.listenToOnce(this.container.playback,o.Events.PLAYBACK_PLAY_INTENT,this.startTimers),this.listenToOnce(this.container,o.Events.CONTAINER_PLAY,this.onFirstPlaying),this.listenTo(this.container,o.Events.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,o.Events.CONTAINER_PAUSE,this.onPause),this.listenToOnce(this.container,o.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,o.Events.CONTAINER_SEEK,this.onSeek),this.listenTo(this.container,o.Events.CONTAINER_ERROR,function(){return t._inc("error")}),this.listenTo(this.container,o.Events.CONTAINER_FULLSCREEN,function(){return t._inc("fullscreen")}),this.listenTo(this.container,o.Events.CONTAINER_PLAYBACKDVRSTATECHANGED,function(e){e&&t._inc("dvrUsage")}),this.listenTo(this.container.playback,o.Events.PLAYBACK_PROGRESS,this.onProgress),this.listenTo(this.container.playback,o.Events.PLAYBACK_TIMEUPDATE,this.onTimeUpdate)}},{key:"destroy",value:function(){this.stopReporting(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"onBitrate",value:function(t){var e=parseInt((0,s.default)(t,"bitrate",0),10),n=this._now();if(this._metrics.extra.bitratesHistory.length>0){var i=this._metrics.extra.bitratesHistory[this._metrics.extra.bitratesHistory.length-1];i.end=n,i.time=n-i.start}this._metrics.extra.bitratesHistory.push({start:this._now(),bitrate:e}),this._inc("changeLevel")}},{key:"stopReporting",value:function(){this._buildReport(),clearInterval(this._intervalId),this._newMetrics(),this.stopListening(),this.bindEvents()}},{key:"startTimers",value:function(){this._intervalId=setInterval(this._buildReport.bind(this),this._runEach),this._start("session"),this._start("startup")}},{key:"onFirstPlaying",value:function(){this.listenTo(this.container,o.Events.CONTAINER_TIMEUPDATE,this.onContainerUpdateWhilePlaying),this._start("watch"),this._stop("startup")}},{key:"playAfterPause",value:function(){this.listenTo(this.container,o.Events.CONTAINER_TIMEUPDATE,this.onContainerUpdateWhilePlaying),this._stop("pause"),this._start("watch")}},{key:"onPlay",value:function(){this._inc("play")}},{key:"onPause",value:function(){this._stop("watch"),this._start("pause"),this._inc("pause"),this.listenToOnce(this.container,o.Events.CONTAINER_PLAY,this.playAfterPause),this.stopListening(this.container,o.Events.CONTAINER_TIMEUPDATE,this.onContainerUpdateWhilePlaying)}},{key:"onSeek",value:function(t){this._inc("seek"),this._metrics.extra.watchHistory.push([1e3*t,1e3*t])}},{key:"onTimeUpdate",value:function(t){var e=1e3*t.current,n=1e3*t.total,i=this._metrics.extra.watchHistory.length;if(this._metrics.extra.duration=n,this._metrics.extra.currentTime=e,this._metrics.extra.watchedPercentage=e/n*100,0===i?this._metrics.extra.watchHistory.push([e,e]):this._metrics.extra.watchHistory[i-1][1]=e,this._metrics.extra.bitratesHistory.length>0){var r=this._metrics.extra.bitratesHistory[this._metrics.extra.bitratesHistory.length-1];r.end||(r.time=this._now()-r.start)}this._onCompletion()}},{key:"onContainerUpdateWhilePlaying",value:function(){this.container.playback.isPlaying()&&(this._stop("watch"),this._start("watch"))}},{key:"onBuffering",value:function(){this._inc("buffering"),this._start("buffering"),this.listenToOnce(this.container,o.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferfull)}},{key:"onBufferfull",value:function(){this._stop("buffering"),this.listenToOnce(this.container,o.Events.CONTAINER_STATE_BUFFERING,this.onBuffering)}},{key:"onProgress",value:function(t){this._metrics.extra.buffersize=1e3*t.current}},{key:"_newMetrics",value:function(){this._metrics={counters:{play:0,pause:0,error:0,buffering:0,decodedFrames:0,droppedFrames:0,fps:0,changeLevel:0,seek:0,fullscreen:0,dvrUsage:0},timers:{startup:0,watch:0,pause:0,buffering:0,session:0,latency:0},extra:{playbackName:"",playbackType:"",bitratesHistory:[],bitrateWeightedMean:0,bitrateMostUsed:0,buffersize:0,watchHistory:[],watchedPercentage:0,bufferingPercentage:0,bandwidth:0,duration:0,currentTime:0}}}},{key:"_onCompletion",value:function(){var t=this._metrics.extra.watchedPercentage,n=this._completion.watch,i=-1!=this._completion.calls.indexOf(t);-1==n.indexOf(t)||i||(o.Log.info(this.name+" PERCENTAGE_EVENT: "+t),this._completion.calls.push(t),this.trigger(e.PERCENTAGE_EVENT,t))}},{key:"_buildReport",value:function(){this._stop("session"),this._start("session"),this._metrics.extra.playbackName=this._playbackName,this._metrics.extra.playbackType=this._playbackType,this._calculateBitrates(),this._calculatePercentages(),this._fetchFPS(),this._measureLatency(),this._measureBandwidth(),this.trigger(e.REPORT_EVENT,JSON.parse(JSON.stringify(this._metrics)))}},{key:"_fetchFPS",value:function(){var t={html5_video:this._html5FetchFPS,hls:this._html5FetchFPS,dash_shaka_playback:this._html5FetchFPS};t[this._playbackName]&&t[this._playbackName].call(this)}},{key:"_calculateBitrates",value:function(){var t=this._metrics.extra.bitratesHistory.map(function(t){return t.time}).reduce(function(t,e){return t+e},0);this._metrics.extra.bitrateWeightedMean=this._metrics.extra.bitratesHistory.map(function(t){return t.bitrate*t.time}).reduce(function(t,e){return t+e},0)/t,this._metrics.extra.bitratesHistory.length>0&&(this._metrics.extra.bitrateMostUsed=this._metrics.extra.bitratesHistory.slice().sort(function(t,e){return t.time<e.time})[0].bitrate)}},{key:"_calculatePercentages",value:function(){this._metrics.extra.duration>0&&(this._metrics.extra.bufferingPercentage=this._metrics.timers.buffering/this._metrics.extra.duration*100)}},{key:"_html5FetchFPS",value:function(){var t=this.container.playback.el,e=t.webkitDecodedFrameCount||t.mozDecodedFrames||0,n=t.webkitDroppedFrameCount||t.mozParsedFrames-t.mozDecodedFrames||0,i=e-(this._lastDecodedFramesCount||0);this._metrics.counters.decodedFrames=e,this._metrics.counters.droppedFrames=n,this._metrics.counters.fps=i/(this._runEach/1e3),this._lastDecodedFramesCount=e}},{key:"_measureLatency",value:function(){var t=this;if(this._uriToMeasureLatency){var e,n=[],i=function(){e=n[2]-n[1],t._metrics.timers.latency=e};!function e(){if(n.push(t._now()),n.length>2)i();else{var r=new Image;r.onload=e,r.src=t._uriToMeasureLatency+"?"+Math.random()+"="+t._now()}}()}}},{key:"_measureBandwidth",value:function(){var t=this;if(this._urisToMeasureBandwidth&&this._bwMeasureCount%this._runBandwidthTestEvery==0){var e=0,n=function(n){var i=(t._urisToMeasureBandwidth[e-1].end-t._urisToMeasureBandwidth[e-1].start)/1e3,r=8*n.loaded/i;t._metrics.extra.bandwidth=r,t._urisToMeasureBandwidth.forEach(function(t){t.start=0,t.end=0,t.expired=!1,clearTimeout(t.timer)})};!function i(r){if(e>0&&(t._urisToMeasureBandwidth[e-1].end=t._now(),clearTimeout(t._urisToMeasureBandwidth[e-1].timer)),e>=t._urisToMeasureBandwidth.length||e>0&&t._urisToMeasureBandwidth[e-1].expired)n(r);else{var o=new XMLHttpRequest;o.open("GET",t._urisToMeasureBandwidth[e].url,!0),o.responseType="arraybuffer",o.onload=o.onabort=i,t._urisToMeasureBandwidth[e].start=t._now(),t._urisToMeasureBandwidth[e].timer=setTimeout(function(e){t._urisToMeasureBandwidth[e].expired=!0,o.abort()},t._urisToMeasureBandwidth[e].timeout,e),o.send()}e++}()}this._bwMeasureCount++}}]),e}();e.default=l,l.REPORT_EVENT="clappr:stats:report",l.PERCENTAGE_EVENT="clappr:stats:percentage",t.exports=e.default},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="Expected a function",r="__lodash_hash_undefined__",o=1/0,a="[object Function]",s="[object GeneratorFunction]",l="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,y="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,v="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,g=y||v||Function("return this")();var m,b=Array.prototype,_=Function.prototype,A=Object.prototype,E=g["__core-js_shared__"],w=(m=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",T=_.toString,k=A.hasOwnProperty,S=A.toString,C=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=g.Symbol,P=b.splice,R=V(g,"Map"),I=V(Object,"create"),x=O?O.prototype:void 0,L=x?x.toString:void 0;function D(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function M(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function N(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function B(t,e){for(var n,i,r=t.length;r--;)if((n=t[r][0])===(i=e)||n!=n&&i!=i)return r;return-1}function U(t,e){for(var i,r=0,o=(e=function(t,e){if(Y(t))return!1;var i=void 0===t?"undefined":n(t);if("number"==i||"symbol"==i||"boolean"==i||null==t||K(t))return!0;return c.test(t)||!u.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:Y(i=e)?i:H(i)).length;null!=t&&r<o;)t=t[G(e[r++])];return r&&r==o?t:void 0}function F(t){return!(!$(t)||w&&w in t)&&(function(t){var e=$(t)?S.call(t):"";return e==a||e==s}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?C:f).test(function(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function j(t,e){var i,r,o=t.__data__;return("string"==(r=void 0===(i=e)?"undefined":n(i))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function V(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return F(n)?n:void 0}D.prototype.clear=function(){this.__data__=I?I(null):{}},D.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},D.prototype.get=function(t){var e=this.__data__;if(I){var n=e[t];return n===r?void 0:n}return k.call(e,t)?e[t]:void 0},D.prototype.has=function(t){var e=this.__data__;return I?void 0!==e[t]:k.call(e,t)},D.prototype.set=function(t,e){return this.__data__[t]=I&&void 0===e?r:e,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(t){var e=this.__data__,n=B(e,t);return!(n<0||(n==e.length-1?e.pop():P.call(e,n,1),0))},M.prototype.get=function(t){var e=this.__data__,n=B(e,t);return n<0?void 0:e[n][1]},M.prototype.has=function(t){return B(this.__data__,t)>-1},M.prototype.set=function(t,e){var n=this.__data__,i=B(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},N.prototype.clear=function(){this.__data__={hash:new D,map:new(R||M),string:new D}},N.prototype.delete=function(t){return j(this,t).delete(t)},N.prototype.get=function(t){return j(this,t).get(t)},N.prototype.has=function(t){return j(this,t).has(t)},N.prototype.set=function(t,e){return j(this,t).set(t,e),this};var H=z(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(K(t))return L?L.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return d.test(t)&&n.push(""),t.replace(h,function(t,e,i,r){n.push(i?r.replace(p,"$1"):e||t)}),n});function G(t){if("string"==typeof t||K(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function z(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(z.Cache||N),n}z.Cache=N;var Y=Array.isArray;function $(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}function K(t){return"symbol"==(void 0===t?"undefined":n(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&S.call(t)==l}t.exports=function(t,e,n){var i=null==t?void 0:U(t,e);return void 0===i?n:i}}).call(this,n(53))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=n(6),l=(i=s)&&i.__esModule?i:{default:i};var u=/([a-z0-9\.\-]*)\.globoi?\.com/,c=/[w]*\.?(techtudo)\.com\.br/,d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.options.daxExtras||(n.options.daxExtras=n.options.daxextras),n.adError=!1,n.isReady=!1,n.started=!1,n.currentTime=0,n.embedScript(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.ContainerPlugin),o(e,[{key:"name",get:function(){return"streamsense"}},{key:"waitForDFP",get:function(){return!a.Browser.isChromecast&&!a.Browser.isMobile}},{key:"gaPlugin",get:function(){return this.container.getPlugin("google_analytics")}},{key:"streamSensePlayerEvents",get:function(){return window.ns_&&window.ns_.StreamSense&&window.ns_.StreamSense.PlayerEvents}},{key:"isAdPlayback",get:function(){return"ad"===this.container.playback.getPlaybackType()}}]),o(e,[{key:"bindEvents",value:function(){var t=this;this.waitForDFP&&(this.listenTo(this.container,l.default.DFP_CONTENT_RESUME,function(){return t.checkAd(!1)}),this.listenTo(this.container,l.default.DFP_AD_ERROR,function(){return t.checkAd(!0)}),this.listenTo(this.container,l.default.DFP_CONTENT_ENDED,this.bindPlaybackEvents)),this.listenTo(this.container.playback,l.default.WM_RESOURCE_READY,this.onResourceReady)}},{key:"bindPlaybackEvents",value:function(){this.listenTo(this.container.playback,a.Events.PLAYBACK_ENDED,this.onEnded),this.listenTo(this.container,a.Events.CONTAINER_TIMEUPDATE,this.timeUpdate),this.listenTo(this.container,a.Events.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,a.Events.CONTAINER_PAUSE,this.onPause),this.listenTo(this.container,a.Events.CONTAINER_ERROR,this.onError),this.listenTo(this.container,a.Events.CONTAINER_SEEK,this.onSeek),this.listenTo(this.container,a.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,a.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferFull)}},{key:"setupStart",value:function(t,e){var n=this;this.video=t,this.user=e,!this.isReady&&!window.ns_||!this.dfpReady&&this.waitForDFP?this.listenToOnce(this,l.default.STREAMSENSE_READY,function(){return n.setupStart(t,e)}):(this.start(),this.waitForDFP||this.bindPlaybackEvents())}},{key:"checkAd",value:function(t){this.adError=t,this.dfpReady=!0,!this.started&&this.setupStart(this.video,this.user),this.bindPlaybackEvents()}},{key:"onResourceReady",value:function(t,e){var n=this,i=t&&t.selectedResource&&t.selectedResource.hashData;this.isReady||window.ns_?this.hashData=i:this.listenToOnce(this,l.default.STREAMSENSE_READY,function(){return n.onResourceReady(i)}),this.setupStart(t,e)}},{key:"ready",value:function(){window.ns_?(this.isReady=!0,this.trigger(l.default.STREAMSENSE_READY)):this.disable()}},{key:"embedScript",value:function(){var t=this;if(!window.ns_||!window.ns_.StreamSense){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("async","async"),e.setAttribute("src",this.options.env.streamsenseScript),e.onload=function(){return t.ready()},e.onerror=function(){return t.ready()},document.head.appendChild(e)}}},{key:"start",value:function(){this.video&&ns_.StreamSense&&(this.streamSense=new ns_.StreamSense({},this.options.env.scorecardMeasurement),this.streamSense.setLabels({ns_st_mp:"Player",ns_st_mv:"5.6.6"}),this.streamSense.setPlaylist({ns_st_pl:this.video.program+"-"+this.video.title}),this.setClip(),this.started=!0)}},{key:"getSubdomain",value:function(t){if(t){var e=t.match(u)||t.match(c);return e?e[1]:null}return null}},{key:"setClip",value:function(){var t={excerpt:["short","vc11"],segment:["short","vc11"],episode:["full","vc12"],live:["live","vc13"],collaborative:["collaborative","vc21"],ad:["ad","va00"]}[this.video.kind]||[this.video.kind,"vc11"],e=r(t,2),n=e[0],i=e[1],o=this.container.options.dax,a=o.domain,s=o.url;a||(a=this.container.options.domain);var l=a||s&&new URL(s).hostname||document.location.hostname,u={c3:this.getSubdomain(l),c4:this.video.channel,ns_st_ty:n,ns_st_ct:i,ns_st_pr:this.video.program,ns_st_ep:this.video.title,ns_st_st:this.video.channel,ns_st_pu:"Globo",ns_st_ge:this.video.category,ns_st_ci:""+this.video.id,ns_st_cu:s||document.location.href,ns_st_cl:this.video.duration||0,ns_st_cn:1,ns_st_pn:1,ns_st_tp:1};Object.assign(u,this.options.daxExtras),this.streamSense.setClip(u)}},{key:"timeUpdate",value:function(t){this.currentTime=t.current,this.duration=t.total}},{key:"onPlay",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.notify(this.streamSensePlayerEvents.PLAY,{},this.toMillis(this.currentTime))}},{key:"onPause",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.notify(this.streamSensePlayerEvents.PAUSE,{},this.toMillis(this.currentTime))}},{key:"onEnded",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.notify(this.streamSensePlayerEvents.END,{ns_st_pe:1},this.toMillis(this.currentTime))}},{key:"onBuffering",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.video&&"Live"===this.video.type&&this.notify(this.streamSensePlayerEvents.BUFFER,{},this.toMillis(this.currentTime))}},{key:"onBufferFull",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.video&&"Live"===this.video.type&&this.notify(this.streamSensePlayerEvents.PLAY,{},this.toMillis(this.currentTime))}},{key:"onSeek",value:function(){var t=this;this.onPause(),this.listenToOnce(this.container,a.Events.CONTAINER_STATE_BUFFERFULL,function(){return t.onPlay()})}},{key:"onError",value:function(){}},{key:"toMillis",value:function(t){return 1e3*t>>0}},{key:"destroy",value:function(){this.streamSensePlayerEvents&&window.ns_&&this.notify(this.streamSensePlayerEvents.END,{},this.toMillis(this.currentTime)),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"notify",value:function(t,e,n){this.started&&this.streamSense.notify(t,e,n)}}]),e}();e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(470),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=n(471),l=n(10),u=n(472),c=(i=u)&&i.__esModule?i:{default:i};function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.schemas=[],"horizon-schemas-enabled"!==(0,l.getExperimentAlternative)(n.options,"player-horizon-schemas")?d(n):(n.initHorizonClient(),n.initSchemaPlugins(),n.bindEvents(),n.bindCustomEvents(),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.ContainerPlugin),o(e,[{key:"name",get:function(){return"globo_horizon"}}]),o(e,[{key:"initHorizonClient",value:function(){var t=a.Browser.isMobile?"mobile":"desktop";"prod"!==this.options.env.name&&s.Settings.useQAConfiguration(),this.horizon=new s.HorizonClient("player",t)}},{key:"initSchemaPlugins",value:function(){var t=this;this.schemas=c.default.map(function(e){return new e(t.container,t)})}},{key:"bindEvents",value:function(){this.schemas&&this.schemas.forEach(function(t){return t.bindEvents()})}},{key:"bindCustomEvents",value:function(){var t=this,e="object"===r(window.onbeforeunload)?"beforeunload":"unload";window.addEventListener(e,function(){return t.horizon.unload()})}},{key:"destroy",value:function(){this.schemas.forEach(function(t){return t.destroy()}),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();e.default=h,t.exports=e.default},function(t,e,n){"use strict";(function(t){var n,i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"!=typeof self&&self,o=function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=47)}([function(t,e,n){var i=n(30)("wks"),r=n(12),o=n(1).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(6),r=n(17);t.exports=n(8)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(3),r=n(34),o=n(26),a=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==(void 0===t?"undefined":a(t))?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(1),r=n(5),o=n(4),a=n(12)("src"),s=Function.toString,l=(""+s).split("toString");n(2).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||r(n,a,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var i=n(36),r=n(27);t.exports=function(t){return i(r(t))}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(35),r=n(31);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports={}},function(t,e,n){var i=n(1),r=n(2),o=n(5),a=n(9),s=n(18),l=function t(e,n,l){var u,c,d,h,p=e&t.F,f=e&t.G,y=e&t.P,v=e&t.B,g=f?i:e&t.S?i[n]||(i[n]={}):(i[n]||{}).prototype,m=f?r:r[n]||(r[n]={}),b=m.prototype||(m.prototype={});for(u in f&&(l=n),l)d=((c=!p&&g&&void 0!==g[u])?g:l)[u],h=v&&c?s(d,i):y&&"function"==typeof d?s(Function.call,d):d,g&&a(g,u,d,e&t.U),m[u]!=d&&o(m,u,h),y&&b[u]!=d&&(b[u]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(19);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i={EVENTS_BUFFER_SIZE:100,EVENTS_SENDER_INTERVAL:1e4,EVENTS_DISCARD_AFTER_MSECONDS:36e5,EVENTS_BULK_SIZE:10,EVENTS_LOADER_RETRY_AFTER_SECS:1e4,HORIZON_TRACK_HOST:"https://horizon.globo.com",HORIZON_SCHEMAS_HOST:"https://horizon-schemas.globo.com",PACKAGE_VERSION:"0.9.3"},r={useQAConfiguration:function(){i.HORIZON_TRACK_HOST="https://horizon.qa.globoi.com",i.HORIZON_SCHEMAS_HOST="https://horizon-schemas.qa.globoi.com"}};e.default=Object.assign(i,r)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i={DUPLICATED_SCHEMA:"[Horizon] Duplicated schema.",INVALID_DATA:"[Horizon] Invalid data.",INVALID_DATE:"[Horizon] Invalid date-time RFC 3339 format.",INVALID_FORMAT:"[Horizon] Invalid event format.",INVALID_REQUEST:"[Horizon] Invalid request.",INVALID_TIMESTAMP:"[Horizon] Invalid timestamp.",INVALID_VERSION_FORMAT:"[Horizon] Invalid version format.",UNSUPPORTED_TYPE:"[Horizon] Unsupported type.",UNSUPPORTED_TENANT:"[Horizon] Unsupported tenant.",MUST_BE_DEFINED:"[Horizon] Parameter or argument must be defined.",ERROR_LOADING_RESOURCE:"[Horizon] Failed to load resouce.",COMPONENT_NOT_READY:"[Horizon] Component is not ready."},r={mustBeDefined:function(t){throw new Error(i.MUST_BE_DEFINED+": "+t)}};e.default=Object.assign(i,r)},function(t,e,n){var i=n(6).f,r=n(4),o=n(0)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e){t.exports=!1},function(t,e,n){var i=n(7),r=n(1).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(30)("keys"),r=n(12);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(1),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(14),r=n(0)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){t.exports=!n(8)&&!n(11)(function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(4),r=n(10),o=n(52)(!1),a=n(29)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var i=n(14);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(28),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(27);t.exports=function(t){return Object(i(t))}},function(t,e,n){e.f=n(0)},function(t,e,n){var i=n(3),r=n(71),o=n(31),a=n(29)("IE_PROTO"),s=function(){},l=function(){var t,e=n(25)("iframe"),i=o.length;for(e.style.display="none",n(41).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(1).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(35),r=n(31).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(33),r={};r[n(0)("toStringTag")]="z",r+""!="[object z]"&&n(9)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(24),r=n(16),o=n(9),a=n(5),s=n(4),l=n(15),u=n(77),c=n(23),d=n(78),h=n(0)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,y,v,g,m){u(n,e,y);var b,_,A,E=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",T="values"==v,k=!1,S=t.prototype,C=S[h]||S["@@iterator"]||v&&S[v],O=!p&&C||E(v),P=v?T?E("entries"):O:void 0,R="Array"==e&&S.entries||C;if(R&&(A=d(R.call(new t)))!==Object.prototype&&A.next&&(c(A,w,!0),i||s(A,h)||a(A,h,f)),T&&C&&"values"!==C.name&&(k=!0,O=function(){return C.call(this)}),i&&!m||!p&&!k&&S[h]||a(S,h,O),l[e]=O,l[w]=f,v)if(b={values:T?O:E("values"),keys:g?O:E("keys"),entries:P},m)for(_ in b)_ in S||o(S,_,b[_]);else r(r.P+r.F*(p||k),e,b);return b}},function(t,e,n){var i,r,o,a=n(18),s=n(90),l=n(41),u=n(25),c=n(1),d=c.process,h=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,y=c.Dispatch,v=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){m.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){s("function"==typeof t?t:Function(t),e)},i(v),v},p=function(t){delete g[t]},"process"==n(14)(d)?i=function(t){d.nextTick(a(m,t,1))}:y&&y.now?i=function(t){y.now(a(m,t,1))}:f?(o=(r=new f).port2,r.port1.onmessage=b,i=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:h,clear:p}},function(t,e,n){var i=n(19);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}(t)}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.HorizonClient=void 0;var r=i(n(48)),o=i(n(21));e.HorizonClient=r.default,e.Settings=o.default},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=r(["tenant"],["tenant"]),s=r(["deviceGroup"],["deviceGroup"]);n(49),n(54);var l=i(n(21)),u=i(n(55)),c=i(n(22)),d=i(n(57)),h=i(n(64)),p=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.tenant=e||c.default.mustBeDefined(a),this.deviceGroup=n||c.default.mustBeDefined(s),this.defaultContentType=i,this.validator=u.default,this.clientVersion=l.default.PACKAGE_VERSION,this._currentEventBus=null,this._currentSchemasProvider=null}return o(t,[{key:"isReady",value:function(){return this.eventBus.isReady()&&this.schemasProvider.isReady()}},{key:"useDefaultContentType",value:function(t){this.defaultContentType=t}},{key:"useCustomEventBus",value:function(t){this.eventBus=t}},{key:"useCustomValidator",value:function(t){this.validator=t}},{key:"useCustomSchemasProvider",value:function(t){this.schemasProvider=t}},{key:"unload",value:function(){this.eventBus.unload()}},{key:"getScopeInfo",value:function(){return{url:document.location.href,actionTs:+Date.now(),horizonClientVersion:this.clientVersion}}},{key:"validateBeforeEnqueue",value:function(t){var e=t.id+"-"+t.version,n=this.schemasProvider.get(e);this.validator.validateFor(t,n)}},{key:"send",value:function(t){var e=this;if(this.validator.validateArgs(t),this.isReady()){this.validateBeforeEnqueue(t);var n=this.getScopeInfo(),i=Object.assign({},t,n);i.contentType||(this.defaultContentType||c.default.mustBeDefined("contentType"),i.contentType=this.defaultContentType),this.eventBus.enqueue(i)}else this.schemasProvider.onReady(function(){return e.send(t)}).load()}},{key:"eventBus",set:function(t){this._currentEventBus=t},get:function(){return this._currentEventBus||(this._currentEventBus=d.default.get(this.tenant)),this._currentEventBus}},{key:"schemasProvider",set:function(t){this._currentSchemasProvider=t},get:function(){return this._currentSchemasProvider||(this._currentSchemasProvider=h.default.instance()),this._currentSchemasProvider}}]),t}();e.default=p},function(t,e,n){n(50),t.exports=n(2).Object.assign},function(t,e,n){var i=n(16);i(i.S+i.F,"Object",{assign:n(51)})},function(t,e,n){var i=n(13),r=n(32),o=n(20),a=n(38),s=n(36),l=Object.assign;t.exports=!l||n(11)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=r.f,d=o.f;l>u;)for(var h,p=s(arguments[u++]),f=c?i(p).concat(c(p)):i(p),y=f.length,v=0;y>v;)d.call(p,h=f[v++])&&(n[h]=p[h]);return n}:l},function(t,e,n){var i=n(10),r=n(37),o=n(53);t.exports=function(t){return function(e,n,a){var s,l=i(e),u=r(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(28),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e){try{var n=new window.CustomEvent("test");if(n.preventDefault(),!0!==n.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var i=function(t,e){var n,i;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};i.prototype=window.Event.prototype,window.CustomEvent=i}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(56)),o=i(n(22)),a=function(t){return null===t?null:isNaN(t)&&!isNaN(Date.parse(t))?null:o.default.INVALID_DATE};r.default.addFormat("date-time",function(t){return a(t)}),e.default={validateFor:function(t,e){if(!e)throw new Error(o.default.INVALID_DATA+" Argument: schema.");if(!/\d+\.\d+/.test(t.version))throw new Error(o.default.INVALID_VERSION_FORMAT);if(!r.default.validate(t.properties,e))throw new Error(o.default.INVALID_DATA+" "+t.id+" "+t.version+". "+r.default.error)},validateArgs:function(t){if(!t)throw new Error(o.default.INVALID_DATA+" Received: "+t);if(!r.default.validate(t,{additionalProperties:!1,required:["id","version","properties"],properties:{id:{type:"string"},version:{type:"string"},properties:{type:"object"},contentType:{type:"string"}}}))throw new Error(o.default.INVALID_FORMAT+": "+JSON.stringify(r.default.error))},tv4IsValidData:a}},function(t,e,n){var i,r,o;r=[],i=function(){function t(t){return encodeURI(t).replace(/%25[0-9][0-9]/g,function(t){return"%"+t.substring(3)})}function e(e){var n="";d[e.charAt(0)]&&(n=e.charAt(0),e=e.substring(1));var i="",r="",o=!0,s=!1,l=!1;"+"===n?o=!1:"."===n?(r=".",i="."):"/"===n?(r="/",i="/"):"#"===n?(r="#",o=!1):";"===n?(r=";",i=";",s=!0,l=!0):"?"===n?(r="?",i="&",s=!0):"&"===n&&(r="&",i="&",s=!0);for(var u=[],c=e.split(","),p=[],f={},y=0;y<c.length;y++){var v=c[y],g=null;if(-1!==v.indexOf(":")){var m=v.split(":");v=m[0],g=parseInt(m[1],10)}for(var b={};h[v.charAt(v.length-1)];)b[v.charAt(v.length-1)]=!0,v=v.substring(0,v.length-1);var _={truncate:g,name:v,suffices:b};p.push(_),f[v]=_,u.push(v)}var A=function(e){for(var n="",u=0,c=0;c<p.length;c++){var d=p[c],h=e(d.name);if(null===h||void 0===h||Array.isArray(h)&&0===h.length||"object"==(void 0===h?"undefined":a(h))&&0===Object.keys(h).length)u++;else if(n+=c===u?r:i||",",Array.isArray(h)){s&&(n+=d.name+"=");for(var f=0;f<h.length;f++)f>0&&(n+=d.suffices["*"]&&i||",",d.suffices["*"]&&s&&(n+=d.name+"=")),n+=o?encodeURIComponent(h[f]).replace(/!/g,"%21"):t(h[f])}else if("object"==(void 0===h?"undefined":a(h))){s&&!d.suffices["*"]&&(n+=d.name+"=");var y=!0;for(var v in h)y||(n+=d.suffices["*"]&&i||","),y=!1,n+=o?encodeURIComponent(v).replace(/!/g,"%21"):t(v),n+=d.suffices["*"]?"=":",",n+=o?encodeURIComponent(h[v]).replace(/!/g,"%21"):t(h[v])}else s&&(n+=d.name,l&&""===h||(n+="=")),null!=d.truncate&&(h=h.substring(0,d.truncate)),n+=o?encodeURIComponent(h).replace(/!/g,"%21"):t(h)}return n};return A.varNames=u,{prefix:r,substitution:A}}function n(t){if(!(this instanceof n))return new n(t);for(var i=t.split("{"),r=[i.shift()],o=[],a=[],s=[];i.length>0;){var l=i.shift(),u=l.split("}")[0],c=l.substring(u.length+1),d=e(u);a.push(d.substitution),o.push(d.prefix),r.push(c),s=s.concat(d.substitution.varNames)}this.fill=function(t){for(var e=r[0],n=0;n<a.length;n++)e+=(0,a[n])(t),e+=r[n+1];return e},this.varNames=s,this.template=t}function i(t,e){if(t===e)return!0;if(t&&e&&"object"==(void 0===t?"undefined":a(t))&&"object"==(void 0===e?"undefined":a(e))){if(Array.isArray(t)!==Array.isArray(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1}else{var r;for(r in t)if(void 0===e[r]&&void 0!==t[r])return!1;for(r in e)if(void 0===t[r]&&void 0!==e[r])return!1;for(r in t)if(!i(t[r],e[r]))return!1}return!0}return!1}function r(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return e?{href:e[0]||"",protocol:e[1]||"",authority:e[2]||"",host:e[3]||"",hostname:e[4]||"",port:e[5]||"",pathname:e[6]||"",search:e[7]||"",hash:e[8]||""}:null}function o(t,e){return e=r(e||""),t=r(t||""),e&&t?(e.protocol||t.protocol)+(e.protocol||e.authority?e.authority:t.authority)+function(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}(e.protocol||e.authority||"/"===e.pathname.charAt(0)?e.pathname:e.pathname?(t.authority&&!t.pathname?"/":"")+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+e.pathname:t.pathname)+(e.protocol||e.authority||e.pathname?e.search:e.search||t.search)+e.hash:null}function s(t){return t.split("#")[0]}function l(t,e){if(t&&"object"==(void 0===t?"undefined":a(t)))if(void 0===e?e=t.id:"string"==typeof t.id&&(e=o(e,t.id),t.id=e),Array.isArray(t))for(var n=0;n<t.length;n++)l(t[n],e);else for(var i in"string"==typeof t.$ref&&(t.$ref=o(e,t.$ref)),t)"enum"!==i&&l(t[i],e)}function u(t){var e=_[t=t||"en"];return function(t){var n=e[t.code]||b[t.code];if("string"!=typeof n)return"Unknown error code "+t.code+": "+JSON.stringify(t.messageParams);var i=t.params;return n.replace(/\{([^{}]*)\}/g,function(t,e){var n=i[e];return"string"==typeof n||"number"==typeof n?n:t})}}function c(t,e,n,i,r){if(Error.call(this),void 0===t)throw new Error("No error code supplied: "+i);this.message="",this.params=e,this.code=t,this.dataPath=n||"",this.schemaPath=i||"",this.subErrors=r||null;var o=new Error(this.message);if(this.stack=o.stack||o.stacktrace,!this.stack)try{throw o}catch(o){this.stack=o.stack||o.stacktrace}}Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=(void 0===r?"undefined":a(r))&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");var o=[];for(var s in r)t.call(r,s)&&o.push(s);if(e)for(var l=0;l<i;l++)t.call(r,n[l])&&o.push(n[l]);return o}}()),Object.create||(Object.create=function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return t.prototype=e,new t}}()),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in e&&e[r]===t)return r;return-1}),Object.isFrozen||(Object.isFrozen=function(t){for(var e="tv4_test_frozen_key";t.hasOwnProperty(e);)e+=Math.random();try{return t[e]=!0,delete t[e],!1}catch(t){return!0}});var d={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},h={"*":!0};n.prototype={toString:function(){return this.template},fillFromObject:function(t){return this.fill(function(e){return t[e]})}};var p=function(t,e,n,i,r){if(this.missing=[],this.missingMap={},this.formatValidators=t?Object.create(t.formatValidators):{},this.schemas=t?Object.create(t.schemas):{},this.collectMultiple=e,this.errors=[],this.handleError=e?this.collectError:this.returnError,i&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),r&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=n||u("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},t)for(var o in t.definedKeywords)this.definedKeywords[o]=t.definedKeywords[o].slice(0)};p.prototype.defineKeyword=function(t,e){this.definedKeywords[t]=this.definedKeywords[t]||[],this.definedKeywords[t].push(e)},p.prototype.createError=function(t,e,n,i,r,o,a){var s=new c(t,e,n,i,r);return s.message=this.errorReporter(s,o,a),s},p.prototype.returnError=function(t){return t},p.prototype.collectError=function(t){return t&&this.errors.push(t),null},p.prototype.prefixErrors=function(t,e,n){for(var i=t;i<this.errors.length;i++)this.errors[i]=this.errors[i].prefixWith(e,n);return this},p.prototype.banUnknownProperties=function(t,e){for(var n in this.unknownPropertyPaths){var i=this.createError(v.UNKNOWN_PROPERTY,{path:n},n,"",null,t,e),r=this.handleError(i);if(r)return r}return null},p.prototype.addFormat=function(t,e){if("object"==(void 0===t?"undefined":a(t))){for(var n in t)this.addFormat(n,t[n]);return this}this.formatValidators[t]=e},p.prototype.resolveRefs=function(t,e){if(void 0!==t.$ref){if((e=e||{})[t.$ref])return this.createError(v.CIRCULAR_REFERENCE,{urls:Object.keys(e).join(", ")},"","",null,void 0,t);e[t.$ref]=!0,t=this.getSchema(t.$ref,e)}return t},p.prototype.getSchema=function(t,e){var n;if(void 0!==this.schemas[t])return n=this.schemas[t],this.resolveRefs(n,e);var i=t,r="";if(-1!==t.indexOf("#")&&(r=t.substring(t.indexOf("#")+1),i=t.substring(0,t.indexOf("#"))),"object"==a(this.schemas[i])){n=this.schemas[i];var o=decodeURIComponent(r);if(""===o)return this.resolveRefs(n,e);if("/"!==o.charAt(0))return;for(var s=o.split("/").slice(1),l=0;l<s.length;l++){var u=s[l].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[u]){n=void 0;break}n=n[u]}if(void 0!==n)return this.resolveRefs(n,e)}void 0===this.missing[i]&&(this.missing.push(i),this.missing[i]=i,this.missingMap[i]=i)},p.prototype.searchSchemas=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.searchSchemas(t[n],e);else if(t&&"object"==(void 0===t?"undefined":a(t)))for(var i in"string"==typeof t.id&&function(t,e){if(e.substring(0,t.length)===t){var n=e.substring(t.length);if(e.length>0&&"/"===e.charAt(t.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}(e,t.id)&&void 0===this.schemas[t.id]&&(this.schemas[t.id]=t),t)if("enum"!==i)if("object"==a(t[i]))this.searchSchemas(t[i],e);else if("$ref"===i){var r=s(t[i]);r&&void 0===this.schemas[r]&&void 0===this.missingMap[r]&&(this.missingMap[r]=r)}},p.prototype.addSchema=function(t,e){if("string"!=typeof t||void 0===e){if("object"!=(void 0===t?"undefined":a(t))||"string"!=typeof t.id)return;t=(e=t).id}t===s(t)+"#"&&(t=s(t)),this.schemas[t]=e,delete this.missingMap[t],l(e,t),this.searchSchemas(e,t)},p.prototype.getSchemaMap=function(){var t={};for(var e in this.schemas)t[e]=this.schemas[e];return t},p.prototype.getSchemaUris=function(t){var e=[];for(var n in this.schemas)t&&!t.test(n)||e.push(n);return e},p.prototype.getMissingUris=function(t){var e=[];for(var n in this.missingMap)t&&!t.test(n)||e.push(n);return e},p.prototype.dropSchemas=function(){this.schemas={},this.reset()},p.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},p.prototype.validateAll=function(t,e,n,i,r){var o;if(!(e=this.resolveRefs(e)))return null;if(e instanceof c)return this.errors.push(e),e;var s,l=this.errors.length,u=null,d=null;if(this.checkRecursive&&t&&"object"==(void 0===t?"undefined":a(t))){if(o=!this.scanned.length,t[this.validatedSchemasKey]){var h=t[this.validatedSchemasKey].indexOf(e);if(-1!==h)return this.errors=this.errors.concat(t[this.validationErrorsKey][h]),null}if(Object.isFrozen(t)&&-1!==(s=this.scannedFrozen.indexOf(t))){var p=this.scannedFrozenSchemas[s].indexOf(e);if(-1!==p)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][p]),null}if(this.scanned.push(t),Object.isFrozen(t))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(t),this.scannedFrozenSchemas.push([])),u=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][u]=e,this.scannedFrozenValidationErrors[s][u]=[];else{if(!t[this.validatedSchemasKey])try{Object.defineProperty(t,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(t,this.validationErrorsKey,{value:[],configurable:!0})}catch(e){t[this.validatedSchemasKey]=[],t[this.validationErrorsKey]=[]}d=t[this.validatedSchemasKey].length,t[this.validatedSchemasKey][d]=e,t[this.validationErrorsKey][d]=[]}}var f=this.errors.length,y=this.validateBasic(t,e,r)||this.validateNumeric(t,e,r)||this.validateString(t,e,r)||this.validateArray(t,e,r)||this.validateObject(t,e,r)||this.validateCombinations(t,e,r)||this.validateHypermedia(t,e,r)||this.validateFormat(t,e,r)||this.validateDefinedKeywords(t,e,r)||null;if(o){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(y||f!==this.errors.length)for(;n&&n.length||i&&i.length;){var v=n&&n.length?""+n.pop():null,g=i&&i.length?""+i.pop():null;y&&(y=y.prefixWith(v,g)),this.prefixErrors(f,v,g)}return null!==u?this.scannedFrozenValidationErrors[s][u]=this.errors.slice(l):null!==d&&(t[this.validationErrorsKey][d]=this.errors.slice(l)),this.handleError(y)},p.prototype.validateFormat=function(t,e){if("string"!=typeof e.format||!this.formatValidators[e.format])return null;var n=this.formatValidators[e.format].call(null,t,e);return"string"==typeof n||"number"==typeof n?this.createError(v.FORMAT_CUSTOM,{message:n},"","/format",null,t,e):n&&"object"==(void 0===n?"undefined":a(n))?this.createError(v.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||"",n.schemaPath||"/format",null,t,e):null},p.prototype.validateDefinedKeywords=function(t,e,n){for(var i in this.definedKeywords)if(void 0!==e[i])for(var r=this.definedKeywords[i],o=0;o<r.length;o++){var s=r[o],l=s(t,e[i],e,n);if("string"==typeof l||"number"==typeof l)return this.createError(v.KEYWORD_CUSTOM,{key:i,message:l},"","",null,t,e).prefixWith(null,i);if(l&&"object"==(void 0===l?"undefined":a(l))){var u=l.code;if("string"==typeof u){if(!v[u])throw new Error("Undefined error code (use defineError): "+u);u=v[u]}else"number"!=typeof u&&(u=v.KEYWORD_CUSTOM);var c="object"==a(l.message)?l.message:{key:i,message:l.message||"?"},d=l.schemaPath||"/"+i.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(u,c,l.dataPath||null,d,null,t,e)}}return null},p.prototype.validateBasic=function(t,e,n){var i;return(i=this.validateType(t,e,n))?i.prefixWith(null,"type"):(i=this.validateEnum(t,e,n))?i.prefixWith(null,"type"):null},p.prototype.validateType=function(t,e){if(void 0===e.type)return null;var n=void 0===t?"undefined":a(t);null===t?n="null":Array.isArray(t)&&(n="array");var i=e.type;Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++){var o=i[r];if(o===n||"integer"===o&&"number"===n&&t%1==0)return null}return this.createError(v.INVALID_TYPE,{type:n,expected:i.join("/")},"","",null,t,e)},p.prototype.validateEnum=function(t,e){if(void 0===e.enum)return null;for(var n=0;n<e.enum.length;n++)if(i(t,e.enum[n]))return null;return this.createError(v.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t},"","",null,t,e)},p.prototype.validateNumeric=function(t,e,n){return this.validateMultipleOf(t,e,n)||this.validateMinMax(t,e,n)||this.validateNaN(t,e,n)||null};var f=Math.pow(2,-51),y=1-f;p.prototype.validateMultipleOf=function(t,e){var n=e.multipleOf||e.divisibleBy;if(void 0===n)return null;if("number"==typeof t){var i=t/n%1;if(i>=f&&i<y)return this.createError(v.NUMBER_MULTIPLE_OF,{value:t,multipleOf:n},"","",null,t,e)}return null},p.prototype.validateMinMax=function(t,e){if("number"!=typeof t)return null;if(void 0!==e.minimum){if(t<e.minimum)return this.createError(v.NUMBER_MINIMUM,{value:t,minimum:e.minimum},"","/minimum",null,t,e);if(e.exclusiveMinimum&&t===e.minimum)return this.createError(v.NUMBER_MINIMUM_EXCLUSIVE,{value:t,minimum:e.minimum},"","/exclusiveMinimum",null,t,e)}if(void 0!==e.maximum){if(t>e.maximum)return this.createError(v.NUMBER_MAXIMUM,{value:t,maximum:e.maximum},"","/maximum",null,t,e);if(e.exclusiveMaximum&&t===e.maximum)return this.createError(v.NUMBER_MAXIMUM_EXCLUSIVE,{value:t,maximum:e.maximum},"","/exclusiveMaximum",null,t,e)}return null},p.prototype.validateNaN=function(t,e){return"number"!=typeof t?null:!0===isNaN(t)||t===1/0||t===-1/0?this.createError(v.NUMBER_NOT_A_NUMBER,{value:t},"","/type",null,t,e):null},p.prototype.validateString=function(t,e,n){return this.validateStringLength(t,e,n)||this.validateStringPattern(t,e,n)||null},p.prototype.validateStringLength=function(t,e){return"string"!=typeof t?null:void 0!==e.minLength&&t.length<e.minLength?this.createError(v.STRING_LENGTH_SHORT,{length:t.length,minimum:e.minLength},"","/minLength",null,t,e):void 0!==e.maxLength&&t.length>e.maxLength?this.createError(v.STRING_LENGTH_LONG,{length:t.length,maximum:e.maxLength},"","/maxLength",null,t,e):null},p.prototype.validateStringPattern=function(t,e){if("string"!=typeof t||"string"!=typeof e.pattern&&!(e.pattern instanceof RegExp))return null;var n;if(e.pattern instanceof RegExp)n=e.pattern;else{var i,r="",o=e.pattern.match(/^\/(.+)\/([img]*)$/);o?(i=o[1],r=o[2]):i=e.pattern,n=new RegExp(i,r)}return n.test(t)?null:this.createError(v.STRING_PATTERN,{pattern:e.pattern},"","/pattern",null,t,e)},p.prototype.validateArray=function(t,e,n){return Array.isArray(t)&&(this.validateArrayLength(t,e,n)||this.validateArrayUniqueItems(t,e,n)||this.validateArrayItems(t,e,n))||null},p.prototype.validateArrayLength=function(t,e){var n;return void 0!==e.minItems&&t.length<e.minItems&&(n=this.createError(v.ARRAY_LENGTH_SHORT,{length:t.length,minimum:e.minItems},"","/minItems",null,t,e),this.handleError(n))?n:void 0!==e.maxItems&&t.length>e.maxItems&&(n=this.createError(v.ARRAY_LENGTH_LONG,{length:t.length,maximum:e.maxItems},"","/maxItems",null,t,e),this.handleError(n))?n:null},p.prototype.validateArrayUniqueItems=function(t,e){if(e.uniqueItems)for(var n=0;n<t.length;n++)for(var r=n+1;r<t.length;r++)if(i(t[n],t[r])){var o=this.createError(v.ARRAY_UNIQUE,{match1:n,match2:r},"","/uniqueItems",null,t,e);if(this.handleError(o))return o}return null},p.prototype.validateArrayItems=function(t,e,n){if(void 0===e.items)return null;var i,r;if(Array.isArray(e.items)){for(r=0;r<t.length;r++)if(r<e.items.length){if(i=this.validateAll(t[r],e.items[r],[r],["items",r],n+"/"+r))return i}else if(void 0!==e.additionalItems)if("boolean"==typeof e.additionalItems){if(!e.additionalItems&&(i=this.createError(v.ARRAY_ADDITIONAL_ITEMS,{},"/"+r,"/additionalItems",null,t,e),this.handleError(i)))return i}else if(i=this.validateAll(t[r],e.additionalItems,[r],["additionalItems"],n+"/"+r))return i}else for(r=0;r<t.length;r++)if(i=this.validateAll(t[r],e.items,[r],["items"],n+"/"+r))return i;return null},p.prototype.validateObject=function(t,e,n){return"object"!=(void 0===t?"undefined":a(t))||null===t||Array.isArray(t)?null:this.validateObjectMinMaxProperties(t,e,n)||this.validateObjectRequiredProperties(t,e,n)||this.validateObjectProperties(t,e,n)||this.validateObjectDependencies(t,e,n)||null},p.prototype.validateObjectMinMaxProperties=function(t,e){var n,i=Object.keys(t);return void 0!==e.minProperties&&i.length<e.minProperties&&(n=this.createError(v.OBJECT_PROPERTIES_MINIMUM,{propertyCount:i.length,minimum:e.minProperties},"","/minProperties",null,t,e),this.handleError(n))?n:void 0!==e.maxProperties&&i.length>e.maxProperties&&(n=this.createError(v.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:i.length,maximum:e.maxProperties},"","/maxProperties",null,t,e),this.handleError(n))?n:null},p.prototype.validateObjectRequiredProperties=function(t,e){if(void 0!==e.required)for(var n=0;n<e.required.length;n++){var i=e.required[n];if(void 0===t[i]){var r=this.createError(v.OBJECT_REQUIRED,{key:i},"","/required/"+n,null,t,e);if(this.handleError(r))return r}}return null},p.prototype.validateObjectProperties=function(t,e,n){var i;for(var r in t){var o=n+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==e.properties&&void 0!==e.properties[r]&&(a=!0,i=this.validateAll(t[r],e.properties[r],[r],["properties",r],o)))return i;if(void 0!==e.patternProperties)for(var s in e.patternProperties){var l=new RegExp(s);if(l.test(r)&&(a=!0,i=this.validateAll(t[r],e.patternProperties[s],[r],["patternProperties",s],o)))return i}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==e.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof e.additionalProperties){if(!e.additionalProperties&&(i=this.createError(v.OBJECT_ADDITIONAL_PROPERTIES,{key:r},"","/additionalProperties",null,t,e).prefixWith(r,null),this.handleError(i)))return i}else if(i=this.validateAll(t[r],e.additionalProperties,[r],["additionalProperties"],o))return i}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null},p.prototype.validateObjectDependencies=function(t,e,n){var i;if(void 0!==e.dependencies)for(var r in e.dependencies)if(void 0!==t[r]){var o=e.dependencies[r];if("string"==typeof o){if(void 0===t[o]&&(i=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:r,missing:o},"","",null,t,e).prefixWith(null,r).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(Array.isArray(o))for(var a=0;a<o.length;a++){var s=o[a];if(void 0===t[s]&&(i=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:r,missing:s},"","/"+a,null,t,e).prefixWith(null,r).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(i=this.validateAll(t,o,[],["dependencies",r],n))return i}return null},p.prototype.validateCombinations=function(t,e,n){return this.validateAllOf(t,e,n)||this.validateAnyOf(t,e,n)||this.validateOneOf(t,e,n)||this.validateNot(t,e,n)||null},p.prototype.validateAllOf=function(t,e,n){if(void 0===e.allOf)return null;for(var i,r=0;r<e.allOf.length;r++){var o=e.allOf[r];if(i=this.validateAll(t,o,[],["allOf",r],n))return i}return null},p.prototype.validateAnyOf=function(t,e,n){if(void 0===e.anyOf)return null;var i,r,o=[],a=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,r=this.knownPropertyPaths);for(var s=!0,l=0;l<e.anyOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=e.anyOf[l],c=this.errors.length,d=this.validateAll(t,u,[],["anyOf",l],n);if(null===d&&c===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var h in this.knownPropertyPaths)r[h]=!0,delete i[h];for(var p in this.unknownPropertyPaths)r[p]||(i[p]=!0);s=!1;continue}return null}d&&o.push(d.prefixWith(null,""+l).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=r),s?(o=o.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(v.ANY_OF_MISSING,{},"","/anyOf",o,t,e)):void 0},p.prototype.validateOneOf=function(t,e,n){if(void 0===e.oneOf)return null;var i,r,o=null,a=[],s=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,r=this.knownPropertyPaths);for(var l=0;l<e.oneOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=e.oneOf[l],c=this.errors.length,d=this.validateAll(t,u,[],["oneOf",l],n);if(null===d&&c===this.errors.length){if(null!==o)return this.errors=this.errors.slice(0,s),this.createError(v.ONE_OF_MULTIPLE,{index1:o,index2:l},"","/oneOf",null,t,e);if(o=l,this.trackUnknownProperties){for(var h in this.knownPropertyPaths)r[h]=!0,delete i[h];for(var p in this.unknownPropertyPaths)r[p]||(i[p]=!0)}}else d&&a.push(d)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=r),null===o?(a=a.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(v.ONE_OF_MISSING,{},"","/oneOf",a,t,e)):(this.errors=this.errors.slice(0,s),null)},p.prototype.validateNot=function(t,e,n){if(void 0===e.not)return null;var i,r,o=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,r=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(t,e.not,null,null,n),s=this.errors.slice(o);return this.errors=this.errors.slice(0,o),this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=r),null===a&&0===s.length?this.createError(v.NOT_PASSED,{},"","/not",null,t,e):null},p.prototype.validateHypermedia=function(t,e,i){if(!e.links)return null;for(var r,o=0;o<e.links.length;o++){var a=e.links[o];if("describedby"===a.rel){for(var s=new n(a.href),l=!0,u=0;u<s.varNames.length;u++)if(!(s.varNames[u]in t)){l=!1;break}if(l){var c=s.fillFromObject(t),d={$ref:c};if(r=this.validateAll(t,d,[],["links",o],i))return r}}}};var v={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},g={};for(var m in v)g[v[m]]=m;var b={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="ValidationError",c.prototype.prefixWith=function(t,e){if(null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+t+this.dataPath),null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+e+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(t,e);return this};var _={},A=function t(e){var n,i,r=new p,a={setErrorReporter:function(t){return"string"==typeof t?this.language(t):(i=t,!0)},addFormat:function(){r.addFormat.apply(r,arguments)},language:function(t){return t?(_[t]||(t=t.split("-")[0]),!!_[t]&&(n=t,t)):n},addLanguage:function(t,e){var n;for(n in v)e[n]&&!e[v[n]]&&(e[v[n]]=e[n]);var i=t.split("-")[0];if(_[i])for(n in _[t]=Object.create(_[i]),e)void 0===_[i][n]&&(_[i][n]=e[n]),_[t][n]=e[n];else _[t]=e,_[i]=e;return this},freshApi:function(e){var n=t();return e&&n.language(e),n},validate:function(t,e,o,a){var s=u(n),l=i?function(t,e,n){return i(t,e,n)||s(t,e,n)}:s,c=new p(r,!1,l,o,a);"string"==typeof e&&(e={$ref:e}),c.addSchema("",e);var d=c.validateAll(t,e,null,null,"");return!d&&a&&(d=c.banUnknownProperties(t,e)),this.error=d,this.missing=c.missing,this.valid=null===d,this.valid},validateResult:function(){var t={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(t,arguments),t},validateMultiple:function(t,e,o,a){var s=u(n),l=i?function(t,e,n){return i(t,e,n)||s(t,e,n)}:s,c=new p(r,!0,l,o,a);"string"==typeof e&&(e={$ref:e}),c.addSchema("",e),c.validateAll(t,e,null,null,""),a&&c.banUnknownProperties(t,e);var d={toString:function(){return this.valid?"valid":this.error.message}};return d.errors=c.errors,d.missing=c.missing,d.valid=0===d.errors.length,d},addSchema:function(){return r.addSchema.apply(r,arguments)},getSchema:function(){return r.getSchema.apply(r,arguments)},getSchemaMap:function(){return r.getSchemaMap.apply(r,arguments)},getSchemaUris:function(){return r.getSchemaUris.apply(r,arguments)},getMissingUris:function(){return r.getMissingUris.apply(r,arguments)},dropSchemas:function(){r.dropSchemas.apply(r,arguments)},defineKeyword:function(){r.defineKeyword.apply(r,arguments)},defineError:function(t,e,n){if("string"!=typeof t||!/^[A-Z]+(_[A-Z]+)*$/.test(t))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof e||e%1!=0||e<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==v[t])throw new Error("Error already defined: "+t+" as "+v[t]);if(void 0!==g[e])throw new Error("Error code already used: "+g[e]+" as "+e);for(var i in v[t]=e,g[e]=t,b[t]=b[e]=n,_){var r=_[i];r[t]&&(r[e]=r[e]||r[t])}},reset:function(){r.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:l,resolveUrl:o,getDocumentUri:s,errorCodes:v};return a.language(e||"en"),a}();return A.addLanguage("en-gb",b),A.tv4=A,A},void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(n(58)),a=i(n(61)),s=i(n(21)),l=i(n(22)),u=i(n(62)),c=i(n(63)),d=function(){function t(e,n){var i=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.currentTenant=e||l.default.mustBeDefined("tenant"),this.instanceID=n||l.default.mustBeDefined("instanceID"),this.queue=new u.default(s.default.EVENTS_BUFFER_SIZE),this.ready=!1,(new c.default).every(s.default.EVENTS_SENDER_INTERVAL).call(function(){i.queue=i.filterQueue();var t=i.prepareRequest();i.dispatch(t)||t.actions.forEach(function(t){return i.enqueue(t)})}).start(),this.ready=!0}return r(t,null,[{key:"context",value:function(){return window.horizon=window.horizon||{},window.horizon.bus=window.horizon.bus||{},window.horizon.bus}},{key:"reset",value:function(e){if(!e)throw new Error(l.default.UNSUPPORTED_TENANT);delete t.context()[e]}},{key:"get",value:function(e){var n=t.context();if(!e)throw new Error(l.default.UNSUPPORTED_TENANT);return n.globalInstanceId||(n.globalInstanceId=(0,o.default)()),n[e]||(n[e]=new t(e,n.globalInstanceId)),n[e]}}]),r(t,[{key:"isReady",value:function(){return this.ready}},{key:"setMaxQueueSize",value:function(t){this.queue=u.default.fromArray(this.queue.items,t)}},{key:"filterQueue",value:function(){var t=+Date.now()-s.default.EVENTS_DISCARD_AFTER_MSECONDS;return this.queue.filter(function(e){return e.actionTs>t})}},{key:"prepareRequest",value:function(){return{horizonClientUUID:this.instanceID,horizonClientTenant:this.currentTenant,horizonClientTs:Date.now(),actions:this.queue.splice(0,s.default.EVENTS_BULK_SIZE)}}},{key:"dispatch",value:function(t){var e=s.default.HORIZON_TRACK_HOST+"/event/"+this.currentTenant;return!!function(t){if(!t||t&&!t.actions)throw new Error(l.default.INVALID_REQUEST);return t.actions.length>0}(t)&&(0,a.default)(e,JSON.stringify(t))}},{key:"enqueue",value:function(t){if(!t.actionTs)throw new Error(l.default.INVALID_TIMESTAMP);this.queue.push(t)}},{key:"unload",value:function(){for(;this.queue.length>0;){this.queue=this.filterQueue();var t=this.prepareRequest();this.dispatch(t)}}},{key:"length",get:function(){return this.queue.length}}]),t}();e.default=d},function(t,e,n){var i,r,o=n(59),a=n(60),s=0,l=0;t.exports=function(t,e,n){var u=e&&n||0,c=e||[],d=(t=t||{}).node||i,h=void 0!==t.clockseq?t.clockseq:r;if(null==d||null==h){var p=o();null==d&&(d=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=r=16383&(p[6]<<8|p[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:l+1,v=f-s+(y-l)/1e4;if(v<0&&void 0===t.clockseq&&(h=h+1&16383),(v<0||f>s)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,l=y,r=h;var g=(1e4*(268435455&(f+=122192928e5))+y)%4294967296;c[u++]=g>>>24&255,c[u++]=g>>>16&255,c[u++]=g>>>8&255,c[u++]=255&g;var m=f/4294967296*1e4&268435455;c[u++]=m>>>8&255,c[u++]=255&m,c[u++]=m>>>24&15|16,c[u++]=m>>>16&255,c[u++]=h>>>8|128,c[u++]=255&h;for(var b=0;b<6;++b)c[u+b]=d[b];return e||a(c)}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,r=n;return r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]}},function(t,e,n){!function(n){var i=function(t,e){var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",t,!1),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),"string"==typeof e?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text/plain"):"[object Blob]"==={}.toString.call(e)&&e.type&&n.setRequestHeader("Content-Type",e.type);try{n.send(e)}catch(t){}return!0};"navigator"in n&&"sendBeacon"in n.navigator&&(i=navigator.sendBeacon.bind(navigator)),void 0!==t&&t.exports&&(e=t.exports=i),e.sendBeacon=i}("object"==("undefined"==typeof window?"undefined":a(window))?window:this)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._queue=[],this.maxSize=e}return i(t,[{key:"push",value:function(t){this._queue=[t].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.slice(0,this.maxSize-1)))}},{key:"forEach",value:function(t){return this._queue.forEach(t)}},{key:"slice",value:function(t,e){return this._queue.slice(t,e)}},{key:"splice",value:function(t,e){return this._queue.splice(t,e)}},{key:"clear",value:function(){this._queue=[]}},{key:"filter",value:function(e){return t.fromArray(this._queue.filter(e),this.maxSize)}},{key:"length",get:function(){return this._queue.length}},{key:"items",get:function(){return JSON.parse(JSON.stringify(this._queue))}}],[{key:"fromArray",value:function(e,n){var i=new t(n);return e.forEach(function(t){return i.push(t)}),i}}]),t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._interval=0,this._tickIntervalId=0,this._callback=function(){}}return i(t,[{key:"tick",value:function(){this._callback()}},{key:"start",value:function(){return this._tickIntervalId=setInterval(this.tick.bind(this),this._interval),this}},{key:"stop",value:function(){return clearInterval(this._tickIntervalId),this._tickIntervalId=0,this}},{key:"every",value:function(t){return this._interval=t,this}},{key:"call",value:function(t){return this._callback=t,this}},{key:"isRunning",get:function(){return!!this._tickIntervalId}}]),t}();e.default=r},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(65),n(74),n(97);var o=i(n(22)),a=i(n(21)),s={READY:Symbol.for("statusReady"),STATE_NOT_READY:Symbol.for("statusNotReady"),STATE_LOADING:Symbol.for("statusLoading"),STATE_SCHEDULED:Symbol.for("statusScheduled"),STATE_ERROR:Symbol.for("statusError")},l=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.url=e,this.state=s.STATE_NOT_READY,this._callbacks={ready:[],error:[]}}return r(t,null,[{key:"context",value:function(){return window.horizon=window.horizon||{},window.horizon.schemas=window.horizon.schemas||{},window.horizon.schemas.data=window.horizon.schemas.data||{},window.horizon.schemas}},{key:"instance",value:function(e){var n=t.context();return n.provider||(n.provider=new t(e||a.default.HORIZON_SCHEMAS_HOST+"/schemas")),n.data||(n.data={}),n.provider}}]),r(t,[{key:"get",value:function(e){if(!this.isReady())throw new Error(""+o.default.COMPONENT_NOT_READY);var n=t.context().data[e];if(!n)throw new Error(o.default.UNSUPPORTED_TYPE+": "+e);return n}},{key:"isReady",value:function(){return this.state===s.STATE_READY}},{key:"retry",value:function(){var t=this;this.state=s.STATE_SCHEDULED,setTimeout(function(){t.state=s.STATE_NOT_READY,t.load()},a.default.EVENTS_LOADER_RETRY_AFTER_SECS)}},{key:"onReady",value:function(t){return this.state===s.STATE_READY?t():this._callbacks.ready.push(t),this}},{key:"onError",value:function(t){return this.state===s.STATE_ERROR?t():this._callbacks.error.push(t),this}},{key:"handleResponse",value:function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}},{key:"execAsync",value:function(t,e){setTimeout(function(){return t(e)},1)}},{key:"load",value:function(){var e=this,n=t.context();this.state===s.STATE_NOT_READY&&(this.state=s.STATE_LOADING,fetch(this.url).then(this.handleResponse).then(function(t){return n.data=Object.assign(n.data||{},t)}).then(function(){e.state=s.STATE_READY,e._callbacks.ready.forEach(function(t){return e.execAsync(t,n.data)})}).catch(function(t){e.state=s.STATE_ERROR,e._callbacks.error.forEach(function(n){return e.execAsync(n,t)}),e.retry()}))}}]),t}();e.default=l},function(t,e,n){n(66),n(43),t.exports=n(2).Symbol},function(t,e,n){var i=n(1),r=n(4),o=n(8),s=n(16),l=n(9),u=n(67).KEY,c=n(11),d=n(30),h=n(23),p=n(12),f=n(0),y=n(39),v=n(68),g=n(69),m=n(70),b=n(3),_=n(7),A=n(10),E=n(26),w=n(17),T=n(40),k=n(72),S=n(73),C=n(6),O=n(13),P=S.f,R=C.f,I=k.f,x=i.Symbol,L=i.JSON,D=L&&L.stringify,M=f("_hidden"),N=f("toPrimitive"),B={}.propertyIsEnumerable,U=d("symbol-registry"),F=d("symbols"),j=d("op-symbols"),V=Object.prototype,H="function"==typeof x,G=i.QObject,z=!G||!G.prototype||!G.prototype.findChild,Y=o&&c(function(){return 7!=T(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=P(V,e);i&&delete V[e],R(t,e,n),i&&t!==V&&R(V,e,i)}:R,$=function(t){var e=F[t]=T(x.prototype);return e._k=t,e},K=H&&"symbol"==a(x.iterator)?function(t){return"symbol"==(void 0===t?"undefined":a(t))}:function(t){return t instanceof x},W=function t(e,n,i){return e===V&&t(j,n,i),b(e),n=E(n,!0),b(i),r(F,n)?(i.enumerable?(r(e,M)&&e[M][n]&&(e[M][n]=!1),i=T(i,{enumerable:w(0,!1)})):(r(e,M)||R(e,M,w(1,{})),e[M][n]=!0),Y(e,n,i)):R(e,n,i)},q=function(t,e){b(t);for(var n,i=g(e=A(e)),r=0,o=i.length;o>r;)W(t,n=i[r++],e[n]);return t},X=function(t){var e=B.call(this,t=E(t,!0));return!(this===V&&r(F,t)&&!r(j,t))&&(!(e||!r(this,t)||!r(F,t)||r(this,M)&&this[M][t])||e)},Z=function(t,e){if(t=A(t),e=E(e,!0),t!==V||!r(F,e)||r(j,e)){var n=P(t,e);return!n||!r(F,e)||r(t,M)&&t[M][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=I(A(t)),i=[],o=0;n.length>o;)r(F,e=n[o++])||e==M||e==u||i.push(e);return i},J=function(t){for(var e,n=t===V,i=I(n?j:A(t)),o=[],a=0;i.length>a;)!r(F,e=i[a++])||n&&!r(V,e)||o.push(F[e]);return o};H||(l((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0);return o&&z&&Y(V,t,{configurable:!0,set:function e(n){this===V&&e.call(j,n),r(this,M)&&r(this[M],t)&&(this[M][t]=!1),Y(this,t,w(1,n))}}),$(t)}).prototype,"toString",function(){return this._k}),S.f=Z,C.f=W,n(42).f=k.f=Q,n(20).f=X,n(32).f=J,o&&!n(24)&&l(V,"propertyIsEnumerable",X,!0),y.f=function(t){return $(f(t))}),s(s.G+s.W+s.F*!H,{Symbol:x});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var nt=O(f.store),it=0;nt.length>it;)v(nt[it++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return r(U,t+="")?U[t]:U[t]=x(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,e){return void 0===e?T(t):q(T(t),e)},defineProperty:W,defineProperties:q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),L&&s(s.S+s.F*(!H||c(function(){var t=x();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!K(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),i[1]=e,D.apply(L,i)}}),x.prototype[N]||n(5)(x.prototype,N,x.prototype.valueOf),h(x,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){var i=n(12)("meta"),r=n(7),o=n(4),s=n(6).f,l=0,u=Object.isExtensible||function(){return!0},c=!n(11)(function(){return u(Object.preventExtensions({}))}),d=function(t){s(t,i,{value:{i:"O"+ ++l,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==(void 0===t?"undefined":a(t))?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!u(t))return"F";if(!e)return"E";d(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!u(t))return!0;if(!e)return!1;d(t)}return t[i].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!o(t,i)&&d(t),t}}},function(t,e,n){var i=n(1),r=n(2),o=n(24),a=n(39),s=n(6).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(13),r=n(32),o=n(20);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var i=n(14);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(6),r=n(3),o=n(13);t.exports=n(8)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,l=0;s>l;)i.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var i=n(10),r=n(42).f,o={}.toString,s="object"==("undefined"==typeof window?"undefined":a(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(20),r=n(17),o=n(10),a=n(26),s=n(4),l=n(34),u=Object.getOwnPropertyDescriptor;e.f=n(8)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){n(43),n(75),n(79),n(83),t.exports=n(2).Promise},function(t,e,n){var i=n(76)(!0);n(44)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(28),r=n(27);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var i=n(40),r=n(17),o=n(23),a={};n(5)(a,n(0)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(4),r=n(38),o=n(29)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){for(var i=n(80),r=n(13),o=n(9),a=n(1),s=n(5),l=n(15),u=n(0),c=u("iterator"),d=u("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),y=0;y<f.length;y++){var v,g=f[y],m=p[g],b=a[g],_=b&&b.prototype;if(_&&(_[c]||s(_,c,h),_[d]||s(_,d,g),l[g]=h,m))for(v in i)_[v]||o(_,v,i[v],!0)}},function(t,e,n){var i=n(81),r=n(82),o=n(15),a=n(10);t.exports=n(44)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var i=n(0)("unscopables"),r=Array.prototype;void 0==r[i]&&n(5)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var i,r,o,a,s=n(24),l=n(1),u=n(18),c=n(33),d=n(16),h=n(7),p=n(19),f=n(84),y=n(85),v=n(89),g=n(45).set,m=n(91)(),b=n(46),_=n(92),A=n(93),E=l.TypeError,w=l.process,T=l.Promise,k="process"==c(w),S=function(){},C=r=b.f,O=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(0)("species")]=function(t){t(S,S)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(S)instanceof e}catch(t){}}(),P=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var i=t._v,r=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=r?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{a?(r||(2==t._h&&L(t),t._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&u.exit()),n===e.promise?l(E("Promise-chain cycle")):(o=P(n))?o.call(n,s,l):s(n)):l(i)}catch(t){l(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)})}},I=function(t){g.call(l,function(){var e,n,i,r=t._v,o=x(t);if(o&&(e=_(function(){k?w.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=k||x(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},x=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){g.call(l,function(){var e;k?w.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},M=function t(e){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw E("Promise can't be resolved itself");(n=P(e))?m(function(){var r={_w:i,_d:!1};try{n.call(e,u(t,r,1),u(D,r,1))}catch(t){D.call(r,t)}}):(i._v=e,i._s=1,R(i,!1))}catch(e){D.call({_w:i,_d:!1},e)}}};O||(T=function(t){f(this,T,"Promise","_h"),p(t),i.call(this);try{t(u(M,this,1),u(D,this,1))}catch(t){D.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(94)(T.prototype,{then:function(t,e){var n=C(v(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(M,t,1),this.reject=u(D,t,1)},b.f=C=function(t){return t===T||t===a?new o(t):r(t)}),d(d.G+d.W+d.F*!O,{Promise:T}),n(23)(T,"Promise"),n(95)("Promise"),a=n(2).Promise,d(d.S+d.F*!O,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!O),"Promise",{resolve:function(t){return A(s&&this===a?T:this,t)}}),d(d.S+d.F*!(O&&n(96)(function(t){T.all(t).catch(S)})),"Promise",{all:function(t){var e=this,n=C(e),i=n.resolve,r=n.reject,o=_(function(){var n=[],o=0,a=1;y(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=C(e),i=n.reject,r=_(function(){y(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(18),r=n(86),o=n(87),a=n(3),s=n(37),l=n(88),u={},c={};(e=t.exports=function(t,e,n,d,h){var p,f,y,v,g=h?function(){return t}:l(t),m=i(n,d,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=s(t.length);p>b;b++)if((v=e?m(a(f=t[b])[0],f[1]):m(t[b]))===u||v===c)return v}else for(y=g.call(t);!(f=y.next()).done;)if((v=r(y,m,f.value,e))===u||v===c)return v}).BREAK=u,e.RETURN=c},function(t,e,n){var i=n(3);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(15),r=n(0)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(33),r=n(0)("iterator"),o=n(15);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(3),r=n(19),o=n(0)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(1),r=n(45).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(14)(a);t.exports=function(){var t,e,n,u=function(){var i,r;for(l&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(u)}}else n=function(){r.call(i,u)};else{var d=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(3),r=n(7),o=n(46);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(9);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var i=n(1),r=n(6),o=n(8),a=n(0)("species");t.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(0)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},function(t,e){!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return f.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(f.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(f.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(f.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(f.arrayBuffer&&f.blob&&v(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!f.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!g(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t,e){var n=(e=e||{}).body;if(t instanceof c){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=function(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function h(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function p(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var f={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(f.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(t){return t&&DataView.prototype.isPrototypeOf(t)},g=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},f.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this,{body:this._bodyInit})},u.call(c.prototype),u.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];p.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=c,t.Response=p,t.fetch=function(t,e){return new Promise(function(n,i){var r=new c(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:h(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new p(e,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&f.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}])},"object"==a(e)&&"object"==a(t)?t.exports=o():(i=[],void 0===(r="function"==typeof(n=o)?n.apply(e,i):n)||(t.exports=r))}).call(this,n(322)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(473),o=(i=r)&&i.__esModule?i:{default:i};e.default=[o.default],t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=s(n(474)),a=s(n(6));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"bindEvents",value:function(){this.listenTo(this.container.playback,a.default.WM_RESOURCE_READY,this.onResourceReady)}},{key:"onResourceReady",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.send(i({},this.containerProperties(),this.videoProperties(t)))}},{key:"containerProperties",value:function(){return{playback:this.innerPlayback.name,muted:!this.container.playback.getVolume()}}},{key:"liveProps",value:function(t){return{duration:-1,dvr:this.container.isDvrEnabled(),signal:t.transmission.signal}}},{key:"videoProperties",value:function(t){var e={videoId:t.id,programId:t.programId,channelId:t.channelId,kind:t.kind,encrypted:t.encrypted,subscriberOnly:t.isSubscriberOnly,adult:t.adult,cdn:t.cdn,duration:t.duration};return"live"==t.kind&&(e=i({},e,this.liveProps(t))),e}},{key:"name",get:function(){return"session-info-schema"}},{key:"id",get:function(){return"player-session-info"}},{key:"version",get:function(){return"1.0"}},{key:"innerPlayback",get:function(){return this.container.playback.playback}}]),e}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=l(n(55)),s=l(n(29));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){var i=n.horizon;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.options));return r.container=t,r.horizon=i,r.data={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.BaseObject),r(e,[{key:"playerId",get:function(){return a.default.playerId}},{key:"videoSessionId",get:function(){return s.default.getVideoSessionId(this.options.playerId)}},{key:"contentType",get:function(){return"monitoring"}},{key:"basicData",get:function(){return{id:this.id,version:this.version,contentType:this.contentType}}},{key:"basicProperties",get:function(){return{videoSessionId:this.videoSessionId}}}]),r(e,[{key:"bindEvents",value:function(){}},{key:"send",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data=i({},this.basicData,{properties:i({},this.basicProperties,t)});try{this.horizon.send(this.data)}catch(t){o.Log.error(this.name,"Error when trying to send data to Horizon",t)}}},{key:"destroy",value:function(){this.stopListening()}}]),e}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=n(6),l=(i=s)&&i.__esModule?i:{default:i},u=n(37);n(476);var c=window.WM&&window.WM.Settings||{},d=(c.bitrateCapping&&c.bitrateCapping||{}).poolingInterval||6e5,h=function(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e},p=function(t){return t.json()},f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.options.bitrateCappingDisabled&&n.disable(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.ContainerPlugin),o(e,[{key:"name",get:function(){return"bitrate_capping"}},{key:"playback",get:function(){return this.container.playback}},{key:"host",get:function(){return this.options.env.bandwidthLimitsHost}},{key:"isHlsjsPlayback",get:function(){return"id_playback"===this.playback.name&&"hls"===this.playback.getInnerPlaybackName()}}]),o(e,[{key:"bindEvents",value:function(){this.listenTo(this.playback,l.default.WM_RESOURCE_READY,this._onResourceReady),this.listenTo(this.playback,l.default.WM_RESOURCE_ERROR,this._onResourceError)}},{key:"disable",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disable",this).call(this),this._currentBitrate&&this._capBitrate(0),this._stopPolling()}},{key:"enable",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enable",this).call(this),this._bindPlaybackEvents(),this.playback.isPlaying()&&this._startPolling()}},{key:"_bindPlaybackEvents",value:function(){this.listenTo(this.playback,a.Events.PLAYBACK_PLAY,this._startPolling),this.listenTo(this.playback,a.Events.PLAYBACK_PAUSE,this._stopPolling),this.listenTo(this.playback,a.Events.PLAYBACK_STOP,this._stopPolling),this.listenTo(this.playback,a.Events.PLAYBACK_ENDED,this._stopPolling),this.listenTo(this.playback,a.Events.PLAYBACK_ERROR,this._stopPolling)}},{key:"_fetchLimits",value:function(){var t=this;a.Log.info(this.name,"fetching bitrate capping"),fetch(this.host).then(h).then(p).then(function(e){var n=e.b;return t._capBitrate(n)}).catch(function(e){return a.Log.warn(t.name,"error fetching bitrate capping:",e)})}},{key:"_capBitrate",value:function(t){if(this._currentBitrate!==t){t?a.Log.warn(this.name,"capping bitrate to "+t):a.Log.warn(this.name,"reset bitrate to unlimited");var e=this._getLevelFromBitrate(t);e>=0&&a.Log.warn(this.name,"capping level to "+e),this._currentBitrate=t,this._capLevelIndex(e),this.container.trigger(l.default.WM_BITRATE_CAP,t)}else a.Log.info(this.name,"no limit changes")}},{key:"_capLevelIndex",value:function(t){this.isHlsjsPlayback&&this._capHlsjsLevel(t)}},{key:"_capHlsjsLevel",value:function(t){this._destroyCapLevelController(),this._updateHlsjsConfig(t),this._createCapLevelController()}},{key:"_createCapLevelController",value:function(){if(!this._currentBitrate&&this.playback.options.playback.hlsjsConfig.capLevelToPlayerSize){var t=this.playback.playback._hls,e=new t.config.capLevelController(t);e.onMediaAttaching(t),e.onManifestParsed(t),this.playback.playback._hls.coreComponents.push(e)}}},{key:"_destroyCapLevelController",value:function(){var t=this;this.playback.playback._hls.coreComponents=this.playback.playback._hls.coreComponents.filter(function(e){var n=t._isHlsjsCapLevelController(e);return n&&(e.unregisterListeners(),e.destroy()),!n})}},{key:"_updateHlsjsConfig",value:function(t){this.playback.playback._hls.autoLevelCapping=t}},{key:"_isHlsjsCapLevelController",value:function(t){return t.constructor===this.playback.playback._hls.config.capLevelController}},{key:"_getLevelFromBitrate",value:function(t){if(!t)return-1;var e=void 0,n=[];return this.isHlsjsPlayback&&(n=this.playback.playback._hls.levels),(e=n.reduce(function(e,n,i){return n.bitrate<=t?i:e},0))>n.length&&(e=-1),a.Log.debug(this.name,"selected level:",n[e]),e}},{key:"_onResourceError",value:function(){a.Log.info(this.name,"resource error: disabling"),this.disable()}},{key:"_onResourceReady",value:function(t){t.isLive&&t.cdn===u.DEFAULT_CDN?(a.Log.info(this.name,"live video loaded, waiting for start"),this._bindPlaybackEvents()):(a.Log.info(this.name,"video/cdn does not allow bitrate capping"),this.disable())}},{key:"_startPolling",value:function(){var t=this;this._pollTimerId||(a.Log.info(this.name,"video playing, configuring polling"),this._pollTimerId=setInterval(function(){return t._fetchLimits()},d),this._fetchLimits())}},{key:"_stopPolling",value:function(){this._pollTimerId&&(a.Log.info(this.name,"polling canceled"),clearInterval(this._pollTimerId),delete this._pollTimerId)}}]),e}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";!function(t){if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},r=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=s(t),e=l(e);var n=this.map[t];this.map[t]=n?n+","+e:e},c.prototype.delete=function(t){delete this.map[s(t)]},c.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},c.prototype.set=function(t,e){this.map[s(t)]=l(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),u(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),u(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];m.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=v,t.Response=m,t.fetch=function(t,n){return new Promise(function(i,r){var o=new v(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new m(r,n))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function p(t){var e=new FileReader,n=h(e);return e.readAsArrayBuffer(t),n}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&i(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!r(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,n,i=d(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=h(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(t,e){var n,i,r=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),o.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function g(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function m(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:void 0)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,'@font-face{font-family:opensans-regular;src:url("//s3.glbimg.com/cdn/fonts/opensans/regular.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/opensans/regular.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/opensans/regular.ttf") format("truetype");font-style:normal;font-weight:400}@font-face{font-family:opensans-bold;src:url("//s3.glbimg.com/cdn/fonts/opensans/bold.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/opensans/bold.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/opensans/bold.ttf") format("truetype");font-style:normal;font-weight:400}@font-face{font-family:proximanova-regular;src:url("//s3.glbimg.com/cdn/fonts/proximanova/regular.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/proximanova/regular.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/proximanova/regular.ttf") format("truetype");font-style:normal;font-weight:400}@font-face{font-family:proximanova-bold;src:url("//s3.glbimg.com/cdn/fonts/proximanova/bold.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/proximanova/bold.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/proximanova/bold.ttf") format("truetype");font-style:normal;font-weight:400}@font-face{font-family:proximanova-xbold;src:url("//s3.glbimg.com/cdn/fonts/proximanova/extrabold.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/proximanova/extrabold.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/proximanova/extrabold.ttf") format("truetype");font-style:normal;font-weight:400}.clappr-player#wp3-player-0{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-transform:translateZ(0);transform:translateZ(0);position:relative;margin:0;padding:0;border:0;font-style:normal;font-weight:400;text-align:center;overflow:hidden;font-size:100%;font-family:lucida grande,tahoma,verdana,arial,sans-serif;text-shadow:0 0 0;box-sizing:border-box;display:block;max-width:none;box-sizing:inherit;float:none;-webkit-tap-highlight-color:transparent}.clappr-player#wp3-player-0 a,.clappr-player#wp3-player-0 abbr,.clappr-player#wp3-player-0 acronym,.clappr-player#wp3-player-0 address,.clappr-player#wp3-player-0 applet,.clappr-player#wp3-player-0 article,.clappr-player#wp3-player-0 aside,.clappr-player#wp3-player-0 audio,.clappr-player#wp3-player-0 b,.clappr-player#wp3-player-0 big,.clappr-player#wp3-player-0 blockquote,.clappr-player#wp3-player-0 canvas,.clappr-player#wp3-player-0 caption,.clappr-player#wp3-player-0 center,.clappr-player#wp3-player-0 cite,.clappr-player#wp3-player-0 code,.clappr-player#wp3-player-0 dd,.clappr-player#wp3-player-0 del,.clappr-player#wp3-player-0 details,.clappr-player#wp3-player-0 dfn,.clappr-player#wp3-player-0 div,.clappr-player#wp3-player-0 dl,.clappr-player#wp3-player-0 dt,.clappr-player#wp3-player-0 em,.clappr-player#wp3-player-0 embed,.clappr-player#wp3-player-0 fieldset,.clappr-player#wp3-player-0 figcaption,.clappr-player#wp3-player-0 figure,.clappr-player#wp3-player-0 footer,.clappr-player#wp3-player-0 form,.clappr-player#wp3-player-0 h1,.clappr-player#wp3-player-0 h2,.clappr-player#wp3-player-0 h3,.clappr-player#wp3-player-0 h4,.clappr-player#wp3-player-0 h5,.clappr-player#wp3-player-0 h6,.clappr-player#wp3-player-0 header,.clappr-player#wp3-player-0 hgroup,.clappr-player#wp3-player-0 i,.clappr-player#wp3-player-0 iframe,.clappr-player#wp3-player-0 img,.clappr-player#wp3-player-0 ins,.clappr-player#wp3-player-0 kbd,.clappr-player#wp3-player-0 label,.clappr-player#wp3-player-0 legend,.clappr-player#wp3-player-0 li,.clappr-player#wp3-player-0 mark,.clappr-player#wp3-player-0 menu,.clappr-player#wp3-player-0 nav,.clappr-player#wp3-player-0 object,.clappr-player#wp3-player-0 ol,.clappr-player#wp3-player-0 output,.clappr-player#wp3-player-0 p,.clappr-player#wp3-player-0 pre,.clappr-player#wp3-player-0 q,.clappr-player#wp3-player-0 ruby,.clappr-player#wp3-player-0 s,.clappr-player#wp3-player-0 samp,.clappr-player#wp3-player-0 section,.clappr-player#wp3-player-0 small,.clappr-player#wp3-player-0 span,.clappr-player#wp3-player-0 strike,.clappr-player#wp3-player-0 strong,.clappr-player#wp3-player-0 sub,.clappr-player#wp3-player-0 summary,.clappr-player#wp3-player-0 sup,.clappr-player#wp3-player-0 table,.clappr-player#wp3-player-0 tbody,.clappr-player#wp3-player-0 td,.clappr-player#wp3-player-0 tfoot,.clappr-player#wp3-player-0 th,.clappr-player#wp3-player-0 thead,.clappr-player#wp3-player-0 time,.clappr-player#wp3-player-0 tr,.clappr-player#wp3-player-0 tt,.clappr-player#wp3-player-0 u,.clappr-player#wp3-player-0 ul,.clappr-player#wp3-player-0 var,.clappr-player#wp3-player-0 video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}.clappr-player#wp3-player-0 table{border-collapse:collapse;border-spacing:0}.clappr-player#wp3-player-0 caption,.clappr-player#wp3-player-0 td,.clappr-player#wp3-player-0 th{text-align:left;font-weight:400;vertical-align:middle}.clappr-player#wp3-player-0 blockquote,.clappr-player#wp3-player-0 q{quotes:none}.clappr-player#wp3-player-0 blockquote:after,.clappr-player#wp3-player-0 blockquote:before,.clappr-player#wp3-player-0 q:after,.clappr-player#wp3-player-0 q:before{content:"";content:none}.clappr-player#wp3-player-0 a img{border:none}.clappr-player#wp3-player-0:focus{outline:0}.clappr-player#wp3-player-0.fullscreen{width:100%!important;height:100%!important}.clappr-player#wp3-player-0.nocursor{cursor:none}',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(317)),a=n(479),s=(i=a)&&i.__esModule?i:{default:i};var l=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t||(t={}),t.plugins||(t.plugins={}),t.plugins.core||(t.plugins.core=[]),t.plugins=r({},t.plugins,{core:[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t.plugins.core),[s.default])}),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Player),e}();o.Plugins=r({},o.Plugins,{DFP:s.default}),e.default=r({},o,{Player:l}),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n(480),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=g(o),s=g(n(481)),l=g(n(482)),u=g(n(484)),c=g(n(6)),d=n(10),h=g(n(486)),p=g(n(489)),f=g(n(490)),y=g(n(5)),v=g(n(491));function g(t){return t&&t.__esModule?t:{default:t}}var m=a.default.Log.getInstance(),b=new Promise(function(t,e){!(o.Browser.isSmartTvEnvironment||window.google&&window.google.ima)?(0,d.embedScript)("https://imasdk.googleapis.com/js/sdkloader/ima3.js").then(t,e):t()}),_=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.isBootstrapReady=!1,n.isAllAdsCompleted=!1,n.isContainerEnded=!1,n.attachCorePlugins(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.CorePlugin),r(e,[{key:"name",get:function(){return"dfp"}},{key:"attributes",get:function(){return{class:"dfp"}}},{key:"imaScript",get:function(){return b}},{key:"sizes",get:function(){return{playerWidth:this.core.el&&this.core.el.offsetWidth,defaultWidth:640,linearHeight:400,nonLinearHeight:150}}},{key:"shouldSkipAd",get:function(){var t=this.core.options.skipDFP,e=!window.google||!window.google.ima,n=d.DOM.hasChildElement(this.core.el,".dfp-ad-overlay");return t||e||!this.adUnit||!n}}],[{key:"DEFAULT_ACCOUNT_ID",get:function(){return 95377733}},{key:"DEFAULT_CMS_ID",get:function(){return 11413}}]),r(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,o.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.listenTo(this.core,o.Events.CORE_OPTIONS_CHANGE,this.configure),this.listenTo(this.core,c.default.DFP_DISABLE,this.disable),this.listenTo(this,c.default.DFP_FINISHED,this.destroyIMA)}},{key:"enable",value:function(){this.enabled||(this.dfpAdOverlay&&this.dfpAdOverlay.enable(),this.dfpCountdown&&this.dfpCountdown.enable(),this.dfpVideoAd&&this.dfpVideoAd.enable(),this.adCompanion&&this.adCompanion.enable(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enable",this).call(this),this.bindContainerEvents())}},{key:"disable",value:function(){this.enabled&&(this.dfpAdOverlay&&this.dfpAdOverlay.disable(),this.dfpCountdown&&this.dfpCountdown.disable(),this.dfpVideoAd&&this.dfpVideoAd.disable(),this.adCompanion&&this.adCompanion.disable(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disable",this).call(this),this.listenToOnce(this.core,c.default.DFP_ENABLE,this.enable))}},{key:"attachCorePlugins",value:function(){this.watchedAds=this.core.options&&this.core.options.watchedAds||0,this.core._options=Object.assign(this.core.options,{dfp:this}),this.dfpAdOverlay=new l.default(this.core),!o.Browser.isChromecast&&(this.dfpCountdown=new h.default(this.core)),this.core.$el.append(this.dfpAdOverlay.el),this.core.addPlugin(this.dfpAdOverlay)}},{key:"attachContainerPlugins",value:function(){this.container&&(this.container._options=Object.assign(this.container.options,{dfp:this}),this.dfpVideoAd=new u.default(this.container),this.container.addPlugin(this.dfpVideoAd))}},{key:"configure",value:function(){this.watchedAds=this.core.options&&this.core.options.watchedAds||0;var t=this.core.getCurrentContainer().options;this.videoId=t&&t.src||t.sources&&t.sources[0],void 0===t.useStyledNonLinearAds&&(t.useStyledNonLinearAds=!0),this.container&&(this.stopListening(this.container.playback,c.default.WM_VIDEO_METADATA_LOADED),this.listenTo(this.container.playback,c.default.WM_VIDEO_METADATA_LOADED,this.init))}},{key:"parseCustomData",value:function(t){return(0,p.default)(t)?Object.keys(t).reduce(function(e,n){var i=n+"="+t[n];return e?e+="&"+i:i},""):t}},{key:"init",value:function(t){var n=this,i=this.core.getCurrentContainer().options;this.adAccountId=i.adAccountId||t.adAccountId||e.DEFAULT_ACCOUNT_ID,this.adCmsId=i.adCmsId||t.adCmsId||e.DEFAULT_CMS_ID,this.error=!1,this.adUnit=i.adUnit||t.adUnit,this.adUnit&&(this.adCustomData=this.getAdCustomData(i,t),this.setupCompanion(),this.imaScript.then(function(){return n.bootstrapApi()},function(){return n.onAdError({type:"imaLoadError",message:"google.ima not available"})}))}},{key:"getAdCustomData",value:function(t,e){var n=e.adCustomData,i=this.parseCustomData(t.adCustomData),r="";r=t.adUnit?i:n&&i?n+"&"+i:n||i;var o=v.default.getDmpId(),a=v.default.getSegments(),s=d.LocalStorage.loadRaw("nvgpersona13574",JSON.parse),l={};return l.video_subscription=e.isSubscriberOnly||!1,s&&(l.nvg_gender=s.gender,l.nvg_age=s.age,l.nvg_income=s.income),o&&a&&(l.ognCluster=a,l.kuid=o),0!==Object.keys(l).length?(r?r+"&":"")+this.parseCustomData(l):r}},{key:"triggerContentResume",value:function(){this.trigger(c.default.DFP_CONTENT_RESUME),this.container.trigger(c.default.DFP_CONTENT_RESUME)}},{key:"bootstrapApi",value:function(){this.error=!1,this.destroyIMA(),this.shouldSkipAd||(this.setupIMA(),this.requestAd(),this.isAllAdsCompleted=!1,this.isBootstrapReady=!0)}},{key:"setupIMA",value:function(){if(google.ima.settings.setLocale("pt-br"),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.adDisplayContainer||(this.adDisplayContainer=new google.ima.AdDisplayContainer(this.dfpAdOverlay.el,this.dfpVideoAd.videoElement)),this.adsLoader||(this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1)),this.adsRenderingSettings||(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!o.Browser.isChromecast),!this.adRequest){var t=Math.min(this.sizes.defaultWidth,this.sizes.playerWidth);this.adsRequest=new google.ima.AdsRequest,this.adsRequest.linearAdSlotWidth=t,this.adsRequest.linearAdSlotHeight=this.sizes.linearHeight,this.adsRequest.nonLinearAdSlotWidth=t,this.adsRequest.nonLinearAdSlotHeight=this.sizes.nonLinearHeight}}},{key:"setupCompanion",value:function(){Object.assign({},this.core.options,{adUnit:this.adUnit,adCustomData:this.adCustomData}),this.adCompanion&&this.adCompanion.stopListening(),this.adCompanion=new s.default(this.core,this.adAccountId)}},{key:"destroyIMA",value:function(){this.adsManager&&this.adsManager.destroy(),this.adsLoader&&this.adsLoader.destroy(),this.adsManager=null,this.adsLoader=null,this.isBootstrapReady=!1}},{key:"destroyVideoAd",value:function(){this.dfpVideoAd&&(this.dfpVideoAd.stopListening(),this.dfpVideoAd.destroy(),this.dfpVideoAd=null)}},{key:"onAdError",value:function(t){if(!this.error){var e=t&&this.getErrorData(t);m.warn(this.name,"dfp encountered an error, skipping -",e,t),this.error=!0,this.trigger(c.default.DFP_AD_ERROR,e),this.container.trigger(c.default.DFP_AD_ERROR,e)}}},{key:"getErrorData",value:function(t){var e="function"==typeof t.getError?t.getError():t;return e?{type:"function"==typeof e.getType?e.getType():e.type||e.o||e,message:e.message||e.l||e}:{}}},{key:"onAdsManagerLoaded",value:function(t){var e=this;this.adsRenderingSettings.useStyledNonLinearAds=this.core.options.useStyledNonLinearAds,this.adsManager=t.getAdsManager(this.dfpVideoAd.videoElement,this.adsRenderingSettings),this.discardWatchedAds(this.watchedAds),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e.onAdError(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,function(t){return e.onAdLog(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_METADATA,function(t){return e.onAdMetadata(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(t){return e.onContentPauseRequested(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(t){return e.onContentResumeRequested(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(t){return e.onAdStarted(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,function(t){return e.onAdResumed(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,function(t){return e.onAdPaused(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,function(t){return e.onAdSkipped(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,function(t){return e.onAdLoaded(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,function(t){return e.onAdClosed(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(t){return e.onAdCompleted(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(t){return e.onAllAdsCompleted(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,function(t){return e.onAdClicked(t)}),this.trigger(c.default.DFP_MANAGER_LOADED),this.container.trigger(c.default.DFP_MANAGER_LOADED)}},{key:"onResourceReady",value:function(){this.isContainerEnded=!1,this.shouldSkipAd?this.triggerContentResume():this.startAd()}},{key:"startAd",value:function(){if(this.adsManager)try{this.adsManager.init(this.dfpAdOverlay.$el.width(),this.dfpAdOverlay.$el.height(),google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(t){this.onAdError({type:"adError",message:t&&t.message})}else this.listenToOnce(this,c.default.DFP_MANAGER_LOADED,this.startAd)}},{key:"discardWatchedAds",value:function(t){var e=this;(0,f.default)(t,function(t){setTimeout(function(){return e.adsManager.discardAdBreak()},500*t)})}},{key:"onAdLog",value:function(t){var e=(t.getAdData()||{}).adError;e.getErrorCode()===google.ima.AdError.ErrorCode.VAST_EMPTY_RESPONSE&&(this.onAdError(e),this.destroyIMA())}},{key:"onAdClicked",value:function(t){var e=t.getAd();this.container.trigger(c.default.DFP_AD_CLICKED,e)}},{key:"onAdMetadata",value:function(){this.container.trigger(c.default.DFP_AD_METADATA)}},{key:"onAdLoaded",value:function(t){this.error=!1;var e=t.getAd();this.trigger(c.default.DFP_AD_LOADED,e),this.container.trigger(c.default.DFP_AD_LOADED,e)}},{key:"onAdStarted",value:function(t){var e=t.getAd();this.watchedAds+=1,this.trigger(c.default.DFP_AD_STARTED,e),this.container.trigger(c.default.DFP_AD_STARTED,e)}},{key:"onAdResumed",value:function(t){var e=t.getAd();this.container.trigger(c.default.DFP_AD_RESUME,e.isLinear())}},{key:"onAdPaused",value:function(t){var e=t.getAd();this.container.trigger(c.default.DFP_AD_PAUSE,e.isLinear())}},{key:"onAdClosed",value:function(t){var e=t.getAd();this.trigger(c.default.DFP_AD_CLOSED,e.isLinear()),this.container.trigger(c.default.DFP_AD_CLOSED,e.isLinear())}},{key:"onAdSkipped",value:function(t){var e=t.getAd();this.trigger(c.default.DFP_AD_SKIPPED,e.isLinear()),this.container.trigger(c.default.DFP_AD_SKIPPED,e.isLinear())}},{key:"onAdCompleted",value:function(t){var e=t.getAd();this.trigger(c.default.DFP_AD_COMPLETED,e.isLinear()),this.container.trigger(c.default.DFP_AD_COMPLETED,e.isLinear())}},{key:"onAllAdsCompleted",value:function(t){this.isAllAdsCompleted=!0;var e=t.getAd();this.trigger(c.default.DFP_ALL_ADS_COMPLETED,e.isLinear()),this.container.trigger(c.default.DFP_ALL_ADS_COMPLETED,e.isLinear()),this.watchedAds=0,this.triggerDfpFinished()}},{key:"onContentPauseRequested",value:function(t){var e=t.getAd();this.trigger(c.default.DFP_CONTENT_PAUSE,e),this.container.trigger(c.default.DFP_CONTENT_PAUSE,e),this.core.getCurrentContainer()||this.adsManager.stop()}},{key:"onContentResumeRequested",value:function(){this.error||(!this.dfpVideoAd.isServedAd&&this.container.trigger(c.default.DFP_AD_NOTSERVED),this.triggerContentResume())}},{key:"containerChanged",value:function(){this.destroyVideoAd(),this.container=this.core.getCurrentContainer();var t=this.container.playback;t.options.onPip?this.listenTo(this.core.getCurrentContainer().playback,c.default.WM_RESOURCE_READY,function(){return t.play()}):(this.attachContainerPlugins(),this.configure(),this.bindContainerEvents(),this.trigger(c.default.DFP_CONTENT_ENDED),this.container.trigger(c.default.DFP_CONTENT_ENDED)),this.listenTo(this.container,o.Events.CONTAINER_ENDED,this.onContainerEnded),this.listenTo(this.container,o.Events.CONTAINER_STOP,this.onContainerEnded)}},{key:"triggerDfpFinished",value:function(){var t=this.isContainerEnded&&this.isAllAdsCompleted,e=this.isContainerEnded&&this.error;(t||e)&&(this.trigger(c.default.DFP_FINISHED),this.container.trigger(c.default.DFP_FINISHED))}},{key:"onContainerEnded",value:function(){this.isContainerEnded=!0,this.bindContainerEvents(),this.triggerDfpFinished()}},{key:"bindContainerEvents",value:function(){this.listenToOnce(this.container.playback,c.default.WM_PLAY_REQUESTED_READY,this.onUserGesture),this.listenToOnce(this.container.playback,c.default.WM_RESOURCE_READY,this.onResourceReady)}},{key:"contentEnded",value:function(){this.trigger(c.default.DFP_CONTENT_ENDED),this.container.trigger(c.default.DFP_CONTENT_ENDED),this.adsLoader&&this.adsLoader.contentComplete()}},{key:"contentStarted",value:function(){this.trigger(c.default.DFP_CONTENT_STARTED),this.container.trigger(c.default.DFP_CONTENT_STARTED)}},{key:"onUserGesture",value:function(){!this.isBootstrapReady&&this.bootstrapApi(),this.adDisplayContainer&&this.adDisplayContainer.initialize()}},{key:"requestAd",value:function(){var t=this.unescapeHtml(this.adUnit),e=encodeURIComponent(this.unescapeHtml(this.adCustomData));this.adsRequest.adTagUrl=this.core.options.env.dfpAdTagTemplate({adAccountId:this.adAccountId,adUnit:t,adCmsId:this.adCmsId,videoId:this.videoId,customParams:e}),this.adsLoader&&this.adsLoader.requestAds(this.adsRequest)}},{key:"unescapeHtml",value:function(t){return(0,y.default)("<div/>").html(t).text()}}]),e}();e.default=_,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=l(n(6)),s=l(n(5));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),o=r.core.options.adUnit,a=r.core.options.adCompanion;if(a&&n&&o){var s=("object"===(void 0===a?"undefined":i(a))&&Object.keys(a)||[])[0];r.unitcode="/"+n+"/"+o,r.companionWidth=+s.split("x")[0],r.companionHeight=+s.split("x")[1],r.companionDiv=a[s],r.embedScript(),r.setup(),r.show()}else r.disable();return r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.CorePlugin),r(e,[{key:"name",get:function(){return"dfp_companion"}}]),r(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.options.dfp,a.default.DFP_CONTENT_RESUME,this.hide),this.listenTo(this.core.options.dfp,a.default.DFP_AD_ERROR,this.hide),this.listenTo(this.core.options.dfp,a.default.DFP_CONTENT_ENDED,this.hide)}},{key:"embedScript",value:function(){if(0===(0,s.default)('script[src="//www.googletagservices.com/tag/js/gpt.js"]').length){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("async","async"),t.setAttribute("src","//www.googletagservices.com/tag/js/gpt.js"),document.head.appendChild(t)}}},{key:"setup",value:function(){var t=this;window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],googletag.cmd.push(function(){googletag.defineSlot(t.unitcode,[t.companionWidth,t.companionHeight],t.companionDiv).addService(googletag.companionAds()).addService(googletag.pubads()).addService(googletag.content()),googletag.companionAds().setRefreshUnfilledSlots(!0),googletag.pubads().enableVideoAds(),googletag.enableServices()})}},{key:"show",value:function(){var t=this;googletag.cmd.push(function(){googletag.display(t.companionDiv)})}},{key:"hide",value:function(){(0,s.default)("#"+this.companionDiv).hide()}}]),e}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=u(n(15)),s=u(n(6)),l=u(n(483));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=function(){function t(){c(this,t)}return r(t,null,[{key:"Full",get:function(){return""}},{key:"Overlay",get:function(){return"dfp-ad-overlay--overlay-mode dfp-ad-overlay--over-media-control"}},{key:"Hidden",get:function(){return"dfp-ad-overlay--poster-mode"}},{key:"HiddenMobile",get:function(){return"dfp-ad-overlay--poster-mobile-mode"}}]),t}(),h=function(t){function e(t){c(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setHiddenMode(),n.dfp||n.disable(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.UICorePlugin),r(e,[{key:"name",get:function(){return"dfp_ad_overlay"}},{key:"attributes",get:function(){return{class:"dfp-ad-overlay"}}}],[{key:"Mode",get:function(){return d}}]),r(e,[{key:"bindEvents",value:function(){this.dfp=this.core.options.dfp,this.listenTo(this.dfp,s.default.DFP_AD_LOADED,this.adLoaded),this.listenTo(this.dfp,s.default.DFP_AD_CLOSED,this.setHiddenMode),this.listenTo(this.dfp,s.default.DFP_AD_COMPLETED,this.adEnded),this.listenTo(this.dfp,s.default.DFP_AD_SKIPPED,this.adEnded),this.listenTo(this.dfp,s.default.DFP_ALL_ADS_COMPLETED,this.adEnded),this.listenTo(this.dfp,s.default.DFP_CONTENT_STARTED,this.setHiddenMode),this.listenTo(this.dfp,s.default.DFP_CONTENT_ENDED,this.setHiddenMode),o.Mediator.on(this.core.options.playerId+":"+o.Events.PLAYER_RESIZE,this.updateSize,this),this.bindMediaControlEvents()}},{key:"bindMediaControlEvents",value:function(){this.listenTo(this.core.mediaControl,o.Events.MEDIACONTROL_SHOW,this.mediaControlShow),this.listenTo(this.core.mediaControl,o.Events.MEDIACONTROL_HIDE,this.mediaControlHide),this.listenTo(this.core.mediaControl,o.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,this.mediaControlInteractionStart),this.listenTo(this.core.mediaControl,o.Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR,this.mediaControlInteractionEnd),this.listenTo(this.core.mediaControl,s.default.MEDIACONTROL_MODAL_SHOW,this.mediaControlInteractionStart),this.listenTo(this.core.mediaControl,s.default.MEDIACONTROL_MODAL_HIDE,this.mediaControlInteractionEnd),this.listenTo(this.core.mediaControl,s.default.WM_VOLUME_SHOW,this.mediaControlInteractionStart),this.listenTo(this.core.mediaControl,s.default.WM_VOLUME_HIDE,this.mediaControlInteractionEnd),this.$el.removeClass("dfp-ad-overlay--notransition")}},{key:"unbindMediaControlEvents",value:function(){this.stopListening(this.core.mediaControl,o.Events.MEDIACONTROL_SHOW,this.mediaControlShow),this.stopListening(this.core.mediaControl,o.Events.MEDIACONTROL_HIDE,this.mediaControlHide),this.$el.addClass("dfp-ad-overlay--notransition")}},{key:"adLoaded",value:function(t){var e=t.isLinear();this.setMode(e?d.Full:d.Overlay),e&&(this.unbindMediaControlEvents(),this.mediaControlHide()),o.Browser.isMobile&&!e&&this.mediaControlShow()}},{key:"adEnded",value:function(t){this.setHiddenMode(),t&&this.bindMediaControlEvents()}},{key:"setHiddenMode",value:function(){this.setMode(o.Browser.isMobile?d.HiddenMobile:d.Hidden)}},{key:"mediaControlShow",value:function(){this.$el.addClass("dfp-ad-overlay--media-control-show"),this.updateSize()}},{key:"mediaControlHide",value:function(){this.$el.removeClass("dfp-ad-overlay--media-control-show"),this.updateSize()}},{key:"mediaControlInteractionStart",value:function(){this._mode==d.Overlay&&this.$el.removeClass("dfp-ad-overlay--over-media-control")}},{key:"mediaControlInteractionEnd",value:function(){this._mode==d.Overlay&&this.$el.addClass("dfp-ad-overlay--over-media-control")}},{key:"setMode",value:function(t){var e=this;this._mode=t,this.$el.removeClass(d.Overlay),this.$el.removeClass(d.Hidden),this.$el.removeClass(d.HiddenMobile),t&&(this.$el.addClass(t),i.nextTick(function(){return e.updateSize()}))}},{key:"updateSize",value:function(){var t=this.$el.width(),e=this.$el.height();this.dfp.adsManager&&t&&e&&this.dfp.adsManager.resize(t,e,google.ima.ViewMode.NORMAL)}},{key:"render",value:function(){return this.$el.append(a.default.getStyleFrom(l.default,{playerId:this.core.options.playerId})[0]),this}}]),e}();e.default=h,t.exports=e.default}).call(this,n(30))},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .dfp-ad-overlay{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:994;-webkit-transform:translateY(0);transform:translateY(0);transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.clappr-player#wp3-player-0 .dfp-ad-overlay--notransition{transition:none!important}.clappr-player#wp3-player-0 .dfp-ad-overlay--poster-mode{visibility:hidden!important}.clappr-player#wp3-player-0 .dfp-ad-overlay--poster-mobile-mode{display:none!important}.clappr-player#wp3-player-0 .dfp-ad-overlay--overlay-mode{-webkit-transform:translateY(-20px);transform:translateY(-20px);height:80px}.clappr-player#wp3-player-0 .dfp-ad-overlay--over-media-control{z-index:998}.clappr-player#wp3-player-0 .dfp-ad-overlay--media-control-show{-webkit-transform:translateY(-80px);transform:translateY(-80px)}.clappr-player#wp3-player-0 .dfp-ad-overlay video{position:absolute;left:0;top:0;width:100%;height:100%}",""])},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=u(n(6)),l=u(n(485));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.isServedAd=!1,n.isBuffering=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.ContainerPlugin),o(e,[{key:"name",get:function(){return"dfp_video_ad"}},{key:"videoElement",get:function(){var t=this.container.playback,e=t&&t.playback;return e&&e.el}}]),o(e,[{key:"bindEvents",value:function(){this.listenToOnce(this.container.playback,s.default.WM_PLAY_REQUESTED_READY,this.onPlayRequestedReady),this.listenToOnce(this.container.playback,s.default.WM_RESOURCE_SELECTED,this.onResourceSelected),this.listenToOnce(this.container.playback,s.default.WM_RESOURCE_READY,this.onResourceReady),this.listenTo(this.container,a.Events.CONTAINER_TIMEUPDATE,this.containerTimeUpdate),this.listenTo(this.container,a.Events.CONTAINER_ENDED,this.containerEnded),this.listenTo(this.container,a.Events.CONTAINER_STOP,this.containerEnded),this.listenTo(this.container,a.Events.CONTAINER_ERROR,this.containerError),this.listenTo(this.options.dfp,s.default.DFP_AD_LOADED,this.adLoaded),this.listenTo(this.options.dfp,s.default.DFP_CONTENT_PAUSE,this.adBreakStarted),this.listenTo(this.container,s.default.DFP_AD_STARTED,this.onAdStarted),this.listenTo(this.options.dfp,s.default.DFP_CONTENT_RESUME,this.adBreakEnded),this.listenTo(this.options.dfp,s.default.DFP_AD_ERROR,this.adError),this.listenTo(this.container,s.default.WM_MASTERTOPIP,this.onPip)}},{key:"onPlayRequestedReady",value:function(){this.container.playback.disablePlayWhenReady=!this.options.dfp.shouldSkipAd}},{key:"onPip",value:function(){this.stopListening(),this.listenTo(this.container,s.default.WM_PIPTOMASTER,this.bindEvents)}},{key:"onResourceSelected",value:function(){this.container.getPlugin("click_to_pause").disable(),this.hasError=!1}},{key:"onResourceReady",value:function(){var t=this.container.playback.options;t.onPip||(this.adPlayback=new l.default(t,this.options.dfp)),this.containerPlay(),this.options.dfp.contentStarted()}},{key:"containerPlay",value:function(){var t=this;this.containerPlaying=!0,this.container.disableMediaControl(),this.container.getPlugin("poster").show(),this.onBuffering(),this.hasError&&i.nextTick(function(){return t.adBreakEnded()})}},{key:"onBuffering",value:function(){this.container.onBuffering(),this.isBuffering=!0}},{key:"onBufferfull",value:function(){this.isBuffering&&this.container.bufferfull(),this.isBuffering=!1}},{key:"containerEnded",value:function(){this.options.dfp.contentEnded(),this.stopListening(),this.bindEvents(),this.containerPlaying=!1,this.hasError&&this.adPlayback&&this.adPlayback.stop()}},{key:"containerError",value:function(){this.hasError=!0}},{key:"adError",value:function(){this.hasError=!0,this.adBreakEnded()}},{key:"adLoaded",value:function(t){var e=this,n=t.isLinear();this.options.dfp.podIndex=t.getAdPodInfo().getPodIndex();var i={"-1":function(){a.Log.info(e.name,"Post-roll loaded"),e.adPlayback&&(e.adPlayback.duration=t.getDuration()),e.postroll=!0},0:function(){return a.Log.info(e.name,"Pre-roll loaded")},midroll:function(){e.adPlayback&&(e.adPlayback.duration=t.getDuration()),a.Log.info(e.name,"Mid-roll loaded")}};n?(i[this.options.dfp.podIndex]||i.midroll)():a.Log.info(this.name,"Overlay loaded")}},{key:"adBreakStarted",value:function(t){this.isServedAd=!0,this.onBreak=!0,this.hasError?this.adBreakEnded():this.container.playback.isPlaying()?this.pauseMainContent(t):this.initAdPlayback(t)}},{key:"onAdStarted",value:function(){!a.Browser.isMobile&&this.container.enableMediaControl(),this.adPlayback&&(this.adPlayback.volume(this.container.volume),this.adPlayback.play()),this.container.settingsUpdate(),this.onBufferfull(),this.container.getPlugin("poster").onPlay(),this.container.trigger(a.Events.CONTAINER_PLAY)}},{key:"pauseMainContent",value:function(t){this.listenToOnce(this.container.playback,a.Events.PLAYBACK_PAUSE,this.initAdPlayback.bind(this,t)),this.container.pause()}},{key:"initAdPlayback",value:function(t){var e=this.container.playback.options;this.playback=this.container.playback,this.playback.stopListening(),this.container.stopListening(),this.adPlayback||(this.adPlayback=new l.default(e,this.options.dfp),this.adPlayback.duration=t.getDuration()),this.container.playback=this.adPlayback,this.container.bindEvents(),this.adPlayback.ready()}},{key:"adBreakEnded",value:function(){var t=this;this.onBufferfull(),this.onBreak&&(this.container.stopListening(),this.playback.bindPlaybackEvents(),this.playback._options=r({},this.adPlayback._options),this.container.playback=this.playback,this.container.playback.volume(100*this.adPlayback.getVolume()),this.container.currentTime=this.playback.playback.getCurrentTime(),0===this.options.dfp.podIndex&&this.playback.checkInitialSeek(),this.container.bindEvents()),this.adPlayback&&(this.adPlayback.stop(),this.adPlayback.destroy(),this.adPlayback=null),this.listenToOnce(this.container,a.Events.CONTAINER_PLAY,function(){return t.container.settingsUpdate()}),this.containerPlaying||this.hasError||this.options.dfp.shouldSkipAd?(!a.Browser.supportsTouchEvents&&this.container.getPlugin("click_to_pause").enable(),i.nextTick(function(){return t.container.playback.playWhenReady()})):this.container.getPlugin("poster").show(),this.onBreak=!1,this.hasError=!1,this.isServedAd=!1}},{key:"containerTimeUpdate",value:function(t){}}]),e}();e.default=c,t.exports=e.default}).call(this,n(30))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=n(6),l=(i=s)&&i.__esModule?i:{default:i};var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.dfp=n,i.settings=i.defaultSettings,i.bindEvents(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Playback),o(e,[{key:"name",get:function(){return"dfp_playback"}},{key:"tagName",get:function(){return"video"}},{key:"attributes",get:function(){return{"data-dfp-playback":""}}},{key:"adsManager",get:function(){return this.dfp&&this.dfp.adsManager}},{key:"defaultSettings",get:function(){return{seekEnabled:!1}}}]),o(e,[{key:"ready",value:function(){this.trigger(a.Events.PLAYBACK_READY,this.name)}},{key:"bindEvents",value:function(){var t=this;this.listenTo(this.dfp,l.default.DFP_AD_LOADED,function(e){return t.duration=e&&e.getDuration()})}},{key:"render",value:function(){return this}},{key:"getPlaybackType",value:function(){return"ad"}},{key:"getDuration",value:function(){return this.duration}},{key:"getRemainingTime",value:function(){return this.adsManager?this.adsManager.getRemainingTime():0}},{key:"play",value:function(){this.adsManager&&(this.playing=!0,this.trigger(a.Events.PLAYBACK_PLAY),this.adsManager.resume(),!this.updateTimer&&this.startUpdateTimer())}},{key:"pause",value:function(){this.adsManager&&(this.adsManager.pause(),this.playing=!1,this.trigger(a.Events.PLAYBACK_PAUSE),this.stopUpdateTimer())}},{key:"stop",value:function(){this.stopUpdateTimer(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this)}},{key:"startUpdateTimer",value:function(){var t=this;this.stopUpdateTimer(),this.updateTimer=setInterval(function(){var e=t.getRemainingTime();t.trigger(a.Events.PLAYBACK_TIMEUPDATE,{current:t.duration-e,total:t.duration,playbackType:t.getPlaybackType()})},100)}},{key:"stopUpdateTimer",value:function(){clearInterval(this.updateTimer),delete this.updateTimer}},{key:"isPlaying",value:function(){return this.playing}},{key:"destroy",value:function(){this.stopUpdateTimer(),this.stopListening(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"volume",value:function(t){this.adsManager&&this.adsManager.setVolume(t/100)}},{key:"getVolume",value:function(){return this.adsManager?this.adsManager.getVolume():this.dfp.container.playback.getVolume()/100}}]),e}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=c(n(6)),a=c(n(15)),s=c(n(38)),l=c(n(487)),u=c(n(488));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.core=t,n.message={"-1":"Este anncio encerra em",0:"O seu vdeo comea em",midroll:"O seu vdeo continua em"},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),i(e,[{key:"name",get:function(){return"dfp_countdown"}},{key:"template",get:function(){return(0,r.template)(u.default)}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}},{key:"attributes",get:function(){return{class:"dfp-countdown"}}}]),i(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.options.dfp,o.default.DFP_AD_STARTED,this.adStarted),this.listenTo(this.core.options.dfp,o.default.DFP_AD_COMPLETED,this.adEnded),this.listenTo(this.core.options.dfp,o.default.DFP_AD_SKIPPED,this.adEnded),this.listenTo(this.core.options.dfp,o.default.DFP_AD_ERROR,this.adEnded),this.listenTo(this.core.mediaControl,r.Events.MEDIACONTROL_CONTAINERCHANGED,this.adEnded)}},{key:"adStarted",value:function(t){t.isLinear()&&(this.container=this.core.getCurrentContainer(),this.playback=this.core.getCurrentPlayback(),this.renderCountdown(),this.listenTo(this.playback,r.Events.PLAYBACK_TIMEUPDATE,this.updateCountdown),this.$el.removeClass("dfp-countdown--hidden"))}},{key:"adEnded",value:function(){this.stopListening(this.playback,r.Events.PLAYBACK_TIMEUPDATE),this.$el.addClass("dfp-countdown--hidden")}},{key:"renderCountdown",value:function(){var t=a.default.getStyleFrom(l.default,{playerId:this.container.options.playerId}),e="function"==typeof this.playback.getRemainingTime?this.playback.getRemainingTime():0;this.$el.html(this.template({message:this.message[this.core.options.dfp.podIndex]||this.message.midroll,remainingTime:r.Utils.formatTime(e)})),this.$el.append(t[0]),this.mediaControlPlugin.$el.find(".media-control-panel__lower .media-control-position__left").append(this.el),this.$duration=this.$el.find(".dfp-countdown__time"),this.$message=this.$el.find(".dfp-countdown__text")}},{key:"updateCountdown",value:function(){var t="function"==typeof this.playback.getRemainingTime?this.playback.getRemainingTime():0;this.$duration.text(r.Utils.formatTime(t)),this.$message.text(this.message[this.core.options.dfp.podIndex]||this.message.midroll)}},{key:"destroy",value:function(){this.stopListening(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();e.default=d,t.exports=e.default},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".clappr-player#wp3-player-0 .dfp-countdown{display:none;position:relative;z-index:998;pointer-events:none;font-size:13px;line-height:13px;color:#e5e886;transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out}.clappr-player#wp3-player-0 .dfp-countdown.media-control-element{padding-left:0;padding-right:0}.clappr-player#wp3-player-0 .dfp-countdown__text{display:inline-block;font-family:opensans-regular,sans-serif}.clappr-player#wp3-player-0 .dfp-countdown__time{display:inline-block;font-family:opensans-bold,sans-serif}.clappr-player#wp3-player-0 .dfp-countdown--hidden{display:none}",""])},function(t,e){t.exports='<div class="dfp-countdown__text"><%= message %></div>\n<div class="dfp-countdown__time"><%= remainingTime %></div>\n'},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="[object Object]";var o,a,s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,d=u.call(Object),h=l.toString,p=(o=Object.getPrototypeOf,a=Object,function(t){return o(a(t))});t.exports=function(t){if(!function(t){return!!t&&"object"==(void 0===t?"undefined":i(t))}(t)||h.call(t)!=r||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var e=p(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=1/0,o=9007199254740991,a=1.7976931348623157e308,s=NaN,l=4294967295,u="[object Symbol]",c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt;var y=Object.prototype.toString,v=Math.min;function g(t){var e=void 0===t?"undefined":i(t);return!!t&&("object"==e||"function"==e)}function m(t){return"symbol"==(void 0===t?"undefined":i(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":i(t))}(t)&&y.call(t)==u}function b(t){return t?(t=function(t){if("number"==typeof t)return t;if(m(t))return s;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var n=h.test(t);return n||p.test(t)?f(t.slice(2),n?2:8):d.test(t)?s:+t}(t))===r||t===-r?(t<0?-1:1)*a:t==t?t:0:0===t?t:0}function _(t){return t}t.exports=function(t,e){if((t=function(t){var e=b(t),n=e%1;return e==e?n?e-n:e:0}(t))<1||t>o)return[];var n=l,i=v(t,l);t-=l;for(var r=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(i,e="function"==typeof e?e:_);++n<t;)e(n);return r}},function(t,e){const n={_call:t=>{if(window.dmp&&window.dmp.api)try{return window.dmp.api[t]()}catch(e){return console.error(`dmp-api@${t}: `,e.message),null}return null},getSegments:()=>{const t=n._call("getSegments");return t||""},getDmpId:()=>{const t=n._call("getDmpId");return t||""}};t.exports=n}])});