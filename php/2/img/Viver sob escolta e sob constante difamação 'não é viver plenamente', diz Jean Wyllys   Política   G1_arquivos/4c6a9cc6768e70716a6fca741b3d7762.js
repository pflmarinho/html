!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var r={EVENTS_BUFFER_SIZE:100,EVENTS_SENDER_INTERVAL:1e4,EVENTS_SENDER_MIN_INTERVAL:5e3,EVENTS_SENDER_MAX_INTERVAL:2e4,EVENTS_DISCARD_AFTER_MSECS:36e5,EVENTS_BULK_SIZE:10,HORIZON_TRACK_HOST:"https://horizon-track.globo.com",HORIZON_SCHEMAS_HOST:"https://horizon-schemas.globo.com",HORIZON_CALLBACK_STACK_LIMIT:1e3,HORIZON_REQUEST_ENCODING:"base64",HORIZON_CLIENT_UUID:o(n(2)).default.getResource("clientInstanceUUID",(0,i.default)()),SCHEMA_VALIDATOR_SCRIPT_URL:"https://s3.glbimg.com/cdn/libs/tv4/1.3.0/tv4.min.js",SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES:2,SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS:1e4,PACKAGE_VERSION:"1.0.3"},a={useQAConfiguration:function(){r.HORIZON_TRACK_HOST="https://horizon-track.qa.globoi.com",r.HORIZON_SCHEMAS_HOST="https://horizon-schemas.qa.globoi.com",r.HORIZON_REQUEST_ENCODING="json"}};t.default=Object.assign(r,a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={DUPLICATED_SCHEMA:"[Horizon] Duplicated schema.",INVALID_DATA:"[Horizon] Invalid data.",INVALID_DATE:"[Horizon] Invalid date-time RFC 3339 format.",INVALID_FORMAT:"[Horizon] Invalid event format.",INVALID_REQUEST:"[Horizon] Invalid request.",INVALID_TIMESTAMP:"[Horizon] Invalid timestamp.",INVALID_VERSION_FORMAT:"[Horizon] Invalid version format.",UNSUPPORTED_TYPE:"[Horizon] Unsupported type.",UNSUPPORTED_TENANT:"[Horizon] Unsupported tenant.",UNSUPPORTED_ENCODER:"[Horizon] Unsupported encoder.",MUST_BE_DEFINED:"[Horizon] Parameter or argument must be defined",ERROR_LOADING_RESOURCE:"[Horizon] Failed to load resouce.",COMPONENT_NOT_READY:"[Horizon] Component is not ready.",COMPONENT_UNAVAILABLE:"[Horizon] Class or function is required.",SCHEMA_VALIDATOR_ERROR_LOADING:"[Horizon] Could not load SchemaValidator.",LIMIT_EXCEEDED:"[Horizon] Resource limit exceeded."},o={mustBeDefined:function(e){throw new Error(i.MUST_BE_DEFINED+": "+e+".")}};t.default=Object.assign(i,o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return window.horizonResources=window.horizonResources||{},window.horizonResources};t.default={getContext:i,getResource:function(e,t){var n=i();return n[e]=n[e]||t,n[e]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.HorizonClient=void 0,n(4);var i=r(n(6)),o=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}t.HorizonClient=i.default,t.Settings=o.default},function(e,t,n){"use strict";n(5).polyfill()},function(e,t,n){"use strict";function i(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(void 0!==o&&null!==o)for(var r=Object.keys(Object(o)),a=0,s=r.length;a<s;a++){var c=r[a],l=Object.getOwnPropertyDescriptor(o,c);void 0!==l&&l.enumerable&&(n[c]=o[c])}}return n}e.exports={assign:i,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n(0)),r=l(n(10)),a=l(n(1)),s=l(n(12)),c=l(n(22));function l(e){return e&&e.__esModule?e:{default:e}}var u={READY:"stateReady",UNLOADED:"stateNotReady",LOADING:"stateLoading"},d=function(){function e(t,n){var i=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tenant=t||a.default.mustBeDefined("tenant"),this.deviceGroup=n||a.default.mustBeDefined("deviceGroup"),this.defaultContentType=l,this.validator=r.default,this.clientVersion=o.default.PACKAGE_VERSION,this.state=u.UNLOADED,this.referer=document.referrer;var d=null,f=null;this.setSchemasProvider=function(e){return d=e},this.getSchemasProvider=function(){if(!d){var e=c.default.getInstance();i.setSchemasProvider(e)}return d},this.setEventBus=function(e){return f=e},this.getEventBus=function(){if(!f){var e=s.default.getInstance(i.tenant,i.deviceGroup);i.setEventBus(e)}return f},this.isReady=function(){return!!d&&i.validator.isReady()&&d.isReady()}}return i(e,[{key:"useDefaultContentType",value:function(e){this.defaultContentType=e}},{key:"setValidator",value:function(e){this.validator=e}},{key:"setReferer",value:function(e){this.referer=e||document.referrer}},{key:"unload",value:function(){this.flush()}},{key:"getScopeInfo",value:function(){return{url:document.location.href,actionTs:+Date.now(),horizonClientVersion:this.clientVersion,horizonClientReferer:this.referer}}},{key:"validateBeforeEnqueue",value:function(e){var t=this.getSchemasProvider().get(e.id,e.version);this.validator.validateFor(e,t)}},{key:"onReady",value:function(e){this.validator.isReady()?this.getSchemasProvider().isReady()?(this.state=u.READY,e()):(this.state=u.LOADING,this.getSchemasProvider().onReady(e),this.getSchemasProvider().load()):(this.state=u.LOADING,this.validator.onReady(e),this.validator.load())}},{key:"flush",value:function(){var e=this;this.isReady()?this.getEventBus().flush():this.onReady(function(){return e.flush()})}},{key:"send",value:function(e){var t=this;if(this.validator.validateArgs(e),!this.isReady())return this.state===u.UNLOADED&&this.flush(),void this.onReady(function(){return t.send(e)});this.validateBeforeEnqueue(e);var n=this.getScopeInfo(),i=Object.assign({},e,n);i.contentType||(this.defaultContentType||a.default.mustBeDefined("contentType"),i.contentType=this.defaultContentType),this.getEventBus().enqueue(i)}}]),e}();t.default=d},function(e,t,n){var i=n(8),o=n(9);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||o(a)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,o=n;return o[e[i++]]+o[e[i++]]+o[e[i++]]+o[e[i++]]+"-"+o[e[i++]]+o[e[i++]]+"-"+o[e[i++]]+o[e[i++]]+"-"+o[e[i++]]+o[e[i++]]+"-"+o[e[i++]]+o[e[i++]]+o[e[i++]]+o[e[i++]]+o[e[i++]]+o[e[i++]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=s(n(11)),r=s(n(1)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var c={ready:[]},l=function(){return!!window.tv4},u=function(e){return null===e?null:isNaN(e)&&!isNaN(Date.parse(e))?null:r.default.INVALID_DATE};t.default={validateFor:function(e,t){if(!l())throw new Error(r.default.ERROR_LOADING_RESOURCE+" Validator is not ready.");if(!t)throw new Error(r.default.INVALID_DATA+" Argument: schema.");if(!/\d+\.\d+/.test(e.version))throw new Error(r.default.INVALID_VERSION_FORMAT);if(!tv4.validate(e.properties,t))throw new Error(r.default.INVALID_DATA+" "+e.id+" "+e.version+". "+tv4.error)},validateArgs:function(e){var t=Object.prototype.hasOwnProperty;if(!(e&&t.call(e,"id")&&t.call(e,"version")&&t.call(e,"properties")))throw new Error(r.default.INVALID_FORMAT+" Missing properties: "+JSON.stringify(e));if("string"!=typeof e.id||"string"!=typeof e.version||"object"!==i(e.properties))throw new Error(r.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(e));if(e.id.length<2||e.version.length<3)throw new Error(r.default.INVALID_FORMAT+" Invalid property size: "+JSON.stringify(e));var n=Object.assign({},e);if(delete n.id,delete n.version,delete n.properties,delete n.contentType,Object.keys(n).length>0)throw new Error(r.default.INVALID_FORMAT+" Extra keys aren't allowed: "+JSON.stringify(n))},tv4IsValidData:u,isReady:l,onReady:function(e){if(l())return e();if(c.ready.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(r.default.LIMIT_EXCEEDED+" Validator callback stack.");return c.ready.unshift(e)},load:function(){o.default.isDefined("tv4")||(0,o.default)([a.default.SCHEMA_VALIDATOR_SCRIPT_URL],"tv4",{async:!0,numRetries:a.default.SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES,success:function(){tv4.addFormat("date-time",u),c.ready.forEach(function(e){return e()})},error:function(e){throw new Error(r.default.SCHEMA_VALIDATOR_ERROR_LOADING+" "+e)}})}}},function(e,t,n){var i,o,r;o=[],void 0===(r="function"==typeof(i=function(){var e=function(){},t={},n={},i={};function o(e,t){if(e){var o=i[e];if(n[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function r(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function a(t,n,i,o){var r,s,c=document,l=i.async,u=(i.numRetries||0)+1,d=i.before||e,f=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(t)?(r=!0,(s=c.createElement("link")).rel="stylesheet",s.href=f):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(s=c.createElement("img")).src=f:((s=c.createElement("script")).src=t,s.async=void 0===l||l),s.onload=s.onerror=s.onbeforeload=function(e){var c=e.type[0];if(r&&"hideFocus"in s)try{s.sheet.cssText.length||(c="e")}catch(e){c="e"}if("e"==c&&(o+=1)<u)return a(t,n,i,o);n(t,c,e.defaultPrevented)},!1!==d(t,s)&&c.head.appendChild(s)}function s(e,n,i){var s,c;if(n&&n.trim&&(s=n),c=(s?i:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}!function(e,t,n){var i,o,r=(e=e.push?e:[e]).length,s=r,c=[];for(i=function(e,n,i){if("e"==n&&c.push(e),"b"==n){if(!i)return;c.push(e)}--r||t(c)},o=0;o<s;o++)a(e[o],i,n)}(e,function(e){r(c,e),o(s,e)},c)}return s.ready=function(e,t){return function(e,t){var o,r,a,s=[],c=(e=e.push?e:[e]).length,l=c;for(o=function(e,n){n.length&&s.push(e),--l||t(s)};c--;)r=e[c],(a=n[r])?o(r,a):(i[r]=i[r]||[]).push(o)}(e,function(e){r(t,e)}),s},s.done=function(e){o(e,[])},s.reset=function(){t={},n={},i={}},s.isDefined=function(e){return e in t},s})?i.apply(t,o):i)||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=f(n(13)),r=f(n(2)),a=f(n(14)),s=f(n(0)),c=f(n(1)),l=f(n(18)),u=f(n(19)),d=f(n(20));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(){return r.default.getResource("bus",{})},h=function(){function e(t,n,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentTenant=t||c.default.mustBeDefined("tenant"),this.instanceID=n||c.default.mustBeDefined("instanceID"),this.deviceGroup=i||c.default.mustBeDefined("deviceGroup"),this.queue=new l.default(s.default.EVENTS_BUFFER_SIZE),(new u.default).every(s.default.EVENTS_SENDER_INTERVAL).call(function(){o.queue=o.filterQueue();var e=o.prepareRequest();o.dispatch(e,s.default.HORIZON_REQUEST_ENCODING)||e.actions.forEach(function(e){return o.enqueue(e)})}).call(d.default).start()}return i(e,[{key:"setMaxQueueSize",value:function(e){this.queue=l.default.fromArray(this.queue.items,e)}},{key:"filterQueue",value:function(){var e=+Date.now()-s.default.EVENTS_DISCARD_AFTER_MSECS;return this.queue.filter(function(t){return t.actionTs>e})}},{key:"prepareRequest",value:function(){return{horizonClientUUID:this.instanceID,horizonClientTenant:this.currentTenant,horizonClientTs:Date.now(),horizonClientType:"js",horizonClientDeviceGroup:this.deviceGroup,actions:this.queue.splice(0,s.default.EVENTS_BULK_SIZE)}}},{key:"isValidRequest",value:function(e){if(!e||e&&!e.actions)throw new Error(c.default.INVALID_REQUEST);return e.actions.length>0}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=s.default.HORIZON_TRACK_HOST+"/event/"+this.currentTenant,i=a.default.get(t);if(!this.isValidRequest(e))return!1;var r=i(e);return(0,o.default)(n,r)}},{key:"enqueue",value:function(e){if(!e.actionTs)throw new Error(c.default.INVALID_TIMESTAMP);this.queue.push(e)}},{key:"flush",value:function(){for(;this.queue.length>0;){this.queue=this.filterQueue();var e=this.prepareRequest();this.dispatch(e,s.default.HORIZON_REQUEST_ENCODING)}}},{key:"length",get:function(){return this.queue.length}}]),e}();t.default={getInstance:function(e,t){var n=p(),i=e+"-"+t;return n[i]||(n[i]=new h(e,s.default.HORIZON_CLIENT_UUID,t)),n[i]},reset:function(e,t){e&&0!==e.length||c.default.mustBeDefined("tenant"),t&&0!==t.length||c.default.mustBeDefined("deviceGroup");var n=e+"-"+t;delete p()[n]},getContextBus:p}},function(e,t,n){!function(n){"use strict";var i=function(e,t){var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",e,!1),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),"string"==typeof t?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text/plain"):"[object Blob]"==={}.toString.call(t)&&t.type&&n.setRequestHeader("Content-Type",t.type);try{n.send(t)}catch(e){}return!0};"navigator"in n&&"sendBeacon"in n.navigator&&(i=navigator.sendBeacon.bind(navigator)),void 0!==e&&e.exports&&(t=e.exports=i),t.sendBeacon=i}("object"==typeof window?window:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(15)),o=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var a={base64:function(e){var t=new FormData;return t.append("data",i.default.encode(JSON.stringify(e))),t.append("encoding","base64"),t},json:function(e){return JSON.stringify(e)}};t.default={get:function(e){if(!(e in a))throw new Error(o.default.UNSUPPORTED_ENCODER+" Invalid "+e+" encoder.");return a[e]}}},function(e,t,n){(function(e,i){var o;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(r){var a=("object"==typeof e&&e&&e.exports,"object"==typeof i&&i);a.global!==a&&a.window;var s=function(e){this.message=e};(s.prototype=new Error).name="InvalidCharacterError";var c=function(e){throw new s(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,i,o,r=e.length%3,a="",s=-1,u=e.length-r;++s<u;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,i=e.charCodeAt(++s),a+=l.charAt((o=t+n+i)>>18&63)+l.charAt(o>>12&63)+l.charAt(o>>6&63)+l.charAt(63&o);return 2==r?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),a+=l.charAt((o=t+n)>>10)+l.charAt(o>>4&63)+l.charAt(o<<2&63)+"="):1==r&&(o=e.charCodeAt(s),a+=l.charAt(o>>2)+l.charAt(o<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(u,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,o=0,r="",a=-1;++a<t;)i=l.indexOf(e.charAt(a)),n=o%4?64*n+i:i,o++%4&&(r+=String.fromCharCode(255&n>>(-2*o&6)));return r},version:"0.1.0"};void 0===(o=function(){return d}.call(t,n,t,e))||(e.exports=o)}()}).call(t,n(16)(e),n(17))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queue=[],this.maxSize=t}return i(e,[{key:"push",value:function(e){this._queue=[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.slice(0,this.maxSize-1)))}},{key:"forEach",value:function(e){return this._queue.forEach(e)}},{key:"slice",value:function(e,t){return this._queue.slice(e,t)}},{key:"splice",value:function(e,t){return this._queue.splice(e,t)}},{key:"clear",value:function(){this._queue=[]}},{key:"filter",value:function(t){return e.fromArray(this._queue.filter(t),this.maxSize)}},{key:"length",get:function(){return this._queue.length}},{key:"items",get:function(){return JSON.parse(JSON.stringify(this._queue))}}],[{key:"fromArray",value:function(t,n){var i=new e(n);return t.forEach(function(e){return i.push(e)}),i}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interval=0,this.tickIntervalId=0,this.callbacks=[]}return i(e,[{key:"tick",value:function(){var e=this;this.callbacks.forEach(function(t){return t(e)})}},{key:"start",value:function(){return this.tickIntervalId=setInterval(this.tick.bind(this),this.interval),this}},{key:"stop",value:function(){return clearInterval(this.tickIntervalId),this.tickIntervalId=0,this}},{key:"reschedule",value:function(e){return this.stop().every(e).start()}},{key:"every",value:function(e){return this.interval=e,this}},{key:"call",value:function(e){return this.callbacks.push(e),this}},{key:"isRunning",get:function(){return!!this.tickIntervalId}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(21)),o=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=o.default.EVENTS_SENDER_MIN_INTERVAL,n=o.default.EVENTS_SENDER_MAX_INTERVAL,r=Number(i.default.get("_hzt.interval"))||o.default.EVENTS_SENDER_INTERVAL;r<=n&&r>=t&&e.interval!==r&&e.reschedule(r)}},function(e,t,n){var i,o,r;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */r=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}return function t(n){function i(t,o,r){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=e({path:"/"},i.defaults,r)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}r.expires=r.expires?r.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in r)r[l]&&(c+="; "+l,!0!==r[l]&&(c+="="+r[l]));return document.cookie=t+"="+o+c}t||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var p=u[f].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=p[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===m){a=h;break}t||(a[m]=h)}catch(e){}}return a}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}(function(){})},void 0===(o="function"==typeof(i=r)?i.call(t,n,t,e):i)||(e.exports=o),e.exports=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n(2)),r=c(n(1)),a=c(n(0)),s=c(n(23));function c(e){return e&&e.__esModule?e:{default:e}}var l={READY:"statusReady",STATE_NOT_READY:"statusNotReady",STATE_LOADING:"statusLoading",STATE_SCHEDULED:"statusScheduled",STATE_ERROR:"statusError"},u=function(){return o.default.getResource("schemas",{data:{}})},d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.state=l.STATE_NOT_READY,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}return i(e,[{key:"get",value:function(e,t){var n=e+"-"+t;if(!this.isReady())throw new Error(""+r.default.COMPONENT_NOT_READY);var i=u().data[n];if(!i)throw new Error(r.default.UNSUPPORTED_TYPE+": "+n);return i}},{key:"isReady",value:function(){return this.state===l.STATE_READY}},{key:"retry",value:function(){var e=this;this.state=l.STATE_SCHEDULED,this.callbacks.onRetry.forEach(function(e){return e()}),setTimeout(function(){e.state=l.STATE_NOT_READY,e.load()},a.default.SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS)}},{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===l.STATE_READY)return e(u().data);if(this.callbacks.onReady.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(r.default.LIMIT_EXCEEDED+" Schemas callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===l.STATE_ERROR?e():this.callbacks.onError.push(e)}},{key:"execAsync",value:function(e,t){setTimeout(function(){return e(t)},1)}},{key:"load",value:function(){var e=this,t=u();this.state===l.STATE_NOT_READY&&(this.state=l.STATE_LOADING,this.callbacks.onLoad.forEach(function(e){return e()}),s.default.request("GET",this.url,function(n){t.data=Object.assign(t.data||{},n),e.state=l.STATE_READY,e.callbacks.onReady.forEach(function(n){return e.execAsync(n,t.data)})},function(t){e.state=l.STATE_ERROR,e.callbacks.onError.forEach(function(n){return e.execAsync(n,t)}),e.retry()}))}}]),e}();t.default={getInstance:function(e){var t=u();return t.provider||(t.provider=new d(e||a.default.HORIZON_SCHEMAS_HOST+"/schemas")),t.provider},getContextSchemas:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={request:function(e,t,n,i){var o=new XMLHttpRequest;o.open(e,t,!0),o.onload=function(){return o.status<400?n(JSON.parse(o.response)):i(o.response)},o.onerror=i,o.send()}}}])},e.exports=i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(3)),r=(n.n(o),n(4)),a=(n.n(r),n(5)),s=(n.n(a),n(6)),c=(n.n(s),n(7),n(9),n(14),n(16)),l=(n.n(c),n(17)),u=(n.n(l),n(18)),d=(n.n(u),n(19));n.n(d)},function(e,t){cdaaas.helpers.urlCanonical=function(e){var t=(e=e||window).document.querySelector("link[rel=canonical]");return t?t.getAttribute("href"):e.location.href}},function(e,t){!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n(2)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var i=new s.default(h,c.default,t,e);m=i,i.listen("destroy",function(){m=null,document.body.style.overflow="visible"}),n&&n(i),i.init()}function r(e){var t=(0,p.map)(document.querySelectorAll(".content-top-image, .content-photo"),d.mapElementToLightboxItem),n=function(e){if(this.classList.contains("can-open-lightbox")){e.stopPropagation();var n=this.getAttribute("data-media-index");o(Object.assign({index:parseInt(n,10)},v),t,function(e){(0,d.applyResponsiveness)(e),(0,u.bindTrackEvents)(e)})}};[].map.call(document.querySelectorAll(".can-open-lightbox"),function(t){return t.addEventListener("click",e||n,!1),t})}function a(){var e=document.querySelectorAll(".can-open-lightbox-iframe"),t=function(e){if(this.classList.contains("can-open-lightbox-iframe")){e.stopPropagation();var t=(0,p.map)([this.parentNode.parentNode],f.mapElementToLightboxIframe),n=parseInt(this.getAttribute("data-media-index"),10);o(Object.assign({},f.defaultLightboxIframeOptions,{index:n}),t),(0,p.dispatchEvent)("openLightbox","body",{detail:"#votation-iframe"+n}),document.body.style.overflow="hidden"}};(0,p.map)(e,function(e){return e.addEventListener("click",t,!1),e})}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLightboxOptions=void 0,t.initBodyItems=r,t.initIframeItems=a;var s=i(n(3)),c=i(n(4)),l=n(5),u=n(6),d=n(8),f=n(9),p=(n(10),n(7)),h=null,m=void 0,v=t.defaultLightboxOptions={history:!1,zoomEl:!1,fullscreenEl:!1,shareEl:!1,indexIndicatorSep:" de ",barsSize:{top:0,bottom:0},closeOnScroll:!1,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML="<span>"+e.title+"</span>",!0):(t.children[0].innerHTML="",!1)},getThumbBoundsFn:function(e){var t=document.querySelector('*[data-media-index="'+e+'"]');if(t){var n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}}},getDoubleTapZoom:function(e,t){return t.getDoubleTapZoom(e,t)},isClickableElement:function(e){return"A"===e.tagName||e.classList&&e.classList.contains("pointer-enabled")}};window.addEventListener("orientationchange",function(){/iP(hone|od|ad)/.test(navigator.platform)&&function e(){h.classList.contains("pswp--open")&&setTimeout(function(){h.getBoundingClientRect().width==window.innerWidth?window.requestAnimationFrame(function(){m&&(m.invalidateCurrItems(),m.updateSize(!0))}):e()},100)}()}),document.body.insertAdjacentHTML("beforeend",l.lightboxMarkup),h=document.querySelector(".pswp"),r(),a()},function(e,t,n){var i,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(o="function"==typeof(i=function(){"use strict";return function(e,t,n,i){var o={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10))>=1&&r<8&&(n.isOldIOSPhone=!0)}var a=i.match(/Android\s([0-9\.]*)/),s=a?a[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(n.isOldAndroid=!0),n.androidVersion=s),n.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var c,l,u=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],f=0;f<4;f++){t=d[f];for(var p=0;p<3;p++)c=u[p],l=t+(t?c.charAt(0).toUpperCase()+c.slice(1):c),!n[c]&&l in e&&(n[c]=l);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var h=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-h)),i=window.setTimeout(function(){e(t+n)},n);return h=t+n,i},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,i){t=t.split(" ");for(var o,a=(i?"detach":"attach")+"Event",s=function(){n.handleEvent.call(n)},c=0;c<t.length;c++)if(o=t[c])if("object"===(void 0===n?"undefined":r(n))&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=s;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)});var a=this,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(s,i);var c,l,u,d,f,p,h,m,v,g,y,w,b,E,T,x,I,S,_,k,C,A,O,R,D,L,M,N,P,z,H,F,q,B,V,U,Z,j,G,W,K,Y,X,J,Q,$,ee,te,ne,ie,oe,re,ae,se,ce,le,ue={x:0,y:0},de={x:0,y:0},fe={x:0,y:0},pe={},he=0,me={},ve={x:0,y:0},ge=0,ye=!0,we=[],be={},Ee=!1,Te=function(e,t){o.extend(a,t.publicMethods),we.push(e)},xe=function(e){var t=qt();return e>t-1?e-t:e<0?t+e:e},Ie={},Se=function(e,t){return Ie[e]||(Ie[e]=[]),Ie[e].push(t)},_e=function(e){var t=Ie[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(a,n)}},ke=function(){return(new Date).getTime()},Ce=function(e){se=e,a.bg.style.opacity=e*s.bgOpacity},Ae=function(e,t,n,i,o){(!Ee||o&&o!==a.currItem)&&(i/=o?o.fitRatio:a.currItem.fitRatio),e[A]=w+t+"px, "+n+"px"+b+" scale("+i+")"},Oe=function(e){ne&&(e&&(g>a.currItem.fitRatio?Ee||(Yt(a.currItem,!1,!0),Ee=!0):Ee&&(Yt(a.currItem),Ee=!1)),Ae(ne,fe.x,fe.y,g))},Re=function(e){e.container&&Ae(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},De=function(e,t){t[A]=w+e+"px, 0px"+b},Le=function(e,t){if(!s.loop&&t){var n=d+(ve.x*he-e)/ve.x,i=Math.round(e-dt.x);(n<0&&i>0||n>=qt()-1&&i<0)&&(e=dt.x+i*s.mainScrollEndFriction)}dt.x=e,De(e,f)},Me=function(e,t){var n=ft[e]-me[e];return de[e]+ue[e]+n-n*(t/y)},Ne=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Pe=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},ze=null,He=function t(){ze&&(o.unbind(document,"mousemove",t),o.addClass(e,"pswp--has_mouse"),s.mouseUsed=!0,_e("mouseUsed")),ze=setTimeout(function(){ze=null},100)},Fe=function(e,t){var n=jt(a.currItem,pe,e);return t&&(te=n),n},qe=function(e){return e||(e=a.currItem),e.initialZoomLevel},Be=function(e){return e||(e=a.currItem),e.w>0?s.maxSpreadZoom:1},Ve=function(e,t,n,i){return i===a.currItem.initialZoomLevel?(n[e]=a.currItem.initialPosition[e],!0):(n[e]=Me(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ue=function(e){var t="";s.escKey&&27===e.keyCode?t="close":s.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},Ze=function(e){e&&(Y||K||ie||Z)&&(e.preventDefault(),e.stopPropagation())},je=function(){a.setScrollOffset(0,o.getScrollY())},Ge={},We=0,Ke=function(e){Ge[e]&&(Ge[e].raf&&L(Ge[e].raf),We--,delete Ge[e])},Ye=function(e){Ge[e]&&Ke(e),Ge[e]||(We++,Ge[e]={})},Xe=function(){for(var e in Ge)Ge.hasOwnProperty(e)&&Ke(e)},Je=function(e,t,n,i,o,r,a){var s,c=ke();Ye(e),function l(){if(Ge[e]){if((s=ke()-c)>=i)return Ke(e),r(n),void(a&&a());r((n-t)*o(s/i)+t),Ge[e].raf=D(l)}}()},Qe={shout:_e,listen:Se,viewportSize:pe,options:s,isMainScrollAnimating:function(){return ie},getZoomLevel:function(){return g},getCurrentIndex:function(){return d},isDragging:function(){return G},isZooming:function(){return $},setScrollOffset:function(e,t){me.x=e,z=me.y=t,_e("updateScrollOffset",me)},applyZoomPan:function(e,t,n,i){fe.x=t,fe.y=n,g=e,Oe(i)},init:function(){if(!c&&!l){var n;a.framework=o,a.template=e,a.bg=o.getChildByClass(e,"pswp__bg"),M=e.className,c=!0,H=o.detectFeatures(),D=H.raf,L=H.caf,A=H.transform,P=H.oldIE,a.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),a.container=o.getChildByClass(a.scrollWrap,"pswp__container"),f=a.container.style,a.itemHolders=x=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],x[0].el.style.display=x[2].el.style.display="none",function(){if(A){var t=H.perspective&&!R;return w="translate"+(t?"3d(":"("),void(b=H.perspective?", 0px)":")")}A="left",o.addClass(e,"pswp--ie"),De=function(e,t){t.left=e+"px"},Re=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Oe=function(){if(ne){var e=ne,t=a.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,o=n*t.h;e.width=i+"px",e.height=o+"px",e.left=fe.x+"px",e.top=fe.y+"px"}}}(),v={resize:a.updateSize,orientationchange:function(){clearTimeout(F),F=setTimeout(function(){pe.x!==a.scrollWrap.clientWidth&&a.updateSize()},500)},scroll:je,keydown:Ue,click:Ze};var i=H.isOldIOSPhone||H.isOldAndroid||H.isMobileOpera;for(H.animationName&&H.transform&&!i||(s.showAnimationDuration=s.hideAnimationDuration=0),n=0;n<we.length;n++)a["init"+we[n]]();t&&(a.ui=new t(a,o)).init(),_e("firstUpdate"),d=d||s.index||0,(isNaN(d)||d<0||d>=qt())&&(d=0),a.currItem=Ft(d),(H.isOldIOSPhone||H.isOldAndroid)&&(ye=!1),e.setAttribute("aria-hidden","false"),s.modal&&(ye?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===z&&(_e("initialLayout"),z=N=o.getScrollY());var r="pswp--open ";for(s.mainClass&&(r+=s.mainClass+" "),s.showHideOpacity&&(r+="pswp--animate_opacity "),r+=R?"pswp--touch":"pswp--notouch",r+=H.animationName?" pswp--css_animation":"",r+=H.svg?" pswp--svg":"",o.addClass(e,r),a.updateSize(),p=-1,ge=null,n=0;n<3;n++)De((n+p)*ve.x,x[n].el.style);P||o.bind(a.scrollWrap,m,a),Se("initialZoomInEnd",function(){a.setContent(x[0],d-1),a.setContent(x[2],d+1),x[0].el.style.display=x[2].el.style.display="block",s.focus&&e.focus(),o.bind(document,"keydown",a),H.transform&&o.bind(a.scrollWrap,"click",a),s.mouseUsed||o.bind(document,"mousemove",He),o.bind(window,"resize scroll orientationchange",a),_e("bindEvents")}),a.setContent(x[1],d),a.updateCurrItem(),_e("afterInit"),ye||(E=setInterval(function(){We||G||$||g!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),o.addClass(e,"pswp--visible")}},close:function(){c&&(c=!1,l=!0,_e("close"),o.unbind(window,"resize scroll orientationchange",a),o.unbind(window,"scroll",v.scroll),o.unbind(document,"keydown",a),o.unbind(document,"mousemove",He),H.transform&&o.unbind(a.scrollWrap,"click",a),G&&o.unbind(window,h,a),clearTimeout(F),_e("unbindEvents"),Bt(a.currItem,null,!0,a.destroy))},destroy:function(){_e("destroy"),Nt&&clearTimeout(Nt),e.setAttribute("aria-hidden","true"),e.className=M,E&&clearInterval(E),o.unbind(a.scrollWrap,m,a),o.unbind(window,"scroll",a),mt(),Xe(),Ie=null},panTo:function(e,t,n){n||(e>te.min.x?e=te.min.x:e<te.max.x&&(e=te.max.x),t>te.min.y?t=te.min.y:t<te.max.y&&(t=te.max.y)),fe.x=e,fe.y=t,Oe()},handleEvent:function(e){e=e||window.event,v[e.type]&&v[e.type](e)},goTo:function(e){var t=(e=xe(e))-d;ge=t,d=e,a.currItem=Ft(d),he-=t,Le(ve.x*he),Xe(),ie=!1,a.updateCurrItem()},next:function(){a.goTo(d+1)},prev:function(){a.goTo(d-1)},updateCurrZoomItem:function(e){if(e&&_e("beforeChange",0),x[1].el.children.length){var t=x[1].el.children[0];ne=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ne=null;te=a.currItem.bounds,y=g=a.currItem.initialZoomLevel,fe.x=te.center.x,fe.y=te.center.y,e&&_e("afterChange")},invalidateCurrItems:function(){T=!0;for(var e=0;e<3;e++)x[e].item&&(x[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){a.currItem=Ft(d),Ee=!1,_e("beforeChange",ge),n>=3&&(p+=ge+(ge>0?-3:3),n=3);for(var i=0;i<n;i++)ge>0?(t=x.shift(),x[2]=t,De((++p+2)*ve.x,t.el.style),a.setContent(t,d-n+i+1+1)):(t=x.pop(),x.unshift(t),De(--p*ve.x,t.el.style),a.setContent(t,d+n-i-1-1));if(ne&&1===Math.abs(ge)){var o=Ft(I);o.initialZoomLevel!==g&&(jt(o,pe),Yt(o),Re(o))}ge=0,a.updateCurrZoomItem(),I=d,_e("afterChange")}}},updateSize:function(t){if(!ye&&s.modal){var n=o.getScrollY();if(z!==n&&(e.style.top=n+"px",z=n),!t&&be.x===window.innerWidth&&be.y===window.innerHeight)return;be.x=window.innerWidth,be.y=window.innerHeight,e.style.height=be.y+"px"}if(pe.x=a.scrollWrap.clientWidth,pe.y=a.scrollWrap.clientHeight,je(),ve.x=pe.x+Math.round(pe.x*s.spacing),ve.y=pe.y,Le(ve.x*he),_e("beforeResize"),void 0!==p){for(var i,r,c,l=0;l<3;l++)i=x[l],De((l+p)*ve.x,i.el.style),c=d+l-1,s.loop&&qt()>2&&(c=xe(c)),(r=Ft(c))&&(T||r.needsUpdate||!r.bounds)?(a.cleanSlide(r),a.setContent(i,c),1===l&&(a.currItem=r,a.updateCurrZoomItem(!0)),r.needsUpdate=!1):-1===i.index&&c>=0&&a.setContent(i,c),r&&r.container&&(jt(r,pe),Yt(r),Re(r));T=!1}y=g=a.currItem.initialZoomLevel,(te=a.currItem.bounds)&&(fe.x=te.center.x,fe.y=te.center.y,Oe(!0)),_e("resize")},zoomTo:function(e,t,n,i,r){t&&(y=g,ft.x=Math.abs(t.x)-fe.x,ft.y=Math.abs(t.y)-fe.y,Ne(de,fe));var a=Fe(e,!1),s={};Ve("x",a,s,e),Ve("y",a,s,e);var c=g,l=fe.x,u=fe.y;Pe(s);var d=function(t){1===t?(g=e,fe.x=s.x,fe.y=s.y):(g=(e-c)*t+c,fe.x=(s.x-l)*t+l,fe.y=(s.y-u)*t+u),r&&r(t),Oe(1===t)};n?Je("customZoomTo",0,1,n,i||o.easing.sine.inOut,d):d(1)}},$e={},et={},tt={},nt={},it={},ot=[],rt={},at=[],st={},ct=0,lt={x:0,y:0},ut=0,dt={x:0,y:0},ft={x:0,y:0},pt={x:0,y:0},ht=function(e,t){return st.x=Math.abs(e.x-t.x),st.y=Math.abs(e.y-t.y),Math.sqrt(st.x*st.x+st.y*st.y)},mt=function(){X&&(L(X),X=null)},vt={},gt=function(e,t){return vt.prevent=!function e(t,n){return!(!t||t===document)&&!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(n(t)?t:e(t.parentNode,n))}(e.target,s.isClickableElement),_e("preventDragEvent",e,t,vt),vt.prevent},yt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},wt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},bt=function(){var e=fe.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(pe.y/2))},Et={},Tt={},xt=[],It=function(e){for(;xt.length>0;)xt.pop();return O?(le=0,ot.forEach(function(e){0===le?xt[0]=e:1===le&&(xt[1]=e),le++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(xt[0]=yt(e.touches[0],Et),e.touches.length>1&&(xt[1]=yt(e.touches[1],Tt))):(Et.x=e.pageX,Et.y=e.pageY,Et.id="",xt[0]=Et),xt},St=function(e,t){var n,i,o,r,c=fe[e]+t[e],l=t[e]>0,u=dt.x+t.x,d=dt.x-rt.x;if(n=c>te.min[e]||c<te.max[e]?s.panEndFriction:1,c=fe[e]+t[e]*n,(s.allowPanToNext||g===a.currItem.initialZoomLevel)&&(ne?"h"!==oe||"x"!==e||K||(l?(c>te.min[e]&&(n=s.panEndFriction,te.min[e],i=te.min[e]-de[e]),(i<=0||d<0)&&qt()>1?(r=u,d<0&&u>rt.x&&(r=rt.x)):te.min.x!==te.max.x&&(o=c)):(c<te.max[e]&&(n=s.panEndFriction,te.max[e],i=de[e]-te.max[e]),(i<=0||d>0)&&qt()>1?(r=u,d>0&&u<rt.x&&(r=rt.x)):te.min.x!==te.max.x&&(o=c))):r=u,"x"===e))return void 0!==r&&(Le(r,!0),J=r!==rt.x),te.min.x!==te.max.x&&(void 0!==o?fe.x=o:J||(fe.x+=t.x*n)),void 0!==r;ie||J||g>a.currItem.fitRatio&&(fe[e]+=t[e]*n)},_t=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Ht)return void e.preventDefault();if(!j||"mousedown"!==e.type){if(gt(e,!0)&&e.preventDefault(),_e("pointerDown"),O){var t=o.arraySearch(ot,e.pointerId,"id");t<0&&(t=ot.length),ot[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=It(e),i=n.length;Q=null,Xe(),G&&1!==i||(G=re=!0,o.bind(window,h,a),U=ce=ae=Z=J=Y=W=K=!1,oe=null,_e("firstTouchStart",n),Ne(de,fe),ue.x=ue.y=0,Ne(nt,n[0]),Ne(it,nt),rt.x=ve.x*he,at=[{x:nt.x,y:nt.y}],B=q=ke(),Fe(g,!0),mt(),function e(){G&&(X=D(e),Ct())}()),!$&&i>1&&!ie&&!J&&(y=g,K=!1,$=W=!0,ue.y=ue.x=0,Ne(de,fe),Ne($e,n[0]),Ne(et,n[1]),wt($e,et,pt),ft.x=Math.abs(pt.x)-fe.x,ft.y=Math.abs(pt.y)-fe.y,ee=ht($e,et))}}},kt=function(e){if(e.preventDefault(),O){var t=o.arraySearch(ot,e.pointerId,"id");if(t>-1){var n=ot[t];n.x=e.pageX,n.y=e.pageY}}if(G){var i=It(e);if(oe||Y||$)Q=i;else if(dt.x!==ve.x*he)oe="h";else{var r=Math.abs(i[0].x-nt.x)-Math.abs(i[0].y-nt.y);Math.abs(r)>=10&&(oe=r>0?"h":"v",Q=i)}}},Ct=function(){if(Q){var e=Q.length;if(0!==e)if(Ne($e,Q[0]),tt.x=$e.x-nt.x,tt.y=$e.y-nt.y,$&&e>1){if(nt.x=$e.x,nt.y=$e.y,!tt.x&&!tt.y&&(u=Q[1],d=et,u.x===d.x&&u.y===d.y))return;Ne(et,Q[1]),K||(K=!0,_e("zoomGestureStarted"));var t=ht($e,et),n=Lt(t);n>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(ce=!0);var i=1,o=qe(),r=Be();if(n<o)if(s.pinchToClose&&!ce&&y<=a.currItem.initialZoomLevel){var c=1-(o-n)/(o/1.2);Ce(c),_e("onPinchClose",c),ae=!0}else(i=(o-n)/o)>1&&(i=1),n=o-i*(o/3);else n>r&&((i=(n-r)/(6*o))>1&&(i=1),n=r+i*o);i<0&&(i=0),wt($e,et,lt),ue.x+=lt.x-pt.x,ue.y+=lt.y-pt.y,Ne(pt,lt),fe.x=Me("x",n),fe.y=Me("y",n),U=n>g,g=n,Oe()}else{if(!oe)return;if(re&&(re=!1,Math.abs(tt.x)>=10&&(tt.x-=Q[0].x-it.x),Math.abs(tt.y)>=10&&(tt.y-=Q[0].y-it.y)),nt.x=$e.x,nt.y=$e.y,0===tt.x&&0===tt.y)return;if("v"===oe&&s.closeOnVerticalDrag&&"fit"===s.scaleMode&&g===a.currItem.initialZoomLevel){ue.y+=tt.y,fe.y+=tt.y;var l=bt();return Z=!0,_e("onVerticalDrag",l),Ce(l),void Oe()}(function(e,t,n){if(e-B>50){var i=at.length>2?at.shift():{};i.x=t,i.y=n,at.push(i),B=e}})(ke(),$e.x,$e.y),Y=!0,te=a.currItem.bounds,St("x",tt)||(St("y",tt),Pe(fe),Oe())}}var u,d},At=function(e){if(H.isOldAndroid){if(j&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(j),j=setTimeout(function(){j=0},600))}var t;if(_e("pointerUp"),gt(e,!1)&&e.preventDefault(),O){var n=o.arraySearch(ot,e.pointerId,"id");n>-1&&(t=ot.splice(n,1)[0],navigator.pointerEnabled?t.type=e.pointerType||"mouse":(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")))}var i,r=It(e),c=r.length;if("mouseup"===e.type&&(c=0),2===c)return Q=null,!0;1===c&&Ne(it,r[0]),0!==c||oe||ie||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),_e("touchRelease",e,t));var l=-1;if(0===c&&(G=!1,o.unbind(window,h,a),mt(),$?l=0:-1!==ut&&(l=ke()-ut)),ut=1===c?ke():-1,i=-1!==l&&l<150?"zoom":"swipe",$&&c<2&&($=!1,1===c&&(i="zoomPointerUp"),_e("zoomGestureEnded")),Q=null,Y||K||ie||Z)if(Xe(),V||(V=Ot()),V.calculateSwipeSpeed("x"),Z){if(bt()<s.verticalDragRange)a.close();else{var u=fe.y,d=se;Je("verticalDrag",0,1,300,o.easing.cubic.out,function(e){fe.y=(a.currItem.initialPosition.y-u)*e+u,Ce((1-d)*e+d),Oe()}),_e("onVerticalDrag",1)}}else{if((J||ie)&&0===c){if(Dt(i,V))return;i="zoomPointerUp"}if(!ie)return"swipe"!==i?void Mt():void(!J&&g>a.currItem.fitRatio&&Rt(V))}},Ot=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){at.length>1?(e=ke()-B+50,t=at[at.length-2][i]):(e=ke()-q,t=it[i]),n.lastFlickOffset[i]=nt[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(fe[e]>te.min[e]?n.backAnimDestination[e]=te.min[e]:fe[e]<te.max[e]&&(n.backAnimDestination[e]=te.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Je("bounceZoomPan"+e,fe[e],n.backAnimDestination[e],t||300,o.easing.sine.out,function(t){fe[e]=t,Oe()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,fe[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Ge.zoomPan&&(Ge.zoomPan.raf=D(n.panAnimLoop),n.now=ke(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Oe(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return fe.x=Math.round(fe.x),fe.y=Math.round(fe.y),Oe(),void Ke("zoomPan")}};return n},Rt=function(e){if(e.calculateSwipeSpeed("y"),te=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Ye("zoomPan"),e.lastNow=ke(),e.panAnimLoop()},Dt=function(e,t){var n,i,r;if(ie||(ct=d),"swipe"===e){var c=nt.x-it.x,l=t.lastFlickDist.x<10;c>30&&(l||t.lastFlickOffset.x>20)?i=-1:c<-30&&(l||t.lastFlickOffset.x<-20)&&(i=1)}i&&((d+=i)<0?(d=s.loop?qt()-1:0,r=!0):d>=qt()&&(d=s.loop?0:qt()-1,r=!0),r&&!s.loop||(ge+=i,he-=i,n=!0));var u,f=ve.x*he,p=Math.abs(f-dt.x);return n||f>dt.x==t.lastFlickSpeed.x>0?(u=Math.abs(t.lastFlickSpeed.x)>0?p/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,ct===d&&(n=!1),ie=!0,_e("mainScrollAnimStart"),Je("mainScroll",dt.x,f,u,o.easing.cubic.out,Le,function(){Xe(),ie=!1,ct=-1,(n||ct!==d)&&a.updateCurrItem(),_e("mainScrollAnimComplete")}),n&&a.updateCurrItem(!0),n},Lt=function(e){return 1/ee*e*y},Mt=function(){var e=g,t=qe(),n=Be();g<t?e=t:g>n&&(e=n);var i,r=se;return ae&&!U&&!ce&&g<t?(a.close(),!0):(ae&&(i=function(e){Ce((1-r)*e+r)}),a.zoomTo(e,0,200,o.easing.cubic.out,i),!0)};Te("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){S=e+t,_=e+n,k=e+i,C=o?e+o:""};(O=H.pointerEvent)&&H.touch&&(H.touch=!1),O?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):H.touch?(e("touch","start","move","end","cancel"),R=!0):e("mouse","down","move","up"),h=_+" "+k+" "+C,m=S,O&&!R&&(R=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=R,v[S]=_t,v[_]=kt,v[k]=At,C&&(v[C]=v[k]),H.touch&&(m+=" mousedown",h+=" mousemove mouseup",v.mousedown=v[S],v.mousemove=v[_],v.mouseup=v[k]),R||(s.allowPanToNext=!1)}}});var Nt,Pt,zt,Ht,Ft,qt,Bt=function(t,n,i,r){var c;Nt&&clearTimeout(Nt),Ht=!0,zt=!0,t.initialLayout?(c=t.initialLayout,t.initialLayout=null):c=s.getThumbBoundsFn&&s.getThumbBoundsFn(d);var l,f,p=i?s.hideAnimationDuration:s.showAnimationDuration,h=function(){Ke("initialZoom"),i?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(Ce(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),_e("initialZoom"+(i?"OutEnd":"InEnd"))),r&&r(),Ht=!1};if(!p||!c||void 0===c.x)return _e("initialZoom"+(i?"Out":"In")),g=t.initialZoomLevel,Ne(fe,t.initialPosition),Oe(),e.style.opacity=i?0:1,Ce(1),void(p?setTimeout(function(){h()},p):h());l=u,f=!a.currItem.src||a.currItem.loadError||s.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(g=c.w/t.w,fe.x=c.x,fe.y=c.y-N,a[f?"template":"bg"].style.opacity=.001,Oe()),Ye("initialZoom"),i&&!l&&o.removeClass(e,"pswp--animated-in"),f&&(i?o[(l?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){o.addClass(e,"pswp--animate_opacity")},30)),Nt=setTimeout(function(){if(_e("initialZoom"+(i?"Out":"In")),i){var n=c.w/t.w,r={x:fe.x,y:fe.y},a=g,s=se,u=function(t){1===t?(g=n,fe.x=c.x,fe.y=c.y-z):(g=(n-a)*t+a,fe.x=(c.x-r.x)*t+r.x,fe.y=(c.y-z-r.y)*t+r.y),Oe(),f?e.style.opacity=1-t:Ce(s-t*s)};l?Je("initialZoom",0,1,p,o.easing.cubic.out,u,h):(u(1),Nt=setTimeout(h,p+20))}else g=t.initialZoomLevel,Ne(fe,t.initialPosition),Oe(),Ce(1),f?e.style.opacity=1:Ce(1),Nt=setTimeout(h,p+20)},i?25:90)},Vt={},Ut=[],Zt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Pt.length}},jt=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),_e("parseVerticalMargin",e)),Vt.x=t.x,Vt.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=Vt.x/e.w,r=Vt.y/e.h;e.fitRatio=o<r?o:r;var a=s.scaleMode;"orig"===a?n=1:"fit"===a&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return c=e,l=e.w*n,u=e.h*n,(d=c.bounds).center.x=Math.round((Vt.x-l)/2),d.center.y=Math.round((Vt.y-u)/2)+c.vGap.top,d.max.x=l>Vt.x?Math.round(Vt.x-l):d.center.x,d.max.y=u>Vt.y?Math.round(Vt.y-u)+c.vGap.top:d.center.y,d.min.x=l>Vt.x?0:d.center.x,d.min.y=u>Vt.y?c.vGap.top:d.center.y,i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}var c,l,u,d;return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Gt=function(e,t,n,i,o,r){t.loadError||i&&(t.imageAppended=!0,Yt(t,i,t===a.currItem&&Ee),n.appendChild(i),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},Wt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Kt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=s.errorMsg.replace("%url%",e.src),!0},Yt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},Xt=function(){if(Ut.length){for(var e,t=0;t<Ut.length;t++)(e=Ut[t]).holder.index===e.index&&Gt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Ut=[]}};Te("Controller",{publicMethods:{lazyLoadItem:function(e){e=xe(e);var t=Ft(e);t&&(!t.loaded&&!t.loading||T)&&(_e("gettingData",e,t),t.src&&Wt(t))},initController:function(){o.extend(s,Zt,!0),a.items=Pt=n,Ft=a.getItemAt,qt=s.getNumItemsFn,s.loop,qt()<3&&(s.loop=!1),Se("beforeChange",function(e){var t,n=s.preload,i=null===e||e>=0,o=Math.min(n[0],qt()),r=Math.min(n[1],qt());for(t=1;t<=(i?r:o);t++)a.lazyLoadItem(d+t);for(t=1;t<=(i?o:r);t++)a.lazyLoadItem(d-t)}),Se("initialLayout",function(){a.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(d)}),Se("mainScrollAnimComplete",Xt),Se("initialZoomInEnd",Xt),Se("destroy",function(){for(var e,t=0;t<Pt.length;t++)(e=Pt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Ut=null})},getItemAt:function(e){return e>=0&&void 0!==Pt[e]&&Pt[e]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!R||s.mouseUsed||screen.width>1200},setContent:function(e,t){s.loop&&(t=xe(t));var n=a.getItemAt(e.index);n&&(n.container=null);var i,r=a.getItemAt(t);if(r){_e("gettingData",t,r),e.index=t,e.item=r;var l=r.container=o.createEl("pswp__zoom-wrap");if(!r.src&&r.html&&(r.html.tagName?l.appendChild(r.html):l.innerHTML=r.html),Kt(r),jt(r,pe),!r.src||r.loadError||r.loaded)r.src&&!r.loadError&&((i=o.createEl("pswp__img","img")).style.opacity=1,i.src=r.src,Yt(r,i),Gt(0,r,l,i));else{if(r.loadComplete=function(n){if(c){if(e&&e.index===t){if(Kt(n,!0))return n.loadComplete=n.img=null,jt(n,pe),Re(n),void(e.index===d&&a.updateCurrZoomItem());n.imageAppended?!Ht&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):H.transform&&(ie||Ht)?Ut.push({item:n,baseDiv:l,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Gt(0,n,l,n.img,0,!0)}n.loadComplete=null,n.img=null,_e("imageLoadComplete",t,n)}},o.features.transform){var u="pswp__img pswp__img--placeholder";u+=r.msrc?"":" pswp__img--placeholder--blank";var f=o.createEl(u,r.msrc?"img":"");r.msrc&&(f.src=r.msrc),Yt(r,f),l.appendChild(f),r.placeholder=f}r.loading||Wt(r),a.allowProgressiveImg()&&(!zt&&H.transform?Ut.push({item:r,baseDiv:l,img:r.img,index:t,holder:e}):Gt(0,r,l,r.img,0,!0))}zt||t!==d?Re(r):(ne=l.style,Bt(r,i||r.img)),e.el.innerHTML="",e.el.appendChild(l)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Jt,Qt,$t={},en=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};Te("Tap",{publicMethods:{initTap:function(){Se("firstTouchStart",a.onTapStart),Se("touchRelease",a.onTapRelease),Se("destroy",function(){$t={},Jt=null})},onTapStart:function(e){e.length>1&&(clearTimeout(Jt),Jt=null)},onTapRelease:function(e,t){if(t&&!Y&&!W&&!We){var n=t;if(Jt&&(clearTimeout(Jt),Jt=null,i=n,r=$t,Math.abs(i.x-r.x)<25&&Math.abs(i.y-r.y)<25))return void _e("doubleTap",n);if("mouse"===t.type)return void en(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||o.hasClass(e.target,"pswp__single-tap"))return void en(e,t);Ne($t,n),Jt=setTimeout(function(){en(e,t),Jt=null},300)}var i,r}}}),Te("DesktopZoom",{publicMethods:{initDesktopZoom:function(){P||(R?Se("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Qt={};var n="wheel mousewheel DOMMouseScroll";Se("bindEvents",function(){o.bind(e,n,a.handleMouseWheel)}),Se("unbindEvents",function(){Qt&&o.unbind(e,n,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var i,r=function(){a.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),g<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){i&&(o.removeClass(e,"pswp--dragging"),i=!1)};Se("resize",r),Se("afterChange",r),Se("pointerDown",function(){a.mouseZoomedIn&&(i=!0,o.addClass(e,"pswp--dragging"))}),Se("pointerUp",s),t||r()},handleMouseWheel:function(e){if(g<=a.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||We||G?e.preventDefault():A&&Math.abs(e.deltaY)>2&&(u=!0,a.close())),!0;if(e.stopPropagation(),Qt.x=0,"deltaX"in e)1===e.deltaMode?(Qt.x=18*e.deltaX,Qt.y=18*e.deltaY):(Qt.x=e.deltaX,Qt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Qt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Qt.y=-.16*e.wheelDeltaY:Qt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Qt.y=e.detail}Fe(g,!0);var t=fe.x-Qt.x,n=fe.y-Qt.y;(s.modal||t<=te.min.x&&t>=te.max.x&&n<=te.min.y&&n>=te.max.y)&&e.preventDefault(),a.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:pe.x/2+me.x,y:pe.y/2+me.y};var n=s.getDoubleTapZoom(!0,a.currItem),i=g===n;a.mouseZoomedIn=!i,a.zoomTo(i?a.currItem.initialZoomLevel:n,t,333),o[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var tn,nn,on,rn,an,sn,cn,ln,un,dn,fn,pn,hn={history:!0,galleryUID:1},mn=function(){return fn.hash.substring(1)},vn=function(){tn&&clearTimeout(tn),on&&clearTimeout(on)},gn=function(){var e=mn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(s.galleryPIDs){var r=t.pid;for(t.pid=0,n=0;n<Pt.length;n++)if(Pt[n].pid===r){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},yn=function e(){if(on&&clearTimeout(on),We||G)on=setTimeout(e,500);else{rn?clearTimeout(nn):rn=!0;var t=d+1,n=Ft(d);n.hasOwnProperty("pid")&&(t=n.pid);var i=cn+"&gid="+s.galleryUID+"&pid="+t;ln||-1===fn.hash.indexOf(i)&&(dn=!0);var o=fn.href.split("#")[0]+"#"+i;pn?"#"+i!==window.location.hash&&history[ln?"replaceState":"pushState"]("",document.title,o):ln?fn.replace(o):fn.hash=i,ln=!0,nn=setTimeout(function(){rn=!1},60)}};Te("History",{publicMethods:{initHistory:function(){if(o.extend(s,hn,!0),s.history){fn=window.location,dn=!1,un=!1,ln=!1,cn=mn(),pn="pushState"in history,cn.indexOf("gid=")>-1&&(cn=(cn=cn.split("&gid=")[0]).split("?gid=")[0]),Se("afterChange",a.updateURL),Se("unbindEvents",function(){o.unbind(window,"hashchange",a.onHashChange)});var e=function(){sn=!0,un||(dn?history.back():cn?fn.hash=cn:pn?history.pushState("",document.title,fn.pathname+fn.search):fn.hash=""),vn()};Se("unbindEvents",function(){u&&e()}),Se("destroy",function(){sn||e()}),Se("firstUpdate",function(){d=gn().pid});var t=cn.indexOf("pid=");t>-1&&"&"===(cn=cn.substring(0,t)).slice(-1)&&(cn=cn.slice(0,-1)),setTimeout(function(){c&&o.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){if(mn()===cn)return un=!0,void a.close();rn||(an=!0,a.goTo(gn().pid),an=!1)},updateURL:function(){vn(),an||(ln?tn=setTimeout(yn,800):yn())}}}),o.extend(a,Qe)}})?i.call(t,n,t,e):i)&&(e.exports=o)},function(e,t,n){var i,o;"function"==typeof Symbol&&Symbol.iterator,void 0!==(o="function"==typeof(i=function(){"use strict";return function(e,t){var n,i,o,r,a,s,c,l,u,d,f,p,h,m,v,g,y,w,b=this,E=!1,T=!0,x=!0,I={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},S=function(e){if(g)return!0;e=e||window.event,v.timeToIdle&&v.mouseUsed&&!u&&M();for(var n,i,o=(e.target||e.srcElement).getAttribute("class")||"",r=0;r<H.length;r++)(n=H[r]).onTap&&o.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),g=!0;var a=t.features.isOldAndroid?600:30;setTimeout(function(){g=!1},a)}},_=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},k=function(){var e=1===v.getNumItemsFn();e!==m&&(_(i,"ui--one-slide",e),m=e)},C=function(){_(c,"share-modal--hidden",x)},A=function(){return(x=!x)?(t.removeClass(c,"pswp__share-modal--fade-in"),setTimeout(function(){x&&C()},300)):(C(),setTimeout(function(){x||t.addClass(c,"pswp__share-modal--fade-in")},30)),x||R(),!1},O=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),x||A(),1))},R=function(){for(var e,t,n,i,o="",r=0;r<v.shareButtons.length;r++)e=v.shareButtons[r],t=v.getImageURLForShare(e),n=v.getPageURLForShare(e),i=v.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",v.parseShareButtonOut&&(o=v.parseShareButtonOut(e,o));c.children[0].innerHTML=o,c.children[0].onclick=O},D=function(e){for(var n=0;n<v.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+v.closeElClasses[n]))return!0},L=0,M=function(){clearTimeout(w),L=0,u&&b.setIdle(!1)},N=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(w),w=setTimeout(function(){b.setIdle(!0)},v.timeToIdleOutside))},P=function(e){p!==e&&(_(f,"preloader--active",!e),p=e)},z=function(n){var a=n.vGap;if(!e.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth){var s=v.barsSize;if(v.captionEl&&"auto"===s.bottom)if(r||((r=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),i.insertBefore(r,o),t.addClass(i,"pswp__ui--fit")),v.addCaptionHTMLFn(n,r,!0)){var c=r.clientHeight;a.bottom=parseInt(c,10)||44}else a.bottom=s.top;else a.bottom="auto"===s.bottom?0:s.bottom;a.top=s.top}else a.top=a.bottom=0},H=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){c=e},onTap:function(){A()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){A()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){f=e}}];b.init=function(){var a;t.extend(e.options,I,!0),v=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),(d=e.listen)("onVerticalDrag",function(e){T&&e<.95?b.hideControls():!T&&e>=.95&&b.showControls()}),d("onPinchClose",function(e){T&&e<.9?(b.hideControls(),a=!0):a&&!T&&e>.9&&b.showControls()}),d("zoomGestureEnded",function(){(a=!1)&&!T&&b.showControls()}),d("beforeChange",b.update),d("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(v.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),d("bindEvents",function(){t.bind(i,"pswpTap click",S),t.bind(e.scrollWrap,"pswpTap",b.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",b.onMouseOver)}),d("unbindEvents",function(){x||A(),y&&clearInterval(y),t.unbind(document,"mouseout",N),t.unbind(document,"mousemove",M),t.unbind(i,"pswpTap click",S),t.unbind(e.scrollWrap,"pswpTap",b.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",b.onMouseOver),n&&(t.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)}),d("destroy",function(){v.captionEl&&(r&&i.removeChild(r),t.removeClass(o,"pswp__caption--empty")),c&&(c.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),b.setIdle(!1)}),v.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),d("initialZoomIn",function(){v.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(i,"pswp__ui--hidden")}),d("parseVerticalMargin",z),function(){var e,n,o,r=function(i){if(i)for(var r=i.length,a=0;a<r;a++){e=i[a],n=e.className;for(var s=0;s<H.length;s++)o=H[s],n.indexOf("pswp__"+o.name)>-1&&(v[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(i.children);var a=t.getChildByClass(i,"pswp__top-bar");a&&r(a.children)}(),v.shareEl&&s&&c&&(x=!0),k(),v.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",M),t.bind(document,"mouseout",N),y=setInterval(function(){2==++L&&b.setIdle(!0)},v.timeToIdle/2)}),v.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(t.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),v.preloaderEl&&(P(!0),d("beforeChange",function(){clearTimeout(h),h=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&P(!1):P(!0)},v.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,n){e.currItem===n&&P(!0)}))},b.setIdle=function(e){u=e,_(i,"ui--idle",e)},b.update=function(){T&&e.currItem?(b.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(e.currItem,o),_(o,"caption--empty",!e.currItem.title)),E=!0):E=!1,x||A(),k()},b.updateFullscreen=function(i){i&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},b.updateIndexIndicator=function(){v.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},b.onGlobalTap=function(n){var i=(n=n||window.event).target||n.srcElement;if(!g)if(n.detail&&"mouse"===n.detail.pointerType){if(D(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?v.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(T?b.hideControls():b.showControls()),v.tapToClose&&(t.hasClass(i,"pswp__img")||D(i)))return void e.close()},b.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;_(i,"ui--over-close",D(t))},b.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),T=!1},b.showControls=function(){T=!0,E||b.update(),t.removeClass(i,"pswp__ui--hidden")},b.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},b.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(l=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return v.closeOnScroll=l,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})?i.call(t,n,t,e):i)&&(e.exports=o)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expandIcon=['<svg class="can-open-lightbox__icon" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">',"<defs>",'<path id="a" fill="#fff" d="M0 12.655V0h7.03v12.655z"/>','<filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="c">','<feOffset in="SourceAlpha" result="shadowOffsetOuter1"/>','<feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>','<feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>',"<feMerge>",'<feMergeNode in="shadowMatrixOuter1"/>','<feMergeNode in="SourceGraphic"/>',"</feMerge>","</filter>",'<path id="d" fill="#fff" d="M0 12.648V0h7.027v12.648z"/>',"</defs>",'<g transform="translate(-4.622 -2.628)" opacity=".5" fill="none">','<g transform="rotate(-45 7.363 21.845) translate(3.827 15.48)">','<mask id="b"><use xlink:href="#a"/></mask>','<path d="M6.326 12.655c.18 0 .36-.07.497-.206.274-.28.274-.72 0-1L1.696 6.33 6.824 1.2c.275-.275.275-.72 0-.994-.275-.275-.72-.275-.994 0L.205 5.83c-.275.276-.275.72 0 .995l5.623 5.624c.138.13.318.2.498.2" fill="#fff" mask="url(#b)"/>',"</g>",'<g filter="url(#c)" transform="matrix(-.707 .707 -.707 -.707 28.533 9.647)">','<mask id="e">','<use xlink:href="#d"/>',"</mask>",'<path d="M6.322 12.648c.18 0 .36-.068.497-.205.27-.275.27-.72 0-.994L1.69 6.32 6.82 1.2c.275-.275.275-.72 0-.994-.275-.275-.72-.275-.993 0L.205 5.828c-.275.275-.275.72 0 .994l5.62 5.62c.137.138.317.206.497.206" fill="#fff" mask="url(#e)"/>',"</g>",'<rect fill="#fff" transform="rotate(-45 8.842 20.159)" x="3.972" y="19.527" width="9.741" height="1.265" rx=".632"/>','<rect fill="#fff" transform="rotate(-45 19.452 9.55)" x="14.582" y="8.917" width="9.741" height="1.265" rx=".632"/>',"</g>","</svg>"].join(""),t.lightboxMarkup=['<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">','<div class="pswp__bg"></div>','<div class="pswp__scroll-wrap">','<div class="pswp__container">','<div class="pswp__item"></div>','<div class="pswp__item"></div>','<div class="pswp__item"></div>',"</div>",'<div class="pswp__ui pswp__ui--hidden">','<div class="pswp__top-bar">','<button class="pswp__button pswp__button--close" title="Close (Esc)">','<svg width="100%" height="100%" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">','<path d="M12.877 10.32c-.183-.183-.183-.457 0-.64l6.85-6.85c.182-.182.273-.456.273-.638 0-.183-.09-.457-.274-.64L18.446.275C18.266.09 17.992 0 17.81 0c-.274 0-.456.09-.64.274l-6.848 6.85c-.183.182-.457.182-.64 0L2.83.274C2.65.09 2.375 0 2.193 0c-.183 0-.457.09-.64.274L.275 1.554C.09 1.734 0 2.008 0 2.19s.09.456.274.64l6.85 6.848c.182.183.182.457 0 .64l-6.85 6.85c-.183.182-.274.456-.274.638 0 .183.09.457.274.64l1.28 1.278c.18.183.455.274.638.274.182 0 .456-.09.64-.274l6.848-6.85c.183-.182.457-.182.64 0l6.85 6.85c.182.183.456.274.638.274.183 0 .457-.09.64-.274l1.278-1.28c.183-.18.274-.455.274-.638 0-.182-.09-.456-.274-.64l-6.85-6.848z" fill="#fff"/>',"</svg>","</button>",'<div class="pswp__preloader">','<div class="pswp__preloader__icn">','<div class="pswp__preloader__cut">','<div class="pswp__preloader__donut"></div>',"</div>","</div>","</div>","</div>",'<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">','<div class="pswp__share-tooltip"></div>',"</div>",'<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">','<svg height="100%" width="100%" xmlns="http://www.w3.org/2000/svg">','<path fill="#fff" d="M43.31 38.815l-1.117-1.118L5.166.694C4.24-.23 2.74-.23 1.813.694l-1.12 1.12c-.925.926-.925 2.427 0 3.353l35.35 35.325L.693 75.818c-.926.926-.926 2.428 0 3.353l1.12 1.12c.925.93 2.426.93 3.352 0l37.024-37 1.12-1.12c.92-.92.92-2.42 0-3.35z"/>',"</svg>","</button>",'<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">','<svg height="100%" width="100%" xmlns="http://www.w3.org/2000/svg">','<path fill="#fff" d="M43.31 38.815l-1.117-1.118L5.166.694C4.24-.23 2.74-.23 1.813.694l-1.12 1.12c-.925.926-.925 2.427 0 3.353l35.35 35.325L.693 75.818c-.926.926-.926 2.428 0 3.353l1.12 1.12c.925.93 2.426.93 3.352 0l37.024-37 1.12-1.12c.92-.92.92-2.42 0-3.35z"/>',"</svg>","</button>",'<div class="pswp__caption">','<div class="pswp__caption__center"></div>',"</div>",'<div class="pswp__counter"></div>',"</div>","</div>","</div>"].join("")},function(e,t,n){"use strict";function i(){c||(c=!0,requestIdleCallback(o,{timeout:2e3}))}function o(e){for(c=!1,void 0===e&&(e={timeRemaining:function(){return Number.MAX_VALUE}});e.timeRemaining()>0&&s.length>0;){var t=s.pop();ga(cdaaas.SETTINGS.SITE_ID+"_portal.send","event",t.gaEv_category,t.gaEv_action,t.gaEv_label)}s.length>0&&i()}function r(e,t,n){s.push({gaEv_category:e,gaEv_action:t,gaEv_label:n}),i()}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTrackEvents=function(e){var t,n,i,o,s,c,d,f,p,h,m;m=(h=e).init,h.init=function(){m(),h.currItem.el.classList.contains("content-top-image")?r(l,"lightbox de midias","imagem destacada"):r(l,"lightbox de midias","clique na foto")},f=(d=e).zoomTo,p=(0,a.debounce)(function(){r(l,u,"zoom na foto")},500),d.zoomTo=function(e,t,n,i,o){f(e,t,n,i,o),p()},e.listen("close",function(){r(l,u,"clique no botao fechar")}),o=(i=e).prev,s=i.next,c=i.options.index,i.prev=function(){r(l,u,"navegacao para esquerda"),o()},i.next=function(){r(l,u,"navegacao para direita"),s()},i.listen("mainScrollAnimComplete",function(){var e=i.getCurrentIndex();if(c!==e){var t=c===i.items.length-1&&0===e,n=0===c&&e===i.items.length-1;c<e||t?r(l,u,"navegacao para direita"):(c>e||n)&&r(l,u,"navegacao para esquerda"),c=e}}),n=(t=e).init,t.init=function(){n(),document.querySelector(".pswp.pswp--touch")&&t.framework.bind(t.scrollWrap,"pswpTap",function(){document.querySelector(".pswp__ui--hidden")?r(l,u,"exibir creditos e legendas"):r(l,u,"ocultar creditos e legendas")})}};var a=n(7);window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var s=[],c=!1,l="multicontent",u="lightbox de midias"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,n){var i;return function(){var o=this,r=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(o,r)},t),a&&e.apply(o,r)}},t.map=function(e,t){return[].map.call(e,t)},t.dispatchEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new CustomEvent("openLightbox",n);document.querySelector(t).dispatchEvent(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapElementToLightboxItem=function(e,t){var n=e.querySelector("picture > img"),o=e.querySelector(".progressive-img"),r=o.getAttribute("data-min-size").split("x"),a=o.getAttribute("data-max-size").split("x");return o.setAttribute("data-media-index",t),o.classList.add("can-open-lightbox"),o.innerHTML+=i.expandIcon,{smallImage:{src:o.getAttribute("data-min-size-url"),w:r[0],h:r[1]},largeImage:{src:o.getAttribute("data-max-size-url"),w:a[0],h:a[1]},title:n.getAttribute("title"),msrc:o.querySelector(".progressive-draft").src,el:e,type:"photo",getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33}}},t.applyResponsiveness=function(e){var t=void 0,n=!1,i=!0,o=void 0;e.listen("beforeResize",function(){t=e.viewportSize.x*window.devicePixelRatio,n&&t<1e3?(n=!1,o=!0):!n&&t>=1e3&&(n=!0,o=!0),o&&!i&&e.invalidateCurrItems(),i&&(i=!1),o=!1}),e.listen("gettingData",function(e,t){n?(t.src=t.largeImage.src,t.w=t.largeImage.w,t.h=t.largeImage.h):(t.src=t.smallImage.src,t.w=t.smallImage.w,t.h=t.smallImage.h)})};var i=n(5)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapElementToLightboxIframe=function(e,t){var n='<iframe id="votation-iframe'+t+'" src="'+e.getAttribute("data-source")+'" width="100%" height="100%" style="overflow: hidden"></iframe>';return e.querySelector(".can-open-lightbox-iframe").setAttribute("data-media-index",t),{html:n}},t.defaultLightboxIframeOptions={closeEl:!1,captionEl:!1,fullscreenEl:!1,zoomEl:!1,shareEl:!1,counterEl:!1,arrowEl:!1,mainClass:"lightbox-iframe"}},function(e,t){"use strict";function n(){var e=window.innerWidth;return e>=878&&(e=878),{width:e,height:parseFloat(9*e/16,10)}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapElementToLightboxItem=function(e){var t,i,o,r=e.getAttribute("data-video-id"),a=e.getAttribute("data-zone-id")||cdaaas.SETTINGS.ZONE_ID,s=e.getAttribute("data-ad-unit")||cdaaas.SETTINGS.TAG_MANAGER_AD_UNIT,c=e.getAttribute("data-ad-custom-data")||cdaaas.SETTINGS.TAG_MANAGER_AD_CUSTOM_DATA,l=((o=window.document.createElement("div")).classList.add("lightbox__item--centralized"),o),u=(i={videosIDs:r,autoPlay:!1,zoneId:a,adUnit:s,adCustomData:c,height:(t=n()).height,width:t.width},new WM.Player(i));return u.attachTo(l),{type:"video",html:l,player:u,w:e.getBoundingClientRect().width,h:e.getBoundingClientRect().height,getDoubleTapZoom:function(e,t){return 1}}},t.applyResponsiveness=function(e){e.listen("resize",function(){var e=n();this.currItem.player.resize({width:e.width,height:e.height})})},t.pauseVideoOnClose=function(e){e.listen("close",function(){this.currItem.player.stopVideo()})}}])},function(e,t){
/*! Element Tracker - v1.2.1 - 2016-04-20
* Copyright (c) 2016 Globo.com; Licensed MIT */
!function(e,t){"use strict";var n=t(e);e._gaq=e._gaq||[],e.glb=e.glb||{},e.glb.ElementTracker=e.glb.ElementTracker||function(){var i=30,o=!0,r={scrollTrackItems:[],scrollbarTrackingBreakpoints:null,scrollbarTrackingContext:null},a={value:0,noninteraction:!1};function s(){t("body").on("click.event-tracker","[data-track-click]",function(){return d(t(this)),!0})}function c(){!function(){var e,n,i=t("[data-track-scroll]");for(e=0;e<i.length;e++)n=i.eq(e),r.scrollTrackItems.push(n)}(),n.on("scroll.event-tracker",function(){o&&(o=!1,setTimeout(function(){var t=m();u(t),r.scrollbarTrackingBreakpoints&&function(t){var n,i,o,a,s,c,l=r.scrollbarTrackingContext.height(),u=r.scrollbarTrackingBreakpoints,d=[];for(var f in u)n=u[f][0],o=u[f][1],a=u[f][2],s=u[f][3],c=u[f][4],i=n.toString(),t<n*l/100?d.push(u[f]):(e._gaq.push(["_setCustomVar",o,a,i,s]),e._gaq.push(["_trackEvent",a,i,c,!0]));r.scrollbarTrackingBreakpoints=d}(t),o=!0},150))}),u(m())}function l(){t("body").on("click.event-tracker","[data-track-links]",function(e){"A"===e.target.tagName&&p(t(e.target))})}function u(e){var t,n,o=[];for(n=0;n<r.scrollTrackItems.length;n++)e>(t=r.scrollTrackItems[n]).offset().top+i?f(t):o.push(t);r.scrollTrackItems=o}function d(e){h(e,{label:e.data("track-click")})}function f(e){h(e,{label:e.data("track-scroll")})}function p(e){h(e,{action:e.text(),label:e.attr("href")})}function h(n,i){(function(e){return 0===e.closest("[data-track-disabled]").length})(n)&&(i=i||{},t.each(["category","action","value","noninteraction"],function(e,t){var o;i[t]||(o=function(e,t){return e.closest("[data-track-"+t+"]").data("track-"+t)}(n,t),i[t]=o||a[t])}),e._gaq.push(["_trackEvent",i.category,i.action,i.label,i.value,i.noninteraction]))}function m(){return function(){return n.scrollTop.apply(n,arguments)}()+n.height()}return{init:function(){return s(),c(),l(),this},destroy:function(){t("body").off(".event-tracker"),t(e).off(".event-tracker")},initClicks:s,initScroll:c,initLinks:l,push:h,pushClick:d,pushScroll:f,pushLink:p,getInfo:function(){return r},removeElementsVisualized:u,enableScrollbarTrackingByBreakpoint:function(e,t){r.scrollbarTrackingContext=e,r.scrollbarTrackingBreakpoints=t}}}(),e.glb.ElementTracker.init()}(window,jQuery)},function(e,t){new function(){"use strict";var e=this,t={treatCallback:function(e,t){void 0!==t&&t(e)},waitForFinish:function(e,t){var n=this;e.addEventListener("load",function(){n.treatCallback(e,t)})}};this.initialize=function(){this.loadMedias(),this.loadCSSs(),this.loadScripts()},this.loadCSSs=function(t){var n=document.querySelectorAll("link[data-src]");e.load(n,"href",t)},this.loadScripts=function(t){var n=document.querySelectorAll("script[data-src]");e.load(n,"src",t)},this.loadMedias=function(){this.loadImages(),this.loadGifs()},this.loadImages=function(){for(var t=document.querySelectorAll(".progressive-img picture"),n=t.length-1;n>=0;n--)window.ScrollSpy.add({el:t[n].parentNode,offset:800,callback:function(t){var n=t.querySelectorAll("picture")[0],i=n.querySelectorAll("source"),o=n.querySelectorAll("img");o.length&&e.load(o,"src",e.onLoadImages),e.load(i,"srcset")}})},this.loadGifs=function(){for(var t=document.querySelectorAll(".content-media__gif-container"),n=t.length-1;n>=0;n--)window.ScrollSpy.add({el:t[n],offset:800,callback:function(t){var n=t.querySelectorAll(".content-media__gif-container__gif-player")[0],i=t.querySelectorAll(".content-media__gif-container__gif-placeholder")[0],o=t.querySelectorAll("source");e.load(o,"src"),n.load(),n.addEventListener("loadeddata",function(){i.style.display="none"},!1)}})},this.onLoadImages=function(e){e.classList.add("progressive-loaded")},this.load=function(e,n,i){0===e.length&&t.treatCallback(i);for(var o=0;o<e.length;o++)!function(o){var r=e[o],a=r.getAttribute("data-src");r.setAttribute(n,a),t.waitForFinish(r,i)}(o)},this.initialize()}},function(e,t){!function(e,t){var n=t.helpers.urlCanonical();e.glb_realtime_map={site:t.SETTINGS.SITE_NAME.toLowerCase(),categories:t.SETTINGS.CATEGORIAS,url:n.replace("https","http")},t.helpers.loadScript(t.SETTINGS.REALTIME_PAGEVIEW)}(window,cdaaas)},function(e,t,n){"use strict";var i=n(0),o=(n.n(i),n(8));const r=document.querySelector(".mc-body"),a=document.querySelector(".feed"),s=window.cdaaas.SETTINGS,c=s.SITE_ID,l=s.CHANNEL,u=s.IS_PREVIEW,d=window.cdaaas.SETTINGS.RESOURCE.ID,f=window.utag_data,p=f.platform,h=void 0===p?"empty":p,m=f.has_top_photo,v=f.bs_content_type;"qa"===window.utag_data["ut.env"]&&i.Settings.useQAConfiguration();!u&&c&&new class{constructor(){this.horizon=new i.HorizonClient(c,l,"multicontent"),this.chunks=this.getChunks(),this.sendMcView=this.debounce(this.sendMulticontentView,200),this.sendHorizonEvent("multicontent-load","3.0",{multicontentId:d,chunkTotal:this.chunks.length,hasTopPhoto:"True"===m,pageType:"multi-content",contentType:v,deviceGroup:h,environment:"web"}),this.multicontent={element:r,timeVisible:0,views:[]},this.feed={element:a,viewed:!1},window.addEventListener("scroll",this.debounce(()=>{this.checkFeed(),this.check()},250)),document.body.addEventListener("click",this.checkChunkClick.bind(this),!0),window.setTimeout(()=>this.check(),500),window.setInterval(()=>{function e(e,t){const n=e.views[e.views.length-1],i=Math.floor(Date.now());n&&"visible"===n.type&&(e.timeVisible=i-n.time,"chunk"===t?this.sendHorizonEvent("multicontent-chunk-view","3.0",{chunkType:e.chunkType,chunkPosition:e.position+1,chunkInteraction:this.hasChunkInteraction(e),viewedTimeMs:e.timeVisible,wordCount:this.getWordCount(e),height:e.offsetHeight,width:e.offsetWidth}):this.sendMcView())}this.chunks.forEach(t=>{e.call(this,t,"chunk")}),e.call(this,this.multicontent,"content")},1e4),window.addEventListener("beforeunload",function(){this.horizon.unload()})}findRealTarget(e){return e?null!==e.getAttribute("data-block-type")?e:e===document.body?null:this.findRealTarget(e.parentNode):null}check(){this.checkChunks(),this.checkLayer()}checkChunkClick(e){const t=e.target,n=this.findRealTarget(t);if(n){const e=n.getAttribute("data-block-id");if(e){let n=this.chunks[e];if(this.hasChunkInteraction(n)){n.clickCount+=1;let e="";e="Shape"===t.id?"Pause":"Triangle"===t.id?"Play":t.innerText||t.textContent||"Player",this.sendHorizonEvent("multicontent-element-click","3.0",{chunkType:n.chunkType,chunkPosition:n.position+1,clickCount:n.clickCount,clickLabel:e,clickedTimestamp:Date.now()})}}}}checkFeed(){Object(o.b)(this.feed,!1)&&(this.feed.viewed=!0)}checkChunks(){let e=this.chunks;for(let t=0;t<e.length;t++)this.addTimestampToChunk(e[t])}checkLayer(){const e=Math.floor(Date.now());let t=this.multicontent,n=this.checkChunkViewStatus(t);Object(o.b)(t,!0)?0!==t.views.length&&"visible"===n||(t.views.push({type:"visible",time:e}),t.views.length>1&&this.sendMcView()):(0!==t.views.length&&"invisible"===n||(t.views.push({type:"invisible",time:e}),t.views.length>1&&this.sendMcView()),this.updateTimeVisible(t))}checkChunkViewStatus(e){return e.views.length>0?e.views[e.views.length-1].type:"invisible"}sendMulticontentView(){this.sendHorizonEvent("multicontent-view","4.0",{feedSeen:this.feed.viewed,timeOnMulticontent:this.multicontent.timeVisible})}addTimestampToChunk(e){const t=Math.floor(Date.now());if(e.views.length<=0)Object(o.a)(e.chunk)&&e.views.push({type:"visible",time:t});else{let n=e.views[e.views.length-1];Object(o.a)(e.chunk)?"invisible"===n.type&&e.views.push({type:"visible",time:t}):"visible"===n.type&&(e.views.push({type:"invisible",time:t}),this.updateTimeVisible(e),this.sendHorizonEvent("multicontent-chunk-view","3.0",{chunkType:e.chunkType,chunkPosition:e.position+1,chunkInteraction:this.hasChunkInteraction(e),viewedTimeMs:e.timeVisible,wordCount:this.getWordCount(e),height:e.offsetHeight,width:e.offsetWidth}))}}sendHorizonEvent(e,t,n){try{document.hidden||this.horizon.send({id:e,version:t,properties:n})}catch(e){console.error("HORIZON TRACKING: ",e)}}hasChunkInteraction(e){let t=e.chunk;return"paragraph"!==e.chunkType||t.getElementsByTagName("a").length>0}updateTimeVisible(e){const t=e.views[0].time,n=e.views[e.views.length-1].time;e.timeVisible=n-t}getWordCount(e){return"paragraph"===e.chunkType?e.chunk.innerText.split(" ").length:0}getChunkType(e){const t=e.getAttribute("data-block-type");return t?"unstyled"===t||"raw"===t?"paragraph":t.replace("backstage-",""):"unknown"}getChunks(){let e=document.querySelectorAll("[data-block-type]"),t=[];for(let n=0;n<e.length;n++){let i=e[n];i&&(i.setAttribute("data-block-id",n),t.push({position:n,chunk:i,chunkType:this.getChunkType(i),offsetHeight:i.offsetHeight,offsetWidth:i.offsetWidth,clickCount:0,timeVisible:0,views:[]}))}return t}debounce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,i=null,o=null;const r=()=>e.apply(n,o);return function(){o=arguments,clearTimeout(i),i=setTimeout(r,t)}}}},function(e,t,n){"use strict";function i(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.bottom<=n.top||i.right<=n.left||i.left>=n.right||i.top>=n.bottom}function o(e){const t=document.defaultView.getComputedStyle(e),n=t.getPropertyValue("overflow-x"),i=t.getPropertyValue("overflow-y");return"visible"!==n||"visible"!==i}function r(e,t){if(t)return i(e,t);let n=e.parentElement;for(;n&&n!==document.body;){if(o(n))return i(e,n);n=n.parentElement}return!1}t.a=function(e){const t=e.getBoundingClientRect(),n=document.documentElement;return!r(e)&&t.top>=0-t.height/2&&t.left>=0&&t.bottom<=(window.innerHeight||n.clientHeight)+t.height/2&&t.right<=(window.innerWidth||n.clientWidth)},t.b=function(e,t){const n=e.element.getBoundingClientRect(),i=document.documentElement.clientHeight/2,o=i/2*3;if(t)return!r(e.element)&&(n.top<=i&&n.bottom>=i||n.top>=0&&n.bottom<=n.height&&n.bottom>=i);return!r(e.element)&&n.top>=0&&n.top<=o}},function(e,t,n){"use strict";var i=n(10),o=n.n(i);!function(){if(!window.cdaaas.SETTINGS.MULTICONTENT)return;const e=".mc-article-body",t=".mc-column",n="mc-read-more-wrapper",i="mc-read-more-btn",r="theme-color-primary",a=window.cdaaas.SETTINGS.MOBILE_GROUP,s=window.cdaaas.SETTINGS.MULTICONTENT.BUTTON_READ_MORE;const c=function(e,t,n){var i,o;i="ga",o=(()=>{window.ga(window.cdaaas.SETTINGS.AB_PRODUCT_NAME+"_portal.send","event",e,t,n)}),window.setTimeout(function e(){window[i]?o():window.setTimeout(e,10)},10)};if(s.VISIBLE&&"smart"===a){const a=window.cdaaas.SETTINGS.AB_EXPERIMENT_NAME,l=document.createElement("a");if(l.href=window.cdaaas.SETTINGS.AB_ROUTE_PAGEVIEW,a&&0===a.length)return;o.a.v2.server=window.location.protocol+"//"+l.hostname,o.a.v2.get(a,{},o=>{if(o&&""!==o){let l=!1;const u={chunkLimit:s.MIN_LIMIT,label:s.LABEL,position:s.POSITION,ab:o,off:!1};"com-botao"===o.alternative&&(l=!0),function(e,t,n){const i={enumerable:!0,configurable:!1,writable:!1};Object.defineProperty(window.utag_data,"nome_experimento",Object.assign({},i,{value:t})),Object.defineProperty(window.utag_data,"versao_experimento",Object.assign({},i,{value:e})),Object.defineProperty(window.utag_data,"has_button",Object.assign({},i,{value:n}))}(o.alternative,a,l),new class{constructor(n){this.options=n,this.articleBody=document.querySelector(e),this.chunks=this.articleBody.querySelectorAll(t),this.chunkPosition=null,this.chunk=null,this.btn=null,this.impression=!1,this.conversion=!1,this.feed=document.querySelector(".feed__legend"),n.off?window.addEventListener("scroll",this.debounce(this.checkConversions.bind(this),250)):this.chunks.length>=n.chunkLimit&&(this.load(),window.addEventListener("scroll",this.debounce(()=>{this.checkImpressions(),this.checkConversions()},250)))}checkImpressions(){!this.impression&&this.isInViewport(this.btn)&&(c("multicontent","botao continue lendo","view"),this.impression=!0)}checkConversions(){!this.conversion&&this.isInViewport(this.feed)&&(this.conversion=!0,this.options.ab.recordConversion())}isInViewport(e){let t=e.getBoundingClientRect(),n=document.documentElement;return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||n.clientHeight)&&t.right<=(window.innerWidth||n.clientWidth)}createBtn(){let e=document.createElement("button"),t=document.createElement("div");return t.classList.add(n),e.classList.add(i),e.classList.add(r),e.innerHTML=this.options.label,t.appendChild(e),e.addEventListener("click",this.showArticle.bind(this)),this.articleBody.appendChild(t),t}calculateArticleSize(e){const t=document.querySelector(".content-top-image");let n=e.offsetTop;return n+=t?150:250,this.isImage(e)&&(n+=parseInt(.2*e.offsetHeight)),n}isImage(e){return e.className.indexOf("content-photo")>-1}isAd(e){return e.innerHTML.indexOf("content-ads")>-1}isText(e){return e&&e.dataset.blockType&&"unstyled"===e.dataset.blockType}calculateAdSize(e){let t=0;for(let n=0;n<e.length&&this.chunkPosition!==n;n++)this.isAd(e[n])&&t++;return t}cropArticle(e){const t=this.createBtn(),n=parseInt(this.calculateArticleSize(e));this.btn=t,this.articleBody.classList.add("cropped"),this.articleBody.style.height=n+"px"}showArticle(e){e.preventDefault(),document.removeEventListener("click",this.showArticle,!1),this.options.ab.recordConversion(),this.articleBody.classList.remove("cropped"),this.articleBody.style.height="auto",c("multicontent","botao continue lendo","expandir")}hasBeforeText(e){let t=!1;if(null!==this.chunks[e-1])for(let n=e-1;n>=0;n--){let e=this.chunks[n];if(this.isText(e)){t=!0;break}}return t}findNewPosition(e){let t=null;for(let n=e+1;n<=this.chunks.length;n++){let e=this.chunks[n];if(this.isText(e)&&null!==this.chunks[n+1]){t=n+1;break}}return t}load(){const e=this.chunks[this.options.position];let t,n=this.options.position-1;if(this.chunkPosition=this.isAd(e)?n+1:n,this.chunk=this.chunks[this.chunkPosition],t=this.hasBeforeText(this.chunkPosition))this.chunk=this.chunks[this.chunkPosition],this.cropArticle(this.chunk);else{if(this.chunkPosition=this.findNewPosition(this.chunkPosition),null===this.chunkPosition)return;this.chunk=this.chunks[this.chunkPosition],this.cropArticle(this.chunk)}}debounce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,i=null,o=null;const r=()=>e.apply(n,o);return function(){o=arguments,clearTimeout(i),i=setTimeout(r,t)}}}(Object.assign({},u,{off:!l}))}})}}()},function(e,t,n){const i=n(11),o=function(){const e={v2:{version:"2.3.1"}},t={v1:{}};return e.mab=t,e.v2.getMulti=function(t,n,o,r=function(){}){const a=t.join(",");i.server(e.v2.server),i.getSelectedAlternatives("experiments",a,n,o,r)},e.v2.get=function(t,n,o,r=function(){}){const a={};n&&void 0!==n.skipImpression&&(a.skipImpressions=n.skipImpression),n&&void 0!==n.extraHeaders&&(a.extraHeaders=n.extraHeaders);e.v2.getMulti([t],a,function(e){i.callIfDefined(o,e.experiments[t])},r)},e.v2.getLocation=function(t,n,o,r=function(){}){void 0===n&&(n={}),void 0!==n.skipImpression&&(n.countImpressions=!n.skipImpression,delete n.skipImpression),n.drawed=!0;i.server(e.v2.server),i.doRequest("GET","/ab/location/"+t,n,null,function(e){const t=JSON.parse(e.responseText);let n={};for(const o in t)if(t.hasOwnProperty(o)){const e=t[o];e.experiment=o,delete e.canCountImpression,delete e.canCountConversion,n=new i.Experiment(e)}i.callIfDefined(o,n)},r)},e.v2.recordImpression=function(t,n={}){i.server(e.v2.server),i.recordMetric("impression",t,n)},e.v2.recordConversion=function(t,n={}){i.server(e.v2.server),i.recordMetric("conversion",t,n)},t.v1.get=function(t,n,o,r=function(){}){i.server(e.v2.server),i.getSelectedArm(t,n,o,r)},t.v1.recordImpression=function(t,n,o=function(){},r=function(){}){i.server(e.v2.server),i.recordMABMetric("increment",t,n,o,r)},t.v1.reward=function(t,n,o=function(){},r=function(){}){i.server(e.v2.server),i.recordMABMetric("reward",t,n,o,r)},e}();e.exports=o},function(e,t,n){(function(t){const i=n(13);const o=function(){const e={};let n=null,o=!0;return e.enableHorizon=function(){o=!0},e.disableHorizon=function(){o=!1},e.isWebBrowser=function(){return"undefined"!=typeof window&&t&&t.navigator&&t.navigator.product&&"ReactNative"!==t.navigator.product},e.getGloboABHorizon=function(){return n||(n=new i),n},e.server=function(t){e.host=t||"",e.environment=e.host.includes("globoi.com")?"qa1":e.host.includes("globo.com")?"prod":"local"},e.Experiment=function(){function t(e){for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];this[t]=n}}return t.prototype.recordImpression=function(t={}){e.recordMetric("impression",this,t)},t.prototype.recordConversion=function(t={}){e.recordMetric("conversion",this,t)},t}(),e.MABExperiment=function(){function t(e){for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];this[t]=n}}return t.prototype.recordImpression=function(){e.recordMABMetric("increment",this)},t.prototype.reward=function(){e.recordMABMetric("reward",this)},t}(),e.doRequest=function(t,n,i,o,r,a,s={}){let c="";const l=e.interceptParams(n,i);for(const e in l)l.hasOwnProperty(e)&&(c+="&"+e+"="+l[e]);c&&(c="?"+c.substring(1));const u=e.host+n+c,d=e.creatXHR();d.open(t,u,!0),d.onload=function(){d.status>=200&&d.status<400?e.callIfDefined(r,d):e.callIfDefined(a,d)},d.onerror=function(t){e.callIfDefined(a,t)},d.ontimeout=function(t){e.callIfDefined(a,t)},o&&(d.setRequestHeader("Content-Type","application/json;charset=utf-8"),o=JSON.stringify(o)),Object.keys(s).forEach(function(e){d.setRequestHeader(e,s[e])}),d.send(o)},e.sendHorizon=function(t,n){o&&e.isWebBrowser()&&e.getGloboABHorizon().send(t,n)},e.recordMetric=function(t,n,i={}){const o="/v2/tests/"+n.testId+"/"+t,r={experiment:n.experiment,alternative:n.alternative};let a={};i&&void 0!==i.extraHeaders&&(a=i.extraHeaders),e.doRequest("PUT",o,null,r,null,null,a),e.sendHorizon("ab",{metricId:t,experiment:n.experiment,alternative:n.alternative,trackId:n.testId})},e.getSelectedAlternatives=function(t,n,i,o,r=function(){}){(i=i||{})[t]=n;const a=i.extraHeaders||{};delete i.extraHeaders;e.doRequest("GET","/v2/selected-alternatives",i,null,function(t){const n=JSON.parse(t.responseText),i={};for(const o in n.experiments)if(n.experiments.hasOwnProperty(o)){const t=n.experiments[o],r=new e.Experiment(t);i[o]=r}n.experiments=i,e.callIfDefined(o,n)},r,a)},e.creatXHR=function(){const e=new XMLHttpRequest;return e.withCredentials=!0,e.timeout=1e3,e},e.isCompatibleWithPlugin=function(){return!!e.isWebBrowser()&&(!!window.chrome&&!!window.chrome.webstore)},e.getDocumentLocationSearch=function(){return e.isWebBrowser()?document.location.search:""},e.getPluginParams=function(){const t={},n=["ab-client-context","ab-client-experiment","ab-client-alternative"],i=e.getDocumentLocationSearch().substr(1).split("&");for(const e in i)if(i.hasOwnProperty(e)){const o=i[e].split("=");n.indexOf(o[0])>-1&&(t[o[0]]=o[1])}return t},e.getExperimentSettings=function(t,n){const i=e.getPluginParams();if(t&&i["ab-client-context"]===t&&i["ab-client-experiment"]){const e={experiment:i["ab-client-experiment"],alternative:i["ab-client-alternative"]};return e.alternative||delete e.alternative,e}return n&&i["ab-client-experiment"]===n&&i["ab-client-alternative"]?{alternative:i["ab-client-alternative"]}:{}},e.interceptParams=function(t,n){try{if(e.isCompatibleWithPlugin()&&t){let i,o;if(t.indexOf("/location/")>-1){const e=t.split("/");i=e[e.length-1]}else t.indexOf("selected-alternatives")>-1&&(o=n.experiments);if(o||i)return Object.assign({},n,e.getExperimentSettings(i,o))}}catch(e){console.error(e)}return n},e.recordMABMetric=function(n,i,o,r,a){const s="/mab/"+i.experiment+"/"+n,c={arm:i.arm,testId:i.testId,abAlternative:i.abAlternative};i.metadata?c.metadata=i.metadata:o&&o.metadata&&(c.metadata=o.metadata),e.sendHorizon("mab",{metricId:n,algorithm:"ucb1",experiment:i.experiment,arm:i.arm,testId:i.testId}),void 0!==t.navigator&&t.navigator.sendBeacon?t.navigator.sendBeacon(e.host+s,JSON.stringify(c)):e.doRequest("POST",s,{},c,r,a)},e.getSelectedArm=function(t,n,i,o=function(){}){const r=n||{};let a="",s="GET";r&&void 0!==r.skipImpression&&!0===r.skipImpression?a="/mab/"+t+"/choose":(a="/mab/"+t+"/chooseAndIncrement",s="POST");e.doRequest(s,a,null,null,function(o){const r=JSON.parse(o.responseText);r.experiment=t,n&&n.metadata&&(r.metadata=n.metadata),e.callIfDefined(i,new e.MABExperiment(r))},o)},e.callIfDefined=function(e,t){e&&e(t)},e}();e.exports=o}).call(t,n(12))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=class{constructor(){this.horizonClient=null}getHorizonClient(){if(!this.horizonClient){const e=n(0),t=this.getTenant(),i=this.getDeviceGroup();this.horizonClient=new e.HorizonClient(t,i)}return this.horizonClient}getTenant(){return this.getCdaaasProperty("SITE_ID")||this.getTeliumProperty("ut.profile")||"globocom"}getDeviceGroup(){return this.getCdaaasProperty("MOBILE_GROUP")||this.getTeliumProperty("platform")||"desktop"}getCdaaasProperty(e){if(window.hasOwnProperty("cdaaas")&&window.cdaaas.hasOwnProperty("SETTINGS"))return window.cdaaas.SETTINGS[e]}getTeliumProperty(e){if(window.hasOwnProperty("utag_data"))return window.utag_data[e]}send(e,t){let n=null;"ab"===e?(n=this.getABSignal(t),this.getHorizonClient().send(n)):"mab"===e&&(n=this.getMABSignal(t),this.getHorizonClient().send(n))}getABSignal(e){return{id:"ab-"+e.metricId,contentType:"ab",version:"1.0",properties:{experiment:e.experiment,alternative:e.alternative,trackId:e.trackId}}}getMABSignal(e){return{id:"mab-"+e.metricId,contentType:"mab",version:"1.0",properties:{algorithm:e.algorithm,experiment:e.experiment,arm:e.arm,trackId:e.testId}}}}},function(e,t,n){"use strict";var i=n(0),o=(n.n(i),n(15));const r=window.cdaaas.SETTINGS,a=r.SITE_ID,s=r.CHANNEL,c=r.IS_PREVIEW;"qa"===window.utag_data["ut.env"]&&i.Settings.useQAConfiguration();const l=new i.HorizonClient(a,s,"multicontent");window.addEventListener("load",e=>{c||setTimeout(()=>{const e=(new o.a).toJSONRaw(),t={requestStart:e.Request.start,requestEnd:e.Request.end,requestDuration:e.Request.duration,responseStart:e.Response.start,responseEnd:e.Response.end,responseDuration:e.Response.duration},n={firstPaint:Math.round(e.Paint["first-paint"].when),firstContentfulPaint:Math.round(e.Paint["first-contentful-paint"].when),onloadStart:e.OnLoad.start,onloadEnd:e.OnLoad.end,onloadDuration:e.OnLoad.duration,processingStart:e.Processing.start,processingEnd:e.Processing.end,processingDuration:e.Processing.duration},i={appCacheStart:e.AppCache.start,appCacheEnd:e.AppCache.end,appCacheDuration:e.AppCache.duration,dnsStart:e.DNS.start,dnsEnd:e.DNS.end,dnsDuration:e.DNS.duration,networkLatency:e.Total.networkLatency,redirectStart:e.Redirect.start,redirectEnd:e.Redirect.end,redirectDuration:e.Redirect.duration,redirectCount:e.Redirect.count,tcpStart:e.TCP.start,tcpStartSsl:e.TCP.startSSL,tcpEnd:e.TCP.end,tcpDuration:e.TCP.duration},r={totalTimeStart:e.Total.start,totalTimeEnd:e.Total.end,totalTime:e.Total.duration},a={connectionDownlink:e.Connection.downlink.toString(),connectionEffectiveType:e.Connection.effectiveType,connectionRoundtripTime:Math.round(e.Connection.roundtripTime),connectionType:e.Connection.type,navigationType:e.NavigationType,serviceWorkerActivated:e.ServiceWorker.activated,serviceWorkerScriptUrl:e.ServiceWorker.scriptUrl||"Desconhecido"};try{l.send({id:"performance-backend-load",version:"1.0",properties:t}),l.send({id:"performance-browser-load",version:"1.0",properties:n}),l.send({id:"performance-network-load",version:"1.0",properties:i}),l.send({id:"performance-page-load",version:"1.0",properties:r}),l.send({id:"performance-user-load",version:"1.0",properties:a})}catch(e){console.error("HORIZON PERFORMANCE TRACKING: ",e)}},0)}),window.addEventListener("beforeunload",()=>{l.unload()})},function(e,t,n){"use strict";const i=e=>!isNaN(parseFloat(e))&&isFinite(e),o=e=>{if(!e||e<=0)return 0;const t=new Date(e);return`${t.toLocaleDateString("pt-BR")} - ${t.toLocaleTimeString("pt-BR")}`},r=e=>0===e?e:e>1e3?`${(e/1e3).toFixed(2)}s`:`${Math.round(e).toFixed(2)}ms`;t.a=class{constructor(){this.connection={downlink:null,effectiveType:null,roundtripTime:null,type:null},this.navigation=window.performance.navigation,this.sw={activated:!1,scriptUrl:null},this.timing=window.performance.timing}appCacheTime(){return this.timing.domainLookupStart-this.timing.fetchStart}browserTime(){return this.timing.loadEventEnd-this.timing.responseEnd}connectionInfo(e){const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t&&(this.connection.downlink=t.downlink||"Desconhecido",this.connection.effectiveType=t.effectiveType||"Desconhecido",this.connection.roundtripTime=i(t.rtt)?e?t.rtt:r(t.rtt):"Desconhecido",this.connection.type=t.type||"Desconhecido"),this.connection}dnsTime(){return this.timing.domainLookupEnd-this.timing.domainLookupStart}navigationType(){const{type:e}=this.navigation,t={0:"Interao do usurio",1:"Recarregamento da pgina",2:"Movimentao pelo histrico (voltar ou avanar)"};return e&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:"Tipo desconhecido"}networkLatency(){return this.timing.responseEnd-this.timing.fetchStart}onLoadTime(){return this.timing.loadEventEnd-this.timing.loadEventStart}paintTime(e){const t={};return window.performance.getEntriesByType("paint").forEach(n=>{const i=this.timing.navigationStart+n.startTime;t[n.name]={when:e?i:o(i)}}),t}processingTime(){return this.timing.loadEventStart-this.timing.domLoading}redirectCount(){return this.navigation.redirectCount}redirectTime(){return this.timing.redirectEnd-this.timing.redirectStart}requestTime(){return this.timing.responseStart-this.timing.requestStart}responseTime(){return this.timing.responseEnd-this.timing.responseStart}serviceWorkerInfo(){return"serviceWorker"in navigator&&navigator.serviceWorker.controller&&(this.sw.activated="activated"===navigator.serviceWorker.controller.state,this.sw.scriptUrl=navigator.serviceWorker.controller.scriptUrl),this.sw}tcpTime(){return this.timing.connectEnd-this.timing.connectStart}totalTime(){return this.timing.loadEventEnd-this.timing.navigationStart}toJSON(){return{AppCache:{start:o(this.timing.fetchStart),end:o(this.timing.domainLookupStart),duration:r(this.appCacheTime())},Browser:{start:o(this.timing.responseEnd),end:o(this.timing.loadEventEnd),duration:r(this.browserTime())},Connection:this.connectionInfo(!1),DNS:{start:o(this.timing.domainLookupStart),end:o(this.timing.domainLookupEnd),duration:r(this.dnsTime())},NavigationType:this.navigationType(),Navigator:{appCodeName:navigator.appCodeName,appName:navigator.appName,appVersion:navigator.appVersion,cookieEnabled:navigator.cookieEnabled,language:navigator.language,platform:navigator.platform,product:navigator.product,productSub:navigator.productSub,userAgent:navigator.userAgent,vendor:navigator.vendor},OnLoad:{start:o(this.timing.loadEventStart),end:o(this.timing.loadEventEnd),duration:r(this.onLoadTime())},Paint:this.paintTime(!1),Processing:{start:o(this.timing.domLoading),end:o(this.timing.loadEventStart),duration:r(this.processingTime())},Redirect:{start:o(this.timing.redirectStart),end:o(this.timing.redirectEnd),duration:r(this.redirectTime()),count:this.redirectCount()},Request:{start:o(this.timing.requestStart),end:o(this.timing.responseStart),duration:r(this.requestTime())},Response:{start:o(this.timing.responseStart),end:o(this.timing.responseEnd),duration:r(this.responseTime())},ServiceWorker:this.serviceWorkerInfo(),TCP:{start:o(this.timing.connectStart),startSSL:o(this.timing.secureConnectionStart),end:o(this.timing.connectEnd),duration:r(this.tcpTime())},Total:{start:o(this.timing.navigationStart),end:o(this.timing.loadEventEnd),duration:r(this.totalTime()),networkLatency:r(this.networkLatency())}}}toJSONRaw(){return{AppCache:{start:this.timing.fetchStart,end:this.timing.domainLookupStart,duration:this.appCacheTime()},Browser:{start:this.timing.responseEnd,end:this.timing.loadEventEnd,duration:this.browserTime()},Connection:this.connectionInfo(!0),DNS:{start:this.timing.domainLookupStart,end:this.timing.domainLookupEnd,duration:this.dnsTime()},NavigationType:this.navigationType(),Navigator:{appCodeName:navigator.appCodeName,appName:navigator.appName,appVersion:navigator.appVersion,cookieEnabled:navigator.cookieEnabled,language:navigator.language,platform:navigator.platform,product:navigator.product,productSub:navigator.productSub,userAgent:navigator.userAgent,vendor:navigator.vendor},OnLoad:{start:this.timing.loadEventStart,end:this.timing.loadEventEnd,duration:this.onLoadTime()},Paint:this.paintTime(!0),Processing:{start:this.timing.domLoading,end:this.timing.loadEventStart,duration:this.processingTime()},Redirect:{start:this.timing.redirectStart,end:this.timing.redirectEnd,duration:this.redirectTime(),count:this.redirectCount()},Request:{start:this.timing.requestStart,end:this.timing.responseStart,duration:this.requestTime()},Response:{start:this.timing.responseStart,end:this.timing.responseEnd,duration:this.responseTime()},ServiceWorker:this.serviceWorkerInfo(),TCP:{start:this.timing.connectStart,startSSL:this.timing.secureConnectionStart,end:this.timing.connectEnd,duration:this.tcpTime()},Total:{start:this.timing.navigationStart,end:this.timing.loadEventEnd,duration:this.totalTime(),networkLatency:this.networkLatency()}}}}},function(e,t){!function(e){if(e.navigator&&e.navigator.serviceWorker){const t=e.cdaaas&&e.cdaaas.SETTINGS&&e.cdaaas.SETTINGS.SERVICE_WORKER||{};t.active?e.addEventListener("load",()=>{e.navigator.serviceWorker.register(t.url).then(e=>console.log("SW registered: ",e)).catch(e=>console.error(e))}):e.navigator.serviceWorker.getRegistration().then(e=>e&&e.unregister())}}(window)},function(e,t){document.querySelectorAll("amp-social-share").forEach(e=>{e.addEventListener("click",e=>{const t=e.target.attributes.type.value;ga(cdaaas.SETTINGS.SITE_ID+"_portal.send","event","multicontent","share",t)})})},function(e,t){(()=>{const e=document.querySelector("p#biography");e&&e.addEventListener("click",()=>{document.querySelector("a.see-more")&&ga(cdaaas.SETTINGS.SITE_ID+"_portal.send","event","multicontent","ver mais","expandir")})})()},function(e,t){}]);;
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var i={EVENTS_BUFFER_SIZE:100,EVENTS_SENDER_INTERVAL:1e4,EVENTS_SENDER_MIN_INTERVAL:5e3,EVENTS_SENDER_MAX_INTERVAL:2e4,EVENTS_DISCARD_AFTER_MSECS:36e5,EVENTS_BULK_SIZE:10,HORIZON_TRACK_HOST:"https://horizon-track.globo.com",HORIZON_SCHEMAS_HOST:"https://horizon-schemas.globo.com",HORIZON_CALLBACK_STACK_LIMIT:1e3,HORIZON_REQUEST_ENCODING:"base64",HORIZON_CLIENT_UUID:o(n(2)).default.getResource("clientInstanceUUID",(0,r.default)()),SCHEMA_VALIDATOR_SCRIPT_URL:"https://s3.glbimg.com/cdn/libs/tv4/1.3.0/tv4.min.js",SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES:2,SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS:1e4,PACKAGE_VERSION:"1.0.3"},a={useQAConfiguration:function(){i.HORIZON_TRACK_HOST="https://horizon-track.qa.globoi.com",i.HORIZON_SCHEMAS_HOST="https://horizon-schemas.qa.globoi.com",i.HORIZON_REQUEST_ENCODING="json"}};t.default=Object.assign(i,a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={DUPLICATED_SCHEMA:"[Horizon] Duplicated schema.",INVALID_DATA:"[Horizon] Invalid data.",INVALID_DATE:"[Horizon] Invalid date-time RFC 3339 format.",INVALID_FORMAT:"[Horizon] Invalid event format.",INVALID_REQUEST:"[Horizon] Invalid request.",INVALID_TIMESTAMP:"[Horizon] Invalid timestamp.",INVALID_VERSION_FORMAT:"[Horizon] Invalid version format.",UNSUPPORTED_TYPE:"[Horizon] Unsupported type.",UNSUPPORTED_TENANT:"[Horizon] Unsupported tenant.",UNSUPPORTED_ENCODER:"[Horizon] Unsupported encoder.",MUST_BE_DEFINED:"[Horizon] Parameter or argument must be defined",ERROR_LOADING_RESOURCE:"[Horizon] Failed to load resouce.",COMPONENT_NOT_READY:"[Horizon] Component is not ready.",COMPONENT_UNAVAILABLE:"[Horizon] Class or function is required.",SCHEMA_VALIDATOR_ERROR_LOADING:"[Horizon] Could not load SchemaValidator.",LIMIT_EXCEEDED:"[Horizon] Resource limit exceeded."},o={mustBeDefined:function(e){throw new Error(r.MUST_BE_DEFINED+": "+e+".")}};t.default=Object.assign(r,o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return window.horizonResources=window.horizonResources||{},window.horizonResources};t.default={getContext:r,getResource:function(e,t){var n=r();return n[e]=n[e]||t,n[e]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.HorizonClient=void 0,n(4);var r=i(n(6)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}t.HorizonClient=r.default,t.Settings=o.default},function(e,t,n){"use strict";n(5).polyfill()},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,u=i.length;a<u;a++){var s=i[a],c=Object.getOwnPropertyDescriptor(o,s);void 0!==c&&c.enumerable&&(n[s]=o[s])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(10)),a=c(n(1)),u=c(n(12)),s=c(n(22));function c(e){return e&&e.__esModule?e:{default:e}}var l={READY:"stateReady",UNLOADED:"stateNotReady",LOADING:"stateLoading"},f=function(){function e(t,n){var r=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tenant=t||a.default.mustBeDefined("tenant"),this.deviceGroup=n||a.default.mustBeDefined("deviceGroup"),this.defaultContentType=c,this.validator=i.default,this.clientVersion=o.default.PACKAGE_VERSION,this.state=l.UNLOADED,this.referer=document.referrer;var f=null,d=null;this.setSchemasProvider=function(e){return f=e},this.getSchemasProvider=function(){if(!f){var e=s.default.getInstance();r.setSchemasProvider(e)}return f},this.setEventBus=function(e){return d=e},this.getEventBus=function(){if(!d){var e=u.default.getInstance(r.tenant,r.deviceGroup);r.setEventBus(e)}return d},this.isReady=function(){return!!f&&r.validator.isReady()&&f.isReady()}}return r(e,[{key:"useDefaultContentType",value:function(e){this.defaultContentType=e}},{key:"setValidator",value:function(e){this.validator=e}},{key:"setReferer",value:function(e){this.referer=e||document.referrer}},{key:"unload",value:function(){this.flush()}},{key:"getScopeInfo",value:function(){return{url:document.location.href,actionTs:+Date.now(),horizonClientVersion:this.clientVersion,horizonClientReferer:this.referer}}},{key:"validateBeforeEnqueue",value:function(e){var t=this.getSchemasProvider().get(e.id,e.version);this.validator.validateFor(e,t)}},{key:"onReady",value:function(e){this.validator.isReady()?this.getSchemasProvider().isReady()?(this.state=l.READY,e()):(this.state=l.LOADING,this.getSchemasProvider().onReady(e),this.getSchemasProvider().load()):(this.state=l.LOADING,this.validator.onReady(e),this.validator.load())}},{key:"flush",value:function(){var e=this;this.isReady()?this.getEventBus().flush():this.onReady(function(){return e.flush()})}},{key:"send",value:function(e){var t=this;if(this.validator.validateArgs(e),!this.isReady())return this.state===l.UNLOADED&&this.flush(),void this.onReady(function(){return t.send(e)});this.validateBeforeEnqueue(e);var n=this.getScopeInfo(),r=Object.assign({},e,n);r.contentType||(this.defaultContentType||a.default.mustBeDefined("contentType"),r.contentType=this.defaultContentType),this.getEventBus().enqueue(r)}}]),e}();t.default=f},function(e,t,n){var r=n(8),o=n(9);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=u(n(11)),i=u(n(1)),a=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var s={ready:[]},c=function(){return!!window.tv4},l=function(e){return null===e?null:isNaN(e)&&!isNaN(Date.parse(e))?null:i.default.INVALID_DATE};t.default={validateFor:function(e,t){if(!c())throw new Error(i.default.ERROR_LOADING_RESOURCE+" Validator is not ready.");if(!t)throw new Error(i.default.INVALID_DATA+" Argument: schema.");if(!/\d+\.\d+/.test(e.version))throw new Error(i.default.INVALID_VERSION_FORMAT);if(!tv4.validate(e.properties,t))throw new Error(i.default.INVALID_DATA+" "+e.id+" "+e.version+". "+tv4.error)},validateArgs:function(e){var t=Object.prototype.hasOwnProperty;if(!(e&&t.call(e,"id")&&t.call(e,"version")&&t.call(e,"properties")))throw new Error(i.default.INVALID_FORMAT+" Missing properties: "+JSON.stringify(e));if("string"!=typeof e.id||"string"!=typeof e.version||"object"!==r(e.properties))throw new Error(i.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(e));if(e.id.length<2||e.version.length<3)throw new Error(i.default.INVALID_FORMAT+" Invalid property size: "+JSON.stringify(e));var n=Object.assign({},e);if(delete n.id,delete n.version,delete n.properties,delete n.contentType,Object.keys(n).length>0)throw new Error(i.default.INVALID_FORMAT+" Extra keys aren't allowed: "+JSON.stringify(n))},tv4IsValidData:l,isReady:c,onReady:function(e){if(c())return e();if(s.ready.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(i.default.LIMIT_EXCEEDED+" Validator callback stack.");return s.ready.unshift(e)},load:function(){o.default.isDefined("tv4")||(0,o.default)([a.default.SCHEMA_VALIDATOR_SCRIPT_URL],"tv4",{async:!0,numRetries:a.default.SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES,success:function(){tv4.addFormat("date-time",l),s.ready.forEach(function(e){return e()})},error:function(e){throw new Error(i.default.SCHEMA_VALIDATOR_ERROR_LOADING+" "+e)}})}}},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){var e=function(){},t={},n={},r={};function o(e,t){if(e){var o=r[e];if(n[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function i(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function a(t,n,r,o){var i,u,s=document,c=r.async,l=(r.numRetries||0)+1,f=r.before||e,d=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(t)?(i=!0,(u=s.createElement("link")).rel="stylesheet",u.href=d):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(u=s.createElement("img")).src=d:((u=s.createElement("script")).src=t,u.async=void 0===c||c),u.onload=u.onerror=u.onbeforeload=function(e){var s=e.type[0];if(i&&"hideFocus"in u)try{u.sheet.cssText.length||(s="e")}catch(e){s="e"}if("e"==s&&(o+=1)<l)return a(t,n,r,o);n(t,s,e.defaultPrevented)},!1!==f(t,u)&&s.head.appendChild(u)}function u(e,n,r){var u,s;if(n&&n.trim&&(u=n),s=(u?r:n)||{},u){if(u in t)throw"LoadJS";t[u]=!0}!function(e,t,n){var r,o,i=(e=e.push?e:[e]).length,u=i,s=[];for(r=function(e,n,r){if("e"==n&&s.push(e),"b"==n){if(!r)return;s.push(e)}--i||t(s)},o=0;o<u;o++)a(e[o],r,n)}(e,function(e){i(s,e),o(u,e)},s)}return u.ready=function(e,t){return function(e,t){var o,i,a,u=[],s=(e=e.push?e:[e]).length,c=s;for(o=function(e,n){n.length&&u.push(e),--c||t(u)};s--;)i=e[s],(a=n[i])?o(i,a):(r[i]=r[i]||[]).push(o)}(e,function(e){i(t,e)}),u},u.done=function(e){o(e,[])},u.reset=function(){t={},n={},r={}},u.isDefined=function(e){return e in t},u})?r.apply(t,[]):r)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(13)),i=d(n(2)),a=d(n(14)),u=d(n(0)),s=d(n(1)),c=d(n(18)),l=d(n(19)),f=d(n(20));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){return i.default.getResource("bus",{})},p=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentTenant=t||s.default.mustBeDefined("tenant"),this.instanceID=n||s.default.mustBeDefined("instanceID"),this.deviceGroup=r||s.default.mustBeDefined("deviceGroup"),this.queue=new c.default(u.default.EVENTS_BUFFER_SIZE),(new l.default).every(u.default.EVENTS_SENDER_INTERVAL).call(function(){o.queue=o.filterQueue();var e=o.prepareRequest();o.dispatch(e,u.default.HORIZON_REQUEST_ENCODING)||e.actions.forEach(function(e){return o.enqueue(e)})}).call(f.default).start()}return r(e,[{key:"setMaxQueueSize",value:function(e){this.queue=c.default.fromArray(this.queue.items,e)}},{key:"filterQueue",value:function(){var e=+Date.now()-u.default.EVENTS_DISCARD_AFTER_MSECS;return this.queue.filter(function(t){return t.actionTs>e})}},{key:"prepareRequest",value:function(){return{horizonClientUUID:this.instanceID,horizonClientTenant:this.currentTenant,horizonClientTs:Date.now(),horizonClientType:"js",horizonClientDeviceGroup:this.deviceGroup,actions:this.queue.splice(0,u.default.EVENTS_BULK_SIZE)}}},{key:"isValidRequest",value:function(e){if(!e||e&&!e.actions)throw new Error(s.default.INVALID_REQUEST);return e.actions.length>0}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=u.default.HORIZON_TRACK_HOST+"/event/"+this.currentTenant,r=a.default.get(t);if(!this.isValidRequest(e))return!1;var i=r(e);return(0,o.default)(n,i)}},{key:"enqueue",value:function(e){if(!e.actionTs)throw new Error(s.default.INVALID_TIMESTAMP);this.queue.push(e)}},{key:"flush",value:function(){for(;this.queue.length>0;){this.queue=this.filterQueue();var e=this.prepareRequest();this.dispatch(e,u.default.HORIZON_REQUEST_ENCODING)}}},{key:"length",get:function(){return this.queue.length}}]),e}();t.default={getInstance:function(e,t){var n=h(),r=e+"-"+t;return n[r]||(n[r]=new p(e,u.default.HORIZON_CLIENT_UUID,t)),n[r]},reset:function(e,t){e&&0!==e.length||s.default.mustBeDefined("tenant"),t&&0!==t.length||s.default.mustBeDefined("deviceGroup");var n=e+"-"+t;delete h()[n]},getContextBus:h}},function(e,t,n){!function(n){"use strict";var r=function(e,t){var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",e,!1),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),"string"==typeof t?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text/plain"):"[object Blob]"==={}.toString.call(t)&&t.type&&n.setRequestHeader("Content-Type",t.type);try{n.send(t)}catch(e){}return!0};"navigator"in n&&"sendBeacon"in n.navigator&&(r=navigator.sendBeacon.bind(navigator)),void 0!==e&&e.exports&&(t=e.exports=r),t.sendBeacon=r}("object"==typeof window?window:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(15)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a={base64:function(e){var t=new FormData;return t.append("data",r.default.encode(JSON.stringify(e))),t.append("encoding","base64"),t},json:function(e){return JSON.stringify(e)}};t.default={get:function(e){if(!(e in a))throw new Error(o.default.UNSUPPORTED_ENCODER+" Invalid "+e+" encoder.");return a[e]}}},function(e,t,n){(function(e,r){var o;!function(i){var a=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);a.global!==a&&a.window;var u=function(e){this.message=e};(u.prototype=new Error).name="InvalidCharacterError";var s=function(e){throw new u(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,f={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,o,i=e.length%3,a="",u=-1,l=e.length-i;++u<l;)t=e.charCodeAt(u)<<16,n=e.charCodeAt(++u)<<8,r=e.charCodeAt(++u),a+=c.charAt((o=t+n+r)>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==i?(t=e.charCodeAt(u)<<8,n=e.charCodeAt(++u),a+=c.charAt((o=t+n)>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==i&&(o=e.charCodeAt(u),a+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,o=0,i="",a=-1;++a<t;)r=c.indexOf(e.charAt(a)),n=o%4?64*n+r:r,o++%4&&(i+=String.fromCharCode(255&n>>(-2*o&6)));return i},version:"0.1.0"};void 0===(o=function(){return f}.call(t,n,t,e))||(e.exports=o)}()}).call(t,n(16)(e),n(17))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queue=[],this.maxSize=t}return r(e,[{key:"push",value:function(e){this._queue=[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.slice(0,this.maxSize-1)))}},{key:"forEach",value:function(e){return this._queue.forEach(e)}},{key:"slice",value:function(e,t){return this._queue.slice(e,t)}},{key:"splice",value:function(e,t){return this._queue.splice(e,t)}},{key:"clear",value:function(){this._queue=[]}},{key:"filter",value:function(t){return e.fromArray(this._queue.filter(t),this.maxSize)}},{key:"length",get:function(){return this._queue.length}},{key:"items",get:function(){return JSON.parse(JSON.stringify(this._queue))}}],[{key:"fromArray",value:function(t,n){var r=new e(n);return t.forEach(function(e){return r.push(e)}),r}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interval=0,this.tickIntervalId=0,this.callbacks=[]}return r(e,[{key:"tick",value:function(){var e=this;this.callbacks.forEach(function(t){return t(e)})}},{key:"start",value:function(){return this.tickIntervalId=setInterval(this.tick.bind(this),this.interval),this}},{key:"stop",value:function(){return clearInterval(this.tickIntervalId),this.tickIntervalId=0,this}},{key:"reschedule",value:function(e){return this.stop().every(e).start()}},{key:"every",value:function(e){return this.interval=e,this}},{key:"call",value:function(e){return this.callbacks.push(e),this}},{key:"isRunning",get:function(){return!!this.tickIntervalId}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(21)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=o.default.EVENTS_SENDER_MIN_INTERVAL,n=o.default.EVENTS_SENDER_MAX_INTERVAL,i=Number(r.default.get("_hzt.interval"))||o.default.EVENTS_SENDER_INTERVAL;i<=n&&i>=t&&e.interval!==i&&e.reschedule(i)}},function(e,t,n){var r,o,i;i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c]));return document.cookie=t+"="+o+s}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var h=l[d].split("="),p=h.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var v=h[0].replace(f,decodeURIComponent);if(p=n.read?n.read(p,v):n(p,v)||p.replace(f,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===v){a=p;break}t||(a[v]=p)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})},void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(2)),i=s(n(1)),a=s(n(0)),u=s(n(23));function s(e){return e&&e.__esModule?e:{default:e}}var c={READY:"statusReady",STATE_NOT_READY:"statusNotReady",STATE_LOADING:"statusLoading",STATE_SCHEDULED:"statusScheduled",STATE_ERROR:"statusError"},l=function(){return o.default.getResource("schemas",{data:{}})},f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.state=c.STATE_NOT_READY,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}return r(e,[{key:"get",value:function(e,t){var n=e+"-"+t;if(!this.isReady())throw new Error(""+i.default.COMPONENT_NOT_READY);var r=l().data[n];if(!r)throw new Error(i.default.UNSUPPORTED_TYPE+": "+n);return r}},{key:"isReady",value:function(){return this.state===c.STATE_READY}},{key:"retry",value:function(){var e=this;this.state=c.STATE_SCHEDULED,this.callbacks.onRetry.forEach(function(e){return e()}),setTimeout(function(){e.state=c.STATE_NOT_READY,e.load()},a.default.SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS)}},{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===c.STATE_READY)return e(l().data);if(this.callbacks.onReady.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(i.default.LIMIT_EXCEEDED+" Schemas callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===c.STATE_ERROR?e():this.callbacks.onError.push(e)}},{key:"execAsync",value:function(e,t){setTimeout(function(){return e(t)},1)}},{key:"load",value:function(){var e=this,t=l();this.state===c.STATE_NOT_READY&&(this.state=c.STATE_LOADING,this.callbacks.onLoad.forEach(function(e){return e()}),u.default.request("GET",this.url,function(n){t.data=Object.assign(t.data||{},n),e.state=c.STATE_READY,e.callbacks.onReady.forEach(function(n){return e.execAsync(n,t.data)})},function(t){e.state=c.STATE_ERROR,e.callbacks.onError.forEach(function(n){return e.execAsync(n,t)}),e.retry()}))}}]),e}();t.default={getInstance:function(e){var t=l();return t.provider||(t.provider=new f(e||a.default.HORIZON_SCHEMAS_HOST+"/schemas")),t.provider},getContextSchemas:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={request:function(e,t,n,r){var o=new XMLHttpRequest;o.open(e,t,!0),o.onload=function(){return o.status<400?n(JSON.parse(o.response)):r(o.response)},o.onerror=r,o.send()}}}])},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";n.r(t);var r=n(0);class o{constructor(e,t,n){e.coords?(this.geoData={accuracy:e.coords.accuracy,altitude:e.coords.altitude,altitudeAccuracy:e.coords.altitudeAccuracy,heading:e.coords.heading,latitude:e.coords.latitude,longitude:e.coords.longitude,speed:e.coords.speed},this.geoData.geoTimestamp=e.timestamp,this.geoData.cached=0|t,this.geoData.timeSpent=n):this.geoData=e}get coordinates(){return{latitude:this.geoData.latitude,longitude:this.geoData.longitude}}get timestamp(){return this.geoData.geoTimestamp}static save(e){window.localStorage.setItem("geo-tracking",JSON.stringify(e))}static getLatest(){const e=window.localStorage.getItem("geo-tracking");return null===e?e:new o(JSON.parse(e))}toJSON(){return this.geoData}toString(){return JSON.stringify(this.geoData)}}class i{start(){this.startTime=Date.now()}stop(){this.endTime=Date.now()}toMilliseconds(){return this.endTime-this.startTime}}const a=function(){var e=Array.from(arguments);e.splice(0,0,"[User location tracking]"),console.log.apply(console,e)},u=1,s=5e4,c=18e5,l={},f="denied",d="granted",h="prompt";l[u]={name:"Permisso Negada",status:"Denied"},l[2]={name:"Posio no disponvel",status:"Unavailable"},l[3]={name:`Tempo de espera de ${s}ms finalizou.`,status:"Timeout"};class p{constructor(e,t,n){this.client=new r.HorizonClient(e,t,n),window.addEventListener("beforeunload",()=>{this.client.unload()})}latestPositionHasExpired(e){return!0}getGeolocationPermissions(){return new Promise(function(e,t){return Promise.resolve(new Promise(function(e,t){return navigator.permissions?Promise.resolve(navigator.permissions.query({name:"geolocation"})).then(e,t):e(null)})).then(e,t)})}trackLocation(){return new Promise(function(e,t){let n;return Promise.resolve(this.getGeolocationPermissions()).then(function(r){try{return null!==(n=r)&&n.state===f?this.trackDenied():function(){var e=window.chrome,t=window.navigator,n=t.vendor,r=t.userAgent.indexOf("OPR")>-1,o=t.userAgent.indexOf("Edge")>-1;return!!t.userAgent.match("CriOS")||null!=e&&"Google Inc."===n&&!1===r&&!1===o}()&&n.state===h?this.syncTrackStartWithPoupup(n):this.track(),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))}syncTrackStartWithPoupup(e){let t=!1;a("usando mudana de permissionamento."),e.onchange=(e=>{if(!t){switch(e.currentTarget.state){case h:a("permissao feita por cada chamada"),this.track();break;case d:a("acesso permitido pelo usurio"),this.track();break;case f:a("acesso negado pelo usurio"),this.trackDenied()}t=!0}}),navigator.geolocation.getCurrentPosition(()=>{},()=>{},{timeout:1,maximumAge:1})}track(){return new Promise(function(e,t){let n;a("trackeando o usurio.");var r=function(){try{return e()}catch(e){return t(e)}},o=function(e){try{if(e.code===e.TIMEOUT){a("Obtendo dados do cache");var o=function(){try{return u.call(this)}catch(e){return t(e)}}.bind(this),i=function(n){try{return a("Erro no cache de geolocalizao. Enviando erro da localizao com alta preciso."),this.trackError(e),o()}catch(e){return t(e)}}.bind(this);try{let t;return Promise.resolve(this.getRecentPosition()).then(function(e){try{return n=(t=e).toJSON(),this.sendGeolocation(n),o()}catch(e){return i(e)}}.bind(this),i)}catch(e){i(e)}}function u(){return a("Erro na geolocalizao de alta preciso. Enviando erro."),this.trackError(e),r()}return u.call(this)}catch(e){return t(e)}}.bind(this);try{let t;return Promise.resolve(this.getCurrentPosition()).then(function(r){try{return n=(t=r).toJSON(),this.sendGeolocation(t),e(t)}catch(e){return o(e)}}.bind(this),o)}catch(e){o(e)}}.bind(this))}trackDenied(){a("permisso negada"),this.trackError({code:u,message:"Permission Denied"})}trackError(e){return new Promise(function(t,n){const r=l[e.code];return a("Logando erro",e.message),this.client.send({id:"generic-geolocation-authorization",version:"1.0",properties:r}),t()}.bind(this))}sendGeolocation(e){a("Enviado para o Horizon",e),this.client.send({id:"generic-geolocation-load",version:"1.1",properties:e.toJSON()})}getCurrentPosition(){return new Promise(function(e,t){const n={enableHighAccuracy:!0,timeout:s,maximumAge:0};return e(new Promise((e,t)=>{const r=new i;r.start(),navigator.geolocation.getCurrentPosition(t=>{r.stop(),a("Usurio localizado com alta preciso.");const n=new o(t,!1,r.toMilliseconds());a(n),e(n)},e=>{a("Erro durante a geolocalizao com alta preciso."),a(e.message),t(e)},n)}))})}getRecentPosition(){return new Promise(function(e,t){const n={maximumAge:c,timeout:0};return e(new Promise((e,t)=>{a("Buscando por posio cacheada",n);const r=new i;r.start(),navigator.geolocation.getCurrentPosition(t=>{r.stop();const n=new o(t,!0,r.toMilliseconds());a("localizao cacheada encontrada."),a(n),e(n)},e=>{a("Erro durante a geolocalizao cacheada."),a(e.message),t(e)},n)}))})}}window.buildGeoTrackingLoadUp=function(e,t,n,o,i,u){return new Promise(function(e,s){let c;if(a("contentTypeApi: ",u),t&&r.Settings.useQAConfiguration(),c=new p(n,o,u),!i){var l=function(){try{return d.call(this)}catch(e){return s(e)}}.bind(this),f=function(e){try{return a(e.message),l()}catch(e){return s(e)}};try{return Promise.resolve(c.trackLocation()).then(function(e){try{return l()}catch(e){return f(e)}},f)}catch(e){f(e)}}function d(){return e()}return d.call(this)})}}]);;
!function(t){function e(n){if(o[n])return o[n].exports;var a=o[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var o={};e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){"use strict";var n=o(2),a=o(3),i=function(t){return t&&t.__esModule?t:{default:t}}(a),r=window.cdaaas||{},s=r.SETTINGS||{},c=s.HOST_COMENTARIOS+"/static/js/jquery-ui-1.8.2.custom.min.js",l=s.HOST_COMENTARIOS+"/static/widget/js/comentarios.v2.all.js",d=s.HOST_COMENTARIOS+"/static/widget/css/comentarios.v2.all.css",u=function(t){window.MultiContentComments=i.default;var e={uri:s.COMENTARIOS_URI,url:s.CANONICAL_URL,titulo:s.TITLE,idExterno:s.COMENTARIOS_IDEXTERNO,corProduto:s.COR,exibeTeaserComentarios:!0,qtdComentariosNoTeaser:1,allowInteraction:s.COMMENTS_ALLOW_INTERACTION},o=void 0;o="desktop"==s.MOBILE_GROUP?function(){$(t).comentarios(e)}:function(){new i.default(e,t).create()},(0,n.loadScript)(c,function(){(0,n.loadScript)(l,function(){(0,n.loadStyle)(d,o)})})},m=document.getElementById("boxComentarios");m&&s.VIEW_COMMENTS&&(window.ScrollSpy?ScrollSpy.add({el:m,offset:850,callback:function(t){u(t)}}):u(m))},function(t,e){"use strict";function o(t,e){var o=document.createElement("script"),n=document.getElementsByTagName("script")[0];o.type="text/javascript",o.async=!0,o.charset="utf-8",o.onload=o.onreadystatechange=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||(o=o.onload=o.onreadystatechange=null,e&&e.apply(o,arguments))},o.src=t,n.parentNode.insertBefore(o,n)}function n(t,e){var o=document.createElement("link"),n=document.getElementsByTagName("link")[0];o.type="text/css",o.rel="stylesheet",o.onload=o.onreadystatechange=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||(o=o.onload=o.onreadystatechange=null,e&&e.apply(o,arguments))},o.href=t,n.parentNode.insertBefore(o,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.loadScript=o,e.loadStyle=n},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),a=function(){function t(e,n){o(this,t),this.uri=e.uri,this.url=e.url,this.titulo=e.titulo,this.idExterno=e.idExterno,this.corProduto=e.corProduto,this.allowInteraction=e.allowInteraction,this.$comments=$(n)}return n(t,[{key:"create",value:function(){var t={uri:this.uri,url:this.url,titulo:this.titulo,idExterno:this.idExterno,corProduto:this.corProduto,botaoComentario:{custom:".content-head-service__comments"},callbackCarregado:$.proxy(this._widgetLoaded,this),allowInteraction:this.allowInteraction};this.$comments.comentarios(t)}},{key:"_widgetLoaded",value:function(){this._fillCommentsCounter(),this._customizeHeader(),this._bindToggleCommentsToHeader(),this.$comments.addClass("glbComentarios--ready")}},{key:"_fillCommentsCounter",value:function(){var t=this.$comments.find(".glbComentarios-contador").text(),e=$(".content-head-service__comments__counter");""===t?e.text(0):e.text(t)}},{key:"_customizeHeader",value:function(){var t=$('<div class="glbComentarios-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><title>  Comments</title><desc>  Comments icon</desc><path d="M15 1.5c0-0.8-0.7-1.5-1.5-1.5h-12C0.7 0 0 0.7 0 1.5v9c0 0.8 0.7 1.5 1.5 1.5H12l3 3L15 1.5 15 1.5zM12 9h-9V7.5h9V9L12 9zM12 6.8h-9v-1.5h9V6.8L12 6.8zM12 4.5h-9V3h9V4.5L12 4.5z"/></svg></div>'),e=this.$comments.find(".glbComentarios-header");t.addClass("theme-color-primary"),e.removeClass("glbComentarios-header"),e.addClass("glbComentarios-custom-header"),e.prepend(t),e.attr({"data-track-category":"multicontent","data-track-action":"comentario mobile","data-track-click":"expandir"})}},{key:"_bindToggleCommentsToHeader",value:function(){var t=this;this.$comments.off("click"),this.$comments.on("click",".glbComentarios-custom-header",function(){t.$comments.toggleClass("glbComentarios--opened")}),$(".content-head-service__comments").click(function(){t.$comments.addClass("glbComentarios--opened")})}}]),t}();e.default=a}]);;
!function(t){function n(o){if(r[o])return r[o].exports;var i=r[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){t.exports=r(1)},function(t,n){"use strict";(function(){var t,n,r,o,i,e;window.globoComVitrines=[],i=$(".shopping .shopping__widget"),t=function(t,n){return t.attr("data-"+n)},e=function(){function t(t){return("0"+parseInt(t).toString(16)).slice(-2)}var n,r;return n=$("#header-produto .face"),1!=n.size()?"":(r=n.css("backgroundColor"),r=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/),t(r[1])+t(r[2])+t(r[3]))},n=function(){return i.each(function(){var n,r,o,i,s,a,c;return o=$(this),i=t(o,"sitepage"),a="on"===t(o,"branding-header"),n=t(o,"branding-color"),null==i&&(i="globocom/home"),r={sitepage:i,container:o.attr("id")},""!==n&&(r.text_color=n),!0===a&&""!==(c=e())&&(r.text_color=c),s=new Vitrine(r),s.init(),window.globoComVitrines.push(s)})},i.length>0&&(o=t(i.first(),"url")||"https://vitrines.globo.com/vitrine/vitrine.min.js",r={url:o,dataType:"script",cache:!0,success:n},$.ajax(r))}).call(window)}]);;
!function(t){function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}var e={};i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){t.exports=e(1)},function(t,i){"use strict";function e(){this.init=function(){this.iniatializeGifs(),this.loopGifs()},this.iniatializeGifs=function(){for(var t=document.getElementsByClassName("content-media__gif-container"),i=0;i<t.length;i++)t[i].addEventListener("click",this.toggleGifState,!1)},this.toggleGifState=function(){var t=this.querySelectorAll(".content-media__gif-container__gif-player")[0];this.querySelectorAll(".content-media__gif-container__gif-icon")[0].classList.toggle("content-media__gif-container__gif-icon--hidden"),t.paused?t.play():t.pause()},this.loopGifs=function(){for(var t=document.getElementsByClassName("content-media__gif-container__gif-player"),i=0;i<t.length;i++)t[i].addEventListener("ended",this.replayGif,!1)},this.replayGif=function(t){setTimeout(function(){t.target.play()},200)},this.init()}new e}]);;
